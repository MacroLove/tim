{"version":3,"sources":["webpack:///main.3f281ba332c1a93b97dc.js","webpack:///./index.web.js","webpack:///./css/customicons.css?599d","webpack:///./css/customicons.css","webpack:///./fonts/tradle.eot","webpack:///./fonts/tradle.ttf","webpack:///./fonts/tradle.woff","webpack:///./fonts/tradle.svg","webpack:///./css/ionicons.min.css?48cf","webpack:///./css/ionicons.min.css","webpack:///./fonts/ionicons.eot","webpack:///./fonts/ionicons.woff2","webpack:///./fonts/ionicons.woff","webpack:///./fonts/ionicons.ttf","webpack:///./fonts/ionicons.svg","webpack:///./css/styles.css?0c22","webpack:///./css/styles.css","webpack:///./web/shims/deviceEventEmitter.js","webpack:///./web/shims/orientation.js","webpack:///./index.common.js","webpack:///./utils/debug.js","webpack:///./utils/shim.js","webpack:///./utils/crypto.js","webpack:///./utils/automaticUpdates.js","webpack:///./utils/utils.js","webpack:///./Store/Storage.js","webpack:///./web/shims/AsyncStorage.js","webpack:///./web/shims/keychain.js","webpack:///./utils/env.js","webpack:///./utils/localIP.json","webpack:///./utils/platformUtils.js","webpack:///./utils/platformUtils.web.js","webpack:///./utils/platformUtils.ios.js","webpack:///./utils/strings_en.json","webpack:///./utils/strings_nl.json","webpack:///./~/@tradle/models ^\\.\\/dictionary_.*\\.json$","webpack:///./Actions/Actions.js","webpack:///./utils/localAuth.js","webpack:///./web/shims/PasswordCheck.js","webpack:///./Components/TouchIDOptIn.js","webpack:///./Components/ArticleView.js","webpack:///./Components/ActivityIndicator.js","webpack:///./Components/WebView.js","webpack:///./img/bg.png","webpack:///./img/touchid2.png","webpack:///./utils/password-prompts.js","webpack:///./styles/platform.js","webpack:///./styles/platform.android.js","webpack:///./styles/platform.ios.js","webpack:///./styles/platform.web.js","webpack:///./utils/transitions.js","webpack:///./web/shims/push.js","webpack:///./web/shims/web-push.js","webpack:///./web/shims/service-worker.js","webpack:///./web/shims/no-push.js","webpack:///./utils/navs.js","webpack:///./web/empty.js","webpack:///./Components/ResourceList.js","webpack:///./Components/StatusBar.js","webpack:///./Components/NoResources.js","webpack:///./Components/ResourceRow.js","webpack:///./web/shims/LinearGradient.js","webpack:///./Components/RowMixin.js","webpack:///./styles/customicons.js","webpack:///./Components/ResourceView.js","webpack:///./Components/ShowPropertiesView.js","webpack:///./Components/PhotoList.js","webpack:///./Components/PhotoCarouselMixin.js","webpack:///./Components/PhotoCarousel.js","webpack:///./Components/ResourceMixin.js","webpack:///./Components/PhotoView.js","webpack:///./Components/ShowRefList.js","webpack:///./styles/buttonStyles.js","webpack:///./Components/PageView.js","webpack:///./Store/Store.js","webpack:///./people/employee.json","webpack:///./environment.json","webpack:///./data/welcome.json","webpack:///./utils/keychain.js","webpack:///./utils/nkey-se.js","webpack:///./Store/leveldown.js","webpack:///./utils/browser.js","webpack:///./Store/level.js","webpack:///./Components/QRCode.js","webpack:///./Components/MessageList.js","webpack:///./Components/MessageView.js","webpack:///./Components/ShowMessageRefList.js","webpack:///./Components/NewResource.js","webpack:///./Components/ImageInput.web.js","webpack:///./Components/BackgroundImage.web.js","webpack:///./Components/NewItem.js","webpack:///./styles/styles.js","webpack:///./Components/NewResourceMixin.js","webpack:///./web/shims/DatePicker.web.js","webpack:///./~/moment/locale ^\\.\\/.*$","webpack:///./Components/EnumList.js","webpack:///./Components/CameraView.js","webpack:///./Components/GridItemsList.js","webpack:///./styles/registrationStyles.js","webpack:///./termsAndConditions.json","webpack:///./Components/NetworkInfoProvider.js","webpack:///./Components/MessageRow.js","webpack:///./Components/ProductChooser.js","webpack:///./Components/MessageTypeRow.js","webpack:///./styles/bankStyles.js","webpack:///./styles/easy.js","webpack:///./styles/europi.js","webpack:///./img/TradleW.png","webpack:///./Components/MyProductMessageRow.js","webpack:///./Components/VerificationMessageRow.js","webpack:///./Components/FormMessageRow.js","webpack:///./styles/bankStyle.json","webpack:///./Components/VerificationRow.js","webpack:///./Components/QRCodeScanner.js","webpack:///./img/banking.png","webpack:///./Components/VideoPlayer.js","webpack:///./Components/TimHome.js","webpack:///./Components/FadeInView.js","webpack:///./version.json","webpack:///./Components/ResourceTypesScreen.js","webpack:///./Components/ItemsList.js","webpack:///./Components/IdentitiesList.js","webpack:///./Components/SearchBar.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","299","global","history","length","historyIndex","parseInt","location","hash","replace","go","console","table","log","AppRegistry","app","document","createElement","body","appendChild","runApplication","rootTag","call","this","300","content","id","locals","301","push","303","p","304","305","306","308","309","310","311","312","313","314","315","316","318","_interopRequireDefault","obj","__esModule","default","_reactNative","_reactNative2","noop","noopWithRemove","remove","DeviceEventEmitter","addListener","removeSubscription","removeAllListeners","763","process","orientation","NativeModules","Orientation","initialOrientation","getOrientation","cb","nextTick","getSpecificOrientation","lockToPortrait","lockToLandscape","lockToLandscapeLeft","lockToLandscapeRight","unlockAllOrientations","764","_interopRequireWildcard","newObj","key","Object","prototype","hasOwnProperty","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","i","descriptor","defineProperty","protoProps","staticProps","_extends","assign","arguments","source","_debug","_debug2","_automaticUpdates","AutomaticUpdates","_reactNativeOrientation","_reactNativeOrientation2","_platform","_platform2","_transitions","_transitions2","_react","_react2","_push","_push2","_navs","_navs2","err","ResourceList","EnumList","TimHome","PasswordCheck","TouchIDOptIn","ResourceTypesScreen","NewResource","NewItem","ItemsList","GridItemsList","ResourceView","MessageView","MessageList","ArticleView","IdentitiesList","ProductChooser","CameraView","PhotoCarousel","QRCode","QRCodeScanner","utils","translate","constants","Icon","Actions","originalGetDefaultProps","Text","getDefaultProps","defaultProps","allowFontScaling","ReactPerf","UNAUTHENTICATE_AFTER_BG_MILLIS","TIMEOUT","TiMApp","_Component","_this","getPrototypeOf","modelName","TYPES","PROFILE","state","currentAppState","dateAppStateChanged","Date","now","initialRoute","component","passProps","forEach","method","bind","on","AppState","addEventListener","_handleAppStateChange","removeEventListener","_navListeners","listener","_this2","newState","me","getMe","hasUpdate","then","has","install","resetBadgeNumber","clearTimeout","unauthTimeout","sync","setState","setTimeout","isRegistered","setAuthenticated","start","event","r","url","trim","idx","indexOf","q","substring","params","split","_t","_r","name","JSON","parse","decodeURIComponent","TYPE","navigator","currentRoutes","getCurrentRoutes","route","title","backButtonTitle","resource","e","startTransition","stop","printWasted","endTransition","_lockedOrientation","nav","Navigator","style","styles","container","renderScene","navigationBar","NavigationBar","routeMapper","NavigationBarRouteMapper","configureScene","isWeb","sceneConfig","config","NONE","SceneConfigs","FloatFromRight","springFriction","springTension","gestures","_lockToPortrait","_unlockOrientation","navigationContext","onNavigatorBeforeTransition","onNavigatorAfterTransition","watch","returnRoute","sendForm","callback","filter","list","onread","fullScreen","dimension","Component","HIT_SLOP","top","right","bottom","left","LeftButton","index","navState","noLeftButton","View","color","bankStyle","LINK_COLOR","previousRoute","routeStack","lbTitle","navBarText","tintColor","navBarButtonText","st","fontSize","getFontSize","size","icon","cleanup","status","TouchableOpacity","hitSlop","onPress","pop","navBarLeftButton","RightButton","rightButtonTitle","iconsList","icons","iconSpace","position","flexDirection","help","Alert","alert","marginTop","onRightButtonPress","stateChange","before","after","navBarRightButton","paddingLeft","Title","org","organization","navBarTitleText","titleTextColor","StyleSheet","width","height","flex","fontWeight","paddingRight","registerComponent","765","debug","disable","769","shim","Platform","OS","bProcess","window","userAgent","browser","env","btoa","formatters","j","localStorage","message","stack","Buffer","807","getRandomValues","arr","Math","random","_typeof","Symbol","iterator","algos","sha256","sign","crypto","randomBytes","apply","831","876","934","downloadedUpdate","Promise","resolve","AsyncStorage","getItem","CODE_UPDATE_KEY","item","opts","undefined","delay","removeItem","_utils2","promiseDelay","CodePush","restartApp","checkPeriodically","millis","loop","ON","CHECKING","DEFAULT_INTERVAL","currentSync","updateDialog","installMode","InstallMode","ON_NEXT_RESTART","syncStatus","SyncStatus","UPDATE_INSTALLED","setItem","_Actions2","downloadedCodeUpdate","result","period","off","_utils","_Actions","isSimulator","935","_defineProperty","normalizeRemoveListener","addListenerRetVal","rebuf","json","toString","type","data","isBuffer","keys","parseDBValue","pair","serialize","buffers","parts","part","len","writeUInt32BE","concat","unserialize","buf","l","dlen","readUInt32BE","end","slice","models","_Storage","_Storage2","_reactNativeDeviceInfo","_reactNativeDeviceInfo2","_reactNativePushNotification","_reactNativeKeychain","_reactNativeKeychain2","_env","_env2","_reactNativeOrient","_platformUtils","_platformUtils2","Q","collect","t","dateformat","Backoff","extend","fetch","levelErrors","Cache","strMap","Please fill out this form and attach a snapshot of the original document","Please fill out this form","translatedStrings","en","nl","encryptionOpts","algorithm","ivBytes","tradle","protocol","tradleUtils","VERIFICATION","CUR_HASH","NONCE","ROOT_HASH","PREV_HASH","FORM","SIG","PASSWORD_ENC","LocalizedStrings","defaultLanguage","getLanguage","dictionaries","dict","strings","dictionary","BACKOFF_DEFAULTS","string","Str","boolean","Bool","date","Dat","number","Num","randomisationFactor","initialDelay","maxDelay","DEFAULT_FETCH_TIMEOUT","stylesCache","isEmpty","prop","setMe","meR","languageCode","setModels","modelsRL","getModels","getModel","getDefaultLanguage","translateString","translateModel","translateProperty","property","model","makeLabel","translations","properties","Default","_len","args","Array","_key","s","insert","clone","stringify","compare","r1","r2","exclude","isArray","_loop","found","some","rr2","equal","v","_ret","ref","MONEY","currency","getId","getStringName","str","createAndTranslate","isEnumValue","stringName","txt","charAt","toUpperCase","substr","toLowerCase","label","arrayToObject","reduce","o","objectToArray","map","getImplementors","iModel","excludeModels","implementors","m","em","subClassOf","interfaces","getAllSubclasses","subclasses","floor","PixelRatio","getFontScale","getItemsMeta","metadata","itemsMeta","required","makeTitle","resourceTitle","getDisplayName","meta","displayName","displayAs","dn","templateIt","template","a","b","templateIt1","pgroup","group","hasSetProps","val","match","formatDate","noTime","dayDiff","getTime","keyByValue","k","splitMessage","lBr","rBr","rRoundBr","getImageUri","sendSigned","driver","msg","signed","send","dedupeVerifications","vFound","docType","vid","splice","isMyMessage","fromHash","from","to","isVerifiedByMe","verifications","lastAdditionalInfoTime","verifiedByMe","additionalInfo","time","optimizeResource","res","items","photo","rr","dangerousReadDB","db","reject","createReadStream","results","prefix","_down","_keys","multiGet","pairs","isEmployee","myId","ORGANIZATION","isVerifier","verification","scrollComponentIntoView","manualScroll","scrollView","handle","measure","rect","keyboardScreenY","Dimensions","get","scrollResponder","keyboardWillOpenTo","endCoordinates","screenY","componentBottomY","keyboardTopY","currentScrollOffset","bottomExpansionNeeded","additionalOffset","topExpansionNeeded","scrollOffsetY","scrollTo","getNode","getScrollOffset","y","refs","getScrollResponder","autoScroll","onNextTransitionStart","fn","onNextTransitionEnd","strict","loc","NotFoundError","reason","joinURL","_len2","_key2","first","shift","rest","join","tryWithExponentialBackoff","backOffAndLoop","defer","backoff","once","promise","exponential","fetchWithTimeout","timeout","race","Error","fetchWithBackoff","requestTimeout","normalizeCurrencySymbol","symbol","toOldStyleWrapper","wrapper","permalink","object","payload","link","linkString","author","parsed","objectinfo","setupSHACaching","merkle","DEFAULT_MERKLE_OPTS","_caching","cache","max","leaf","cached","set","parent","generateSalt","salt","enc","hashPassword","password","saltStr","createHash","update","digest","kdf","saltBytes","iterations","keyBytes","pbkdf2Sync","setPassword","username","serviceID","setGenericPassword","getPassword","getGenericPassword","setHashedPassword","getHashedPassword","encoded","checkHashedPassword","stored","equals","encrypt","iv","cipher","createCipheriv","ciphertext","decrypt","decipher","createDecipheriv","resetPasswords","all","resetGenericPasswords","isAndroid","isIOS","groupByEveryN","array","n","temp","promiseThunky","getTopNonAuthRoute","routes","_orientation","dimensions","getDimensions","styleFactory","subCache","subKey","_dimensions","switchWidthHeight","resized","nextProps","imageQuality","reload","readFile","file","reader","FileReader","readAsDataURL","readImage","dataUrl","image","Image","src","printStack","936","937","941","service","resetGenericPassword","getAllKeys","multiRemove","942","LOCAL_IP","GCM_SENDER_ID","accessGroup","943","946","947","_reactDom","_reactDom2","findDOMNode","domNode","getBoundingClientRect","x","948","RCTUIManager","UIManager","findNodeHandle","toHandle","scrollResponderScrollNativeHandleToKeyboard","measureLayout","getInnerViewNode","scrollResponderScrollTo","animated","1083","officialAccounts","back","profile","done","edit","settings","theMinValueBiggerThenMaxValue","thePropertyWithMinMaxRangeError","invalidProperty","optional","thisFieldIsRequired","pleaseDrawPassword","drawYourPassword","drawYourPasswordAgain","drawYourNewPassword","drawYourNewPasswordAgain","drawYourOldPassword","gestureNotRecognized","passwordLimitations","invalidPattern","patternNotMatching","wrongPattern","correctGesture","authenticationFailed","enterPassword","enterCurrentPassword","setNewPassword","textPasswordLimitations","tooManyPasswordAttempts","correctPassword","passwordsDontMatch","pleaseRestartTIM","cancel","details","enterYourName","addServerUrl","search","listOfProducts","hello","testForgetMe","confirmForgetMe","forgetMe","iNeed","LivingWithParents","HomeOwnerWithMortgage","HomeOwnerWithoutMortgage","TenantPrivate","TenantCounsel","BenefitPayments","BillsExpenses","CapitalRaisingScottishWidowsBank","Inheritance","ProbateExecutorTrustee","SalaryPensionOtherRegularIncome","Savings","SpendingMoney","Student","Home","Mobile","Work","newProduct","tapToRemovePhotos","addNew","switchToRepresentative","fillTheForm","fillTheFormWithAttachments","verifiedBy","issuedBy","sentTo","typeMessage","newProductMsg","shareOne","shareOneOfMany","verificationTransactionID","scanQRcode","setDateValue","add","myDocuments","confirmRevoke","shareProduct","shareMyProduct","willBeAvailable","switchTouchIdOff","switchTouchIdOn","noConnection","noConnectionWillProcessLater","noConnectionForPL","noConnectionForNewProduct","inProgress","newContactRequest","howCanIHelpYou","pleaseCorrectTheErrors","verifierHelp","errorNotification","addAnotherFormOrGetNext","getNextForm","addSameForm","areYouSureAboutNextForm","formChooser","showQR","useTouchId","useGesturePassword","useTouchIdAndGesturePassword","changeGesturePassword","changePassword","touchIdOn","passwordOn","bothOn","turnTouchIdOn","turnPasswordOn","turnBothOn","pairDevices","learnMore","offlineMode","learnMoreDescriptionTo","noNetwork","learnMoreDescription","shareChangesWith","nothingChanged","submittingForm","submittingModifiedForm","receivedProduct","receivedVerification","formRequest","sharedForm","youAreForgotten","invalidPairingRequest","pairingRequest","deviceDoesNotHaveMyKeys","pairingRequestWasProcesseed","youShared","termsAndConditions","acceptTermsAndConditions","acceptingTermsAndConditions","viewTerms","wipeDevice","areYouSureAboutWipe","1084","pleaseDrawPattern","drawYourPattern","pleaseDrawYourPatternAgain","Share","FulltimeEmployee","TemporaryEmployment","FlexIncome","Employed","SelfEmployed","Alimony","IncomeOutOfRentingOrLeasing","Pension","PrePension","OldAgeBenefits","InsurancePolicyPensionOutOfInsurance","PartnerAlimony","RevolvingCredit","Personal Loan","Overdraw","Credit card","???","ShoppingCredit","Private Loan","StudyLoan","Monthly","Quarterly","HalfYearly","Yearly","ExistingInsurance","TemporaryCoverage","ToBeArranged","EqualOverTime","YearlyDecreasing","LinearyDecreasing","NewMortgage","SecondMortgage","AdditionalMortgageWithinExistingContract","ChangeMortgageConstruction","Single","MarriedWithPrenuptialAgreement","Married","RegisteredPartnership","LivingTogetherWithAgreement","CivilPartnership","ElementarySchool","HighSchool","VocationalSecondarySchoolJunior","VocationalSecondarySchoolSenior","College","University","Netherlands","France","French","Dutch","English","American","Russian","Russia","Passport","ResidencePermit","IdCard","1100","1155","1166","1198","1199","1200","1207","1208","1209","1306","1318","1507","webpackContext","req","webpackContextResolve","./dictionary_en.json","./dictionary_nl.json","./dictionary_ru.json","1517","Reflux","actionProps","asyncActions","syncActions","createActions","1537","1538","hasTouchID","LocalAuth","authenticateUser","pendingAuth","DEFAULT_OPTS","authenticate","touchIDOrNothing","requestEnrollTouchID","pendingEnrollRequest","text","signIn","newMe","isChangePassword","isAuthenticated","_q2","authPromise","touchIDAndPasswordAuth","passwordAuth","ForgivableTouchIDErrors","PASSWORD_ITEM_KEY","checkPassword","lockUp","loopAlert","doneWaiting","LOCK_TIME","validate","validateTextPassword","validateGesturePassword","PASSWORD_PROMPTS","mode","_PasswordCheck2","Modes","isChange","onSuccess","pass","updateMe","currentRoute","check","maxAttempts","isCorrect","onFail","LOCK_UP_MESSAGE","PASSWORD_REGEX","test","getPasswordPrompts","prompts","PROMPTS","translated","_errors","_errors2","_q","_PasswordCheck","ENV","setHasTouchID","fallbackToPasscode","suppressEnterPassword","Errors","1540","_tcombFormNative","_tcombFormNative2","_Ionicons","_Ionicons2","Form","form","SetType","struct","String","passwordAgain","CheckType","ERROR_COLOR","NEUTRAL_COLOR","_getInitialSetState","_getInitialCheckState","onChange","promptSetChange","promptSet","errors","promptCheckCurrent","promptCheck","attempts","field","getComponent","input","focus","onKeyDown","isDisabled","code","keyCode","which","_getInput","path","_onChangeSet","_onChangeCheck","validatePasswordChoice","both","passwordError","promptInvalidSet","promptRetrySet","_onSet","_onCheck","getValue","fields","_getSetOptions","_getCheckOptions","auto","placeholder","secureTextEntry","error","hasError","passwordRequirements","order","options","_getOptions","disabled","editable","$set","customStyle","header","renderHeader","_Dimensions$get","smaller","min","button","submit","alignItems","iconSize","renderFooter","prompt","footer","requestWipe","danger","propTypes","PropTypes","func","submitText","promptReenter","promptRetryCheck","successMsg","failMsg","shape","backgroundColor","justifyContent","padding","alignSelf","textAlign","makeResponsive","1667","_ArticleView","_ArticleView2","TOUCH_ID_IMG","BTN_COLOR","_utils$dimensions","headingContainer","imgContainer","resizeMode","quoteContainer","quoteText","TouchableHighlight","underlayColor","optInText","btnContainer","optIn","btnText","paddingHorizontal","btn","paddingVertical","fontStyle","paddingBottom","1668","_ActivityIndicator","_ActivityIndicator2","_WebView","_WebView2","domain","description","ScrollView","contentContainerStyle","contentContainer","loading","webView","uri","startInLoadingState","renderError","automaticallyAdjustContentInsets","renderLoading","1669","impl","ActivityIndicator","ActivityIndicatorIOS","1670","React","WebView","1671","1672","1673","TEXT_PASSWORD_PROMPTS","GESTURE_PASSWORD_PROMPTS","promptReenterChange","gesture","1674","1675","menuButtonNarrow","menuButtonRegular","menuButton","touchIdText","marginLeft","menuIcon","MenuIcon","1676","borderRadius","shadowOpacity","shadowRadius","shadowColor","1677","1678","buildStyleInterpolator","NoTransition","opacity","Transitions","FadeAndroid","defaultTransitionVelocity","animationInterpolators","into","out","1679","1680","postWithRetry","node","pushServerURL","headers","Accept","Content-Type","_engine","swURL","initialized","initialize","Local","init","serviceWorker","register","registration","pushManager","getSubscription","subscription","subscribe","userVisibleOnly","_postWithRetry","identity","endpoint","publisher","_postWithRetry2","1681","1682","requestPermissions","Notification","permission","requestPermission","tabIsFocused","unreadPushNotifications","onclick","closeTimeout","close","1683","navs","Map","_currentRoute","getCurrentRoute","watcher","1684","1685","_reactNativeActionsheet","_reactNativeActionsheet2","_StatusBar","_StatusBar2","NoResources","ResourceRow","VerificationRow","PageView","reactMixin","Store","NetworkInfoProvider","defaultBankStyle","WEB_TO_MOBILE","TALK_TO_EMPLOYEEE","APP_QR_CODE","ENUM","SearchBar","isLoading","dataSource","ListView","DataSource","rowHasChanged","row1","row2","allowToAdd","show","isConnected","userInput","isRegistration","chat","sharedWith","orgs","orgId","setHidden","listSharedWith","isAggregation","sortProperty","listenTo","action","curRoute","mergeStyle","firstName","MESSAGE","query","sort","SELF_INTRODUCTION","myIdentity","addMessage","cloneWithRows","forceUpdate","sharedWithMapping","newStyle","nextState","numberOfForms","isIdentity","isVerification","isForm","isOrganization","_selectResource","isMe","CUSTOMER_WAITING","newTitle","word","parentMeta","popToRoute","isInterface","propJson","backlinksTitle","_this3","isMyProduct","onSelect","selectResource","isChooser","changeSharedWithList","isOfficialAccounts","showRefResources","_this4","ActionSheet","_this5","SETTINGS","isBacklink","relatedTo","_this6","getRowCount","enableEmptySections","renderRow","removeClippedSubviews","keyboardDismissMode","keyboardShouldPersistTaps","initialListSize","showsVerticalScrollIndicator","searchBar","buttons","onChangeText","onSearchChange","showsCancelButton","hideBackground","connected","cancelButtonIndex","onSettingsPressed","scanFormsQRCode","showBanks","row","cellImage","textContainer","titleTintColor","h","sendPairingRequest","session","addItem","getEmployeeInfo","addApp","ListenerMixin","centerText","separator","marginRight","flexWrap","borderColor","borderWidth","hairlineWidth","borderTopColor","marginBottom","menuButtonA","menuButton1","1690","mock","StatusBar","1691","noRes","NoResourcesText","plural","1692","dateProp","_reactNativeLinearGradient","_reactNativeLinearGradient2","RowMixin","lastMessage","noImage","photos","isStatic","getNextKey","lastName","colors","cellRoundImage","cellText","cellNoImage","orgPhoto","onlineStatus","online","cancelResource","onCancel","cancelIcon","textStyle","marginVertical","dateRow","verySmallLetters","isOpaque","contacts","rowWrapper","formatRow","hidden","hide","scrollEnabled","renderedViewCols","viewCols","gridCols","vCols","numberOfLines","getFormattedDate","datePropIdx","backlink","datePropsCounter","CURRENCY_SYMBOL","addDateProp","msgParts","isMyLastMessage","lastMessageTypeIcon","lastMessageType","msgModel","FINANCIAL_PRODUCT","w","borderBottomColor","1693","1694","STRUCTURED_MESSAGE_COLOR","_customicons","_customicons2","Accordion","cnt","MY_PRODUCT","BORDER_WIDTH","skipLabel","getPropRow","c","propTitle","VERIFICATION_BG","units","STRUCTURED_MESSAGE_BORDER","descriptionB","getOwnerPhoto","employeeImage","msgImage","previousMessageTime","showTime","prevDate","curDate","getDate","getMonth","getYear","formatDocument","isAccordion","docModel","docModelTitle","docTitle","hasPhotos","headerStyle","paddingTop","VERIFIED_HEADER_COLOR","addStyle","marginHorizontal","rowContainer","orgRow","shareView","orgTitle","maxWidth","orgView","orgImage","shareButton","documentCreated","share","easing","formatDocument1","renderedRow","autoCreate","1695","_reactNativeVectorIcons","glyphMap","Icons","createIconSet","1706","_localAuth","ShowPropertiesView","PhotoView","PhotoList","ShowRefList","ResourceMixin","TALK_TO_EMPLOYEE","USE_TOUCH_ID","USE_GESTURE_PASSWORD","CHANGE_GESTURE_PASSWORD","PAIR_DEVICES","WIPE_DEVICE","isModalOpen","onShowIdentityList","pairingData","closeModal","pairingRequestAccepted","replacePreviousAndPop","onResourceUpdate","currentPhoto","createStyles","actionPanel","isOrg","openModal","qrcode","inline","switchTouchId","actions","photoBG","Modal","animationType","visible","transparent","onRequestClose","modalBackgroundStyle","isView","numberInRow","showItems","showResources","showRefResource","getRefResource","excludedProperties","changePreferences","propValue","isChangeGesturePassword","genPairingData","_ref","1707","_reactNativePrompt","_reactNativePrompt2","NOT_SPECIFIED","DEFAULT_CURRENCY_SYMBOL","TERMS_AND_CONDITIONS","promptVisible","getViewCols","errorProps","checkProperties","readOnly","mapped","isMessage","isRef","isItems","isDirectionRow","pMeta","linkTitle","renderItems","LINK","isPromptVisible","canReject","iconView","onSubmit","txId","fontFamily","1711","PhotoCarouselMixin","anim","Animated","Value","timing","toValue","duration","renderPhotoList","photoContainer","imageStyle","thumb3","thumb4","thumb5","inRow","rows","margin","showCarousel","thumbCommon","d3","d4","d5","1712","closeCarousel","1713","_reactNativeCarousel","_reactNativeCarousel2","currentPhotoIndex","isVertical","imageV","animate","indicatorOffset","indicatorColor","imageH","1717","cancelItem","counter","ret","itemMeta","itemColContainer","itemText","thumb","itemSeparator","1718","_reactNativeAnimatable","hasPhoto","nextPhoto","baseW","baseH","photoUrls","Gallery","images","initialPage","1720","buttonStyles","refList","propsToShow","allowRoles","maxLetters","1721","BACKGROUND_COLOR","FONT_SIZE","FONT_SIZE_1","freeze","icon1","container1","buttonContent","text1","1722","children","1723","_toConsumableArray","arr2","getProviderUrl","provider","querystring","Debug","deepEqual","SENT","SENDING","QUEUED","employee","longStackSupport","onerror","isTest","originalMe","isLoaded","language","meDriver","driverPromise","SERVICE_PROVIDERS_BASE_URLS","SERVICE_PROVIDERS","voc","sampleData","currencies","nationalities","countries","sha","Keychain","promisify","leveldown","level","mutexify","NEXT_HASH","LAST_MESSAGE_TIME","IDENTITY","IDENTITY_PUBLISHING_REQUEST","SIMPLE_MESSAGE","PRODUCT_LIST","ADDITIONAL_INFO","MODEL","INTRODUCTION","FORGET_ME","FORGOT_YOU","MY_IDENTITIES_TYPE","PRODUCT_APPLICATION","GUEST_SESSION_PROOF","FORM_ERROR","EMPLOYEE_ONBOARDING","MY_EMPLOYEE_PASS","FORM_REQUEST","PAIRING_REQUEST","PAIRING_RESPONSE","PAIRING_DATA","MY_IDENTITIES","Sendy","SendyWS","TLSClient","SENDY_OPTS","resendInterval","mtu","autoConnect","newSwitchboard","Switchboard","WebSocketClient","Client","Blockchain","createKeeper","cachifyKeeper","currentEmployees","TIM_PATH_PREFIX","AUTHENTICATION_TIMEOUT","chatMessages","temporaryResources","employees","networkName","TOP_LEVEL_PROVIDERS","topLevelProviders","topLevelProvider","SERVICE_PROVIDERS_BASE_URL_DEFAULTS","baseUrl","publishRequestSent","driverInfo","wsClients","ENCRYPTION_KEY","TLS_ENABLED","PAUSE_ON_TRANSITION","createStore","listenables","ldb","valueEncoding","_loadedResourcesDefer","NetInfo","_handleConnectivityChange","loadModels","addNameAndTitleProps","addVerificationsToFormModel","ready","getSettings","getDriver","monitorTim","registeredForPushNotifications","trigger","_setItem","currentIdentity","dateAuthenticated","put","notFound","onUpdateMe","meId","onSetAuthenticated","authenticated","buildDriver","encryption","keeper","blockchain","dir","syncInterval","promisifyNode","identityPublishStatus","identitySealStatus","_multiGetFromDB","addressBook","setCache","_settings","settingsId","tlsKey","_send","recipientInfo","recipientHash","messenger","hashToUrl","identifier","getIdentifier","getInfo","initChats","shareInfo","bankRepresentative","addMessagesToChat","timeShared","rep","contact","bot","fromId","filterChatMessages","messages","lastId","productToForms","productApp","forms","product","formIdx","productIdx","newResult","next","rFrom","pModel","ir","itemPhotos","serverUrls","retry","togo","getServiceProviders","addProvider","onGetEmployeeInfo","serviceProvider","response","info","addInfo","addToSettings","addContactIdentity","myIdentities","allIdentities","publishedIdentity","receive","_ret4","unserializeMessage","_ret5","rootHash","addContact","transport","formatted","_ret6","curve","pub","sender","resume","warn","base","wsClient","getWsClient","getTransport","clients","destroy","pause","recipient","cancelPending","receiveLocks","lock","_release","release","isPromiseAlike","onPairingRequestAccepted","onProcessPairingRequest","fullType","identityInfo","getIdentifierPubKey","purpose","find","pubkeys","kPurpose","pubKeyString","forceBase64","unreliable","clientForRecipient","sendy","secretKey","priv","publicKey","client","theirPubKey","doFetch","originalUrl","promises","providers","sp","duplicateSP","isDuplicate","allSettled","searchNotMessages","okey","ikey","batch","_profile","_identity","buildRef","pkey","_mergeItem","curOkeyVal","newContact","orgSp","_onAddMessage","isDevicePairing","_profile2","_extends2","onAddMessage","findKey","where","onStart","spread","isWelcome","requestForForm","_toChain","toOrg","orgRep","getRepresentative","isSelfIntroduction","searchMessages","rid","isCustomerWaiting","getNonce","toChain","welcomeMessage","tmpKey","noCustomerWaiting","toId","sendStatus","sig","addLastMessage","lastMessageTime","watches","_msg","allMyIdentities","curId","publishMyIdentity","_sendStatus","sendParams","packMessage","deleteMessageFromChat","reps","getRepresentatives","talkingToBot","toRootHash","other","forward","fingerprint","getFingerprint","disableOtherFormRequestsLikeThis","fromRep","isInit","msgId","onAddVerification","notOneClickVerification","dontSend","newVerification","signAndSend","createSharedWith","verificationRequestId","verificationRequest","onGetTo","onGetItem","onGetFrom","itemsModel","foundRefs","refProps","getRefs","newResource","getDependencies","resultList","rValue","elm","onAddModelFromUrl","responseData","OWNER","myModels","setPropertyNames","newModel","onSaveTemporary","onGetTemporary","onAddItem","_this7","shareWith","checkPublish","isNew","isSwitchingToEmployeeMode","_msg2","handleRegistration","loadDB","returnVal","save","handleMessage","waitForTransitionToEnd","prevRes","returnValKey","rId","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","allFormRequests","formRequests","noTrigger","_putResourceInDB","roothash","refModel","inlined","ninvoke","checkRequired","allFoundRefs","immutable","chatId","_msg3","_this8","newOrgId","settingOrg","_ret7","meOrgId","repId","fresult","onGetMe","onCleanup","_this9","isForgetting","onShare","shareWithList","formResource","_this10","onShareOne","promisses","toOrgId","seal","ver","formId","oldResource","onReloadModels","onRequestWipe","reloadDB","wipe","wipeWeb","wipeMobile","clear","sessionStorage","destroyAll","onReloadDB","_this11","destroyTim","onMessageList","onList","getList","_this12","fromView","retParams","spinner","_searchMessages","shareableResources","hasMore","limit","loadEarlierMessages","allLoaded","getShareableResources","getList1","searchResources","onListSharedWith","shareWithMapping","containerProp","resourceId","foundResources","notVerified","sortProp","orgToForm","canceled","combinedValue","getMyId","retPeople","asc","aVal","bVal","reverse","retOrgs","oId","_this13","_this14","chatTo","isChatWithOrg","thisChatMessages","testMe","isAllMessages","ii","iMeta","rModel","isFormError","d","prefill","isSharedWith","timeResourcePair","isVerificationR","isProductApplication","toID","doc","rDoc","fillMessage","getSearchResult","addAndCheckShareable","shareableResourcesRootToR","_this15","verTypes","simpleLinkMessages","productsToShare","_rr2","sw","skip","fromOrgId","thisCompanyVerification","verType","_rr3","dhtKey","newLanguage","originalR","includes","urls","vrId","vr","iKey","mid","addSettings","lang","olist","messageType","sharedWithOrg","orgName","_mid","pKey","privkeys","curVal","forgetAndReset","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","onForgetMe","onMessage","removeListener","loadIdentityAndKeys","mePriv","mePub","lookupKeys","importKey","encryptionKey","createNewIdentity","_this16","toJSON","genIdentity","generateNewSet","_msg4","getFromTo","getAuthorForObject","msgInfo","pick","putInDb","msgStream","objects","messagesWithObject","lookupIdentity","nfcall","authorInfo","maybeWatchSeal","old","sup","otherGuy","chainPubKey","watchSeal","basePubKey","_putInDb","_this17","timestamp","sentTime","forgotYou","isConfirmation","permissionKey","representativeAddedTo","putIdentityInDB","putMessageInDB","_msg5","fOrg","triggeredOrgs","orgList","profileKey","vv","doAdd","representative","oo","orgKey","_this18","fromProfile","fromR","_value","inDB","isProductList","pList","products","hasNoTrigger","fillFromAndTo","whoAmI","_i","_ref2","aprops","mprops","loadMyResources","_this19","orgContacts","securityCode","sameContactList","loadStaticData","noModels","ids","forgetMeFromCustomer","_msg6","forget","realProductType","deleted","sharedWithKeys","docPair","doDelete","onTalkToRepresentative","_msg8","_msg7","msgFrom","_msg9","_this20","orgReps","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","mId","onGenPairingData","nonce","rendezvous","dbPairingData","onSendPairingRequest","_this21","deviceId","_myIdentities","_profile3","_identity2","identityId","pairingReqStr","_pairingReq","pairingReq","hmac","createHmac","auth","onProcessPairingResponse","sendResponse","getPrev","prev","hexLink","pairingResStr","pairingRes","_pairingRes","_this22","myPubKeys","alreadyPaired","verify","omit","allPubKeys","pk","updatePubkeys","_this23","hasMyKeys","every","myKey","theirKey","_this24","loadStaticDbData","_this25","getResources","loadStaticItem","saveInDB","_this26","sData","clearDb","del","onStartTransition","onEndTransition","_transitionCallbacks","cbs","current","1730","1731","appName","1733","1737","_asyncToGenerator","gen","step","arg","_typeforce2","DEFAULT_KEY_SET","keyProps","isKeyInSecureEnclave","createSecureEnclaveKey","createKeychainKey","saveKey","lookupKeyUntilFound","pubKey","lookupKey","intialDelay","fromKeychain","lookupKeychainKey","lookupSecureEnclaveKey","genKey","_nkeySe2","getCurve","ellipticCurves","_elliptic","ec","curves","regeneratorRuntime","mark","_callee","keyPair","uncompressed","wrap","_context","keyFromPublic","getPublic","sent","abrupt","fromJSON","_x2","_typeforce","_reactNativeEcc","_nkeySe","_nkeyEcdsa","_nkeyEcdsa2","setServiceID","setAccessGroup","setImplementationForCurve","defaultKeySet","1739","DEFAULT_ALGORITHM","doSign","doVerify","exportPrivateKey","_crypto2","_nkey2","wrapInstance","isPrivateKey","_crypto","_thunky","_nkey","wrapAPI","1743","_browser","_browser2","isIE","leveljs","dbs","asyncstorageDown","setLeveldown","1744","ua","msie","ActiveXObject","1763","1764","1765","1805","maxSize","levelup","1813","1861","1878","1888","1899","1923","1924","1925","1932","QRCodeView","renderPlaceholderOnly","InteractionManager","runAfterInteractions","bgColor","fgColor","1946","currentMessageTime","MessageRow","MyProductMessageRow","VerificationMessageRow","FormMessageRow","GiftedMessenger","LIMIT","selectedAssets","progress","indeterminate","messageList","_watchSubmit","_GiftedMessenger","textInput","_watchedInput","onSubmitEditing","actionParams","sendResource","newItem","doUpdate","postLoad","gatherForms","noScroll","nr","emptySearch","sectionId","rowId","moreProps","isLast","_scrollTimeout","scrollToBottom","bgStyle","paintMenuButton","maxHeight","loadEarlierMessagesButton","onLoadEarlierMessages","messageSent","messageSentStatus","autoFocus","textRef","renderCustomMessage","handleSend","submitOnReturn","menu","generateMenu","chooser","onAddNewPressed","imageOutline","sepStyle","chooseFormForCustomer","evt","FloatFromBottom","asset","onTakePic","_Actions$addMessage","NEW_FORM_REQUEST","clearCallback","1947","ShowMessageRefList","verifyOrCreateError","createError","formError","verificationTxID","itemTitle","band","PRODUCT_ROW_BG_COLOR","photoListStyle","onCheck","rmodel","addVerification","verificationModel","1948","backlinks","backlinksBg","1949","Keyboard","_reactNativeImagePicker","_ImageInput","_ImageInput2","_BackgroundImage","_BackgroundImage2","rStyles","NewResourceMixin","BG_IMAGE","DEFAULT_LINK_COLOR","stylesheet","isUploading","isLoadingVideo","isPrefilled","modal","termsAccepted","currentRoutesLength","onSavePressed","scrollviewProps","scrollEventThrottle","onScroll","isUpdate","missedRequiredOrErrorValue","itemsCount","keyboardSpace","getTemporary","updateKeyboardSpace","resetKeyboardSpace","popToTop","submitted","showSharedWithList","originatingMessage","navigateTo","replacePrevious","checkEnums","floatingProps","isDate","isNaN","validateProperties","propName","addFormValues","bl","blmodel","setChosenValue","setProperty","arrays","showSendVerificationForm","onEndEditing","editCols","getFormFields","Model","itemsArray","arrayItems","count","getPhotoItem","photoStyle","thumbButton","showTermsAndConditions","getStarted","getStartedText","formStyle","animating","bgImage","logo","acceptTsAndCs","cstyle","activePropTitle","noItemsText","itemsCounterEmpty","itemsText","errTitle","errorText","aiStyle","actionableItem","onImage","onNewPressed","istyle","itemButton","acStyle","actionableCounter","photoStrip","photoStripItems","photoButton","nativeEvent","assets","isNoAssets","toName","meName","assetUri","itemsCounter","borderBottomWidth","1951","FileInput","ImageInput","imageInputPropTypes","isRequired","_onPress","_pressing","showImagePicker","inputs","getElementsByTagName","fileInput","click","touchableProps","renderImageFileInput","_props","_input","files","1953","BackgroundImage","background","backgroundSize","1954","myStyles","rProps","validateValues","errStyle","fieldName","f","imageContainer","buttonText","1955","LABEL_COLOR","INPUT_COLOR","HELP_COLOR","BORDER_COLOR","DISABLED_COLOR","DISABLED_BACKGROUND_COLOR","HELP_FONT_SIZE","LABEL_FONT_SIZE","FONT_WEIGHT","fieldset","formGroup","normal","controlLabel","helpBlock","errorBlock","textbox","borderLeftColor","borderRightColor","notEditable","checkbox","select","datepicker","1956","_reactNativeDatepicker","_reactNativeDatepicker2","FloatLabel","moment","YEAR","DAY","HOUR","MINUTE","propTypesMap","_contentOffset","contentOffset","eCols","maybe","formType","isReadOnly","errMessage","errs","bufferDelay","keyboard","keyboardType","myDateTemplate","onDateChange","myBooleanTemplate","maxLength","parseFloat","multiline","autoCorrect","oneOf","enums","myTextTemplate","myTextInputTemplate","facet","values","mod","enumValues","myMoneyInputTemplate","subModel","onFocus","myCustomTemplate","nullOption","video","Number","saveTemporary","onChangeTextValue","showCamera","divider","dividerText","lStyle","labelStyle","maxChars","autoCapitalize","inputFocused","inputStyle","regInput","formInput","getErrorView","noError","doWrap","booleanContainer","booleanContentStyle","Switch","onValueChange","onTintColor","propLabel","format","dateProps","maxDate","minDate","getDateRange","dataProps","datePicker","confirmBtnText","cancelBtnText","changeTime","customStyles","dateInput","dateText","placeholderText","dateIconColor","dateIcon","dateStr","beforeAfter","coef","showPicker","stateKey","year","month","day","DatePickerAndroid","open","dismissedAction","t0","refName","labelClean","labelDirty","isVideo","iconColor","chooserContainer","customIcon","isFinancialProduct","propRef","setItemCount","myEnumTemplate","enumProp","enumErrorLabel","enumElement","enumChooser","chooserContentStyle","enumText","setChosenEnumValue","enumPropName","deleteProps","checkNumber","pattern","RegExp","element","1957","_reactDatepicker","_reactDatepicker2","_moment","_moment2","DatePickerAdapter","showYearDropdown","selected","1960","./af","./af.js","./ar","./ar-ly","./ar-ly.js","./ar-ma","./ar-ma.js","./ar-sa","./ar-sa.js","./ar-tn","./ar-tn.js","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cv","./cv.js","./cy","./cy.js","./da","./da.js","./de","./de-at","./de-at.js","./de.js","./dv","./dv.js","./el","./el.js","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-nz","./en-nz.js","./eo","./eo.js","./es","./es-do","./es-do.js","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fo","./fo.js","./fr","./fr-ca","./fr-ca.js","./fr-ch","./fr-ch.js","./fr.js","./fy","./fy.js","./gd","./gd.js","./gl","./gl.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hu","./hu.js","./hy-am","./hy-am.js","./id","./id.js","./is","./is.js","./it","./it.js","./ja","./ja.js","./jv","./jv.js","./ka","./ka.js","./kk","./kk.js","./km","./km.js","./ko","./ko.js","./ky","./ky.js","./lb","./lb.js","./lo","./lo.js","./lt","./lt.js","./lv","./lv.js","./me","./me.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mr","./mr.js","./ms","./ms-my","./ms-my.js","./ms.js","./my","./my.js","./nb","./nb.js","./ne","./ne.js","./nl","./nl.js","./nn","./nn.js","./pa-in","./pa-in.js","./pl","./pl.js","./pt","./pt-br","./pt-br.js","./pt.js","./ro","./ro.js","./ru","./ru.js","./se","./se.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr-cyrl","./sr-cyrl.js","./sr.js","./ss","./ss.js","./sv","./sv.js","./sw","./sw.js","./ta","./ta.js","./te","./te.js","./th","./th.js","./tl-ph","./tl-ph.js","./tlh","./tlh.js","./tr","./tr.js","./tzl","./tzl.js","./tzm","./tzm-latn","./tzm-latn.js","./tzm.js","./uk","./uk.js","./uz","./uz.js","./vi","./vi.js","./x-pseudo","./x-pseudo.js","./zh-cn","./zh-cn.js","./zh-hk","./zh-hk.js","./zh-tw","./zh-tw.js","2068","pageSize","scrollRenderAhead","vals","2069","2071","Camera","cameraType","Type","captureTarget","CaptureTarget","cameraRoll","captureMode","CaptureMode","onBarCodeRead","_onBarCodeRead","_switchCamera","_takePicture","front","cam","capture","2072","2073","_onImage","_imageInput","lr","2074","2075","introduction","intellectualPropertyRights","restrictions","limitationOfLiability","2076","bar","2077","isMultientry","multiEntryForms","formDefaults","NEXT_FORM_REQUEST","ownerPhoto","hasOwnerPhoto","onPressCall","noMessage","isSimpleMessage","myCell","forgetCell","verificationBody","CONFIRMATION_BG","myConfCell","REQUEST_FULFILLED","mstyle","borderTopLeftRadius","FORM_ERROR_BG","FORM_ERROR_BORDER","verPhoto","bigImage","mediumImage","showMessageBody","rowStyle","messageBody","strName","formTitle","msgWidth","numberOfCharsInWidth","longMessage","viewStyle","sendStatusText","sendStatusDefaultText","sealedStatus","cellStyle","isShared","verifiedHeader","SHARED_WITH_BG","ww","hh","isLicense","bigImageH","shareables","showShareableResources","formModel","isMultientryForm","entries","vtt","totalShareables","modelTitle","assistentBox","assistentText","welcome","onChooseProduct","rtype","iconName","FORM_ERROR_COLOR","errorBadge","MY_MESSAGE_LINK_COLOR","editForm","createNewResource","linkIconGreyed","CONFIRMATION_COLOR","showEditResource","sameFormRequestForm","formsArray","multiEntryButton","multiEntryText","view","rUri","_resource","borderTopRightRadius","verificationHeaderText","productAppIcon","2078","orgProducts","productList","sMsg","page","accountWith","productType","MessageTypeRow","listview","errContainer","2079","PRODUCT_ROW_TEXT_COLOR","DEFAULT_PRODUCT_ROW_BG_COLOR","DEFAULT_PRODUCT_ROW_TEXT_COLOR","owner","cell","ownerImg","ownerImage","2080","easy","europi","2081","MY_MESSAGE_BG","EasyBank","SEPARATOR","linkIcon","shareIcon","2082","Rabobank","VERIFIED_BORDER_COLOR","NAV_TITLE","NAV_BUTTONS","NAV_BG","BANKLINKS","2083","2084","PRODUCT_BG_COLOR","hdrStyle","2085","isThirdPartyVerification","numberOfCharacters","verificationIcon","2086","sentStatus","otherStatus","youSharedText","myMsg","2094","PRODUCT_TEXT_COLOR","2095","Swipeout","formatDoc","resourceTitleL","contentRows","by","rTitle","revokeDocument","autoClose","scroll","_allowScroll","AlertIOS","2099","Dir","camera","flip","_finished","2100","2101","Video","VideoPlayer","_React$Component","rate","volume","muted","currentTime","controls","paused","skin","play","loaded","isSelected","controlOption","onLoad","onProgress","onEnd","onError","repeat","flexCompleted","getCurrentTimePercentage","flexRemaining","generalControls","volumeControl","renderVolumeControl","trackingControls","innerProgressCompleted","innerProgressRemaining","nativeControls","videoStyle","nativeVideoControls","skinControl","renderSkinControl","rateControl","renderRateControl","resizeModeControl","renderResizeModeControl","renderNativeSkin","renderCustomSkin","overflow","lineHeight","2102","2103","getIconSize","_automaticUpdates2","debounce","FadeInView","commitHash","commit","isLinkingSupported","Linking","hasMe","_pressHandler","_handleOpenURL","getInitialURL","checkConnected","firstRoute","handleEvent","_x","homeRoute","afterAuthRoute","restartTiM","t1","resetTo","showOfficialAccounts","doReplace","immediatelyResetRouteStack","showContacts","optInTouchID","reloadModels","onBackupPressed","_callee2","backupNumber","_context2","BACKUPS","backup","onLoadFromBackupPressed","_ref3","_callee3","_context3","loadFromBackup","getSplashScreen","version","dev","regView","signInText","layout","_utils$dimensions2","splashLayout","_ref4","splashscreen","TradleWhite","_ref5","_callee4","_context4","shadowOffset","pairDivicesText","2106","fadeAnim","2107","2108","newModelAdded","sendFormTo","2109","2110","changeIdentity","onRemoveIdentity","removeIdentity","2111","searchBarBG","TextInput","placeholderTextColor","searchBarInput","scrollSpinner"],"mappings":"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AC,aAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,aAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,IACAC,UAAA,IACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,UAAA,KACAC,aAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACA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","file":"main.3f281ba332c1a93b97dc.js","sourcesContent":["webpackJsonp([0,7],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(1);\n\tmodule.exports = __webpack_require__(299);\n\n\n/***/ },\n\n/***/ 299:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\t\n\t// if (window.history && !localStorage._tradleTimeTraveled) {\n\t//   if (history.length > 2) {\n\t//     localStorage.setItem('_tradleTimeTraveled', 'y')\n\t//     history.go(-(history.length - 2))\n\t//   }\n\t// }\n\t\n\t// localStorage.removeItem('_tradleTimeTraveled')\n\t\n\t// if we wake up on a non-zero route, go back to route 0\n\t//\n\t// will not be necessary when we switch to redux and save all state including history\n\t// and get our bearings from the url\n\t\n\tif (global.history && global.history.length) {\n\t  var historyIndex = parseInt(location.hash.replace('#/scene_', ''));\n\t  if (historyIndex) {\n\t    history.go(-historyIndex);\n\t  }\n\t}\n\t\n\t__webpack_require__(300);\n\t__webpack_require__(308);\n\t__webpack_require__(315);\n\t__webpack_require__(317);\n\t// if (!global.EventSource) {\n\t//   require('event-source-polyfill/eventsource.min.js')\n\t// }\n\t\n\tif (!console.table) console.table = console.log;\n\t\n\t__webpack_require__(318);\n\t__webpack_require__(763);\n\t__webpack_require__(764);\n\t\n\tvar AppRegistry = __webpack_require__(319).AppRegistry;\n\t\n\tvar app = document.createElement('div');\n\tdocument.body.appendChild(app);\n\tAppRegistry.runApplication('Tradle', {\n\t  rootTag: app\n\t});\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n\n/***/ 300:\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(301);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(307)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./customicons.css\", function() {\n\t\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./customicons.css\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n\n/***/ 301:\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(302)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \"@font-face{font-family:tradle;src:url(\" + __webpack_require__(303) + \");src:url(\" + __webpack_require__(303) + \"#iefix) format('embedded-opentype'),url(\" + __webpack_require__(304) + \") format('truetype'),url(\" + __webpack_require__(305) + \") format('woff'),url(\" + __webpack_require__(306) + \"#tradle) format('svg');font-weight:400;font-style:normal}[class*=\\\" ui-icon-\\\"],[class^=ui-icon-]{font-family:tradle!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.ui-icon-tradle:before{content:\\\"\\\\E610\\\"}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n\n/***/ 303:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"0b8ad9efdc0d32eb107c34ca354af3d2.eot\";\n\n/***/ },\n\n/***/ 304:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"6bfbf98096204fb2a9d726fb60b9dc05.ttf\";\n\n/***/ },\n\n/***/ 305:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"a67d2970134237faa1ca9dfcfd321a7e.woff\";\n\n/***/ },\n\n/***/ 306:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"697bab732db1c0ed4e1c5c48e932ff0e.svg\";\n\n/***/ },\n\n/***/ 308:\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(309);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(307)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./ionicons.min.css\", function() {\n\t\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./ionicons.min.css\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n\n/***/ 309:\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(302)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \"/*!\\n  Ionicons, v3.0.0-alpha.3\\n  Created by Ben Sperry for the Ionic Framework, http://ionicons.com/\\n  https://twitter.com/benjsperry  https://twitter.com/ionicframework\\n  MIT License: https://github.com/driftyco/ionicons\\n\\n  Android-style icons originally built by Google’s\\n  Material Design Icons: https://github.com/google/material-design-icons\\n  used under CC BY http://creativecommons.org/licenses/by/4.0/\\n  Modified icons to fit ionicon’s grid from original.\\n*/@font-face{font-family:Ionicons;src:url(\" + __webpack_require__(310) + \");src:url(\" + __webpack_require__(310) + \"#iefix) format(\\\"embedded-opentype\\\"),url(\" + __webpack_require__(311) + \") format(\\\"woff2\\\"),url(\" + __webpack_require__(312) + \") format(\\\"woff\\\"),url(\" + __webpack_require__(313) + \") format(\\\"truetype\\\"),url(\" + __webpack_require__(314) + \"#Ionicons) format(\\\"svg\\\");font-weight:400;font-style:normal}.ion,.ion-ios-add-circle-outline:before,.ion-ios-add-circle:before,.ion-ios-add-outline:before,.ion-ios-add:before,.ion-ios-alarm-outline:before,.ion-ios-alarm:before,.ion-ios-albums-outline:before,.ion-ios-albums:before,.ion-ios-alert-outline:before,.ion-ios-alert:before,.ion-ios-american-football-outline:before,.ion-ios-american-football:before,.ion-ios-analytics-outline:before,.ion-ios-analytics:before,.ion-ios-aperture-outline:before,.ion-ios-aperture:before,.ion-ios-apps-outline:before,.ion-ios-apps:before,.ion-ios-appstore-outline:before,.ion-ios-appstore:before,.ion-ios-archive-outline:before,.ion-ios-archive:before,.ion-ios-arrow-back-outline:before,.ion-ios-arrow-back:before,.ion-ios-arrow-down-outline:before,.ion-ios-arrow-down:before,.ion-ios-arrow-dropdown-circle-outline:before,.ion-ios-arrow-dropdown-circle:before,.ion-ios-arrow-dropdown-outline:before,.ion-ios-arrow-dropdown:before,.ion-ios-arrow-dropleft-circle-outline:before,.ion-ios-arrow-dropleft-circle:before,.ion-ios-arrow-dropleft-outline:before,.ion-ios-arrow-dropleft:before,.ion-ios-arrow-dropright-circle-outline:before,.ion-ios-arrow-dropright-circle:before,.ion-ios-arrow-dropright-outline:before,.ion-ios-arrow-dropright:before,.ion-ios-arrow-dropup-circle-outline:before,.ion-ios-arrow-dropup-circle:before,.ion-ios-arrow-dropup-outline:before,.ion-ios-arrow-dropup:before,.ion-ios-arrow-forward-outline:before,.ion-ios-arrow-forward:before,.ion-ios-arrow-round-back-outline:before,.ion-ios-arrow-round-back:before,.ion-ios-arrow-round-down-outline:before,.ion-ios-arrow-round-down:before,.ion-ios-arrow-round-forward-outline:before,.ion-ios-arrow-round-forward:before,.ion-ios-arrow-round-up-outline:before,.ion-ios-arrow-round-up:before,.ion-ios-arrow-up-outline:before,.ion-ios-arrow-up:before,.ion-ios-at-outline:before,.ion-ios-at:before,.ion-ios-attach-outline:before,.ion-ios-attach:before,.ion-ios-backspace-outline:before,.ion-ios-backspace:before,.ion-ios-barcode-outline:before,.ion-ios-barcode:before,.ion-ios-baseball-outline:before,.ion-ios-baseball:before,.ion-ios-basket-outline:before,.ion-ios-basket:before,.ion-ios-basketball-outline:before,.ion-ios-basketball:before,.ion-ios-battery-charging-outline:before,.ion-ios-battery-charging:before,.ion-ios-battery-dead-outline:before,.ion-ios-battery-dead:before,.ion-ios-battery-full-outline:before,.ion-ios-battery-full:before,.ion-ios-beaker-outline:before,.ion-ios-beaker:before,.ion-ios-beer-outline:before,.ion-ios-beer:before,.ion-ios-bicycle-outline:before,.ion-ios-bicycle:before,.ion-ios-bluetooth-outline:before,.ion-ios-bluetooth:before,.ion-ios-boat-outline:before,.ion-ios-boat:before,.ion-ios-body-outline:before,.ion-ios-body:before,.ion-ios-bonfire-outline:before,.ion-ios-bonfire:before,.ion-ios-book-outline:before,.ion-ios-book:before,.ion-ios-bookmark-outline:before,.ion-ios-bookmark:before,.ion-ios-bookmarks-outline:before,.ion-ios-bookmarks:before,.ion-ios-bowtie-outline:before,.ion-ios-bowtie:before,.ion-ios-briefcase-outline:before,.ion-ios-briefcase:before,.ion-ios-browsers-outline:before,.ion-ios-browsers:before,.ion-ios-brush-outline:before,.ion-ios-brush:before,.ion-ios-bug-outline:before,.ion-ios-bug:before,.ion-ios-build-outline:before,.ion-ios-build:before,.ion-ios-bulb-outline:before,.ion-ios-bulb:before,.ion-ios-bus-outline:before,.ion-ios-bus:before,.ion-ios-cafe-outline:before,.ion-ios-cafe:before,.ion-ios-calculator-outline:before,.ion-ios-calculator:before,.ion-ios-calendar-outline:before,.ion-ios-calendar:before,.ion-ios-call-outline:before,.ion-ios-call:before,.ion-ios-camera-outline:before,.ion-ios-camera:before,.ion-ios-car-outline:before,.ion-ios-car:before,.ion-ios-card-outline:before,.ion-ios-card:before,.ion-ios-cart-outline:before,.ion-ios-cart:before,.ion-ios-cash-outline:before,.ion-ios-cash:before,.ion-ios-chatboxes-outline:before,.ion-ios-chatboxes:before,.ion-ios-chatbubbles-outline:before,.ion-ios-chatbubbles:before,.ion-ios-checkbox-outline:before,.ion-ios-checkbox:before,.ion-ios-checkmark-circle-outline:before,.ion-ios-checkmark-circle:before,.ion-ios-checkmark-outline:before,.ion-ios-checkmark:before,.ion-ios-clipboard-outline:before,.ion-ios-clipboard:before,.ion-ios-clock-outline:before,.ion-ios-clock:before,.ion-ios-close-circle-outline:before,.ion-ios-close-circle:before,.ion-ios-close-outline:before,.ion-ios-close:before,.ion-ios-closed-captioning-outline:before,.ion-ios-closed-captioning:before,.ion-ios-cloud-circle-outline:before,.ion-ios-cloud-circle:before,.ion-ios-cloud-done-outline:before,.ion-ios-cloud-done:before,.ion-ios-cloud-download-outline:before,.ion-ios-cloud-download:before,.ion-ios-cloud-outline:before,.ion-ios-cloud-upload-outline:before,.ion-ios-cloud-upload:before,.ion-ios-cloud:before,.ion-ios-cloudy-night-outline:before,.ion-ios-cloudy-night:before,.ion-ios-cloudy-outline:before,.ion-ios-cloudy:before,.ion-ios-code-download-outline:before,.ion-ios-code-download:before,.ion-ios-code-outline:before,.ion-ios-code-working-outline:before,.ion-ios-code-working:before,.ion-ios-code:before,.ion-ios-cog-outline:before,.ion-ios-cog:before,.ion-ios-color-fill-outline:before,.ion-ios-color-fill:before,.ion-ios-color-filter-outline:before,.ion-ios-color-filter:before,.ion-ios-color-palette-outline:before,.ion-ios-color-palette:before,.ion-ios-color-wand-outline:before,.ion-ios-color-wand:before,.ion-ios-compass-outline:before,.ion-ios-compass:before,.ion-ios-construct-outline:before,.ion-ios-construct:before,.ion-ios-contact-outline:before,.ion-ios-contact:before,.ion-ios-contacts-outline:before,.ion-ios-contacts:before,.ion-ios-contract-outline:before,.ion-ios-contract:before,.ion-ios-contrast-outline:before,.ion-ios-contrast:before,.ion-ios-copy-outline:before,.ion-ios-copy:before,.ion-ios-create-outline:before,.ion-ios-create:before,.ion-ios-crop-outline:before,.ion-ios-crop:before,.ion-ios-cube-outline:before,.ion-ios-cube:before,.ion-ios-cut-outline:before,.ion-ios-cut:before,.ion-ios-desktop-outline:before,.ion-ios-desktop:before,.ion-ios-disc-outline:before,.ion-ios-disc:before,.ion-ios-document-outline:before,.ion-ios-document:before,.ion-ios-done-all-outline:before,.ion-ios-done-all:before,.ion-ios-download-outline:before,.ion-ios-download:before,.ion-ios-easel-outline:before,.ion-ios-easel:before,.ion-ios-egg-outline:before,.ion-ios-egg:before,.ion-ios-exit-outline:before,.ion-ios-exit:before,.ion-ios-expand-outline:before,.ion-ios-expand:before,.ion-ios-eye-off-outline:before,.ion-ios-eye-off:before,.ion-ios-eye-outline:before,.ion-ios-eye:before,.ion-ios-fastforward-outline:before,.ion-ios-fastforward:before,.ion-ios-female-outline:before,.ion-ios-female:before,.ion-ios-filing-outline:before,.ion-ios-filing:before,.ion-ios-film-outline:before,.ion-ios-film:before,.ion-ios-finger-print-outline:before,.ion-ios-finger-print:before,.ion-ios-flag-outline:before,.ion-ios-flag:before,.ion-ios-flame-outline:before,.ion-ios-flame:before,.ion-ios-flash-outline:before,.ion-ios-flash:before,.ion-ios-flask-outline:before,.ion-ios-flask:before,.ion-ios-flower-outline:before,.ion-ios-flower:before,.ion-ios-folder-open-outline:before,.ion-ios-folder-open:before,.ion-ios-folder-outline:before,.ion-ios-folder:before,.ion-ios-football-outline:before,.ion-ios-football:before,.ion-ios-funnel-outline:before,.ion-ios-funnel:before,.ion-ios-game-controller-a-outline:before,.ion-ios-game-controller-a:before,.ion-ios-game-controller-b-outline:before,.ion-ios-game-controller-b:before,.ion-ios-git-branch-outline:before,.ion-ios-git-branch:before,.ion-ios-git-commit-outline:before,.ion-ios-git-commit:before,.ion-ios-git-compare-outline:before,.ion-ios-git-compare:before,.ion-ios-git-merge-outline:before,.ion-ios-git-merge:before,.ion-ios-git-network-outline:before,.ion-ios-git-network:before,.ion-ios-git-pull-request-outline:before,.ion-ios-git-pull-request:before,.ion-ios-glasses-outline:before,.ion-ios-glasses:before,.ion-ios-globe-outline:before,.ion-ios-globe:before,.ion-ios-grid-outline:before,.ion-ios-grid:before,.ion-ios-hammer-outline:before,.ion-ios-hammer:before,.ion-ios-hand-outline:before,.ion-ios-hand:before,.ion-ios-happy-outline:before,.ion-ios-happy:before,.ion-ios-headset-outline:before,.ion-ios-headset:before,.ion-ios-heart-outline:before,.ion-ios-heart:before,.ion-ios-help-buoy-outline:before,.ion-ios-help-buoy:before,.ion-ios-help-circle-outline:before,.ion-ios-help-circle:before,.ion-ios-help-outline:before,.ion-ios-help:before,.ion-ios-home-outline:before,.ion-ios-home:before,.ion-ios-ice-cream-outline:before,.ion-ios-ice-cream:before,.ion-ios-image-outline:before,.ion-ios-image:before,.ion-ios-images-outline:before,.ion-ios-images:before,.ion-ios-infinite-outline:before,.ion-ios-infinite:before,.ion-ios-information-circle-outline:before,.ion-ios-information-circle:before,.ion-ios-information-outline:before,.ion-ios-information:before,.ion-ios-ionic-outline:before,.ion-ios-ionic:before,.ion-ios-ionitron-outline:before,.ion-ios-ionitron:before,.ion-ios-jet-outline:before,.ion-ios-jet:before,.ion-ios-key-outline:before,.ion-ios-key:before,.ion-ios-keypad-outline:before,.ion-ios-keypad:before,.ion-ios-laptop-outline:before,.ion-ios-laptop:before,.ion-ios-leaf-outline:before,.ion-ios-leaf:before,.ion-ios-link-outline:before,.ion-ios-link:before,.ion-ios-list-box-outline:before,.ion-ios-list-box:before,.ion-ios-list-outline:before,.ion-ios-list:before,.ion-ios-locate-outline:before,.ion-ios-locate:before,.ion-ios-lock-outline:before,.ion-ios-lock:before,.ion-ios-log-in-outline:before,.ion-ios-log-in:before,.ion-ios-log-out-outline:before,.ion-ios-log-out:before,.ion-ios-magnet-outline:before,.ion-ios-magnet:before,.ion-ios-mail-open-outline:before,.ion-ios-mail-open:before,.ion-ios-mail-outline:before,.ion-ios-mail:before,.ion-ios-male-outline:before,.ion-ios-male:before,.ion-ios-man-outline:before,.ion-ios-man:before,.ion-ios-map-outline:before,.ion-ios-map:before,.ion-ios-medal-outline:before,.ion-ios-medal:before,.ion-ios-medical-outline:before,.ion-ios-medical:before,.ion-ios-medkit-outline:before,.ion-ios-medkit:before,.ion-ios-megaphone-outline:before,.ion-ios-megaphone:before,.ion-ios-menu-outline:before,.ion-ios-menu:before,.ion-ios-mic-off-outline:before,.ion-ios-mic-off:before,.ion-ios-mic-outline:before,.ion-ios-mic:before,.ion-ios-microphone-outline:before,.ion-ios-microphone:before,.ion-ios-moon-outline:before,.ion-ios-moon:before,.ion-ios-more-outline:before,.ion-ios-more:before,.ion-ios-move-outline:before,.ion-ios-move:before,.ion-ios-musical-note-outline:before,.ion-ios-musical-note:before,.ion-ios-musical-notes-outline:before,.ion-ios-musical-notes:before,.ion-ios-navigate-outline:before,.ion-ios-navigate:before,.ion-ios-no-smoking-outline:before,.ion-ios-no-smoking:before,.ion-ios-notifications-off-outline:before,.ion-ios-notifications-off:before,.ion-ios-notifications-outline:before,.ion-ios-notifications:before,.ion-ios-nuclear-outline:before,.ion-ios-nuclear:before,.ion-ios-nutrition-outline:before,.ion-ios-nutrition:before,.ion-ios-open-outline:before,.ion-ios-open:before,.ion-ios-options-outline:before,.ion-ios-options:before,.ion-ios-outlet-outline:before,.ion-ios-outlet:before,.ion-ios-paper-outline:before,.ion-ios-paper-plane-outline:before,.ion-ios-paper-plane:before,.ion-ios-paper:before,.ion-ios-partly-sunny-outline:before,.ion-ios-partly-sunny:before,.ion-ios-pause-outline:before,.ion-ios-pause:before,.ion-ios-paw-outline:before,.ion-ios-paw:before,.ion-ios-people-outline:before,.ion-ios-people:before,.ion-ios-person-add-outline:before,.ion-ios-person-add:before,.ion-ios-person-outline:before,.ion-ios-person:before,.ion-ios-phone-landscape-outline:before,.ion-ios-phone-landscape:before,.ion-ios-phone-portrait-outline:before,.ion-ios-phone-portrait:before,.ion-ios-photos-outline:before,.ion-ios-photos:before,.ion-ios-pie-outline:before,.ion-ios-pie:before,.ion-ios-pin-outline:before,.ion-ios-pin:before,.ion-ios-pint-outline:before,.ion-ios-pint:before,.ion-ios-pizza-outline:before,.ion-ios-pizza:before,.ion-ios-plane-outline:before,.ion-ios-plane:before,.ion-ios-planet-outline:before,.ion-ios-planet:before,.ion-ios-play-outline:before,.ion-ios-play:before,.ion-ios-podium-outline:before,.ion-ios-podium:before,.ion-ios-power-outline:before,.ion-ios-power:before,.ion-ios-pricetag-outline:before,.ion-ios-pricetag:before,.ion-ios-pricetags-outline:before,.ion-ios-pricetags:before,.ion-ios-print-outline:before,.ion-ios-print:before,.ion-ios-pulse-outline:before,.ion-ios-pulse:before,.ion-ios-qr-scanner-outline:before,.ion-ios-qr-scanner:before,.ion-ios-quote-outline:before,.ion-ios-quote:before,.ion-ios-radio-button-off-outline:before,.ion-ios-radio-button-off:before,.ion-ios-radio-button-on-outline:before,.ion-ios-radio-button-on:before,.ion-ios-radio-outline:before,.ion-ios-radio:before,.ion-ios-rainy-outline:before,.ion-ios-rainy:before,.ion-ios-recording-outline:before,.ion-ios-recording:before,.ion-ios-redo-outline:before,.ion-ios-redo:before,.ion-ios-refresh-circle-outline:before,.ion-ios-refresh-circle:before,.ion-ios-refresh-outline:before,.ion-ios-refresh:before,.ion-ios-remove-circle-outline:before,.ion-ios-remove-circle:before,.ion-ios-remove-outline:before,.ion-ios-remove:before,.ion-ios-reorder-outline:before,.ion-ios-reorder:before,.ion-ios-repeat-outline:before,.ion-ios-repeat:before,.ion-ios-resize-outline:before,.ion-ios-resize:before,.ion-ios-restaurant-outline:before,.ion-ios-restaurant:before,.ion-ios-return-left-outline:before,.ion-ios-return-left:before,.ion-ios-return-right-outline:before,.ion-ios-return-right:before,.ion-ios-reverse-camera-outline:before,.ion-ios-reverse-camera:before,.ion-ios-rewind-outline:before,.ion-ios-rewind:before,.ion-ios-ribbon-outline:before,.ion-ios-ribbon:before,.ion-ios-rose-outline:before,.ion-ios-rose:before,.ion-ios-sad-outline:before,.ion-ios-sad:before,.ion-ios-school-outline:before,.ion-ios-school:before,.ion-ios-search-outline:before,.ion-ios-search:before,.ion-ios-send-outline:before,.ion-ios-send:before,.ion-ios-settings-outline:before,.ion-ios-settings:before,.ion-ios-share-alt-outline:before,.ion-ios-share-alt:before,.ion-ios-share-outline:before,.ion-ios-share:before,.ion-ios-shirt-outline:before,.ion-ios-shirt:before,.ion-ios-shuffle-outline:before,.ion-ios-shuffle:before,.ion-ios-skip-backward-outline:before,.ion-ios-skip-backward:before,.ion-ios-skip-forward-outline:before,.ion-ios-skip-forward:before,.ion-ios-snow-outline:before,.ion-ios-snow:before,.ion-ios-speedometer-outline:before,.ion-ios-speedometer:before,.ion-ios-square-outline:before,.ion-ios-square:before,.ion-ios-star-half-outline:before,.ion-ios-star-half:before,.ion-ios-star-outline:before,.ion-ios-star:before,.ion-ios-stats-outline:before,.ion-ios-stats:before,.ion-ios-stopwatch-outline:before,.ion-ios-stopwatch:before,.ion-ios-subway-outline:before,.ion-ios-subway:before,.ion-ios-sunny-outline:before,.ion-ios-sunny:before,.ion-ios-swap-outline:before,.ion-ios-swap:before,.ion-ios-switch-outline:before,.ion-ios-switch:before,.ion-ios-sync-outline:before,.ion-ios-sync:before,.ion-ios-tablet-landscape-outline:before,.ion-ios-tablet-landscape:before,.ion-ios-tablet-portrait-outline:before,.ion-ios-tablet-portrait:before,.ion-ios-tennisball-outline:before,.ion-ios-tennisball:before,.ion-ios-text-outline:before,.ion-ios-text:before,.ion-ios-thermometer-outline:before,.ion-ios-thermometer:before,.ion-ios-thumbs-down-outline:before,.ion-ios-thumbs-down:before,.ion-ios-thumbs-up-outline:before,.ion-ios-thumbs-up:before,.ion-ios-thunderstorm-outline:before,.ion-ios-thunderstorm:before,.ion-ios-time-outline:before,.ion-ios-time:before,.ion-ios-timer-outline:before,.ion-ios-timer:before,.ion-ios-train-outline:before,.ion-ios-train:before,.ion-ios-transgender-outline:before,.ion-ios-transgender:before,.ion-ios-trash-outline:before,.ion-ios-trash:before,.ion-ios-trending-down-outline:before,.ion-ios-trending-down:before,.ion-ios-trending-up-outline:before,.ion-ios-trending-up:before,.ion-ios-trophy-outline:before,.ion-ios-trophy:before,.ion-ios-umbrella-outline:before,.ion-ios-umbrella:before,.ion-ios-undo-outline:before,.ion-ios-undo:before,.ion-ios-unlock-outline:before,.ion-ios-unlock:before,.ion-ios-videocam-outline:before,.ion-ios-videocam:before,.ion-ios-volume-down-outline:before,.ion-ios-volume-down:before,.ion-ios-volume-mute-outline:before,.ion-ios-volume-mute:before,.ion-ios-volume-off-outline:before,.ion-ios-volume-off:before,.ion-ios-volume-up-outline:before,.ion-ios-volume-up:before,.ion-ios-walk-outline:before,.ion-ios-walk:before,.ion-ios-warning-outline:before,.ion-ios-warning:before,.ion-ios-watch-outline:before,.ion-ios-watch:before,.ion-ios-water-outline:before,.ion-ios-water:before,.ion-ios-wifi-outline:before,.ion-ios-wifi:before,.ion-ios-wine-outline:before,.ion-ios-wine:before,.ion-ios-woman-outline:before,.ion-ios-woman:before,.ion-logo-android:before,.ion-logo-angular:before,.ion-logo-apple:before,.ion-logo-bitcoin:before,.ion-logo-buffer:before,.ion-logo-chrome:before,.ion-logo-codepen:before,.ion-logo-css3:before,.ion-logo-designernews:before,.ion-logo-dribbble:before,.ion-logo-dropbox:before,.ion-logo-euro:before,.ion-logo-facebook:before,.ion-logo-foursquare:before,.ion-logo-freebsd-devil:before,.ion-logo-github:before,.ion-logo-google:before,.ion-logo-googleplus:before,.ion-logo-hackernews:before,.ion-logo-html5:before,.ion-logo-instagram:before,.ion-logo-javascript:before,.ion-logo-linkedin:before,.ion-logo-markdown:before,.ion-logo-nodejs:before,.ion-logo-octocat:before,.ion-logo-pinterest:before,.ion-logo-playstation:before,.ion-logo-python:before,.ion-logo-reddit:before,.ion-logo-rss:before,.ion-logo-sass:before,.ion-logo-skype:before,.ion-logo-snapchat:before,.ion-logo-steam:before,.ion-logo-tumblr:before,.ion-logo-tux:before,.ion-logo-twitch:before,.ion-logo-twitter:before,.ion-logo-usd:before,.ion-logo-vimeo:before,.ion-logo-whatsapp:before,.ion-logo-windows:before,.ion-logo-wordpress:before,.ion-logo-xbox:before,.ion-logo-yahoo:before,.ion-logo-yen:before,.ion-logo-youtube:before,.ion-md-add-circle:before,.ion-md-add:before,.ion-md-alarm:before,.ion-md-albums:before,.ion-md-alert:before,.ion-md-american-football:before,.ion-md-analytics:before,.ion-md-aperture:before,.ion-md-apps:before,.ion-md-appstore:before,.ion-md-archive:before,.ion-md-arrow-back:before,.ion-md-arrow-down:before,.ion-md-arrow-dropdown-circle:before,.ion-md-arrow-dropdown:before,.ion-md-arrow-dropleft-circle:before,.ion-md-arrow-dropleft:before,.ion-md-arrow-dropright-circle:before,.ion-md-arrow-dropright:before,.ion-md-arrow-dropup-circle:before,.ion-md-arrow-dropup:before,.ion-md-arrow-forward:before,.ion-md-arrow-round-back:before,.ion-md-arrow-round-down:before,.ion-md-arrow-round-forward:before,.ion-md-arrow-round-up:before,.ion-md-arrow-up:before,.ion-md-at:before,.ion-md-attach:before,.ion-md-backspace:before,.ion-md-barcode:before,.ion-md-baseball:before,.ion-md-basket:before,.ion-md-basketball:before,.ion-md-battery-charging:before,.ion-md-battery-dead:before,.ion-md-battery-full:before,.ion-md-beaker:before,.ion-md-beer:before,.ion-md-bicycle:before,.ion-md-bluetooth:before,.ion-md-boat:before,.ion-md-body:before,.ion-md-bonfire:before,.ion-md-book:before,.ion-md-bookmark:before,.ion-md-bookmarks:before,.ion-md-bowtie:before,.ion-md-briefcase:before,.ion-md-browsers:before,.ion-md-brush:before,.ion-md-bug:before,.ion-md-build:before,.ion-md-bulb:before,.ion-md-bus:before,.ion-md-cafe:before,.ion-md-calculator:before,.ion-md-calendar:before,.ion-md-call:before,.ion-md-camera:before,.ion-md-car:before,.ion-md-card:before,.ion-md-cart:before,.ion-md-cash:before,.ion-md-chatboxes:before,.ion-md-chatbubbles:before,.ion-md-checkbox-outline:before,.ion-md-checkbox:before,.ion-md-checkmark-circle-outline:before,.ion-md-checkmark-circle:before,.ion-md-checkmark:before,.ion-md-clipboard:before,.ion-md-clock:before,.ion-md-close-circle:before,.ion-md-close:before,.ion-md-closed-captioning:before,.ion-md-cloud-circle:before,.ion-md-cloud-done:before,.ion-md-cloud-download:before,.ion-md-cloud-outline:before,.ion-md-cloud-upload:before,.ion-md-cloud:before,.ion-md-cloudy-night:before,.ion-md-cloudy:before,.ion-md-code-download:before,.ion-md-code-working:before,.ion-md-code:before,.ion-md-cog:before,.ion-md-color-fill:before,.ion-md-color-filter:before,.ion-md-color-palette:before,.ion-md-color-wand:before,.ion-md-compass:before,.ion-md-construct:before,.ion-md-contact:before,.ion-md-contacts:before,.ion-md-contract:before,.ion-md-contrast:before,.ion-md-copy:before,.ion-md-create:before,.ion-md-crop:before,.ion-md-cube:before,.ion-md-cut:before,.ion-md-desktop:before,.ion-md-disc:before,.ion-md-document:before,.ion-md-done-all:before,.ion-md-download:before,.ion-md-easel:before,.ion-md-egg:before,.ion-md-exit:before,.ion-md-expand:before,.ion-md-eye-off:before,.ion-md-eye:before,.ion-md-fastforward:before,.ion-md-female:before,.ion-md-filing:before,.ion-md-film:before,.ion-md-finger-print:before,.ion-md-flag:before,.ion-md-flame:before,.ion-md-flash:before,.ion-md-flask:before,.ion-md-flower:before,.ion-md-folder-open:before,.ion-md-folder:before,.ion-md-football:before,.ion-md-funnel:before,.ion-md-game-controller-a:before,.ion-md-game-controller-b:before,.ion-md-git-branch:before,.ion-md-git-commit:before,.ion-md-git-compare:before,.ion-md-git-merge:before,.ion-md-git-network:before,.ion-md-git-pull-request:before,.ion-md-glasses:before,.ion-md-globe:before,.ion-md-grid:before,.ion-md-hammer:before,.ion-md-hand:before,.ion-md-happy:before,.ion-md-headset:before,.ion-md-heart-outline:before,.ion-md-heart:before,.ion-md-help-buoy:before,.ion-md-help-circle:before,.ion-md-help:before,.ion-md-home:before,.ion-md-ice-cream:before,.ion-md-image:before,.ion-md-images:before,.ion-md-infinite:before,.ion-md-information-circle:before,.ion-md-information:before,.ion-md-ionic:before,.ion-md-ionitron:before,.ion-md-jet:before,.ion-md-key:before,.ion-md-keypad:before,.ion-md-laptop:before,.ion-md-leaf:before,.ion-md-link:before,.ion-md-list-box:before,.ion-md-list:before,.ion-md-locate:before,.ion-md-lock:before,.ion-md-log-in:before,.ion-md-log-out:before,.ion-md-magnet:before,.ion-md-mail-open:before,.ion-md-mail:before,.ion-md-male:before,.ion-md-man:before,.ion-md-map:before,.ion-md-medal:before,.ion-md-medical:before,.ion-md-medkit:before,.ion-md-megaphone:before,.ion-md-menu:before,.ion-md-mic-off:before,.ion-md-mic:before,.ion-md-microphone:before,.ion-md-moon:before,.ion-md-more:before,.ion-md-move:before,.ion-md-musical-note:before,.ion-md-musical-notes:before,.ion-md-navigate:before,.ion-md-no-smoking:before,.ion-md-notifications-off:before,.ion-md-notifications-outline:before,.ion-md-notifications:before,.ion-md-nuclear:before,.ion-md-nutrition:before,.ion-md-open:before,.ion-md-options:before,.ion-md-outlet:before,.ion-md-paper-plane:before,.ion-md-paper:before,.ion-md-partly-sunny:before,.ion-md-pause:before,.ion-md-paw:before,.ion-md-people:before,.ion-md-person-add:before,.ion-md-person:before,.ion-md-phone-landscape:before,.ion-md-phone-portrait:before,.ion-md-photos:before,.ion-md-pie:before,.ion-md-pin:before,.ion-md-pint:before,.ion-md-pizza:before,.ion-md-plane:before,.ion-md-planet:before,.ion-md-play:before,.ion-md-podium:before,.ion-md-power:before,.ion-md-pricetag:before,.ion-md-pricetags:before,.ion-md-print:before,.ion-md-pulse:before,.ion-md-qr-scanner:before,.ion-md-quote:before,.ion-md-radio-button-off:before,.ion-md-radio-button-on:before,.ion-md-radio:before,.ion-md-rainy:before,.ion-md-recording:before,.ion-md-redo:before,.ion-md-refresh-circle:before,.ion-md-refresh:before,.ion-md-remove-circle:before,.ion-md-remove:before,.ion-md-reorder:before,.ion-md-repeat:before,.ion-md-resize:before,.ion-md-restaurant:before,.ion-md-return-left:before,.ion-md-return-right:before,.ion-md-reverse-camera:before,.ion-md-rewind:before,.ion-md-ribbon:before,.ion-md-rose:before,.ion-md-sad:before,.ion-md-school:before,.ion-md-search:before,.ion-md-send:before,.ion-md-settings:before,.ion-md-share-alt:before,.ion-md-share:before,.ion-md-shirt:before,.ion-md-shuffle:before,.ion-md-skip-backward:before,.ion-md-skip-forward:before,.ion-md-snow:before,.ion-md-speedometer:before,.ion-md-square-outline:before,.ion-md-square:before,.ion-md-star-half:before,.ion-md-star-outline:before,.ion-md-star:before,.ion-md-stats:before,.ion-md-stopwatch:before,.ion-md-subway:before,.ion-md-sunny:before,.ion-md-swap:before,.ion-md-switch:before,.ion-md-sync:before,.ion-md-tablet-landscape:before,.ion-md-tablet-portrait:before,.ion-md-tennisball:before,.ion-md-text:before,.ion-md-thermometer:before,.ion-md-thumbs-down:before,.ion-md-thumbs-up:before,.ion-md-thunderstorm:before,.ion-md-time:before,.ion-md-timer:before,.ion-md-train:before,.ion-md-transgender:before,.ion-md-trash:before,.ion-md-trending-down:before,.ion-md-trending-up:before,.ion-md-trophy:before,.ion-md-umbrella:before,.ion-md-undo:before,.ion-md-unlock:before,.ion-md-videocam:before,.ion-md-volume-down:before,.ion-md-volume-mute:before,.ion-md-volume-off:before,.ion-md-volume-up:before,.ion-md-walk:before,.ion-md-warning:before,.ion-md-watch:before,.ion-md-water:before,.ion-md-wifi:before,.ion-md-wine:before,.ion-md-woman:before,.ionicons{display:inline-block;font-family:Ionicons;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;text-rendering:auto;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.ion-ios-add:before{content:\\\"\\\\F102\\\"}.ion-ios-add-circle:before{content:\\\"\\\\F101\\\"}.ion-ios-add-circle-outline:before{content:\\\"\\\\F100\\\"}.ion-ios-add-outline:before{content:\\\"\\\\F102\\\"}.ion-ios-alarm:before{content:\\\"\\\\F3C8\\\"}.ion-ios-alarm-outline:before{content:\\\"\\\\F3C7\\\"}.ion-ios-albums:before{content:\\\"\\\\F3CA\\\"}.ion-ios-albums-outline:before{content:\\\"\\\\F3C9\\\"}.ion-ios-alert:before{content:\\\"\\\\F104\\\"}.ion-ios-alert-outline:before{content:\\\"\\\\F103\\\"}.ion-ios-american-football:before{content:\\\"\\\\F106\\\"}.ion-ios-american-football-outline:before{content:\\\"\\\\F105\\\"}.ion-ios-analytics:before{content:\\\"\\\\F3CE\\\"}.ion-ios-analytics-outline:before{content:\\\"\\\\F3CD\\\"}.ion-ios-aperture:before{content:\\\"\\\\F108\\\"}.ion-ios-aperture-outline:before{content:\\\"\\\\F107\\\"}.ion-ios-apps:before{content:\\\"\\\\F10A\\\"}.ion-ios-apps-outline:before{content:\\\"\\\\F109\\\"}.ion-ios-appstore:before{content:\\\"\\\\F10C\\\"}.ion-ios-appstore-outline:before{content:\\\"\\\\F10B\\\"}.ion-ios-archive:before{content:\\\"\\\\F10E\\\"}.ion-ios-archive-outline:before{content:\\\"\\\\F10D\\\"}.ion-ios-arrow-back-outline:before,.ion-ios-arrow-back:before{content:\\\"\\\\F3CF\\\"}.ion-ios-arrow-down-outline:before,.ion-ios-arrow-down:before{content:\\\"\\\\F3D0\\\"}.ion-ios-arrow-dropdown:before{content:\\\"\\\\F110\\\"}.ion-ios-arrow-dropdown-circle-outline:before,.ion-ios-arrow-dropdown-circle:before{content:\\\"\\\\F10F\\\"}.ion-ios-arrow-dropdown-outline:before{content:\\\"\\\\F110\\\"}.ion-ios-arrow-dropleft:before{content:\\\"\\\\F112\\\"}.ion-ios-arrow-dropleft-circle-outline:before,.ion-ios-arrow-dropleft-circle:before{content:\\\"\\\\F111\\\"}.ion-ios-arrow-dropleft-outline:before{content:\\\"\\\\F112\\\"}.ion-ios-arrow-dropright:before{content:\\\"\\\\F114\\\"}.ion-ios-arrow-dropright-circle-outline:before,.ion-ios-arrow-dropright-circle:before{content:\\\"\\\\F113\\\"}.ion-ios-arrow-dropright-outline:before{content:\\\"\\\\F114\\\"}.ion-ios-arrow-dropup:before{content:\\\"\\\\F116\\\"}.ion-ios-arrow-dropup-circle-outline:before,.ion-ios-arrow-dropup-circle:before{content:\\\"\\\\F115\\\"}.ion-ios-arrow-dropup-outline:before{content:\\\"\\\\F116\\\"}.ion-ios-arrow-forward-outline:before,.ion-ios-arrow-forward:before{content:\\\"\\\\F3D1\\\"}.ion-ios-arrow-round-back-outline:before,.ion-ios-arrow-round-back:before{content:\\\"\\\\F117\\\"}.ion-ios-arrow-round-down-outline:before,.ion-ios-arrow-round-down:before{content:\\\"\\\\F118\\\"}.ion-ios-arrow-round-forward-outline:before,.ion-ios-arrow-round-forward:before{content:\\\"\\\\F119\\\"}.ion-ios-arrow-round-up-outline:before,.ion-ios-arrow-round-up:before{content:\\\"\\\\F11A\\\"}.ion-ios-arrow-up-outline:before,.ion-ios-arrow-up:before{content:\\\"\\\\F3D8\\\"}.ion-ios-at:before{content:\\\"\\\\F3DA\\\"}.ion-ios-at-outline:before{content:\\\"\\\\F3D9\\\"}.ion-ios-attach-outline:before,.ion-ios-attach:before{content:\\\"\\\\F11B\\\"}.ion-ios-backspace:before{content:\\\"\\\\F11D\\\"}.ion-ios-backspace-outline:before{content:\\\"\\\\F11C\\\"}.ion-ios-barcode:before{content:\\\"\\\\F3DC\\\"}.ion-ios-barcode-outline:before{content:\\\"\\\\F3DB\\\"}.ion-ios-baseball:before{content:\\\"\\\\F3DE\\\"}.ion-ios-baseball-outline:before{content:\\\"\\\\F3DD\\\"}.ion-ios-basket:before{content:\\\"\\\\F11F\\\"}.ion-ios-basket-outline:before{content:\\\"\\\\F11E\\\"}.ion-ios-basketball:before{content:\\\"\\\\F3E0\\\"}.ion-ios-basketball-outline:before{content:\\\"\\\\F3DF\\\"}.ion-ios-battery-charging-outline:before,.ion-ios-battery-charging:before{content:\\\"\\\\F120\\\"}.ion-ios-battery-dead-outline:before,.ion-ios-battery-dead:before{content:\\\"\\\\F121\\\"}.ion-ios-battery-full-outline:before,.ion-ios-battery-full:before{content:\\\"\\\\F122\\\"}.ion-ios-beaker:before{content:\\\"\\\\F124\\\"}.ion-ios-beaker-outline:before{content:\\\"\\\\F123\\\"}.ion-ios-beer:before{content:\\\"\\\\F126\\\"}.ion-ios-beer-outline:before{content:\\\"\\\\F125\\\"}.ion-ios-bicycle-outline:before,.ion-ios-bicycle:before{content:\\\"\\\\F127\\\"}.ion-ios-bluetooth-outline:before,.ion-ios-bluetooth:before{content:\\\"\\\\F128\\\"}.ion-ios-boat:before{content:\\\"\\\\F12A\\\"}.ion-ios-boat-outline:before{content:\\\"\\\\F129\\\"}.ion-ios-body:before{content:\\\"\\\\F3E4\\\"}.ion-ios-body-outline:before{content:\\\"\\\\F3E3\\\"}.ion-ios-bonfire:before{content:\\\"\\\\F12C\\\"}.ion-ios-bonfire-outline:before{content:\\\"\\\\F12B\\\"}.ion-ios-book:before{content:\\\"\\\\F3E8\\\"}.ion-ios-book-outline:before{content:\\\"\\\\F3E7\\\"}.ion-ios-bookmark:before{content:\\\"\\\\F12E\\\"}.ion-ios-bookmark-outline:before{content:\\\"\\\\F12D\\\"}.ion-ios-bookmarks:before{content:\\\"\\\\F3EA\\\"}.ion-ios-bookmarks-outline:before{content:\\\"\\\\F3E9\\\"}.ion-ios-bowtie:before{content:\\\"\\\\F130\\\"}.ion-ios-bowtie-outline:before{content:\\\"\\\\F12F\\\"}.ion-ios-briefcase:before{content:\\\"\\\\F3EE\\\"}.ion-ios-briefcase-outline:before{content:\\\"\\\\F3ED\\\"}.ion-ios-browsers:before{content:\\\"\\\\F3F0\\\"}.ion-ios-browsers-outline:before{content:\\\"\\\\F3EF\\\"}.ion-ios-brush:before{content:\\\"\\\\F132\\\"}.ion-ios-brush-outline:before{content:\\\"\\\\F131\\\"}.ion-ios-bug:before{content:\\\"\\\\F134\\\"}.ion-ios-bug-outline:before{content:\\\"\\\\F133\\\"}.ion-ios-build:before{content:\\\"\\\\F136\\\"}.ion-ios-build-outline:before{content:\\\"\\\\F135\\\"}.ion-ios-bulb:before{content:\\\"\\\\F138\\\"}.ion-ios-bulb-outline:before{content:\\\"\\\\F137\\\"}.ion-ios-bus:before{content:\\\"\\\\F13A\\\"}.ion-ios-bus-outline:before{content:\\\"\\\\F139\\\"}.ion-ios-cafe:before{content:\\\"\\\\F13C\\\"}.ion-ios-cafe-outline:before{content:\\\"\\\\F13B\\\"}.ion-ios-calculator:before{content:\\\"\\\\F3F2\\\"}.ion-ios-calculator-outline:before{content:\\\"\\\\F3F1\\\"}.ion-ios-calendar:before{content:\\\"\\\\F3F4\\\"}.ion-ios-calendar-outline:before{content:\\\"\\\\F3F3\\\"}.ion-ios-call:before{content:\\\"\\\\F13E\\\"}.ion-ios-call-outline:before{content:\\\"\\\\F13D\\\"}.ion-ios-camera:before{content:\\\"\\\\F3F6\\\"}.ion-ios-camera-outline:before{content:\\\"\\\\F3F5\\\"}.ion-ios-car:before{content:\\\"\\\\F140\\\"}.ion-ios-car-outline:before{content:\\\"\\\\F13F\\\"}.ion-ios-card:before{content:\\\"\\\\F142\\\"}.ion-ios-card-outline:before{content:\\\"\\\\F141\\\"}.ion-ios-cart:before{content:\\\"\\\\F3F8\\\"}.ion-ios-cart-outline:before{content:\\\"\\\\F3F7\\\"}.ion-ios-cash:before{content:\\\"\\\\F144\\\"}.ion-ios-cash-outline:before{content:\\\"\\\\F143\\\"}.ion-ios-chatboxes:before{content:\\\"\\\\F3FA\\\"}.ion-ios-chatboxes-outline:before{content:\\\"\\\\F3F9\\\"}.ion-ios-chatbubbles:before{content:\\\"\\\\F146\\\"}.ion-ios-chatbubbles-outline:before{content:\\\"\\\\F145\\\"}.ion-ios-checkbox:before{content:\\\"\\\\F148\\\"}.ion-ios-checkbox-outline:before{content:\\\"\\\\F147\\\"}.ion-ios-checkmark:before{content:\\\"\\\\F3FF\\\"}.ion-ios-checkmark-circle:before{content:\\\"\\\\F14A\\\"}.ion-ios-checkmark-circle-outline:before{content:\\\"\\\\F149\\\"}.ion-ios-checkmark-outline:before{content:\\\"\\\\F3FF\\\"}.ion-ios-clipboard:before{content:\\\"\\\\F14C\\\"}.ion-ios-clipboard-outline:before{content:\\\"\\\\F14B\\\"}.ion-ios-clock:before{content:\\\"\\\\F403\\\"}.ion-ios-clock-outline:before{content:\\\"\\\\F402\\\"}.ion-ios-close:before{content:\\\"\\\\F406\\\"}.ion-ios-close-circle:before{content:\\\"\\\\F14E\\\"}.ion-ios-close-circle-outline:before{content:\\\"\\\\F14D\\\"}.ion-ios-close-outline:before{content:\\\"\\\\F406\\\"}.ion-ios-closed-captioning:before{content:\\\"\\\\F150\\\"}.ion-ios-closed-captioning-outline:before{content:\\\"\\\\F14F\\\"}.ion-ios-cloud:before{content:\\\"\\\\F40C\\\"}.ion-ios-cloud-circle:before{content:\\\"\\\\F152\\\"}.ion-ios-cloud-circle-outline:before{content:\\\"\\\\F151\\\"}.ion-ios-cloud-done:before{content:\\\"\\\\F154\\\"}.ion-ios-cloud-done-outline:before{content:\\\"\\\\F153\\\"}.ion-ios-cloud-download:before{content:\\\"\\\\F408\\\"}.ion-ios-cloud-download-outline:before{content:\\\"\\\\F407\\\"}.ion-ios-cloud-outline:before{content:\\\"\\\\F409\\\"}.ion-ios-cloud-upload:before{content:\\\"\\\\F40B\\\"}.ion-ios-cloud-upload-outline:before{content:\\\"\\\\F40A\\\"}.ion-ios-cloudy:before{content:\\\"\\\\F410\\\"}.ion-ios-cloudy-night:before{content:\\\"\\\\F40E\\\"}.ion-ios-cloudy-night-outline:before{content:\\\"\\\\F40D\\\"}.ion-ios-cloudy-outline:before{content:\\\"\\\\F40F\\\"}.ion-ios-code:before{content:\\\"\\\\F157\\\"}.ion-ios-code-download-outline:before,.ion-ios-code-download:before{content:\\\"\\\\F155\\\"}.ion-ios-code-outline:before{content:\\\"\\\\F157\\\"}.ion-ios-code-working-outline:before,.ion-ios-code-working:before{content:\\\"\\\\F156\\\"}.ion-ios-cog:before{content:\\\"\\\\F412\\\"}.ion-ios-cog-outline:before{content:\\\"\\\\F411\\\"}.ion-ios-color-fill:before{content:\\\"\\\\F159\\\"}.ion-ios-color-fill-outline:before{content:\\\"\\\\F158\\\"}.ion-ios-color-filter:before{content:\\\"\\\\F414\\\"}.ion-ios-color-filter-outline:before{content:\\\"\\\\F413\\\"}.ion-ios-color-palette:before{content:\\\"\\\\F15B\\\"}.ion-ios-color-palette-outline:before{content:\\\"\\\\F15A\\\"}.ion-ios-color-wand:before{content:\\\"\\\\F416\\\"}.ion-ios-color-wand-outline:before{content:\\\"\\\\F415\\\"}.ion-ios-compass:before{content:\\\"\\\\F15D\\\"}.ion-ios-compass-outline:before{content:\\\"\\\\F15C\\\"}.ion-ios-construct:before{content:\\\"\\\\F15F\\\"}.ion-ios-construct-outline:before{content:\\\"\\\\F15E\\\"}.ion-ios-contact:before{content:\\\"\\\\F41A\\\"}.ion-ios-contact-outline:before{content:\\\"\\\\F419\\\"}.ion-ios-contacts:before{content:\\\"\\\\F161\\\"}.ion-ios-contacts-outline:before{content:\\\"\\\\F160\\\"}.ion-ios-contract-outline:before,.ion-ios-contract:before{content:\\\"\\\\F162\\\"}.ion-ios-contrast-outline:before,.ion-ios-contrast:before{content:\\\"\\\\F163\\\"}.ion-ios-copy:before{content:\\\"\\\\F41C\\\"}.ion-ios-copy-outline:before{content:\\\"\\\\F41B\\\"}.ion-ios-create:before{content:\\\"\\\\F165\\\"}.ion-ios-create-outline:before{content:\\\"\\\\F164\\\"}.ion-ios-crop:before{content:\\\"\\\\F41E\\\"}.ion-ios-crop-outline:before{content:\\\"\\\\F166\\\"}.ion-ios-cube:before{content:\\\"\\\\F168\\\"}.ion-ios-cube-outline:before{content:\\\"\\\\F167\\\"}.ion-ios-cut:before{content:\\\"\\\\F16A\\\"}.ion-ios-cut-outline:before{content:\\\"\\\\F169\\\"}.ion-ios-desktop:before{content:\\\"\\\\F16C\\\"}.ion-ios-desktop-outline:before{content:\\\"\\\\F16B\\\"}.ion-ios-disc:before{content:\\\"\\\\F16E\\\"}.ion-ios-disc-outline:before{content:\\\"\\\\F16D\\\"}.ion-ios-document:before{content:\\\"\\\\F170\\\"}.ion-ios-document-outline:before{content:\\\"\\\\F16F\\\"}.ion-ios-done-all-outline:before,.ion-ios-done-all:before{content:\\\"\\\\F171\\\"}.ion-ios-download:before{content:\\\"\\\\F420\\\"}.ion-ios-download-outline:before{content:\\\"\\\\F41F\\\"}.ion-ios-easel:before{content:\\\"\\\\F173\\\"}.ion-ios-easel-outline:before{content:\\\"\\\\F172\\\"}.ion-ios-egg:before{content:\\\"\\\\F175\\\"}.ion-ios-egg-outline:before{content:\\\"\\\\F174\\\"}.ion-ios-exit:before{content:\\\"\\\\F177\\\"}.ion-ios-exit-outline:before{content:\\\"\\\\F176\\\"}.ion-ios-expand-outline:before,.ion-ios-expand:before{content:\\\"\\\\F178\\\"}.ion-ios-eye:before{content:\\\"\\\\F425\\\"}.ion-ios-eye-off:before{content:\\\"\\\\F17A\\\"}.ion-ios-eye-off-outline:before{content:\\\"\\\\F179\\\"}.ion-ios-eye-outline:before{content:\\\"\\\\F424\\\"}.ion-ios-fastforward:before{content:\\\"\\\\F427\\\"}.ion-ios-fastforward-outline:before{content:\\\"\\\\F426\\\"}.ion-ios-female-outline:before,.ion-ios-female:before{content:\\\"\\\\F17B\\\"}.ion-ios-filing:before{content:\\\"\\\\F429\\\"}.ion-ios-filing-outline:before{content:\\\"\\\\F428\\\"}.ion-ios-film:before{content:\\\"\\\\F42B\\\"}.ion-ios-film-outline:before{content:\\\"\\\\F42A\\\"}.ion-ios-finger-print-outline:before,.ion-ios-finger-print:before{content:\\\"\\\\F17C\\\"}.ion-ios-flag:before{content:\\\"\\\\F42D\\\"}.ion-ios-flag-outline:before{content:\\\"\\\\F42C\\\"}.ion-ios-flame:before{content:\\\"\\\\F42F\\\"}.ion-ios-flame-outline:before{content:\\\"\\\\F42E\\\"}.ion-ios-flash:before{content:\\\"\\\\F17E\\\"}.ion-ios-flash-outline:before{content:\\\"\\\\F17D\\\"}.ion-ios-flask:before{content:\\\"\\\\F431\\\"}.ion-ios-flask-outline:before{content:\\\"\\\\F430\\\"}.ion-ios-flower:before{content:\\\"\\\\F433\\\"}.ion-ios-flower-outline:before{content:\\\"\\\\F432\\\"}.ion-ios-folder:before{content:\\\"\\\\F435\\\"}.ion-ios-folder-open:before{content:\\\"\\\\F180\\\"}.ion-ios-folder-open-outline:before{content:\\\"\\\\F17F\\\"}.ion-ios-folder-outline:before{content:\\\"\\\\F434\\\"}.ion-ios-football:before{content:\\\"\\\\F437\\\"}.ion-ios-football-outline:before{content:\\\"\\\\F436\\\"}.ion-ios-funnel:before{content:\\\"\\\\F182\\\"}.ion-ios-funnel-outline:before{content:\\\"\\\\F181\\\"}.ion-ios-game-controller-a:before{content:\\\"\\\\F439\\\"}.ion-ios-game-controller-a-outline:before{content:\\\"\\\\F438\\\"}.ion-ios-game-controller-b:before{content:\\\"\\\\F43B\\\"}.ion-ios-game-controller-b-outline:before{content:\\\"\\\\F43A\\\"}.ion-ios-git-branch-outline:before,.ion-ios-git-branch:before{content:\\\"\\\\F183\\\"}.ion-ios-git-commit-outline:before,.ion-ios-git-commit:before{content:\\\"\\\\F184\\\"}.ion-ios-git-compare-outline:before,.ion-ios-git-compare:before{content:\\\"\\\\F185\\\"}.ion-ios-git-merge-outline:before,.ion-ios-git-merge:before{content:\\\"\\\\F186\\\"}.ion-ios-git-network-outline:before,.ion-ios-git-network:before{content:\\\"\\\\F187\\\"}.ion-ios-git-pull-request-outline:before,.ion-ios-git-pull-request:before{content:\\\"\\\\F188\\\"}.ion-ios-glasses:before{content:\\\"\\\\F43F\\\"}.ion-ios-glasses-outline:before{content:\\\"\\\\F43E\\\"}.ion-ios-globe:before{content:\\\"\\\\F18A\\\"}.ion-ios-globe-outline:before{content:\\\"\\\\F189\\\"}.ion-ios-grid:before{content:\\\"\\\\F18C\\\"}.ion-ios-grid-outline:before{content:\\\"\\\\F18B\\\"}.ion-ios-hammer:before{content:\\\"\\\\F18E\\\"}.ion-ios-hammer-outline:before{content:\\\"\\\\F18D\\\"}.ion-ios-hand:before{content:\\\"\\\\F190\\\"}.ion-ios-hand-outline:before{content:\\\"\\\\F18F\\\"}.ion-ios-happy:before{content:\\\"\\\\F192\\\"}.ion-ios-happy-outline:before{content:\\\"\\\\F191\\\"}.ion-ios-headset:before{content:\\\"\\\\F194\\\"}.ion-ios-headset-outline:before{content:\\\"\\\\F193\\\"}.ion-ios-heart:before{content:\\\"\\\\F443\\\"}.ion-ios-heart-outline:before{content:\\\"\\\\F442\\\"}.ion-ios-help:before{content:\\\"\\\\F446\\\"}.ion-ios-help-buoy:before{content:\\\"\\\\F196\\\"}.ion-ios-help-buoy-outline:before{content:\\\"\\\\F195\\\"}.ion-ios-help-circle:before{content:\\\"\\\\F198\\\"}.ion-ios-help-circle-outline:before{content:\\\"\\\\F197\\\"}.ion-ios-help-outline:before{content:\\\"\\\\F446\\\"}.ion-ios-home:before{content:\\\"\\\\F448\\\"}.ion-ios-home-outline:before{content:\\\"\\\\F447\\\"}.ion-ios-ice-cream:before{content:\\\"\\\\F19A\\\"}.ion-ios-ice-cream-outline:before{content:\\\"\\\\F199\\\"}.ion-ios-image:before{content:\\\"\\\\F19C\\\"}.ion-ios-image-outline:before{content:\\\"\\\\F19B\\\"}.ion-ios-images:before{content:\\\"\\\\F19E\\\"}.ion-ios-images-outline:before{content:\\\"\\\\F19D\\\"}.ion-ios-infinite:before{content:\\\"\\\\F44A\\\"}.ion-ios-infinite-outline:before{content:\\\"\\\\F449\\\"}.ion-ios-information:before{content:\\\"\\\\F44D\\\"}.ion-ios-information-circle:before{content:\\\"\\\\F1A0\\\"}.ion-ios-information-circle-outline:before{content:\\\"\\\\F19F\\\"}.ion-ios-information-outline:before{content:\\\"\\\\F44D\\\"}.ion-ios-ionic:before{content:\\\"\\\\F1A1\\\"}.ion-ios-ionic-outline:before{content:\\\"\\\\F44E\\\"}.ion-ios-ionitron:before{content:\\\"\\\\F1A3\\\"}.ion-ios-ionitron-outline:before{content:\\\"\\\\F1A2\\\"}.ion-ios-jet:before{content:\\\"\\\\F1A5\\\"}.ion-ios-jet-outline:before{content:\\\"\\\\F1A4\\\"}.ion-ios-key:before{content:\\\"\\\\F1A7\\\"}.ion-ios-key-outline:before{content:\\\"\\\\F1A6\\\"}.ion-ios-keypad:before{content:\\\"\\\\F450\\\"}.ion-ios-keypad-outline:before{content:\\\"\\\\F44F\\\"}.ion-ios-laptop-outline:before,.ion-ios-laptop:before{content:\\\"\\\\F1A8\\\"}.ion-ios-leaf:before{content:\\\"\\\\F1AA\\\"}.ion-ios-leaf-outline:before{content:\\\"\\\\F1A9\\\"}.ion-ios-link:before{content:\\\"\\\\F22A\\\"}.ion-ios-link-outline:before{content:\\\"\\\\F1CA\\\"}.ion-ios-list:before{content:\\\"\\\\F454\\\"}.ion-ios-list-box:before{content:\\\"\\\\F1AC\\\"}.ion-ios-list-box-outline:before{content:\\\"\\\\F1AB\\\"}.ion-ios-list-outline:before{content:\\\"\\\\F454\\\"}.ion-ios-locate:before{content:\\\"\\\\F1AE\\\"}.ion-ios-locate-outline:before{content:\\\"\\\\F1AD\\\"}.ion-ios-lock:before{content:\\\"\\\\F1B0\\\"}.ion-ios-lock-outline:before{content:\\\"\\\\F1AF\\\"}.ion-ios-log-in-outline:before,.ion-ios-log-in:before{content:\\\"\\\\F1B1\\\"}.ion-ios-log-out-outline:before,.ion-ios-log-out:before{content:\\\"\\\\F1B2\\\"}.ion-ios-magnet:before{content:\\\"\\\\F1B4\\\"}.ion-ios-magnet-outline:before{content:\\\"\\\\F1B3\\\"}.ion-ios-mail:before{content:\\\"\\\\F1B8\\\"}.ion-ios-mail-open:before{content:\\\"\\\\F1B6\\\"}.ion-ios-mail-open-outline:before{content:\\\"\\\\F1B5\\\"}.ion-ios-mail-outline:before{content:\\\"\\\\F1B7\\\"}.ion-ios-male-outline:before,.ion-ios-male:before{content:\\\"\\\\F1B9\\\"}.ion-ios-man:before{content:\\\"\\\\F1BB\\\"}.ion-ios-man-outline:before{content:\\\"\\\\F1BA\\\"}.ion-ios-map:before{content:\\\"\\\\F1BD\\\"}.ion-ios-map-outline:before{content:\\\"\\\\F1BC\\\"}.ion-ios-medal:before{content:\\\"\\\\F1BF\\\"}.ion-ios-medal-outline:before{content:\\\"\\\\F1BE\\\"}.ion-ios-medical:before{content:\\\"\\\\F45C\\\"}.ion-ios-medical-outline:before{content:\\\"\\\\F45B\\\"}.ion-ios-medkit:before{content:\\\"\\\\F45E\\\"}.ion-ios-medkit-outline:before{content:\\\"\\\\F45D\\\"}.ion-ios-megaphone:before{content:\\\"\\\\F1C1\\\"}.ion-ios-megaphone-outline:before{content:\\\"\\\\F1C0\\\"}.ion-ios-menu:before{content:\\\"\\\\F1C3\\\"}.ion-ios-menu-outline:before{content:\\\"\\\\F1C2\\\"}.ion-ios-mic:before{content:\\\"\\\\F461\\\"}.ion-ios-mic-off:before{content:\\\"\\\\F45F\\\"}.ion-ios-mic-off-outline:before{content:\\\"\\\\F1C4\\\"}.ion-ios-mic-outline:before{content:\\\"\\\\F460\\\"}.ion-ios-microphone:before{content:\\\"\\\\F1C6\\\"}.ion-ios-microphone-outline:before{content:\\\"\\\\F1C5\\\"}.ion-ios-moon:before{content:\\\"\\\\F468\\\"}.ion-ios-moon-outline:before{content:\\\"\\\\F467\\\"}.ion-ios-more:before{content:\\\"\\\\F1C8\\\"}.ion-ios-more-outline:before{content:\\\"\\\\F1C7\\\"}.ion-ios-move-outline:before,.ion-ios-move:before{content:\\\"\\\\F1CB\\\"}.ion-ios-musical-note:before{content:\\\"\\\\F46B\\\"}.ion-ios-musical-note-outline:before{content:\\\"\\\\F1CC\\\"}.ion-ios-musical-notes:before{content:\\\"\\\\F46C\\\"}.ion-ios-musical-notes-outline:before{content:\\\"\\\\F1CD\\\"}.ion-ios-navigate:before{content:\\\"\\\\F46E\\\"}.ion-ios-navigate-outline:before{content:\\\"\\\\F46D\\\"}.ion-ios-no-smoking:before{content:\\\"\\\\F1CF\\\"}.ion-ios-no-smoking-outline:before{content:\\\"\\\\F1CE\\\"}.ion-ios-notifications:before{content:\\\"\\\\F1D3\\\"}.ion-ios-notifications-off:before{content:\\\"\\\\F1D1\\\"}.ion-ios-notifications-off-outline:before{content:\\\"\\\\F1D0\\\"}.ion-ios-notifications-outline:before{content:\\\"\\\\F1D2\\\"}.ion-ios-nuclear:before{content:\\\"\\\\F1D5\\\"}.ion-ios-nuclear-outline:before{content:\\\"\\\\F1D4\\\"}.ion-ios-nutrition:before{content:\\\"\\\\F470\\\"}.ion-ios-nutrition-outline:before{content:\\\"\\\\F46F\\\"}.ion-ios-open:before{content:\\\"\\\\F1D7\\\"}.ion-ios-open-outline:before{content:\\\"\\\\F1D6\\\"}.ion-ios-options:before{content:\\\"\\\\F1D9\\\"}.ion-ios-options-outline:before{content:\\\"\\\\F1D8\\\"}.ion-ios-outlet:before{content:\\\"\\\\F1DB\\\"}.ion-ios-outlet-outline:before{content:\\\"\\\\F1DA\\\"}.ion-ios-paper:before{content:\\\"\\\\F472\\\"}.ion-ios-paper-outline:before{content:\\\"\\\\F471\\\"}.ion-ios-paper-plane:before{content:\\\"\\\\F1DD\\\"}.ion-ios-paper-plane-outline:before{content:\\\"\\\\F1DC\\\"}.ion-ios-partly-sunny:before{content:\\\"\\\\F1DF\\\"}.ion-ios-partly-sunny-outline:before{content:\\\"\\\\F1DE\\\"}.ion-ios-pause:before{content:\\\"\\\\F478\\\"}.ion-ios-pause-outline:before{content:\\\"\\\\F477\\\"}.ion-ios-paw:before{content:\\\"\\\\F47A\\\"}.ion-ios-paw-outline:before{content:\\\"\\\\F479\\\"}.ion-ios-people:before{content:\\\"\\\\F47C\\\"}.ion-ios-people-outline:before{content:\\\"\\\\F47B\\\"}.ion-ios-person:before{content:\\\"\\\\F47E\\\"}.ion-ios-person-add:before{content:\\\"\\\\F1E1\\\"}.ion-ios-person-add-outline:before{content:\\\"\\\\F1E0\\\"}.ion-ios-person-outline:before{content:\\\"\\\\F47D\\\"}.ion-ios-phone-landscape-outline:before,.ion-ios-phone-landscape:before{content:\\\"\\\\F1E2\\\"}.ion-ios-phone-portrait-outline:before,.ion-ios-phone-portrait:before{content:\\\"\\\\F1E3\\\"}.ion-ios-photos:before{content:\\\"\\\\F482\\\"}.ion-ios-photos-outline:before{content:\\\"\\\\F481\\\"}.ion-ios-pie:before{content:\\\"\\\\F484\\\"}.ion-ios-pie-outline:before{content:\\\"\\\\F483\\\"}.ion-ios-pin:before{content:\\\"\\\\F1E5\\\"}.ion-ios-pin-outline:before{content:\\\"\\\\F1E4\\\"}.ion-ios-pint:before{content:\\\"\\\\F486\\\"}.ion-ios-pint-outline:before{content:\\\"\\\\F485\\\"}.ion-ios-pizza:before{content:\\\"\\\\F1E7\\\"}.ion-ios-pizza-outline:before{content:\\\"\\\\F1E6\\\"}.ion-ios-plane:before{content:\\\"\\\\F1E9\\\"}.ion-ios-plane-outline:before{content:\\\"\\\\F1E8\\\"}.ion-ios-planet:before{content:\\\"\\\\F1EB\\\"}.ion-ios-planet-outline:before{content:\\\"\\\\F1EA\\\"}.ion-ios-play:before{content:\\\"\\\\F488\\\"}.ion-ios-play-outline:before{content:\\\"\\\\F487\\\"}.ion-ios-podium:before{content:\\\"\\\\F1ED\\\"}.ion-ios-podium-outline:before{content:\\\"\\\\F1EC\\\"}.ion-ios-power:before{content:\\\"\\\\F1EF\\\"}.ion-ios-power-outline:before{content:\\\"\\\\F1EE\\\"}.ion-ios-pricetag:before{content:\\\"\\\\F48D\\\"}.ion-ios-pricetag-outline:before{content:\\\"\\\\F48C\\\"}.ion-ios-pricetags:before{content:\\\"\\\\F48F\\\"}.ion-ios-pricetags-outline:before{content:\\\"\\\\F48E\\\"}.ion-ios-print:before{content:\\\"\\\\F1F1\\\"}.ion-ios-print-outline:before{content:\\\"\\\\F1F0\\\"}.ion-ios-pulse:before{content:\\\"\\\\F493\\\"}.ion-ios-pulse-outline:before{content:\\\"\\\\F1F2\\\"}.ion-ios-qr-scanner-outline:before,.ion-ios-qr-scanner:before{content:\\\"\\\\F1F3\\\"}.ion-ios-quote:before{content:\\\"\\\\F1F5\\\"}.ion-ios-quote-outline:before{content:\\\"\\\\F1F4\\\"}.ion-ios-radio:before{content:\\\"\\\\F1F9\\\"}.ion-ios-radio-button-off-outline:before,.ion-ios-radio-button-off:before{content:\\\"\\\\F1F6\\\"}.ion-ios-radio-button-on-outline:before,.ion-ios-radio-button-on:before{content:\\\"\\\\F1F7\\\"}.ion-ios-radio-outline:before{content:\\\"\\\\F1F8\\\"}.ion-ios-rainy:before{content:\\\"\\\\F495\\\"}.ion-ios-rainy-outline:before{content:\\\"\\\\F494\\\"}.ion-ios-recording:before{content:\\\"\\\\F497\\\"}.ion-ios-recording-outline:before{content:\\\"\\\\F496\\\"}.ion-ios-redo:before{content:\\\"\\\\F499\\\"}.ion-ios-redo-outline:before{content:\\\"\\\\F498\\\"}.ion-ios-refresh:before{content:\\\"\\\\F49C\\\"}.ion-ios-refresh-circle:before{content:\\\"\\\\F226\\\"}.ion-ios-refresh-circle-outline:before{content:\\\"\\\\F224\\\"}.ion-ios-refresh-outline:before{content:\\\"\\\\F49C\\\"}.ion-ios-remove:before{content:\\\"\\\\F1FC\\\"}.ion-ios-remove-circle:before{content:\\\"\\\\F1FB\\\"}.ion-ios-remove-circle-outline:before{content:\\\"\\\\F1FA\\\"}.ion-ios-remove-outline:before{content:\\\"\\\\F1FC\\\"}.ion-ios-reorder-outline:before,.ion-ios-reorder:before{content:\\\"\\\\F1FD\\\"}.ion-ios-repeat-outline:before,.ion-ios-repeat:before{content:\\\"\\\\F1FE\\\"}.ion-ios-resize-outline:before,.ion-ios-resize:before{content:\\\"\\\\F1FF\\\"}.ion-ios-restaurant:before{content:\\\"\\\\F201\\\"}.ion-ios-restaurant-outline:before{content:\\\"\\\\F200\\\"}.ion-ios-return-left-outline:before,.ion-ios-return-left:before{content:\\\"\\\\F202\\\"}.ion-ios-return-right-outline:before,.ion-ios-return-right:before{content:\\\"\\\\F203\\\"}.ion-ios-reverse-camera:before{content:\\\"\\\\F49F\\\"}.ion-ios-reverse-camera-outline:before{content:\\\"\\\\F49E\\\"}.ion-ios-rewind:before{content:\\\"\\\\F4A1\\\"}.ion-ios-rewind-outline:before{content:\\\"\\\\F4A0\\\"}.ion-ios-ribbon:before{content:\\\"\\\\F205\\\"}.ion-ios-ribbon-outline:before{content:\\\"\\\\F204\\\"}.ion-ios-rose:before{content:\\\"\\\\F4A3\\\"}.ion-ios-rose-outline:before{content:\\\"\\\\F4A2\\\"}.ion-ios-sad:before{content:\\\"\\\\F207\\\"}.ion-ios-sad-outline:before{content:\\\"\\\\F206\\\"}.ion-ios-school:before{content:\\\"\\\\F209\\\"}.ion-ios-school-outline:before{content:\\\"\\\\F208\\\"}.ion-ios-search:before{content:\\\"\\\\F4A5\\\"}.ion-ios-search-outline:before{content:\\\"\\\\F20A\\\"}.ion-ios-send:before{content:\\\"\\\\F20C\\\"}.ion-ios-send-outline:before{content:\\\"\\\\F20B\\\"}.ion-ios-settings:before{content:\\\"\\\\F4A7\\\"}.ion-ios-settings-outline:before{content:\\\"\\\\F20D\\\"}.ion-ios-share:before{content:\\\"\\\\F211\\\"}.ion-ios-share-alt:before{content:\\\"\\\\F20F\\\"}.ion-ios-share-alt-outline:before{content:\\\"\\\\F20E\\\"}.ion-ios-share-outline:before{content:\\\"\\\\F210\\\"}.ion-ios-shirt:before{content:\\\"\\\\F213\\\"}.ion-ios-shirt-outline:before{content:\\\"\\\\F212\\\"}.ion-ios-shuffle-outline:before,.ion-ios-shuffle:before{content:\\\"\\\\F4A9\\\"}.ion-ios-skip-backward:before{content:\\\"\\\\F215\\\"}.ion-ios-skip-backward-outline:before{content:\\\"\\\\F214\\\"}.ion-ios-skip-forward:before{content:\\\"\\\\F217\\\"}.ion-ios-skip-forward-outline:before{content:\\\"\\\\F216\\\"}.ion-ios-snow:before{content:\\\"\\\\F218\\\"}.ion-ios-snow-outline:before{content:\\\"\\\\F22C\\\"}.ion-ios-speedometer:before{content:\\\"\\\\F4B0\\\"}.ion-ios-speedometer-outline:before{content:\\\"\\\\F4AF\\\"}.ion-ios-square:before{content:\\\"\\\\F21A\\\"}.ion-ios-square-outline:before{content:\\\"\\\\F219\\\"}.ion-ios-star:before{content:\\\"\\\\F4B3\\\"}.ion-ios-star-half-outline:before,.ion-ios-star-half:before{content:\\\"\\\\F4B1\\\"}.ion-ios-star-outline:before{content:\\\"\\\\F4B2\\\"}.ion-ios-stats:before{content:\\\"\\\\F21C\\\"}.ion-ios-stats-outline:before{content:\\\"\\\\F21B\\\"}.ion-ios-stopwatch:before{content:\\\"\\\\F4B5\\\"}.ion-ios-stopwatch-outline:before{content:\\\"\\\\F4B4\\\"}.ion-ios-subway:before{content:\\\"\\\\F21E\\\"}.ion-ios-subway-outline:before{content:\\\"\\\\F21D\\\"}.ion-ios-sunny:before{content:\\\"\\\\F4B7\\\"}.ion-ios-sunny-outline:before{content:\\\"\\\\F4B6\\\"}.ion-ios-swap-outline:before,.ion-ios-swap:before{content:\\\"\\\\F21F\\\"}.ion-ios-switch:before{content:\\\"\\\\F221\\\"}.ion-ios-switch-outline:before{content:\\\"\\\\F220\\\"}.ion-ios-sync-outline:before,.ion-ios-sync:before{content:\\\"\\\\F222\\\"}.ion-ios-tablet-landscape-outline:before,.ion-ios-tablet-landscape:before{content:\\\"\\\\F223\\\"}.ion-ios-tablet-portrait-outline:before,.ion-ios-tablet-portrait:before{content:\\\"\\\\F24E\\\"}.ion-ios-tennisball:before{content:\\\"\\\\F4BB\\\"}.ion-ios-tennisball-outline:before{content:\\\"\\\\F4BA\\\"}.ion-ios-text:before{content:\\\"\\\\F250\\\"}.ion-ios-text-outline:before{content:\\\"\\\\F24F\\\"}.ion-ios-thermometer:before{content:\\\"\\\\F252\\\"}.ion-ios-thermometer-outline:before{content:\\\"\\\\F251\\\"}.ion-ios-thumbs-down:before{content:\\\"\\\\F254\\\"}.ion-ios-thumbs-down-outline:before{content:\\\"\\\\F253\\\"}.ion-ios-thumbs-up:before{content:\\\"\\\\F256\\\"}.ion-ios-thumbs-up-outline:before{content:\\\"\\\\F255\\\"}.ion-ios-thunderstorm:before{content:\\\"\\\\F4BD\\\"}.ion-ios-thunderstorm-outline:before{content:\\\"\\\\F4BC\\\"}.ion-ios-time:before{content:\\\"\\\\F4BF\\\"}.ion-ios-time-outline:before{content:\\\"\\\\F4BE\\\"}.ion-ios-timer:before{content:\\\"\\\\F4C1\\\"}.ion-ios-timer-outline:before{content:\\\"\\\\F4C0\\\"}.ion-ios-train:before{content:\\\"\\\\F258\\\"}.ion-ios-train-outline:before{content:\\\"\\\\F257\\\"}.ion-ios-transgender-outline:before,.ion-ios-transgender:before{content:\\\"\\\\F259\\\"}.ion-ios-trash:before{content:\\\"\\\\F4C5\\\"}.ion-ios-trash-outline:before{content:\\\"\\\\F4C4\\\"}.ion-ios-trending-down-outline:before,.ion-ios-trending-down:before{content:\\\"\\\\F25A\\\"}.ion-ios-trending-up-outline:before,.ion-ios-trending-up:before{content:\\\"\\\\F25B\\\"}.ion-ios-trophy:before{content:\\\"\\\\F25D\\\"}.ion-ios-trophy-outline:before{content:\\\"\\\\F25C\\\"}.ion-ios-umbrella:before{content:\\\"\\\\F25F\\\"}.ion-ios-umbrella-outline:before{content:\\\"\\\\F25E\\\"}.ion-ios-undo:before{content:\\\"\\\\F4C7\\\"}.ion-ios-undo-outline:before{content:\\\"\\\\F4C6\\\"}.ion-ios-unlock:before{content:\\\"\\\\F261\\\"}.ion-ios-unlock-outline:before{content:\\\"\\\\F260\\\"}.ion-ios-videocam:before{content:\\\"\\\\F4CD\\\"}.ion-ios-videocam-outline:before{content:\\\"\\\\F4CC\\\"}.ion-ios-volume-down-outline:before,.ion-ios-volume-down:before{content:\\\"\\\\F262\\\"}.ion-ios-volume-mute-outline:before,.ion-ios-volume-mute:before{content:\\\"\\\\F263\\\"}.ion-ios-volume-off-outline:before,.ion-ios-volume-off:before{content:\\\"\\\\F264\\\"}.ion-ios-volume-up-outline:before,.ion-ios-volume-up:before{content:\\\"\\\\F265\\\"}.ion-ios-walk-outline:before,.ion-ios-walk:before{content:\\\"\\\\F266\\\"}.ion-ios-warning:before{content:\\\"\\\\F268\\\"}.ion-ios-warning-outline:before{content:\\\"\\\\F267\\\"}.ion-ios-watch-outline:before,.ion-ios-watch:before{content:\\\"\\\\F269\\\"}.ion-ios-water:before{content:\\\"\\\\F26B\\\"}.ion-ios-water-outline:before{content:\\\"\\\\F26A\\\"}.ion-ios-wifi:before{content:\\\"\\\\F26D\\\"}.ion-ios-wifi-outline:before{content:\\\"\\\\F26C\\\"}.ion-ios-wine:before{content:\\\"\\\\F26F\\\"}.ion-ios-wine-outline:before{content:\\\"\\\\F26E\\\"}.ion-ios-woman:before{content:\\\"\\\\F271\\\"}.ion-ios-woman-outline:before{content:\\\"\\\\F270\\\"}.ion-logo-android:before{content:\\\"\\\\F225\\\"}.ion-logo-angular:before{content:\\\"\\\\F227\\\"}.ion-logo-apple:before{content:\\\"\\\\F229\\\"}.ion-logo-bitcoin:before{content:\\\"\\\\F22B\\\"}.ion-logo-buffer:before{content:\\\"\\\\F22D\\\"}.ion-logo-chrome:before{content:\\\"\\\\F22F\\\"}.ion-logo-codepen:before{content:\\\"\\\\F230\\\"}.ion-logo-css3:before{content:\\\"\\\\F231\\\"}.ion-logo-designernews:before{content:\\\"\\\\F232\\\"}.ion-logo-dribbble:before{content:\\\"\\\\F233\\\"}.ion-logo-dropbox:before{content:\\\"\\\\F234\\\"}.ion-logo-euro:before{content:\\\"\\\\F235\\\"}.ion-logo-facebook:before{content:\\\"\\\\F236\\\"}.ion-logo-foursquare:before{content:\\\"\\\\F237\\\"}.ion-logo-freebsd-devil:before{content:\\\"\\\\F238\\\"}.ion-logo-github:before{content:\\\"\\\\F239\\\"}.ion-logo-google:before{content:\\\"\\\\F23A\\\"}.ion-logo-googleplus:before{content:\\\"\\\\F23B\\\"}.ion-logo-hackernews:before{content:\\\"\\\\F23C\\\"}.ion-logo-html5:before{content:\\\"\\\\F23D\\\"}.ion-logo-instagram:before{content:\\\"\\\\F23E\\\"}.ion-logo-javascript:before{content:\\\"\\\\F23F\\\"}.ion-logo-linkedin:before{content:\\\"\\\\F240\\\"}.ion-logo-markdown:before{content:\\\"\\\\F241\\\"}.ion-logo-nodejs:before{content:\\\"\\\\F242\\\"}.ion-logo-octocat:before{content:\\\"\\\\F243\\\"}.ion-logo-pinterest:before{content:\\\"\\\\F244\\\"}.ion-logo-playstation:before{content:\\\"\\\\F245\\\"}.ion-logo-python:before{content:\\\"\\\\F246\\\"}.ion-logo-reddit:before{content:\\\"\\\\F247\\\"}.ion-logo-rss:before{content:\\\"\\\\F248\\\"}.ion-logo-sass:before{content:\\\"\\\\F249\\\"}.ion-logo-skype:before{content:\\\"\\\\F24A\\\"}.ion-logo-snapchat:before{content:\\\"\\\\F24B\\\"}.ion-logo-steam:before{content:\\\"\\\\F24C\\\"}.ion-logo-tumblr:before{content:\\\"\\\\F24D\\\"}.ion-logo-tux:before{content:\\\"\\\\F2AE\\\"}.ion-logo-twitch:before{content:\\\"\\\\F2AF\\\"}.ion-logo-twitter:before{content:\\\"\\\\F2B0\\\"}.ion-logo-usd:before{content:\\\"\\\\F2B1\\\"}.ion-logo-vimeo:before{content:\\\"\\\\F2C4\\\"}.ion-logo-whatsapp:before{content:\\\"\\\\F2C5\\\"}.ion-logo-windows:before{content:\\\"\\\\F32F\\\"}.ion-logo-wordpress:before{content:\\\"\\\\F330\\\"}.ion-logo-xbox:before{content:\\\"\\\\F34C\\\"}.ion-logo-yahoo:before{content:\\\"\\\\F34D\\\"}.ion-logo-yen:before{content:\\\"\\\\F34E\\\"}.ion-logo-youtube:before{content:\\\"\\\\F34F\\\"}.ion-md-add:before{content:\\\"\\\\F273\\\"}.ion-md-add-circle:before{content:\\\"\\\\F272\\\"}.ion-md-alarm:before{content:\\\"\\\\F274\\\"}.ion-md-albums:before{content:\\\"\\\\F275\\\"}.ion-md-alert:before{content:\\\"\\\\F276\\\"}.ion-md-american-football:before{content:\\\"\\\\F277\\\"}.ion-md-analytics:before{content:\\\"\\\\F278\\\"}.ion-md-aperture:before{content:\\\"\\\\F279\\\"}.ion-md-apps:before{content:\\\"\\\\F27A\\\"}.ion-md-appstore:before{content:\\\"\\\\F27B\\\"}.ion-md-archive:before{content:\\\"\\\\F27C\\\"}.ion-md-arrow-back:before{content:\\\"\\\\F27D\\\"}.ion-md-arrow-down:before{content:\\\"\\\\F27E\\\"}.ion-md-arrow-dropdown:before{content:\\\"\\\\F280\\\"}.ion-md-arrow-dropdown-circle:before{content:\\\"\\\\F27F\\\"}.ion-md-arrow-dropleft:before{content:\\\"\\\\F282\\\"}.ion-md-arrow-dropleft-circle:before{content:\\\"\\\\F281\\\"}.ion-md-arrow-dropright:before{content:\\\"\\\\F284\\\"}.ion-md-arrow-dropright-circle:before{content:\\\"\\\\F283\\\"}.ion-md-arrow-dropup:before{content:\\\"\\\\F286\\\"}.ion-md-arrow-dropup-circle:before{content:\\\"\\\\F285\\\"}.ion-md-arrow-forward:before{content:\\\"\\\\F287\\\"}.ion-md-arrow-round-back:before{content:\\\"\\\\F288\\\"}.ion-md-arrow-round-down:before{content:\\\"\\\\F289\\\"}.ion-md-arrow-round-forward:before{content:\\\"\\\\F28A\\\"}.ion-md-arrow-round-up:before{content:\\\"\\\\F28B\\\"}.ion-md-arrow-up:before{content:\\\"\\\\F28C\\\"}.ion-md-at:before{content:\\\"\\\\F28D\\\"}.ion-md-attach:before{content:\\\"\\\\F28E\\\"}.ion-md-backspace:before{content:\\\"\\\\F28F\\\"}.ion-md-barcode:before{content:\\\"\\\\F290\\\"}.ion-md-baseball:before{content:\\\"\\\\F291\\\"}.ion-md-basket:before{content:\\\"\\\\F292\\\"}.ion-md-basketball:before{content:\\\"\\\\F293\\\"}.ion-md-battery-charging:before{content:\\\"\\\\F294\\\"}.ion-md-battery-dead:before{content:\\\"\\\\F295\\\"}.ion-md-battery-full:before{content:\\\"\\\\F296\\\"}.ion-md-beaker:before{content:\\\"\\\\F297\\\"}.ion-md-beer:before{content:\\\"\\\\F298\\\"}.ion-md-bicycle:before{content:\\\"\\\\F299\\\"}.ion-md-bluetooth:before{content:\\\"\\\\F29A\\\"}.ion-md-boat:before{content:\\\"\\\\F29B\\\"}.ion-md-body:before{content:\\\"\\\\F29C\\\"}.ion-md-bonfire:before{content:\\\"\\\\F29D\\\"}.ion-md-book:before{content:\\\"\\\\F29E\\\"}.ion-md-bookmark:before{content:\\\"\\\\F29F\\\"}.ion-md-bookmarks:before{content:\\\"\\\\F2A0\\\"}.ion-md-bowtie:before{content:\\\"\\\\F2A1\\\"}.ion-md-briefcase:before{content:\\\"\\\\F2A2\\\"}.ion-md-browsers:before{content:\\\"\\\\F2A3\\\"}.ion-md-brush:before{content:\\\"\\\\F2A4\\\"}.ion-md-bug:before{content:\\\"\\\\F2A5\\\"}.ion-md-build:before{content:\\\"\\\\F2A6\\\"}.ion-md-bulb:before{content:\\\"\\\\F2A7\\\"}.ion-md-bus:before{content:\\\"\\\\F2A8\\\"}.ion-md-cafe:before{content:\\\"\\\\F2A9\\\"}.ion-md-calculator:before{content:\\\"\\\\F2AA\\\"}.ion-md-calendar:before{content:\\\"\\\\F2AB\\\"}.ion-md-call:before{content:\\\"\\\\F2AC\\\"}.ion-md-camera:before{content:\\\"\\\\F2AD\\\"}.ion-md-car:before{content:\\\"\\\\F2B2\\\"}.ion-md-card:before{content:\\\"\\\\F2B3\\\"}.ion-md-cart:before{content:\\\"\\\\F2B4\\\"}.ion-md-cash:before{content:\\\"\\\\F2B5\\\"}.ion-md-chatboxes:before{content:\\\"\\\\F2B6\\\"}.ion-md-chatbubbles:before{content:\\\"\\\\F2B7\\\"}.ion-md-checkbox:before{content:\\\"\\\\F2B9\\\"}.ion-md-checkbox-outline:before{content:\\\"\\\\F2B8\\\"}.ion-md-checkmark:before{content:\\\"\\\\F2BC\\\"}.ion-md-checkmark-circle:before{content:\\\"\\\\F2BB\\\"}.ion-md-checkmark-circle-outline:before{content:\\\"\\\\F2BA\\\"}.ion-md-clipboard:before{content:\\\"\\\\F2BD\\\"}.ion-md-clock:before{content:\\\"\\\\F2BE\\\"}.ion-md-close:before{content:\\\"\\\\F2C0\\\"}.ion-md-close-circle:before{content:\\\"\\\\F2BF\\\"}.ion-md-closed-captioning:before{content:\\\"\\\\F2C1\\\"}.ion-md-cloud:before{content:\\\"\\\\F2C9\\\"}.ion-md-cloud-circle:before{content:\\\"\\\\F2C2\\\"}.ion-md-cloud-done:before{content:\\\"\\\\F2C3\\\"}.ion-md-cloud-download:before{content:\\\"\\\\F2C6\\\"}.ion-md-cloud-outline:before{content:\\\"\\\\F2C7\\\"}.ion-md-cloud-upload:before{content:\\\"\\\\F2C8\\\"}.ion-md-cloudy:before{content:\\\"\\\\F2CB\\\"}.ion-md-cloudy-night:before{content:\\\"\\\\F2CA\\\"}.ion-md-code:before{content:\\\"\\\\F2CE\\\"}.ion-md-code-download:before{content:\\\"\\\\F2CC\\\"}.ion-md-code-working:before{content:\\\"\\\\F2CD\\\"}.ion-md-cog:before{content:\\\"\\\\F2CF\\\"}.ion-md-color-fill:before{content:\\\"\\\\F2D0\\\"}.ion-md-color-filter:before{content:\\\"\\\\F2D1\\\"}.ion-md-color-palette:before{content:\\\"\\\\F2D2\\\"}.ion-md-color-wand:before{content:\\\"\\\\F2D3\\\"}.ion-md-compass:before{content:\\\"\\\\F2D4\\\"}.ion-md-construct:before{content:\\\"\\\\F2D5\\\"}.ion-md-contact:before{content:\\\"\\\\F2D6\\\"}.ion-md-contacts:before{content:\\\"\\\\F2D7\\\"}.ion-md-contract:before{content:\\\"\\\\F2D8\\\"}.ion-md-contrast:before{content:\\\"\\\\F2D9\\\"}.ion-md-copy:before{content:\\\"\\\\F2DA\\\"}.ion-md-create:before{content:\\\"\\\\F2DB\\\"}.ion-md-crop:before{content:\\\"\\\\F2DC\\\"}.ion-md-cube:before{content:\\\"\\\\F2DD\\\"}.ion-md-cut:before{content:\\\"\\\\F2DE\\\"}.ion-md-desktop:before{content:\\\"\\\\F2DF\\\"}.ion-md-disc:before{content:\\\"\\\\F2E0\\\"}.ion-md-document:before{content:\\\"\\\\F2E1\\\"}.ion-md-done-all:before{content:\\\"\\\\F2E2\\\"}.ion-md-download:before{content:\\\"\\\\F2E3\\\"}.ion-md-easel:before{content:\\\"\\\\F2E4\\\"}.ion-md-egg:before{content:\\\"\\\\F2E5\\\"}.ion-md-exit:before{content:\\\"\\\\F2E6\\\"}.ion-md-expand:before{content:\\\"\\\\F2E7\\\"}.ion-md-eye:before{content:\\\"\\\\F2E9\\\"}.ion-md-eye-off:before{content:\\\"\\\\F2E8\\\"}.ion-md-fastforward:before{content:\\\"\\\\F2EA\\\"}.ion-md-female:before{content:\\\"\\\\F2EB\\\"}.ion-md-filing:before{content:\\\"\\\\F2EC\\\"}.ion-md-film:before{content:\\\"\\\\F2ED\\\"}.ion-md-finger-print:before{content:\\\"\\\\F2EE\\\"}.ion-md-flag:before{content:\\\"\\\\F2EF\\\"}.ion-md-flame:before{content:\\\"\\\\F2F0\\\"}.ion-md-flash:before{content:\\\"\\\\F2F1\\\"}.ion-md-flask:before{content:\\\"\\\\F2F2\\\"}.ion-md-flower:before{content:\\\"\\\\F2F3\\\"}.ion-md-folder:before{content:\\\"\\\\F2F5\\\"}.ion-md-folder-open:before{content:\\\"\\\\F2F4\\\"}.ion-md-football:before{content:\\\"\\\\F2F6\\\"}.ion-md-funnel:before{content:\\\"\\\\F2F7\\\"}.ion-md-game-controller-a:before{content:\\\"\\\\F2F8\\\"}.ion-md-game-controller-b:before{content:\\\"\\\\F2F9\\\"}.ion-md-git-branch:before{content:\\\"\\\\F2FA\\\"}.ion-md-git-commit:before{content:\\\"\\\\F2FB\\\"}.ion-md-git-compare:before{content:\\\"\\\\F2FC\\\"}.ion-md-git-merge:before{content:\\\"\\\\F2FD\\\"}.ion-md-git-network:before{content:\\\"\\\\F2FE\\\"}.ion-md-git-pull-request:before{content:\\\"\\\\F2FF\\\"}.ion-md-glasses:before{content:\\\"\\\\F300\\\"}.ion-md-globe:before{content:\\\"\\\\F301\\\"}.ion-md-grid:before{content:\\\"\\\\F302\\\"}.ion-md-hammer:before{content:\\\"\\\\F303\\\"}.ion-md-hand:before{content:\\\"\\\\F304\\\"}.ion-md-happy:before{content:\\\"\\\\F305\\\"}.ion-md-headset:before{content:\\\"\\\\F306\\\"}.ion-md-heart:before{content:\\\"\\\\F308\\\"}.ion-md-heart-outline:before{content:\\\"\\\\F307\\\"}.ion-md-help:before{content:\\\"\\\\F30B\\\"}.ion-md-help-buoy:before{content:\\\"\\\\F309\\\"}.ion-md-help-circle:before{content:\\\"\\\\F30A\\\"}.ion-md-home:before{content:\\\"\\\\F30C\\\"}.ion-md-ice-cream:before{content:\\\"\\\\F30D\\\"}.ion-md-image:before{content:\\\"\\\\F30E\\\"}.ion-md-images:before{content:\\\"\\\\F30F\\\"}.ion-md-infinite:before{content:\\\"\\\\F310\\\"}.ion-md-information:before{content:\\\"\\\\F312\\\"}.ion-md-information-circle:before{content:\\\"\\\\F311\\\"}.ion-md-ionic:before{content:\\\"\\\\F313\\\"}.ion-md-ionitron:before{content:\\\"\\\\F314\\\"}.ion-md-jet:before{content:\\\"\\\\F315\\\"}.ion-md-key:before{content:\\\"\\\\F316\\\"}.ion-md-keypad:before{content:\\\"\\\\F317\\\"}.ion-md-laptop:before{content:\\\"\\\\F318\\\"}.ion-md-leaf:before{content:\\\"\\\\F319\\\"}.ion-md-link:before{content:\\\"\\\\F22E\\\"}.ion-md-list:before{content:\\\"\\\\F31B\\\"}.ion-md-list-box:before{content:\\\"\\\\F31A\\\"}.ion-md-locate:before{content:\\\"\\\\F31C\\\"}.ion-md-lock:before{content:\\\"\\\\F31D\\\"}.ion-md-log-in:before{content:\\\"\\\\F31E\\\"}.ion-md-log-out:before{content:\\\"\\\\F31F\\\"}.ion-md-magnet:before{content:\\\"\\\\F320\\\"}.ion-md-mail:before{content:\\\"\\\\F322\\\"}.ion-md-mail-open:before{content:\\\"\\\\F321\\\"}.ion-md-male:before{content:\\\"\\\\F323\\\"}.ion-md-man:before{content:\\\"\\\\F324\\\"}.ion-md-map:before{content:\\\"\\\\F325\\\"}.ion-md-medal:before{content:\\\"\\\\F326\\\"}.ion-md-medical:before{content:\\\"\\\\F327\\\"}.ion-md-medkit:before{content:\\\"\\\\F328\\\"}.ion-md-megaphone:before{content:\\\"\\\\F329\\\"}.ion-md-menu:before{content:\\\"\\\\F32A\\\"}.ion-md-mic:before{content:\\\"\\\\F32C\\\"}.ion-md-mic-off:before{content:\\\"\\\\F32B\\\"}.ion-md-microphone:before{content:\\\"\\\\F32D\\\"}.ion-md-moon:before{content:\\\"\\\\F32E\\\"}.ion-md-more:before{content:\\\"\\\\F1C9\\\"}.ion-md-move:before{content:\\\"\\\\F331\\\"}.ion-md-musical-note:before{content:\\\"\\\\F332\\\"}.ion-md-musical-notes:before{content:\\\"\\\\F333\\\"}.ion-md-navigate:before{content:\\\"\\\\F334\\\"}.ion-md-no-smoking:before{content:\\\"\\\\F335\\\"}.ion-md-notifications:before{content:\\\"\\\\F338\\\"}.ion-md-notifications-off:before{content:\\\"\\\\F336\\\"}.ion-md-notifications-outline:before{content:\\\"\\\\F337\\\"}.ion-md-nuclear:before{content:\\\"\\\\F339\\\"}.ion-md-nutrition:before{content:\\\"\\\\F33A\\\"}.ion-md-open:before{content:\\\"\\\\F33B\\\"}.ion-md-options:before{content:\\\"\\\\F33C\\\"}.ion-md-outlet:before{content:\\\"\\\\F33D\\\"}.ion-md-paper:before{content:\\\"\\\\F33F\\\"}.ion-md-paper-plane:before{content:\\\"\\\\F33E\\\"}.ion-md-partly-sunny:before{content:\\\"\\\\F340\\\"}.ion-md-pause:before{content:\\\"\\\\F341\\\"}.ion-md-paw:before{content:\\\"\\\\F342\\\"}.ion-md-people:before{content:\\\"\\\\F343\\\"}.ion-md-person:before{content:\\\"\\\\F345\\\"}.ion-md-person-add:before{content:\\\"\\\\F344\\\"}.ion-md-phone-landscape:before{content:\\\"\\\\F346\\\"}.ion-md-phone-portrait:before{content:\\\"\\\\F347\\\"}.ion-md-photos:before{content:\\\"\\\\F348\\\"}.ion-md-pie:before{content:\\\"\\\\F349\\\"}.ion-md-pin:before{content:\\\"\\\\F34A\\\"}.ion-md-pint:before{content:\\\"\\\\F34B\\\"}.ion-md-pizza:before{content:\\\"\\\\F354\\\"}.ion-md-plane:before{content:\\\"\\\\F355\\\"}.ion-md-planet:before{content:\\\"\\\\F356\\\"}.ion-md-play:before{content:\\\"\\\\F357\\\"}.ion-md-podium:before{content:\\\"\\\\F358\\\"}.ion-md-power:before{content:\\\"\\\\F359\\\"}.ion-md-pricetag:before{content:\\\"\\\\F35A\\\"}.ion-md-pricetags:before{content:\\\"\\\\F35B\\\"}.ion-md-print:before{content:\\\"\\\\F35C\\\"}.ion-md-pulse:before{content:\\\"\\\\F35D\\\"}.ion-md-qr-scanner:before{content:\\\"\\\\F35E\\\"}.ion-md-quote:before{content:\\\"\\\\F35F\\\"}.ion-md-radio:before{content:\\\"\\\\F362\\\"}.ion-md-radio-button-off:before{content:\\\"\\\\F360\\\"}.ion-md-radio-button-on:before{content:\\\"\\\\F361\\\"}.ion-md-rainy:before{content:\\\"\\\\F363\\\"}.ion-md-recording:before{content:\\\"\\\\F364\\\"}.ion-md-redo:before{content:\\\"\\\\F365\\\"}.ion-md-refresh:before{content:\\\"\\\\F366\\\"}.ion-md-refresh-circle:before{content:\\\"\\\\F228\\\"}.ion-md-remove:before{content:\\\"\\\\F368\\\"}.ion-md-remove-circle:before{content:\\\"\\\\F367\\\"}.ion-md-reorder:before{content:\\\"\\\\F369\\\"}.ion-md-repeat:before{content:\\\"\\\\F36A\\\"}.ion-md-resize:before{content:\\\"\\\\F36B\\\"}.ion-md-restaurant:before{content:\\\"\\\\F36C\\\"}.ion-md-return-left:before{content:\\\"\\\\F36D\\\"}.ion-md-return-right:before{content:\\\"\\\\F36E\\\"}.ion-md-reverse-camera:before{content:\\\"\\\\F36F\\\"}.ion-md-rewind:before{content:\\\"\\\\F370\\\"}.ion-md-ribbon:before{content:\\\"\\\\F371\\\"}.ion-md-rose:before{content:\\\"\\\\F372\\\"}.ion-md-sad:before{content:\\\"\\\\F373\\\"}.ion-md-school:before{content:\\\"\\\\F374\\\"}.ion-md-search:before{content:\\\"\\\\F375\\\"}.ion-md-send:before{content:\\\"\\\\F376\\\"}.ion-md-settings:before{content:\\\"\\\\F377\\\"}.ion-md-share:before{content:\\\"\\\\F379\\\"}.ion-md-share-alt:before{content:\\\"\\\\F378\\\"}.ion-md-shirt:before{content:\\\"\\\\F37A\\\"}.ion-md-shuffle:before{content:\\\"\\\\F37B\\\"}.ion-md-skip-backward:before{content:\\\"\\\\F37C\\\"}.ion-md-skip-forward:before{content:\\\"\\\\F37D\\\"}.ion-md-snow:before{content:\\\"\\\\F37E\\\"}.ion-md-speedometer:before{content:\\\"\\\\F37F\\\"}.ion-md-square:before{content:\\\"\\\\F381\\\"}.ion-md-square-outline:before{content:\\\"\\\\F380\\\"}.ion-md-star:before{content:\\\"\\\\F384\\\"}.ion-md-star-half:before{content:\\\"\\\\F382\\\"}.ion-md-star-outline:before{content:\\\"\\\\F383\\\"}.ion-md-stats:before{content:\\\"\\\\F385\\\"}.ion-md-stopwatch:before{content:\\\"\\\\F386\\\"}.ion-md-subway:before{content:\\\"\\\\F387\\\"}.ion-md-sunny:before{content:\\\"\\\\F388\\\"}.ion-md-swap:before{content:\\\"\\\\F389\\\"}.ion-md-switch:before{content:\\\"\\\\F38A\\\"}.ion-md-sync:before{content:\\\"\\\\F38B\\\"}.ion-md-tablet-landscape:before{content:\\\"\\\\F38C\\\"}.ion-md-tablet-portrait:before{content:\\\"\\\\F38D\\\"}.ion-md-tennisball:before{content:\\\"\\\\F38E\\\"}.ion-md-text:before{content:\\\"\\\\F38F\\\"}.ion-md-thermometer:before{content:\\\"\\\\F390\\\"}.ion-md-thumbs-down:before{content:\\\"\\\\F391\\\"}.ion-md-thumbs-up:before{content:\\\"\\\\F392\\\"}.ion-md-thunderstorm:before{content:\\\"\\\\F393\\\"}.ion-md-time:before{content:\\\"\\\\F394\\\"}.ion-md-timer:before{content:\\\"\\\\F395\\\"}.ion-md-train:before{content:\\\"\\\\F396\\\"}.ion-md-transgender:before{content:\\\"\\\\F397\\\"}.ion-md-trash:before{content:\\\"\\\\F398\\\"}.ion-md-trending-down:before{content:\\\"\\\\F399\\\"}.ion-md-trending-up:before{content:\\\"\\\\F39A\\\"}.ion-md-trophy:before{content:\\\"\\\\F39B\\\"}.ion-md-umbrella:before{content:\\\"\\\\F39C\\\"}.ion-md-undo:before{content:\\\"\\\\F39D\\\"}.ion-md-unlock:before{content:\\\"\\\\F39E\\\"}.ion-md-videocam:before{content:\\\"\\\\F39F\\\"}.ion-md-volume-down:before{content:\\\"\\\\F3A0\\\"}.ion-md-volume-mute:before{content:\\\"\\\\F3A1\\\"}.ion-md-volume-off:before{content:\\\"\\\\F3A2\\\"}.ion-md-volume-up:before{content:\\\"\\\\F3A3\\\"}.ion-md-walk:before{content:\\\"\\\\F3A4\\\"}.ion-md-warning:before{content:\\\"\\\\F3A5\\\"}.ion-md-watch:before{content:\\\"\\\\F3A6\\\"}.ion-md-water:before{content:\\\"\\\\F3A7\\\"}.ion-md-wifi:before{content:\\\"\\\\F3A8\\\"}.ion-md-wine:before{content:\\\"\\\\F3A9\\\"}.ion-md-woman:before{content:\\\"\\\\F3AA\\\"}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n\n/***/ 310:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"bdf1d30681cf87986c385eea78e8de9a.eot\";\n\n/***/ },\n\n/***/ 311:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"311d81961c5880647fec7eaca1221b2a.woff2\";\n\n/***/ },\n\n/***/ 312:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"81414686e99c00d2921e03dd53c0ab04.woff\";\n\n/***/ },\n\n/***/ 313:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"74c652671225d6ded874a648502e5f0a.ttf\";\n\n/***/ },\n\n/***/ 314:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"d9496a234c81179afbca6bf5959cc30a.svg\";\n\n/***/ },\n\n/***/ 315:\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(316);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(307)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./styles.css\", function() {\n\t\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./styles.css\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n\n/***/ 316:\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(302)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \"fieldset{border:0}input[type=file],input[type=text]{border:none;font-size:18px;padding-bottom:10px}input:focus,textarea:focus{outline:none}.react-datepicker__input-container input{background:transparent}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n\n/***/ 318:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _reactNative2 = _interopRequireDefault(_reactNative);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar noop = function noop() {};\n\tvar noopWithRemove = function noopWithRemove() {\n\t  return { remove: noop };\n\t};\n\t\n\t_reactNative2.default.DeviceEventEmitter = {\n\t  addListener: noopWithRemove,\n\t  removeSubscription: noop,\n\t  removeAllListeners: noop\n\t};\n\n/***/ },\n\n/***/ 763:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {'use strict';\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar noop = function noop() {};\n\tvar orientation = 'LANDSCAPE';\n\t\n\t_reactNative.NativeModules.Orientation = {\n\t  initialOrientation: orientation,\n\t  getOrientation: function getOrientation(cb) {\n\t    return process.nextTick(function () {\n\t      return cb(null, orientation);\n\t    });\n\t  },\n\t  getSpecificOrientation: function getSpecificOrientation(cb) {\n\t    return process.nextTick(function () {\n\t      return cb(null, orientation);\n\t    });\n\t  },\n\t  // addOrientationListener: noop,\n\t  // removeOrientationListener: noop,\n\t  lockToPortrait: noop,\n\t  lockToLandscape: noop,\n\t  lockToLandscapeLeft: noop,\n\t  lockToLandscapeRight: noop,\n\t  unlockAllOrientations: noop\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(295)))\n\n/***/ },\n\n/***/ 764:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// import './utils/logAll'\n\t// import './utils/perf'\n\t\n\t// see issue: https://github.com/facebook/react-native/issues/6227\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _debug = __webpack_require__(765);\n\t\n\tvar _debug2 = _interopRequireDefault(_debug);\n\t\n\t__webpack_require__(769);\n\t\n\t__webpack_require__(807);\n\t\n\t__webpack_require__(825);\n\t\n\tvar _automaticUpdates = __webpack_require__(934);\n\t\n\tvar AutomaticUpdates = _interopRequireWildcard(_automaticUpdates);\n\t\n\tvar _localAuth = __webpack_require__(1538);\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _reactNativeOrientation = __webpack_require__(945);\n\t\n\tvar _reactNativeOrientation2 = _interopRequireDefault(_reactNativeOrientation);\n\t\n\tvar _platform = __webpack_require__(1674);\n\t\n\tvar _platform2 = _interopRequireDefault(_platform);\n\t\n\tvar _transitions = __webpack_require__(1678);\n\t\n\tvar _transitions2 = _interopRequireDefault(_transitions);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _push = __webpack_require__(1679);\n\t\n\tvar _push2 = _interopRequireDefault(_push);\n\t\n\tvar _navs = __webpack_require__(1683);\n\t\n\tvar _navs2 = _interopRequireDefault(_navs);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\ttry {\n\t  var NativeAppEventEmitter = __webpack_require__(1684);\n\t} catch (err) {}\n\t\n\t__webpack_require__(1);\n\t\n\t// require('react-native-level')\n\t\n\tvar debug = (0, _debug2.default)('tradle:app');\n\tvar perfDebug = (0, _debug2.default)('perf');\n\t\n\t// require('regenerator/runtime') // support es7.asyncFunctions\n\t\n\t\n\t// require('./timmy')\n\t\n\t// require('ErrorUtils').setGlobalHandler(function (e, isFatal) {\n\t//   Alert.alert(e.stack)\n\t//   console.error('Failed to handle error:')\n\t//   console.error(e)\n\t//   if (__DEV__) throw e\n\t// })\n\t// var DashboardView = require('./Components/DashboardView')\n\tvar ResourceList = __webpack_require__(1685);\n\tvar VideoPlayer = __webpack_require__(2101);\n\tvar EnumList = __webpack_require__(2068);\n\t// var GridList = require('./Components/GridList');\n\tvar TimHome = __webpack_require__(2103);\n\tvar PasswordCheck = __webpack_require__(1540);\n\tvar TouchIDOptIn = __webpack_require__(1667);\n\tvar ResourceTypesScreen = __webpack_require__(2108);\n\tvar NewResource = __webpack_require__(1949);\n\tvar NewItem = __webpack_require__(1954);\n\tvar ItemsList = __webpack_require__(2109);\n\tvar GridItemsList = __webpack_require__(2073);\n\tvar ResourceView = __webpack_require__(1706);\n\tvar MessageView = __webpack_require__(1947);\n\tvar MessageList = __webpack_require__(1946);\n\tvar ArticleView = __webpack_require__(1668);\n\tvar IdentitiesList = __webpack_require__(2110);\n\t// var SelectPhotoList = require('./Components/SelectPhotoList');\n\tvar ProductChooser = __webpack_require__(2078);\n\tvar CameraView = __webpack_require__(2071);\n\tvar PhotoCarousel = __webpack_require__(1713);\n\tvar QRCode = __webpack_require__(1932);\n\tvar QRCodeScanner = __webpack_require__(2099);\n\tvar utils = __webpack_require__(935);\n\tvar translate = utils.translate;\n\tvar constants = __webpack_require__(1348);\n\tvar Icon = __webpack_require__(1541);\n\tvar Actions = __webpack_require__(1517);\n\t\n\t\n\tvar reactMixin = __webpack_require__(1703);\n\t\n\t\n\tvar originalGetDefaultProps = _reactNative.Text.getDefaultProps;\n\t_reactNative.Text.defaultProps = function () {\n\t  return _extends({}, originalGetDefaultProps(), {\n\t    allowFontScaling: false\n\t  });\n\t};\n\t\n\tvar ReactPerf = (false) && __webpack_require__(2112);\n\tvar UNAUTHENTICATE_AFTER_BG_MILLIS = __webpack_require__(1538).TIMEOUT;\n\t\n\tvar TiMApp = function (_Component) {\n\t  _inherits(TiMApp, _Component);\n\t\n\t  function TiMApp(props) {\n\t    _classCallCheck(this, TiMApp);\n\t\n\t    var _this = _possibleConstructorReturn(this, (TiMApp.__proto__ || Object.getPrototypeOf(TiMApp)).call(this, props));\n\t\n\t    var props = {\n\t      modelName: constants.TYPES.PROFILE\n\t    };\n\t    _this.state = {\n\t      currentAppState: 'active',\n\t      dateAppStateChanged: Date.now(),\n\t      initialRoute: {\n\t        id: 1,\n\t        // title: 'Trust in Motion',\n\t        // titleTextColor: '#7AAAC3',\n\t        component: TimHome,\n\t        passProps: props\n\t      },\n\t      props: props\n\t    };\n\t    // var url = 'tradlekyc://71e4b7cd6c11ab7221537275988f113a879029ea';\n\t    // this._handleOpenURL({url});\n\t    // var isIphone = Device.isIphone();\n\t    // if (!isIphone)\n\t    //   isIphone = isIphone;\n\t\n\t    ;['_handleOpenURL', '_handleAppStateChange', 'onNavigatorBeforeTransition', 'onNavigatorAfterTransition'].forEach(function (method) {\n\t      _this[method] = _this[method].bind(_this);\n\t    });\n\t    return _this;\n\t  }\n\t\n\t  _createClass(TiMApp, [{\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      AutomaticUpdates.on();\n\t      if (_reactNative.AppState) _reactNative.AppState.addEventListener('change', this._handleAppStateChange);\n\t      // Linking.addEventListener('url', this._handleOpenURL);\n\t      // var url = Linking.popInitialURL();\n\t      // if (url)\n\t      //   this._handleOpenURL({url});\n\t    }\n\t  }, {\n\t    key: 'componentWillUnmount',\n\t    value: function componentWillUnmount() {\n\t      if (_reactNative.AppState) _reactNative.AppState.removeEventListener('change', this._handleAppStateChange);\n\t      // Linking.removeEventListener('url', this._handleOpenURL);\n\t      this._navListeners.forEach(function (listener) {\n\t        return listener.remove();\n\t      });\n\t    }\n\t  }, {\n\t    key: '_handleAppStateChange',\n\t    value: function _handleAppStateChange(currentAppState) {\n\t      var _this2 = this;\n\t\n\t      // TODO:\n\t      // Actions.appState(currentAppState)\n\t      // and check if authentication expired in store\n\t\n\t      var dateAppStateChanged = Date.now();\n\t      var lastDateAppStateChanged = this.state.dateAppStateChanged;\n\t      var newState = { currentAppState: currentAppState, dateAppStateChanged: dateAppStateChanged };\n\t      var me = utils.getMe();\n\t\n\t      switch (currentAppState) {\n\t        case 'inactive':\n\t          return;\n\t        case 'active':\n\t          AutomaticUpdates.hasUpdate().then(function (has) {\n\t            if (has) return AutomaticUpdates.install();\n\t\n\t            _push2.default.resetBadgeNumber();\n\t            if (_this2.state.currentAppState === 'active') return;\n\t\n\t            clearTimeout(_this2.state.unauthTimeout);\n\t            // ok to pop from defensive copy\n\t\n\t            AutomaticUpdates.sync();\n\t            _this2.setState(newState);\n\t          });\n\t\n\t          return;\n\t        case 'background':\n\t          // const nonAuthRoute = utils.getTopNonAuthRoute(this.state.navigator)\n\t          // this.state.navigator.popToRoute(nonAuthRoute)\n\t          newState.unauthTimeout = setTimeout(function () {\n\t            if (!me || !me.isRegistered) return;\n\t\n\t            Actions.setAuthenticated(false);\n\t            Actions.start();\n\t            // TODO: auth flow should not be here OR in TimHome\n\t            // it should be more like Actions.auth()\n\t            // and then handled in one place\n\t          }, UNAUTHENTICATE_AFTER_BG_MILLIS);\n\t\n\t          break;\n\t      }\n\t\n\t      this.setState(newState);\n\t    }\n\t  }, {\n\t    key: '_handleOpenURL',\n\t    value: function _handleOpenURL(event) {\n\t      var url = event.url.trim();\n\t      var idx = url.indexOf('://');\n\t      var q = idx + 3 === url.length ? null : url.substring(idx + 3);\n\t\n\t      var r;\n\t      if (!q) {\n\t        r = {\n\t          _t: 'tradle.Organization',\n\t          _r: '0191ef415aa2ec76fb8ec8760b55112cadf573bc',\n\t          name: 'HSBC',\n\t          me: 'me'\n\t        };\n\t      } else {\n\t        var params = q.split('=');\n\t        if (params.length === 1) {\n\t          switch (parseInt(params[0])) {\n\t            case 1:\n\t              r = {\n\t                _t: 'tradle.Organization',\n\t                _r: '96e460ca282d62e41d4b59c85b212d102d7a5a6e',\n\t                name: 'Lloyds',\n\t                me: 'me'\n\t              };\n\t              break;\n\t            case 2:\n\t              r = {\n\t                _t: 'tradle.Organization',\n\t                _r: '0191ef415aa2ec76fb8ec8760b55112cadf573bc',\n\t                name: 'HSBC',\n\t                me: '31eb0b894cad3601adc76713d55a11c88e48b4a2'\n\t              };\n\t              break;\n\t            case 3:\n\t              r = {\n\t                _t: 'tradle.Organization',\n\t                _r: '96e460ca282d62e41d4b59c85b212d102d7a5a6e',\n\t                name: 'Lloyds',\n\t                me: 'b25da36eaf4b01b37fc2154cb1103eb5324a12345'\n\t              };\n\t              break;\n\t          }\n\t        } else {\n\t          r = JSON.parse(decodeURIComponent(params[1]));\n\t          if (!r[constants.TYPE]) r[constants.TYPE] = 'tradle.Organization';\n\t        }\n\t      }\n\t      var props = { modelName: 'tradle.Message' };\n\t\n\t      if (this.state.navigator) {\n\t        var currentRoutes = this.state.navigator.getCurrentRoutes();\n\t        var route = {\n\t          title: r.name || 'Chat',\n\t          backButtonTitle: 'Back',\n\t          component: MessageList,\n\t          id: 11,\n\t          passProps: {\n\t            resource: r, //{'_t': type, '_r': rId},\n\t            modelName: 'tradle.Message'\n\t          }\n\t        };\n\t        if (currentRoutes.length === 1) this.state.navigator.push(route);else this.state.navigator.replace(route);\n\t      } else {\n\t        this.setState({\n\t          initialRoute: {\n\t            title: r.name || 'Chat',\n\t            // backButtonTitle: 'Back',\n\t            component: MessageList,\n\t            id: 11,\n\t            passProps: {\n\t              resource: r, //{'_t': type, '_r': rId},\n\t              modelName: 'tradle.Message'\n\t            }\n\t          },\n\t          props: props\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'onNavigatorBeforeTransition',\n\t    value: function onNavigatorBeforeTransition(e) {\n\t      if (ReactPerf) ReactPerf.start();\n\t\n\t      Actions.startTransition();\n\t    }\n\t  }, {\n\t    key: 'onNavigatorAfterTransition',\n\t    value: function onNavigatorAfterTransition() {\n\t      if (ReactPerf) {\n\t        setTimeout(function () {\n\t          ReactPerf.stop();\n\t          ReactPerf.printWasted();\n\t        }, 500);\n\t      }\n\t\n\t      Actions.endTransition();\n\t    }\n\t  }, {\n\t    key: '_lockToPortrait',\n\t    value: function _lockToPortrait() {\n\t      if (!this._lockedOrientation) {\n\t        this._lockedOrientation = true;\n\t        _reactNativeOrientation2.default.lockToPortrait();\n\t      }\n\t    }\n\t  }, {\n\t    key: '_unlockOrientation',\n\t    value: function _unlockOrientation() {\n\t      if (this._lockedOrientation) {\n\t        this._lockedOrientation = false;\n\t        _reactNativeOrientation2.default.unlockAllOrientations();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      // style={{ position: 'absolute', left: 300}}\n\t      var nav = _react2.default.createElement(_reactNative.Navigator, {\n\t        style: styles.container,\n\t        initialRoute: this.state.initialRoute,\n\t        renderScene: this.renderScene.bind(this),\n\t        navigationBar: _react2.default.createElement(_reactNative.Navigator.NavigationBar, {\n\t          routeMapper: NavigationBarRouteMapper\n\t        }),\n\t        passProps: this.state.props,\n\t        configureScene: function configureScene(route) {\n\t          if (!utils.isWeb() && route.sceneConfig) return route.sceneConfig;\n\t\n\t          var config = utils.isWeb() ? _transitions2.default.NONE : _extends({}, _reactNative.Navigator.SceneConfigs.FloatFromRight, { springFriction: 26, springTension: 200 });\n\t\n\t          if (route.component === PasswordCheck) {\n\t            config.gestures = {};\n\t          }\n\t\n\t          return config;\n\t        }\n\t      });\n\t\n\t      return nav;\n\t    }\n\t    // return {...Navigator.SceneConfigs.FloatFromRight, springFriction:26, springTension:300};\n\t\n\t  }, {\n\t    key: 'renderScene',\n\t    value: function renderScene(route, nav) {\n\t      if (route.id === 1 || route.id === 20 || !utils.getMe() || !utils.getMe().isRegistered && route.id === 4) {\n\t        this._lockToPortrait();\n\t      } else {\n\t        this._unlockOrientation();\n\t      }\n\t\n\t      if (false) {\n\t        var displayName = route.component.displayName;\n\t        if (!displayName) {\n\t          if (typeof route.component === 'function') {\n\t            displayName = route.component.name || route.component.toString().match(/function (.*?)\\s*\\(/)[1];\n\t          }\n\t        }\n\t\n\t        // if (!displayName || displayName === 'exports') debugger\n\t\n\t        debug('navigating to ' + displayName);\n\t      }\n\t\n\t      var props = route.passProps;\n\t      if (!this.state.navigator) {\n\t        this._navListeners = [nav.navigationContext.addListener('willfocus', this.onNavigatorBeforeTransition), nav.navigationContext.addListener('didfocus', this.onNavigatorAfterTransition)];\n\t\n\t        this.state.navigator = nav;\n\t        _navs2.default.watch(nav);\n\t      }\n\t\n\t      switch (route.id) {\n\t        case 1:\n\t          return _react2.default.createElement(TimHome, _extends({ navigator: nav }, props));\n\t        case 2:\n\t          return _react2.default.createElement(ResourceTypesScreen, { navigator: nav,\n\t            modelName: props.modelName,\n\t            resource: props.resource,\n\t            returnRoute: props.returnRoute,\n\t            sendForm: props.sendForm,\n\t            callback: props.callback });\n\t        case 3:\n\t          return _react2.default.createElement(ResourceView, _extends({ navigator: nav }, props));\n\t        case 4:\n\t          return _react2.default.createElement(NewResource, _extends({ navigator: nav }, props));\n\t        case 5:\n\t          return _react2.default.createElement(MessageView, _extends({ navigator: nav }, props));\n\t        case 6:\n\t          return _react2.default.createElement(NewItem, _extends({ navigator: nav }, props));\n\t        case 7:\n\t          return _react2.default.createElement(ArticleView, { navigator: nav, url: props.url });\n\t        case 8:\n\t          return _react2.default.createElement(IdentitiesList, { navigator: nav,\n\t            filter: props.filter,\n\t            list: props.list,\n\t            callback: props.callback,\n\t            modelName: props.modelName });\n\t        case 9:\n\t          return _react2.default.createElement(ItemsList, _extends({ navigator: nav }, props));\n\t        case 11:\n\t          return _react2.default.createElement(MessageList, _extends({ navigator: nav }, props));\n\t        case 12:\n\t          return _react2.default.createElement(CameraView, _extends({ navigator: nav }, props));\n\t        // <CameraView navigator={nav}\n\t        //             onTakePic={props.onTakePic}\n\t        //             resource={props.resource}\n\t        //             prop={props.prop}/>\n\t        // case 13:\n\t        //   return <SelectPhotoList\n\t        //             metadata={props.metadata}\n\t        //             style={styles.style}\n\t        //             navigator={props.navigator}\n\t        //             onSelect={props.onSelect}\n\t        //             onSelectingEnd={props.onSelectingEnd} />\n\t\n\t        case 14:\n\t          return _react2.default.createElement(PhotoCarousel, props);\n\t        // case 15:\n\t        //   return <GridList navigator={nav}\n\t        //               filter={props.filter}\n\t        //               resource={props.resource}\n\t        //               prop={props.prop}\n\t        //               returnRoute={props.returnRoute}\n\t        //               callback={props.callback}\n\t        //               isAggregation={props.isAggregation}\n\t        //               sortProperty={props.sortProperty}\n\t        //               modelName={props.modelName} />;\n\t        case 15:\n\t          return _react2.default.createElement(ProductChooser, _extends({ navigator: nav }, props));\n\t        case 16:\n\t          return _react2.default.createElement(QRCodeScanner, { navigator: nav,\n\t            onread: props.onread });\n\t        case 17:\n\t          return _react2.default.createElement(QRCode, { navigator: nav,\n\t            content: props.content,\n\t            fullScreen: props.fullScreen,\n\t            dimension: props.dimension });\n\t        // case 18:\n\t        // return <VideoPlayer {...props} />\n\t        case 19:\n\t          return _react2.default.createElement(GridItemsList, _extends({ navigator: nav }, props));\n\t        case 20:\n\t          return _react2.default.createElement(PasswordCheck, _extends({ navigator: nav }, props));\n\t        case 21:\n\t          return _react2.default.createElement(TouchIDOptIn, _extends({ navigator: nav }, props));\n\t        case 22:\n\t          return _react2.default.createElement(EnumList, _extends({ navigator: nav }, props));\n\t        // case 23:\n\t        //   return <DashboardView navigator={nav} { ...props } />\n\t        case 10:\n\t        default:\n\t          // 10\n\t          return _react2.default.createElement(ResourceList, _extends({ navigator: nav }, props));\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return TiMApp;\n\t}(_react.Component);\n\t\n\tvar HIT_SLOP = { top: 10, right: 10, bottom: 10, left: 10 };\n\tvar NavigationBarRouteMapper = {\n\t  LeftButton: function LeftButton(route, navigator, index, navState) {\n\t    if (index === 0 || route.noLeftButton) return _react2.default.createElement(_reactNative.View, null);\n\t\n\t    var color = '#7AAAC3';\n\t    if (route.passProps.bankStyle && route.passProps.bankStyle.LINK_COLOR) color = route.passProps.bankStyle.LINK_COLOR;\n\t\n\t    var previousRoute = navState.routeStack[index - 1];\n\t    var lbTitle = 'backButtonTitle' in route ? route.backButtonTitle : previousRoute.title;\n\t    if (!lbTitle) return null;\n\t    var style = [_platform2.default.navBarText];\n\t    if (route.tintColor) style.push(route.tintColor);else {\n\t      style.push(styles.navBarButtonText);\n\t      var st = { color: color };\n\t      style.push(st);\n\t    }\n\t    style.push({ fontSize: utils.getFontSize(17) });\n\t    var title = lbTitle.indexOf('|') == -1 ? _react2.default.createElement(\n\t      _reactNative.Text,\n\t      { style: style },\n\t      lbTitle\n\t    ) : _react2.default.createElement(Icon, { name: lbTitle.substring(4), size: 20, color: '#7AAAC3', style: styles.icon });\n\t    if (route.component === ResourceList && index === 1 && navigator.getCurrentRoutes().length === 2) Actions.cleanup();\n\t\n\t    var status = _react2.default.createElement(_reactNative.View, null);\n\t    return _react2.default.createElement(\n\t      _reactNative.TouchableOpacity,\n\t      {\n\t        hitSlop: HIT_SLOP,\n\t        onPress: function onPress() {\n\t          return navigator.pop();\n\t        } },\n\t      _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: styles.navBarLeftButton },\n\t        status,\n\t        title\n\t      )\n\t    );\n\t  },\n\t  RightButton: function RightButton(route, navigator, index, navState) {\n\t    if (!route.rightButtonTitle) return _react2.default.createElement(_reactNative.View, null);\n\t    var style = [_platform2.default.navBarText, styles.navBarButtonText];\n\t    if (route.tintColor) style.push({ color: route.tintColor });else if (route.passProps.bankStyle) style.push({ color: route.passProps.bankStyle.LINK_COLOR || '#7AAAC3' });\n\t    style.push({ fontSize: utils.getFontSize(17) });\n\t    var title;\n\t    if (route.rightButtonTitle.indexOf('|') == -1) title = _react2.default.createElement(\n\t      _reactNative.Text,\n\t      { style: style },\n\t      route.rightButtonTitle\n\t    );else {\n\t      (function () {\n\t        var iconsList = route.rightButtonTitle.split('|');\n\t        var icons = [];\n\t        iconsList.forEach(function (i) {\n\t          icons.push(_react2.default.createElement(Icon, { name: i, key: i, size: 20, color: '#7AAAC3', style: styles.iconSpace }));\n\t        });\n\t\n\t        title = _react2.default.createElement(\n\t          _reactNative.View,\n\t          null,\n\t          icons\n\t        );\n\t      })();\n\t    }\n\t    return _react2.default.createElement(\n\t      _reactNative.View,\n\t      { style: { position: 'absolute', right: 0, flexDirection: 'row' } },\n\t      route.help ? _react2.default.createElement(\n\t        _reactNative.TouchableOpacity,\n\t        {\n\t          hitSlop: HIT_SLOP,\n\t          onPress: function onPress() {\n\t            return _reactNative.Alert.alert(translate(route.help));\n\t          } },\n\t        _react2.default.createElement(Icon, { name: 'ios-information-circle', key: 'ios-help', size: 20, color: '#29ABE2', style: [styles.iconSpace, { marginTop: 5 }] })\n\t      ) : _react2.default.createElement(_reactNative.View, null),\n\t      _react2.default.createElement(\n\t        _reactNative.TouchableOpacity,\n\t        {\n\t          hitSlop: HIT_SLOP,\n\t          onPress: function onPress() {\n\t            // 'Done' button case for creating new resources\n\t            if (typeof route.onRightButtonPress === 'function') {\n\t              route.onRightButtonPress();\n\t            } else if (route.onRightButtonPress.stateChange) {\n\t              if (route.onRightButtonPress.before) route.onRightButtonPress.before();\n\t              route.onRightButtonPress.stateChange();\n\t              if (route.onRightButtonPress.after) route.onRightButtonPress.after();\n\t            } else navigator.push(route.onRightButtonPress);\n\t          } },\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: [styles.navBarRightButton, route.help ? { paddingLeft: 5 } : { paddingLeft: 25 }] },\n\t          title\n\t        )\n\t      )\n\t    );\n\t  },\n\t\n\t  Title: function Title(route, navigator, index, navState) {\n\t    if (!route.title) return _react2.default.createElement(_reactNative.View, null);\n\t    var org;\n\t    if (route.passProps.modelName && route.passProps.modelName === 'tradle.Message' && route.passProps.resource.organization && route.passProps.resource && route.passProps.resource[constants.TYPE] === constants.TYPES.PROFILE)\n\t      // if (route.passProps.resource.organization  &&  route.passProps.resource.organization.photo)\n\t      //   org = <Image source={{uri: route.passProps.resource.organization.photo}} style={styles.orgImage} />\n\t      // if (route.passProps.resource.organization)\n\t      org = _react2.default.createElement(\n\t        _reactNative.Text,\n\t        { style: style },\n\t        ' - ',\n\t        route.passProps.resource.organization.title\n\t      );else org = _react2.default.createElement(_reactNative.View, null);\n\t\n\t    var style = [_platform2.default.navBarText, styles.navBarTitleText];\n\t    if (route.titleTextColor) style.push({ color: route.titleTextColor });\n\t    return _react2.default.createElement(\n\t      _reactNative.View,\n\t      null,\n\t      _react2.default.createElement(\n\t        _reactNative.Text,\n\t        { style: style },\n\t        route.title\n\t      ),\n\t      org\n\t    );\n\t  }\n\t\n\t};\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  icon: {\n\t    width: 20,\n\t    height: 20\n\t  },\n\t  iconSpace: {\n\t    paddingLeft: 3\n\t  },\n\t  container: {\n\t    flex: 1\n\t  },\n\t  navBarTitleText: {\n\t    color: '#2E3B4E',\n\t    fontWeight: '400',\n\t    fontSize: utils.getFontSize(17)\n\t  },\n\t  navBarLeftButton: {\n\t    paddingLeft: 10,\n\t    paddingRight: 25\n\t  },\n\t  navBarRightButton: {\n\t    paddingLeft: 25,\n\t    paddingRight: 10\n\t  },\n\t  navBarButtonText: {\n\t    color: '#7AAAC3'\n\t  }\n\t});\n\t\n\t_reactNative.AppRegistry.registerComponent('Tradle', function () {\n\t  return TiMApp;\n\t});\n\t\n\t// render() {\n\t//   var props = {db: this.state.db};\n\t//   return (\n\t//     <Navigator\n\t//       style={styles.container}\n\t//       initialRoute={{\n\t//         id: 1,\n\t//         title: 'Identity Finder',\n\t//         backButtonTitle: 'Back',\n\t//         titleTextColor: '#2E3B4E',\n\t//         component: SearchPage,\n\t//         passProps: {db: this.state.db},\n\t//       }}\n\t//       renderScene={this.renderScene}\n\t//       passProps={props}\n\t//       configureScene={(route) => {\n\t//         if (route.sceneConfig) {\n\t//           return route.sceneConfig;\n\t//         }\n\t//         return Navigator.SceneConfigs.FloatFromBottom;\n\t//       }}\n\t//     />\n\t//   );\n\t// }\n\t// componentDidMount() {\n\t//   var self = this;\n\t//   var db = this.state.db;\n\t// dbHasResources = false;\n\t// db.createReadStream({limit: 1})\n\t//   .on('data', function (data) {\n\t//     var m = data.value;\n\t//     dbHasResources = true;\n\t//     utils.loadModelsAndMe(db, models)\n\t//     .then(function(results) {\n\t//       self.state.isLoading = false;\n\t//     });\n\t//   })\n\t//   .on('error', function (err) {\n\t//     console.log('Oh my!', err.name + \": \" + err.message);\n\t//   })\n\t//   .on('close', function (err) {\n\t//     console.log('Stream closed');\n\t//   })\n\t//   .on('end', function () {\n\t//     console.log('Stream end');\n\t//     if (!dbHasResources)\n\t//       utils.loadDB(db);\n\t//   });\n\t// }\n\t\n\t\n\t// componentDidMount() {\n\t//   var self = this;\n\t//   var db = utils.getDb();\n\t//   var dbHasResources = false;\n\t//   db.createReadStream({limit: 1})\n\t//     .on('data', function (data) {\n\t//       var m = data.value;\n\t//       dbHasResources = true;\n\t//       utils.loadModelsAndMe(db, models)\n\t//       .then(function(results) {\n\t//         self.state.isLoading = false;\n\t//       });\n\t//     })\n\t//     .on('error', function (err) {\n\t//       console.log('Oh my!', err.name + \": \" + err.message);\n\t//     })\n\t//     .on('close', function (err) {\n\t//       console.log('Stream closed');\n\t//     })\n\t//     .on('end', function () {\n\t//       console.log('Stream end');\n\t//       if (!dbHasResources)\n\t//         utils.loadDB(db);\n\t//     });\n\t//   }\n\t\n\t// componentDidMount1() {\n\t//   var self = this;\n\t//   var db = this.state.db;\n\t//   this.loadModels(db, models)\n\t//   .then(function() {\n\t//     AddressBook.checkPermission((err, permission) => {\n\t//       // AddressBook.PERMISSION_AUTHORIZED || AddressBook.PERMISSION_UNDEFINED || AddressBook.PERMISSION_DENIED\n\t//       if(permission === AddressBook.PERMISSION_UNDEFINED){\n\t//         AddressBook.requestPermission((err, permission) => {\n\t//           self.storeContacts()\n\t//         })\n\t//       }\n\t//       else if(permission === AddressBook.PERMISSION_AUTHORIZED){\n\t//         self.storeContacts()\n\t//       }\n\t//       else if(permission === AddressBook.PERMISSION_DENIED){\n\t//         //handle permission denied\n\t//       }\n\t//     })\n\t//   });\n\t// }\n\t// storeContacts() {\n\t//   var self = this;\n\t//   AddressBook.getContacts(function(err, contacts) {\n\t//     self.props.db.createReadStream()\n\t//     .on('data', function(data) {\n\t//       if (data.key.indexOf(IDENTITY_MODEL + '_') == -1)\n\t//         return;\n\t//     })\n\t//     .on('close', function() {\n\t//       console.log('Stream closed');\n\t//       return me;\n\t//     })\n\t//     .on('end', function() {\n\t//       console.log('Stream ended');\n\t//     })\n\t//     .on('error', function(err) {\n\t//       console.log('err: ' + err);\n\t//     });\n\t//     console.log(contacts)\n\t//   })\n\t// }\n\t// The LATEST\n\t\n\t// render() {\n\t//   return (\n\t//     <NavigatorIOS\n\t//       style={styles.container}\n\t//       barTintColor='#D7E6ED'\n\t//       tintColor='#7AAAC3'\n\t//       initialRoute={{\n\t//         title: 'Trust in Motion',\n\t//         backButtonTitle: 'Back',\n\t//         titleTextColor: '#3f4c5f',\n\t//         component: SearchPage,\n\t//         passProps: {modelName: IDENTITY_MODEL},\n\t//       }}/>\n\t//   );\n\t// }\n\t// render1() {\n\t//   if (this.state.isLoading)\n\t//     return <View></View>;\n\t//   var passProps = {\n\t//     filter: '',\n\t//     models: models,\n\t//     modelName: IDENTITY_MODEL,\n\t//   };\n\t//   if (this.state.me) {\n\t//     passProps.me = this.state.me;\n\t//     return <NavigatorIOS\n\t//       style={styles.container}\n\t//       barTintColor='#D7E6ED'\n\t//       tintColor='#7AAAC3'\n\t//       initialRoute={{\n\t//         title: 'All Contacts',\n\t//         titleTextColor: '#7AAAC3',\n\t//         component: ResourceList,\n\t//         passProps: passProps\n\t//       }} />\n\t//   }\n\t//   else {\n\t//     var metadata = models[IDENTITY_MODEL].value;\n\t//     var page = {\n\t//       metadata: metadata,\n\t//       models: models,\n\t//       db: this.state.db,\n\t//     };\n\t\n\t//     return (\n\t//       <NavigatorIOS\n\t//         style={styles.container}\n\t//         barTintColor='#D7E6ED'\n\t//         tintColor='#7AAAC3'\n\t//         initialRoute={{\n\t//           title: 'Sign Up',\n\t//           backButtonTitle: 'Back',\n\t//           titleTextColor: '#7AAAC3',\n\t//           component: NewResource,\n\t//           passProps: {page: page},\n\t//         }}/>\n\t//     );\n\t//   }\n\t// }\n\n/***/ },\n\n/***/ 765:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar debug = __webpack_require__(766);\n\tif (false) {\n\t  console.ignoredYellowBox = ['jsSchedulingOverhead'];\n\t  debug.enable(['tradle:*', 'sendy*'].join(','));\n\t} else {\n\t  debug.disable();\n\t}\n\t\n\tmodule.exports = debug;\n\n/***/ },\n\n/***/ 769:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process, global) {'use strict';\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\t__webpack_require__(770).shim();\n\t\n\tif (_reactNative.Platform.OS !== 'web') {\n\t  if (false) global.__dirname = '/';\n\t  if (false) global.__filename = '';\n\t  if (typeof process === 'undefined') {\n\t    global.process = __webpack_require__(295);\n\t  } else {\n\t    var bProcess = __webpack_require__(295);\n\t    for (var p in bProcess) {\n\t      if (!(p in process)) {\n\t        process[p] = bProcess[p];\n\t      }\n\t    }\n\t  }\n\t  try {\n\t    window.navigator.userAgent = 'react-native';\n\t  } catch (err) {\n\t    // must be read-only\n\t  }\n\t\n\t  process.browser = false;\n\t  process.env['NODE_ENV'] =  false ? 'development' : 'production';\n\t\n\t  if (typeof btoa === 'undefined') global.btoa = __webpack_require__(797);\n\t\n\t  __webpack_require__(766).formatters.j = __webpack_require__(802);\n\t\n\t  // global.location = global.location || { port: 80 }\n\t}\n\t\n\tif (typeof localStorage !== 'undefined') {\n\t  localStorage.debug =  false ? 'tradle:*' : '';\n\t}\n\t\n\tprocess.on('exit', cleanup);\n\tprocess.on('SIGINT', cleanup);\n\tprocess.on('SIGTERM', cleanup);\n\tprocess.on('uncaughtException', function (err) {\n\t  console.log('Uncaught exception, caught in process catch-all: ' + err.message);\n\t  console.log(err.stack);\n\t});\n\t\n\tif (typeof global.Buffer === 'undefined') {\n\t  global.Buffer = __webpack_require__(803).Buffer;\n\t}\n\t\n\tfunction cleanup(err) {\n\t  console.log('cleanup', arguments);\n\t}\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(295), (function() { return this; }())))\n\n/***/ },\n\n/***/ 807:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(Buffer) {\"use strict\";\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\t// important that this comes before require('crypto')\n\tvar algos = __webpack_require__(808);\n\tif (!algos.sha256) {\n\t  algos.sha256 = {\n\t    \"sign\": \"ecdsa\",\n\t    \"hash\": \"sha256\",\n\t    \"id\": new Buffer(\"\")\n\t  };\n\t}\n\t\n\tif ((typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === 'object') {\n\t  if (!window.crypto) window.crypto = { getRandomValues: getRandomValues };\n\t}\n\t\n\tvar crypto = __webpack_require__(809);\n\tvar randomBytes = crypto.randomBytes;\n\tcrypto.randomBytes = function (size, cb) {\n\t  if (cb) return randomBytes.apply(crypto, arguments);\n\t\n\t  var arr = new Buffer(size);\n\t  getRandomValues(arr);\n\t  return arr;\n\t};\n\t\n\tcrypto.getRandomValues = crypto.getRandomValues || getRandomValues;\n\t\n\tfunction getRandomValues(arr) {\n\t  // console.warn('WARNING: generating insecure psuedorandom number')\n\t  for (var i = 0; i < arr.length; i++) {\n\t    arr[i] = Math.random() * 256 | 0;\n\t  }\n\t\n\t  return arr;\n\t}\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(798).Buffer))\n\n/***/ },\n\n/***/ 831:\n/***/ function(module, exports) {\n\n\t/* (ignored) */\n\n/***/ },\n\n/***/ 876:\n831,\n\n/***/ 934:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _utils = __webpack_require__(935);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tvar _Actions = __webpack_require__(1517);\n\t\n\tvar _Actions2 = _interopRequireDefault(_Actions);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar CodePush = !(false) && !_utils2.default.isSimulator() && !_utils2.default.isWeb() && __webpack_require__(1537);\n\tvar ON = false;\n\tvar CHECKING = void 0;\n\t// every 10 mins\n\tvar DEFAULT_INTERVAL = 10 * 60 * 1000;\n\tvar downloadedUpdate = false;\n\tvar currentSync = void 0;\n\tvar CODE_UPDATE_KEY = '~hascodeupdate';\n\t\n\t// remove on app start\n\t// in case the user restarted the app manually\n\t_reactNative.AsyncStorage.removeItem(CODE_UPDATE_KEY);\n\t\n\tmodule.exports = {\n\t  sync: sync,\n\t  on: on,\n\t  off: off,\n\t  hasUpdate: hasUpdate,\n\t  install: install\n\t};\n\t\n\tfunction hasUpdate() {\n\t  if (downloadedUpdate) return Promise.resolve(true);\n\t\n\t  return _reactNative.AsyncStorage.getItem(CODE_UPDATE_KEY).then(function (item) {\n\t    return downloadedUpdate = !!item;\n\t  }, function (err) {\n\t    return false;\n\t  });\n\t}\n\t\n\tfunction install() {\n\t  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n\t    alert: 'Installing update...',\n\t    delay: 3000\n\t  };\n\t  var alert = opts.alert;\n\t  var delay = opts.delay;\n\t\n\t  return _reactNative.AsyncStorage.getItem(CODE_UPDATE_KEY).then(function (item) {\n\t    if (!item) return;\n\t\n\t    return _reactNative.AsyncStorage.removeItem(CODE_UPDATE_KEY).then(function () {\n\t      if (alert) {\n\t        delay = delay || 3000;\n\t        _reactNative.Alert.alert(typeof alert === 'string' ? alert : 'installing update...');\n\t      }\n\t\n\t      if (delay) {\n\t        return _utils2.default.promiseDelay(delay);\n\t      }\n\t    }).then(function () {\n\t      return CodePush.restartApp();\n\t    });\n\t  });\n\t}\n\t\n\tfunction checkPeriodically(millis) {\n\t  if (CHECKING) return CHECKING;\n\t\n\t  millis = millis || DEFAULT_INTERVAL;\n\t  return CHECKING = sync().then(function () {\n\t    if (!downloadedUpdate) return loop();\n\t  });\n\t\n\t  function loop() {\n\t    return _utils2.default.promiseDelay(millis).then(function () {\n\t      return ON && checkPeriodically(millis);\n\t    });\n\t  }\n\t}\n\t\n\tfunction sync() {\n\t  if (!(CodePush && ON)) return Promise.resolve(false);\n\t  if (downloadedUpdate) return Promise.resolve(true);\n\t  if (currentSync) return currentSync;\n\t\n\t  return currentSync = CodePush.sync({\n\t    // use our own dialog below when the download completes\n\t    updateDialog: false,\n\t    installMode: CodePush.InstallMode.ON_NEXT_RESTART\n\t  }).then(function (syncStatus) {\n\t    if (syncStatus === CodePush.SyncStatus.UPDATE_INSTALLED) {\n\t      return _reactNative.AsyncStorage.setItem(CODE_UPDATE_KEY, '1').then(function () {\n\t        downloadedUpdate = true;\n\t        _Actions2.default.downloadedCodeUpdate();\n\t      });\n\t    }\n\t  }, function (err) {\n\t    return false;\n\t  }).then(function (result) {\n\t    currentSync = null;\n\t    return result;\n\t  });\n\t}\n\t\n\tfunction on(period) {\n\t  if (CodePush && !ON) {\n\t    ON = true;\n\t    checkPeriodically(period);\n\t  }\n\t}\n\t\n\tfunction off() {\n\t  if (CodePush) ON = false;\n\t}\n\n/***/ },\n\n/***/ 935:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global, Buffer) {'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _Storage = __webpack_require__(936);\n\t\n\tvar _Storage2 = _interopRequireDefault(_Storage);\n\t\n\tvar _reactNativeDeviceInfo = __webpack_require__(938);\n\t\n\tvar _reactNativeDeviceInfo2 = _interopRequireDefault(_reactNativeDeviceInfo);\n\t\n\tvar _reactNativePushNotification = __webpack_require__(939);\n\t\n\tvar _reactNativePushNotification2 = _interopRequireDefault(_reactNativePushNotification);\n\t\n\tvar _reactNativeKeychain = __webpack_require__(941);\n\t\n\tvar _reactNativeKeychain2 = _interopRequireDefault(_reactNativeKeychain);\n\t\n\tvar _env = __webpack_require__(942);\n\t\n\tvar _env2 = _interopRequireDefault(_env);\n\t\n\tvar _reactNativeOrient = __webpack_require__(944);\n\t\n\tvar _platformUtils = __webpack_require__(946);\n\t\n\tvar _platformUtils2 = _interopRequireDefault(_platformUtils);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\t// import Orientation from 'react-native-orientation'\n\t\n\t// var orientation = Orientation.getInitialOrientation()\n\t// Orientation.addOrientationListener(o => orientation = o)\n\t\n\tvar crypto = __webpack_require__(809);\n\tvar debug = __webpack_require__(766)('tradle:app:utils');\n\tvar Q = __webpack_require__(949);\n\tvar collect = __webpack_require__(987);\n\tvar typeforce = __webpack_require__(990);\n\tvar t = __webpack_require__(991);\n\t// var moment = require('moment');\n\tvar dateformat = __webpack_require__(1061);\n\tvar Backoff = __webpack_require__(1062);\n\tvar extend = __webpack_require__(1074);\n\tvar fetch = global.fetch || __webpack_require__(317);\n\tvar levelErrors = __webpack_require__(1075);\n\tvar Cache = __webpack_require__(1079);\n\tvar strMap = {\n\t  'Please fill out this form and attach a snapshot of the original document': 'fillTheFormWithAttachments',\n\t  'Please fill out this form': 'fillTheForm'\n\t\n\t};\n\tvar translatedStrings = {\n\t  en: __webpack_require__(1083),\n\t  nl: __webpack_require__(1084)\n\t};\n\t\n\tvar encryptionOpts = {\n\t  algorithm: 'aes-256-cbc',\n\t  ivBytes: 16\n\t};\n\t\n\tvar tradle = __webpack_require__(1085);\n\tvar protocol = tradle.protocol;\n\tvar tradleUtils = tradle.utils;\n\tvar constants = __webpack_require__(1348);\n\tvar TYPE = constants.TYPE;\n\tvar TYPES = constants.TYPES;\n\t\n\tvar VERIFICATION = constants.TYPES.VERIFICATION;\n\tvar CUR_HASH = constants.CUR_HASH;\n\tvar NONCE = constants.NONCE;\n\tvar ROOT_HASH = constants.ROOT_HASH;\n\tvar PREV_HASH = constants.PREV_HASH;\n\tvar SIG = constants.SIG;\n\tvar FORM = constants.TYPES.FORM;\n\tvar PASSWORD_ENC = 'hex';\n\t\n\tvar LocalizedStrings = __webpack_require__(1349);\n\tvar defaultLanguage = new LocalizedStrings({ en: {}, nl: {} }).getLanguage();\n\tvar dictionaries = __webpack_require__(1350).dict;\n\t\n\tvar strings = translatedStrings[defaultLanguage];\n\tvar dictionary = dictionaries[defaultLanguage];\n\t\n\tvar propTypesMap = {\n\t  'string': t.Str,\n\t  'boolean': t.Bool,\n\t  'date': t.Dat,\n\t  'number': t.Num\n\t};\n\tvar models, me;\n\tvar BACKOFF_DEFAULTS = {\n\t  randomisationFactor: 0,\n\t  initialDelay: 1000,\n\t  maxDelay: 60000\n\t};\n\t\n\tvar DEFAULT_FETCH_TIMEOUT = 5000;\n\tvar stylesCache = {};\n\t\n\tvar utils = {\n\t  isEmpty: function isEmpty(obj) {\n\t    for (var prop in obj) {\n\t      if (obj.hasOwnProperty(prop)) return false;\n\t    }\n\t    return true;\n\t  },\n\t  setMe: function setMe(meR) {\n\t    me = meR;\n\t    if (!me) return;\n\t\n\t    if (me.languageCode) {\n\t      strings = translatedStrings[me.languageCode];\n\t      if (me.dictionary) dictionary = me.dictionary;else if (dictionaries[me.languageCode]) dictionary = dictionaries[me.languageCode];\n\t    }\n\t    if (!strings) strings = translatedStrings[defaultLanguage];\n\t  },\n\t  getMe: function getMe() {\n\t    return me;\n\t  },\n\t  setModels: function setModels(modelsRL) {\n\t    models = modelsRL;\n\t  },\n\t  getModels: function getModels() {\n\t    return models;\n\t  },\n\t  getModel: function getModel(modelName) {\n\t    return models ? models[modelName] : null;\n\t  },\n\t  getDefaultLanguage: function getDefaultLanguage() {\n\t    return defaultLanguage;\n\t  },\n\t  translate: function translate() {\n\t    if (typeof (arguments.length <= 0 ? undefined : arguments[0]) === 'string') return utils.translateString.apply(utils, arguments);\n\t    if (arguments.length === 1) return utils.translateModel(arguments.length <= 0 ? undefined : arguments[0]);else return utils.translateProperty(arguments.length <= 0 ? undefined : arguments[0], arguments.length <= 1 ? undefined : arguments[1]);\n\t  },\n\t  translateProperty: function translateProperty(property, model) {\n\t    if (!dictionary) return property.title || utils.makeLabel(property.name);\n\t    var translations = dictionary.properties[property.name];\n\t    return translations ? translations[model.id] || translations.Default : property.title || utils.makeLabel(property.name);\n\t  },\n\t  translateModel: function translateModel(model) {\n\t    if (!dictionary) return model.title;\n\t    return dictionary.models[model.id] || model.title;\n\t  },\n\t  translateString: function translateString() {\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\t\n\t    if (!strings) return args[0];\n\t\n\t    var s = strings[args[0]];\n\t    if (!s) return args[0];\n\t\n\t    // if (args.length === 2  &&  typeof args[1] === 'object') {\n\t    //   let pos = 0\n\t    //   do {\n\t    //     let i1 = s.indexOf('{', pos)\n\t    //     if (i1 === -1)\n\t    //       break\n\t    //     let i2 = s.indexOf('}, i1')\n\t    //     if (i2 === -1)\n\t    //       break\n\t    //     s = s.substring(0, i1) + args[1][s.substring(i1 + 1, i2)] + s.substring(i2 + 1)\n\t    //   } while(true)\n\t    // }\n\t    // else\n\t    if (args.length > 1) {\n\t      for (var i = 1; i < args.length; i++) {\n\t        var insert = '{' + i + '}';\n\t        var idx = s.indexOf(insert);\n\t        if (idx === -1) continue;\n\t        s = s.substring(0, idx) + args[i] + s.substring(idx + insert.length);\n\t      }\n\t    }\n\t    return s ? s : args[0];\n\t  },\n\t  clone: function clone(resource) {\n\t    return JSON.parse(JSON.stringify(resource));\n\t  },\n\t  compare: function compare(r1, r2) {\n\t    if (!r1 || !r2) return r1 || r2 ? false : true;\n\t    var properties = utils.getModel(r1[TYPE]).value.properties;\n\t    var exclude = ['time', ROOT_HASH, CUR_HASH, PREV_HASH, NONCE, 'verifications', 'sharedWith'];\n\t    for (var p in r1) {\n\t      if (exclude.indexOf(p) !== -1) continue;\n\t      if (r1[p] === r2[p]) continue;\n\t      if (Array.isArray(r1[p])) {\n\t        if (!r2[p]) return false;\n\t        if (r1[p].length !== r2[p].length) return false;\n\t\n\t        var _loop = function _loop() {\n\t          var r = r1[i];\n\t          var found = r2.some(function (rr2) {\n\t            equal(r, rr2);\n\t          });\n\t          if (!found) return {\n\t              v: false\n\t            };\n\t        };\n\t\n\t        for (var i = 0; i < r1.length; i++) {\n\t          var _ret = _loop();\n\t\n\t          if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n\t        }\n\t      } else if (_typeof(r1[p]) === 'object') {\n\t        if (!r2[p]) return false;\n\t        if (properties[p].ref === TYPES.MONEY) {\n\t          if (r1[p].currency !== r2[p].currency) return false;\n\t          if (r1[p].value !== r1[p].value) return false;\n\t        } else if (utils.getId(r1[p]) !== utils.getId(r2[p])) return false;\n\t      } else if (r1[p] || r2[p]) return false;\n\t    }\n\t    return true;\n\t  },\n\t  getStringName: function getStringName(str) {\n\t    return strMap[str];\n\t  },\n\t  createAndTranslate: function createAndTranslate(s, isEnumValue) {\n\t    var stringName = s.replace(/\\w\\S*/g, function (txt) {\n\t      return isEnumValue ? txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase() : txt;\n\t    });\n\t    stringName = stringName.replace(/[^a-zA-Z0-9]/g, '');\n\t    // stringName = stringName.charAt(0).toLowerCase() + stringName.slice(1)\n\t    var t = utils.translate(stringName);\n\t    // return t !== stringName ? t : (isEnumValue ? s : utils.makeLabel(s))\n\t    return t !== stringName ? t : s;\n\t  },\n\t  makeLabel: function makeLabel(label) {\n\t    return label\n\t    // insert a space before all caps\n\t    .replace(/([A-Z])/g, ' $1')\n\t    // uppercase the first character\n\t    .replace(/^./, function (str) {\n\t      return str.toUpperCase();\n\t    });\n\t  },\n\t  arrayToObject: function arrayToObject(arr) {\n\t    if (!arr) return;\n\t\n\t    var obj = arr.reduce(function (o, v, i) {\n\t      o[v.trim()] = i;\n\t      return o;\n\t    }, {});\n\t    return obj;\n\t  },\n\t  objectToArray: function objectToArray(obj) {\n\t    if (!obj) return;\n\t\n\t    return Object.keys(obj).map(function (key) {\n\t      return obj[key];\n\t    });\n\t  },\n\t  getImplementors: function getImplementors(iModel, excludeModels) {\n\t    var implementors = [];\n\t    for (var p in models) {\n\t      var m = models[p].value;\n\t      if (excludeModels) {\n\t        var found = false;\n\t        for (var i = 0; i < excludeModels.length && !found; i++) {\n\t          if (p === excludeModels[i]) found = true;else {\n\t            var em = this.getModel(p).value;\n\t            if (em.subClassOf && em.subClassOf === excludeModels[i]) found = true;\n\t          }\n\t        }\n\t        if (found) continue;\n\t      }\n\t      if (m.interfaces && m.interfaces.indexOf(iModel) != -1) implementors.push(m);\n\t    }\n\t    return implementors;\n\t  },\n\t  getAllSubclasses: function getAllSubclasses(iModel) {\n\t    var subclasses = [];\n\t    for (var p in models) {\n\t      var m = models[p].value;\n\t      if (m.subClassOf && m.subClassOf === iModel) subclasses.push(m);\n\t    }\n\t    return subclasses;\n\t  },\n\t  getFontSize: function getFontSize(fontSize) {\n\t    return Math.floor(fontSize * (!_reactNative.PixelRatio.getFontScale() || _reactNative.PixelRatio.getFontScale() <= 3 ? _reactNative.Platform.OS === 'androis' ? 1 : 1.1 : _reactNative.PixelRatio.getFontScale() < 3.5 ? 0.95 : 0.87));\n\t  },\n\t  getId: function getId(r) {\n\t    if (typeof r === 'string') {\n\t      return r;\n\t      // var idArr = r.split('_');\n\t      // return idArr.length === 2 ? r : idArr[0] + '_' + idArr[1];\n\t    }\n\t    if (!r) debugger;\n\t    if (r.id) {\n\t      return r.id;\n\t      // var idArr = r.id.split('_');\n\t      // return idArr.length === 2 ? r.id : idArr[0] + '_' + idArr[1];\n\t    } else {\n\t      var m = utils.getModel(r[TYPE]);\n\t      if (m && (m.value.subClassOf === FORM || m.value.id === VERIFICATION)) return r[TYPE] + '_' + r[ROOT_HASH] + '_' + (r[CUR_HASH] || r[ROOT_HASH]);else return r[TYPE] + '_' + r[ROOT_HASH];\n\t    }\n\t  },\n\t  getItemsMeta: function getItemsMeta(metadata) {\n\t    var props = metadata.properties;\n\t    var required = utils.arrayToObject(metadata.required);\n\t    // if (!required)\n\t    //   return;\n\t    var itemsMeta = {};\n\t    for (var p in props) {\n\t      if (props[p].type == 'array') //  &&  required[p]) {\n\t        itemsMeta[p] = props[p];\n\t    }\n\t    return itemsMeta;\n\t  },\n\t  makeTitle: function makeTitle(resourceTitle, prop) {\n\t    return resourceTitle.length > 28 ? resourceTitle.substring(0, 28) + '...' : resourceTitle;\n\t  },\n\t  getDisplayName: function getDisplayName(resource, meta) {\n\t    if (!meta) {\n\t      if (resource.title) return resource.title;else meta = this.getModel(resource[TYPE]).value.properties;\n\t    }\n\t    var m = this.getModel(resource[TYPE]);\n\t    var displayName = '';\n\t    for (var p in meta) {\n\t      if (p.charAt(0) === '_') continue;\n\t      if (!meta[p].displayName) {\n\t        if (!displayName && m && resource[p] && m.value.subClassOf === 'tradle.Enum') return resource[p];\n\t        continue;\n\t      }\n\t      if (resource[p]) {\n\t        if (meta[p].type == 'object') {\n\t          var title = resource[p].title || this.getDisplayName(resource[p], utils.getModel(resource[p][TYPE]).value.properties);\n\t          displayName += displayName.length ? ' ' + title : title;\n\t        } else displayName += displayName.length ? ' ' + resource[p] : resource[p];\n\t      } else if (meta[p].displayAs) {\n\t        var dn = this.templateIt(meta[p], resource);\n\t        if (dn) displayName += displayName.length ? ' ' + dn : dn;\n\t      }\n\t    }\n\t    return displayName;\n\t  },\n\t  template: function template(t, o) {\n\t    return t.replace(/{([^{}]*)}/g, function (a, b) {\n\t      var r = o[b - 1];\n\t      return typeof r === 'string' || typeof r === 'number' ? r : a;\n\t    });\n\t  },\n\t  templateIt1: function templateIt1(prop, resource) {\n\t    var pgroup = prop.group;\n\t    var group = [];\n\t    var hasSetProps = void 0;\n\t    var m = this.getModel(resource[TYPE]);\n\t    for (var i = 0; i <= pgroup.length; i++) {\n\t      var p = pgroup[i];\n\t      var v = resource[p] ? resource[p] : '';\n\t      if (v) hasSetProps = true;\n\t      if ((typeof v === 'undefined' ? 'undefined' : _typeof(v)) === 'object') v = v.title ? v.title : utils.getDisplayName(v, this.getModel(props[p].ref).value.properties);\n\t      group.push(v);\n\t    }\n\t\n\t    if (hasSetProps) {\n\t      var s = this.template(prop.displayAs, group).trim();\n\t      s = s.replace(/[,\\s+,]+[,,]/g, ',');\n\t      if (s.charAt(0) === ',') s = s.replace(/,/, '');\n\t\n\t      if (s.charAt(s.length - 1) !== ',') return s;\n\t      var _i = s.length - 2;\n\t      while (s.charAt(_i) === ' ') {\n\t        _i--;\n\t      }_i = _i < s.length - 2 ? _i : s.length - 1;\n\t      return s.substring(0, _i);\n\t    }\n\t  },\n\t\n\t  // templateIt1(prop, resource) {\n\t  //   let pgroup = prop.group\n\t  //   let group = []\n\t  //   let hasSetProps\n\t  //   pgroup.forEach((p) => {\n\t  //     let v =  resource[p] ? resource[p] : ''\n\t  //     if (v)\n\t  //       hasSetProps = true\n\t  //     group.push(v)\n\t  //   })\n\t  //   if (!hasSetProps)\n\t  //     return\n\t  //   else\n\t  //     return this.template(prop.displayAs, group).trim()\n\t  // },\n\t\n\t  templateIt: function templateIt(prop, resource) {\n\t    var template = prop.displayAs;\n\t    if (typeof template === 'string') return this.templateIt1(prop, resource);\n\t    var val = '';\n\t    var self = this;\n\t    if (template instanceof Array) {\n\t      template.forEach(function (t) {\n\t        if (t.match(/[a-z]/i)) {\n\t          if (resource[t]) {\n\t            if (val && val.charAt(val.length - 1).match(/[a-z,]/i)) val += ' ';\n\t\n\t            if (_typeof(resource[t]) !== 'object') val += resource[t];else {\n\t              if (resource[t].title) val += resource[t].title;else {\n\t                var m = self.getModel(resource[t][TYPE]).value;\n\t                val += self.getDisplayName(resource[t], m.properties);\n\t              }\n\t            }\n\t          }\n\t        } else if (val.length && val.indexOf(t) != val.length - 1) val += t;\n\t      });\n\t    }\n\t    return val;\n\t  },\n\t  formatDate: function formatDate(date, noTime) {\n\t    // var dayDiff = moment(new Date()).dayOfYear() - moment(date).dayOfYear();\n\t    var date = new Date(date);\n\t    var now = new Date();\n\t\n\t    var dayDiff = Math.floor((now.getTime() - date.getTime()) / (3600 * 24 * 1000));\n\t    var noTime = true;\n\t    var val;\n\t    switch (dayDiff) {\n\t      case 0:\n\t        noTime = false;\n\t        val = dateformat(date, 'h:mm TT');\n\t        // val = moment(date).format('h:mA') //moment(date).fromNow();\n\t        break;\n\t      case 1:\n\t        noTime = false;\n\t        val = 'yesterday, ' + (noTime ? '' : dateformat(date, 'h:mm TT'));\n\t        // val = moment(date).format('[yesterday], h:mA');\n\t        break;\n\t      default:\n\t        val = dateformat(date, 'mmmm d, yyyy' + (noTime ? '' : ', h:MM TT'));\n\t      // val = moment(date).format('LL');\n\t    }\n\t    return val;\n\t  },\n\t\n\t  keyByValue: function keyByValue(map, value) {\n\t    for (var k in map) {\n\t      if (map[k] === value) return k;\n\t    }\n\t  },\n\t  splitMessage: function splitMessage(message) {\n\t    if (!message) return [];\n\t    var lBr = message.indexOf('[');\n\t    var msg;\n\t    if (lBr == -1) return [message];\n\t    var rBr = message.indexOf(']', lBr);\n\t    if (rBr == -1) return [message];\n\t    if (message.charAt(rBr + 1) != '(') return [message];\n\t    var rRoundBr = message.indexOf(')', rBr);\n\t    if (rRoundBr == -1) return [message];else {\n\t      if (lBr) return [message.substring(0, lBr), message.substring(lBr + 1, rBr), message.substring(rBr + 2, rRoundBr)];else return [message.substring(lBr + 1, rBr), message.substring(rBr + 2, rRoundBr)];\n\t    }\n\t  },\n\t  getImageUri: function getImageUri(url) {\n\t    if (!url) return null;\n\t    if (url.indexOf('data') === 0 || url.indexOf('assets-') === 0 || url.indexOf('http') === 0) return url;else if (url.indexOf('file:///') === 0) return url.replace('file://', '');else if (url.indexOf('../') === 0) return url;\n\t    // else if (url.indexOf('/var/mobile/') == 0)\n\t    //   return url;\n\t    else return 'http://' + url;\n\t  },\n\t  sendSigned: function sendSigned(driver, opts) {\n\t    if (opts.msg[TYPE] == 'tradle.SelfIntroduction') {\n\t      opts.public = true;\n\t    }\n\t\n\t    return driver.sign(opts.msg).then(function (signed) {\n\t      opts.msg = signed;\n\t      return driver.send(opts);\n\t    });\n\t  },\n\t  dedupeVerifications: function dedupeVerifications(list) {\n\t    var vFound = {};\n\t    var i = list.length;\n\t    while (i--) {\n\t      var r = list[i];\n\t      if (r[TYPE] !== VERIFICATION) continue;\n\t\n\t      var docType = r.document && r.document[TYPE];\n\t      if (!docType) continue;\n\t\n\t      var org = r.organization && r.organization.id;\n\t      if (!org) continue;\n\t\n\t      var vid = docType + org;\n\t      if (vFound[vid]) {\n\t        list.splice(i, 1);\n\t      } else {\n\t        vFound[vid] = true;\n\t      }\n\t    }\n\t  },\n\t  isMyMessage: function isMyMessage(r) {\n\t    var fromHash = utils.getId(r.from);\n\t    var me = utils.getMe();\n\t    if (fromHash == this.getId(me)) return true;\n\t    if (utils.getModel(r[TYPE]).value.subClassOf == 'tradle.MyProduct') {\n\t      var org = r.from.organization;\n\t      if (org && utils.getId(r.from.organization) !== utils.getId(this.props.to)) return true;\n\t    }\n\t  },\n\t  isVerifiedByMe: function isVerifiedByMe(resource) {\n\t    if (!resource.verifications) return false;\n\t    var lastAdditionalInfoTime, verifiedByMe;\n\t    if (resource.additionalInfo) {\n\t      resource.additionalInfo.forEach(function (r) {\n\t        if (lastAdditionalInfoTime && lastAdditionalInfoTime < r.time) lastAdditionalInfoTime = r.time;\n\t      });\n\t    }\n\t    /*\n\t    resource.verifications.forEach(function(r) {\n\t      var rh = r.from[ROOT_HASH];\n\t      if (!rh)\n\t        rh = utils.getId(r.from).split('_')[1];\n\t       if (rh === me[ROOT_HASH]  &&  (!lastAdditionalInfoTime  ||  lastAdditionalInfoTime < r.time))\n\t        verifiedByMe = true\n\t    });\n\t    */\n\t    return verifiedByMe;\n\t  },\n\t  optimizeResource: function optimizeResource(res) {\n\t    var properties = this.getModel(res[TYPE]).value.properties;\n\t    for (var p in res) {\n\t      if (p.charAt(0) === '_' || !properties[p]) continue;\n\t      if (properties[p].type === 'object') {\n\t        if (res[p] && res[p].id && res[p].title) continue;\n\t        if (properties[p].ref !== TYPES.MONEY) {\n\t          res[p] = {\n\t            id: this.getId(res[p]),\n\t            title: this.getDisplayName(res[p], properties)\n\t          };\n\t        }\n\t      } else if (properties[p].type === 'array' && properties[p].items.ref) {\n\t        var arr = [];\n\t        res[p].forEach(function (r) {\n\t          if (r.id) {\n\t            if (r.photo) delete r.photo;\n\t            arr.push(r);\n\t            return;\n\t          }\n\t          var rr = {};\n\t          rr.id = utils.getId(r);\n\t          var m = utils.getModel(r[TYPE]);\n\t          rr.title = utils.getDisplayName(r, m.properties);\n\t          arr.push(rr);\n\t        });\n\t        res[p] = arr;\n\t      }\n\t    }\n\t  },\n\t\n\t\n\t  /**\n\t   * fast but dangerous way to read a levelup\n\t   * it's dangerous because it relies on the underlying implementation\n\t   * of levelup and asyncstorage-down, and their respective key/value encoding sechemes\n\t   */\n\t  dangerousReadDB: function dangerousReadDB(db) {\n\t    // return new Promise((resolve, reject) => {\n\t    //   collect(db.createReadStream(), (err, data) => {\n\t    //     if (err) reject(err)\n\t    //     else resolve(data)\n\t    //   })\n\t    // })\n\t\n\t    if (_reactNative.Platform.OS === 'web') {\n\t      return new Promise(function (resolve, reject) {\n\t        collect(db.createReadStream(), function (err, results) {\n\t          if (err) reject(err);else resolve(results);\n\t        });\n\t      });\n\t    }\n\t\n\t    var prefix = db.location + '!';\n\t    // dangerous!\n\t    var keys = db.db._down.container._keys.slice();\n\t    if (!keys.length) return Promise.resolve([]);\n\t\n\t    return _Storage2.default.multiGet(keys.map(function (key) {\n\t      return prefix + key;\n\t    })).then(function (pairs) {\n\t      return pairs.filter(function (pair) {\n\t        return pair[1] != null;\n\t      }).map(function (pair) {\n\t        pair[1] = pair[1].slice(2);\n\t        try {\n\t          pair[1] = pair[1] && JSON.parse(pair[1]);\n\t        } catch (err) {}\n\t\n\t        return {\n\t          key: pair[0].slice(prefix.length + 2),\n\t          value: pair[1]\n\t        };\n\t      });\n\t    });\n\t  },\n\t  isEmployee: function isEmployee(resource) {\n\t    if (!me.isEmployee) return false;\n\t    var myId = this.getId(me.organization);\n\t    if (resource[TYPE] === TYPES.ORGANIZATION) return this.getId(resource) === myId ? true : false;\n\t    if (!resource.organization) return true;\n\t    if (utils.getId(resource.organization) === utils.getId(me.organization)) return true;\n\t  },\n\t  isVerifier: function isVerifier(resource, verification) {\n\t    var me = this.getMe();\n\t    if (!this.isEmployee(resource)) return false;\n\t    var model = this.getModel(resource[TYPE]).value;\n\t    if (!me.organization) return false;\n\t    if (model.subClassOf === TYPES.FORM) return utils.getId(me) === utils.getId(resource.to) && !utils.isVerifiedByMe(resource); // !verification  &&  utils.getId(resource.to) === utils.getId(me)  &&\n\t    else if (model.id === TYPES.VERIFICATION) return utils.getId(me) === utils.getId(resource.from);\n\t  },\n\t\n\t  // measure(component, cb) {\n\t  //   let handle = typeof component === 'number'\n\t  //     ? component\n\t  //     : findNodeHandle(component)\n\t\n\t  //   RCTUIManager.measure(handle, cb)\n\t  // },\n\t\n\t  scrollComponentIntoView: function scrollComponentIntoView(container, component) {\n\t    var handle = _platformUtils2.default.getNode(component);\n\t    var currentScrollOffset = container.getScrollOffset && container.getScrollOffset().y;\n\t    var scrollView = container.refs && container.refs.scrollView || container;\n\t    var scrollResponder = scrollView.getScrollResponder();\n\t    var additionalOffset = 120;\n\t    var autoScroll = void 0;\n\t    if (typeof currentScrollOffset === 'undefined') {\n\t      if (utils.isWeb()) currentScrollOffset = 0;else autoScroll = true;\n\t    }\n\t\n\t    setTimeout(function () {\n\t      if (autoScroll) {\n\t        _platformUtils2.default.autoScroll(scrollView, handle, additionalOffset);\n\t      } else {\n\t        manualScroll(scrollView, handle);\n\t      }\n\t    }, 50);\n\t\n\t    function manualScroll(scrollView, handle) {\n\t      _platformUtils2.default.measure(scrollView, handle, function (err, rect) {\n\t        if (err) {\n\t          debugger;\n\t          return;\n\t        }\n\t\n\t        // left,top,width,right describe the offset\n\t        // and size of the component we want to scroll into view\n\t        //\n\t        // currentScrollOffset is how far down we've scrolled already\n\t\n\t        var left = rect.left;\n\t        var top = rect.top;\n\t        var width = rect.width;\n\t        var height = rect.height;\n\t\n\t        var keyboardScreenY = _reactNative.Dimensions.get('window').height;\n\t        if (scrollResponder.keyboardWillOpenTo) {\n\t          keyboardScreenY = scrollResponder.keyboardWillOpenTo.endCoordinates.screenY;\n\t        }\n\t\n\t        // how much space we have from the component's bottom to the keyboard's top\n\t        // top + height\n\t        var componentBottomY = top + height;\n\t        var keyboardTopY = currentScrollOffset + keyboardScreenY;\n\t        var bottomExpansionNeeded = componentBottomY - keyboardTopY + additionalOffset;\n\t\n\t        var topExpansionNeeded = currentScrollOffset - top;\n\t        var scrollOffsetY = void 0;\n\t        if (bottomExpansionNeeded > 0) {\n\t          scrollOffsetY = currentScrollOffset + bottomExpansionNeeded;\n\t        } else if (topExpansionNeeded > 0) {\n\t          scrollOffsetY = currentScrollOffset - topExpansionNeeded;\n\t        } else {\n\t          return;\n\t        }\n\t\n\t        _platformUtils2.default.scrollTo(scrollView, 0, scrollOffsetY);\n\t      });\n\t    }\n\t  },\n\t  onNextTransitionStart: function onNextTransitionStart(navigator, fn) {\n\t    var remove = normalizeRemoveListener(navigator.navigationContext.addListener('willfocus', function () {\n\t      remove();\n\t      setTimeout(fn, 0);\n\t    }));\n\t\n\t    return remove;\n\t  },\n\t  onNextTransitionEnd: function onNextTransitionEnd(navigator, fn) {\n\t    var remove = normalizeRemoveListener(navigator.navigationContext.addListener('didfocus', function () {\n\t      remove();\n\t      setTimeout(fn, 0);\n\t    }));\n\t\n\t    return remove;\n\t  },\n\t\n\t\n\t  /**\n\t   * optimized multi-get from levelup\n\t   * @param  {Object} opts\n\t   * @param  {levelup} opts.db\n\t   * @param  {Array} opts.keys\n\t   * @param  {Boolean} opts.strict (optional) - if true, fail if any keys is not found\n\t   * @return {[type]}      [description]\n\t   */\n\t  multiGet: function multiGet(opts) {\n\t    var strict = opts.strict;\n\t    var loc = opts.db.location;\n\t    var keys = opts.keys;\n\t    return _Storage2.default.multiGet(keys.map(function (key) {\n\t      return loc + '!' + key;\n\t    })).then(function (results) {\n\t      if (strict) {\n\t        if (results.some(function (r) {\n\t          return !r[1];\n\t        })) {\n\t          throw new levelErrors.NotFoundError();\n\t        }\n\t\n\t        return results.map(parseDBValue);\n\t      } else {\n\t        return results.map(function (pair) {\n\t          return {\n\t            value: parseDBValue(pair),\n\t            reason: pair[1] ? null : new levelErrors.NotFoundError()\n\t          };\n\t        });\n\t      }\n\t    });\n\t  },\n\t  joinURL: function joinURL() {\n\t    for (var _len2 = arguments.length, parts = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t      parts[_key2] = arguments[_key2];\n\t    }\n\t\n\t    var first = parts.shift();\n\t    var rest = parts.join('/');\n\t    var addSlash;\n\t    if (first[first.length - 1] === '/') first = first.slice(0, -1);\n\t    if (rest[0] === '/') rest = rest.slice(1);\n\t\n\t    return first + '/' + rest;\n\t  },\n\t  promiseDelay: function promiseDelay(millis) {\n\t    return Q.Promise(function (resolve) {\n\t      setTimeout(resolve, millis);\n\t    });\n\t  },\n\t\n\t\n\t  // TODO: add maxTries\n\t  tryWithExponentialBackoff: function tryWithExponentialBackoff(fn, opts) {\n\t    opts = opts || {};\n\t    var backoff = Backoff.exponential(extend(BACKOFF_DEFAULTS, opts));\n\t    return fn().catch(backOffAndLoop);\n\t\n\t    function backOffAndLoop() {\n\t      var defer = Q.defer();\n\t      backoff.once('ready', defer.resolve);\n\t      backoff.backoff();\n\t      return defer.promise.then(fn).catch(backOffAndLoop);\n\t    }\n\t  },\n\t  fetchWithTimeout: function fetchWithTimeout(url, opts, timeout) {\n\t    return Q.race([fetch(url, opts), Q.Promise(function (resolve, reject) {\n\t      setTimeout(function () {\n\t        reject(new Error('timed out'));\n\t      }, timeout);\n\t    })]);\n\t  },\n\t  fetchWithBackoff: function fetchWithBackoff(url, opts, requestTimeout) {\n\t    return utils.tryWithExponentialBackoff(function () {\n\t      return utils.fetchWithTimeout(url, opts, requestTimeout || DEFAULT_FETCH_TIMEOUT);\n\t    });\n\t  },\n\t  normalizeCurrencySymbol: function normalizeCurrencySymbol(symbol) {\n\t    // TODO: remove this after fixing encoding bug\n\t    return symbol;\n\t    // return symbol ? (symbol === '¬' ? '€' : symbol) : symbol\n\t  },\n\t  isSimulator: function isSimulator() {\n\t    return _reactNativeDeviceInfo2.default.getModel() === 'Simulator';\n\t  },\n\t\n\t  toOldStyleWrapper: function toOldStyleWrapper(wrapper) {\n\t    if (!wrapper.permalink) return wrapper;\n\t\n\t    if (wrapper.object) {\n\t      var payload = wrapper.object[TYPE] === 'tradle.Message' ? wrapper.object.object : wrapper.object;\n\t      var link = protocol.linkString(payload);\n\t      wrapper[CUR_HASH] = link;\n\t      wrapper[ROOT_HASH] = payload[ROOT_HASH] || link;\n\t      wrapper.from = _defineProperty({}, ROOT_HASH, wrapper.author);\n\t      // wrapper.to = wrapper.author\n\t      wrapper.parsed = {\n\t        data: payload\n\t      };\n\t\n\t      wrapper[TYPE] = payload[TYPE];\n\t    } else if (wrapper.objectinfo) {\n\t      wrapper[CUR_HASH] = wrapper.objectinfo.link;\n\t      wrapper[ROOT_HASH] = wrapper.objectinfo.permalink;\n\t      wrapper[TYPE] = wrapper.objectinfo.type;\n\t    } else {\n\t      wrapper[CUR_HASH] = wrapper.link;\n\t      wrapper[ROOT_HASH] = wrapper.permalink;\n\t      wrapper[TYPE] = wrapper.type;\n\t    }\n\t\n\t    return wrapper;\n\t  },\n\t  setupSHACaching: function setupSHACaching(protocol) {\n\t    var merkle = protocol.DEFAULT_MERKLE_OPTS;\n\t    if (merkle._caching) return;\n\t\n\t    var cache = new Cache({ max: 500 });\n\t    protocol.DEFAULT_MERKLE_OPTS = {\n\t      _caching: true,\n\t      leaf: function leaf(a) {\n\t        var key = 'l:' + a.data.toString('hex');\n\t        var cached = cache.get(key);\n\t        if (cached) return cached;\n\t\n\t        var val = merkle.leaf(a);\n\t        cache.set(key, val);\n\t        return val;\n\t      },\n\t      parent: function parent(a, b) {\n\t        var key = 'p:' + a.hash.toString('hex') + b.hash.toString('hex');\n\t        var cached = cache.get(key);\n\t        if (cached) return cached;\n\t\n\t        var val = merkle.parent(a, b);\n\t        cache.set(key, val);\n\t        return val;\n\t      }\n\t    };\n\t  },\n\t\n\t  generateSalt: function generateSalt(opts) {\n\t    opts = opts || {};\n\t    var salt = crypto.randomBytes(opts.length || 32);\n\t    return opts.enc ? salt.toString(opts.enc) : salt;\n\t  },\n\t\n\t  hashPassword: function hashPassword(opts) {\n\t    if (typeof opts === 'string') opts = { password: opts };\n\t    // if (utils.isWeb()) {\n\t    //   const result = utils.kdf(opts)\n\t    //   return { hash: result.key, salt: result.salt }\n\t    // }\n\t\n\t    var salt = opts.salt || utils.generateSalt();\n\t    var saltStr = salt.toString(PASSWORD_ENC);\n\t    var hash = crypto.createHash('sha256').update(opts.password + saltStr).digest();\n\t\n\t    return { hash: hash, salt: salt };\n\t\n\t    // TODO: pbkdf2Sync with ~100000 iterations\n\t    // but currently kdf takes ~7 seconds for 10000!\n\t    // const result = utils.kdf(opts)\n\t    // return { hash: result.key, salt: result.salt }\n\t  },\n\t\n\t  kdf: function kdf(opts) {\n\t    if (typeof opts === 'string') opts = { password: opts };\n\t\n\t    var password = opts.password;\n\t    var salt = opts.salt || utils.generateSalt({ length: opts.saltBytes || 32 });\n\t    var iterations = opts.iterations || 10000;\n\t    var keyBytes = opts.keyBytes || 32;\n\t    var digest = opts.digest || 'sha256';\n\t    var key = crypto.pbkdf2Sync(password, salt, iterations, keyBytes, digest);\n\t    return { key: key, salt: salt };\n\t  },\n\t\n\t  setPassword: function setPassword(username, password) {\n\t    debug('saving password for username \"' + username + '\", service ' + _env2.default.serviceID);\n\t    return _reactNativeKeychain2.default.setGenericPassword(username, password, _env2.default.serviceID);\n\t  },\n\t\n\t  getPassword: function getPassword(username) {\n\t    return _reactNativeKeychain2.default.getGenericPassword(username, _env2.default.serviceID);\n\t  },\n\t\n\t  /**\n\t   * store hashed and salted password\n\t   * @param {[type]} username [description]\n\t   * @param {[type]} password [description]\n\t   */\n\t  setHashedPassword: function setHashedPassword(username, password) {\n\t    var result = utils.hashPassword({ password: password });\n\t    return utils.setPassword(username, result.hash.toString(PASSWORD_ENC) + result.salt.toString(PASSWORD_ENC));\n\t  },\n\t\n\t  getHashedPassword: function getHashedPassword(username) {\n\t    return utils.getPassword(username).then(function (encoded) {\n\t      var salt = encoded.slice(-64); // 32 bytes in hex\n\t      var hash = encoded.slice(0, encoded.length - 64);\n\t      return {\n\t        hash: new Buffer(hash, PASSWORD_ENC),\n\t        salt: new Buffer(salt, PASSWORD_ENC)\n\t      };\n\t    });\n\t  },\n\t\n\t  checkHashedPassword: function checkHashedPassword(username, password) {\n\t    return utils.getHashedPassword(username).then(function (stored) {\n\t      var hash = utils.hashPassword({\n\t        password: password,\n\t        salt: stored.salt\n\t      }).hash;\n\t\n\t      return stored.hash.equals(hash);\n\t    }).catch(function (err) {\n\t      return false;\n\t    });\n\t  },\n\t\n\t  encrypt: function encrypt(data, opts) {\n\t    opts = _extends({}, encryptionOpts, opts);\n\t    var key = opts.key;\n\t    var iv = opts.iv || crypto.randomBytes(opts.ivBytes);\n\t    var cipher = crypto.createCipheriv(opts.algorithm, key, iv);\n\t    var ciphertext = Buffer.concat([cipher.update(data), cipher.final()]);\n\t    var parts = [iv, ciphertext];\n\t\n\t    return serialize(parts);\n\t  },\n\t\n\t  decrypt: function decrypt(data, opts) {\n\t    opts = _extends({}, encryptionOpts, opts);\n\t    var parts = unserialize(data);\n\t    var iv = parts[0];\n\t    var ciphertext = parts[1];\n\t    var key = opts.key;\n\t    var decipher = crypto.createDecipheriv(opts.algorithm, key, iv);\n\t    var m = decipher.update(parts[1]);\n\t    return Buffer.concat([m, decipher.final()]);\n\t  },\n\t\n\t  resetPasswords: function resetPasswords() {\n\t    return Promise.all([_reactNativeKeychain2.default.resetGenericPasswords(), _reactNativeKeychain2.default.resetGenericPasswords(_env2.default.serviceID)]);\n\t  },\n\t  isAndroid: _env2.default.isAndroid,\n\t  isIOS: _env2.default.isIOS,\n\t  isWeb: _env2.default.isWeb,\n\t  fetch: fetch,\n\t  /* from react-native/Libraries/Utilities */\n\t  groupByEveryN: function groupByEveryN(array, n) {\n\t    var result = [];\n\t    var temp = [];\n\t\n\t    for (var i = 0; i < array.length; ++i) {\n\t      if (i > 0 && i % n === 0) {\n\t        result.push(temp);\n\t        temp = [];\n\t      }\n\t      temp.push(array[i]);\n\t    }\n\t\n\t    if (temp.length > 0) {\n\t      while (temp.length !== n) {\n\t        temp.push(null);\n\t      }\n\t      result.push(temp);\n\t    }\n\t\n\t    return result;\n\t  },\n\t\n\t  promiseThunky: function promiseThunky(fn) {\n\t    var promise = void 0;\n\t    return function () {\n\t      return promise ? promise : promise = fn.apply(this, arguments);\n\t    };\n\t  },\n\t\n\t  getTopNonAuthRoute: function getTopNonAuthRoute(navigator) {\n\t    var routes = navigator.getCurrentRoutes();\n\t    var top = void 0;\n\t    while (top = routes.pop()) {\n\t      if (!top || top.component.displayName !== 'PasswordCheck') break;\n\t    }\n\t\n\t    return top;\n\t  },\n\t  orientation: function (_orientation) {\n\t    function orientation() {\n\t      return _orientation.apply(this, arguments);\n\t    }\n\t\n\t    orientation.toString = function () {\n\t      return _orientation.toString();\n\t    };\n\t\n\t    return orientation;\n\t  }(function () {\n\t    // disallow PORTRAITUPSIDEDOWN\n\t    return orientation === 'PORTRAITUPSIDEDOWN' ? 'LANDSCAPE' : orientation.replace(/-LEFT|-RIGHT/, '');\n\t  }),\n\t  dimensions: function dimensions(Component) {\n\t    return (0, _reactNativeOrient.getDimensions)(Component);\n\t  },\n\t  styleFactory: function styleFactory(Component, create) {\n\t    if (!Component.displayName) throw new Error('component must have \"displayName\"');\n\t\n\t    return function () {\n\t      var key = Component.displayName;\n\t      if (!stylesCache[key]) {\n\t        stylesCache[key] = {};\n\t      }\n\t\n\t      var subCache = stylesCache[key];\n\t      var dimensions = (0, _reactNativeOrient.getDimensions)(Component);\n\t      var subKey = dimensions.width + 'x' + dimensions.height;\n\t      if (!subCache[subKey]) {\n\t        var orientation = (0, _reactNativeOrient.getOrientation)(Component);\n\t        var _dimensions = dimensions;\n\t        var width = _dimensions.width;\n\t        var height = _dimensions.height;\n\t\n\t        var switchWidthHeight = !utils.isWeb() && (orientation === 'PORTRAIT' && width > height || orientation === 'LANDSCAPE' && width < height);\n\t\n\t        if (switchWidthHeight) {\n\t          dimensions = { width: height, height: width };\n\t        }\n\t\n\t        subCache[subKey] = create({ dimensions: dimensions });\n\t      }\n\t\n\t      return subCache[subKey];\n\t    };\n\t  },\n\t\n\t  resized: function resized(props, nextProps) {\n\t    return props.orientation !== nextProps.orientation || props.width !== nextProps.width || props.height !== nextProps.height;\n\t  },\n\t  imageQuality: 0.2,\n\t  restartApp: function restartApp() {\n\t    if (utils.isWeb()) {\n\t      window.location.reload();\n\t    } else {\n\t      _reactNative.NativeModules.CodePush.restartApp(false);\n\t    }\n\t  },\n\t  readFile: _reactNative.Platform.OS == 'web' && function readFile(file, cb) {\n\t    var reader = new FileReader();\n\t    reader.addEventListener('load', function () {\n\t      cb(null, reader.result);\n\t    }, false);\n\t\n\t    reader.addEventListener('error', cb);\n\t    reader.readAsDataURL(file);\n\t  },\n\t\n\t  readImage: _reactNative.Platform.OS == 'web' && function readImage(file, cb) {\n\t    utils.readFile(file, function (err, dataUrl) {\n\t      var image = new window.Image();\n\t      image.addEventListener('error', function (err) {\n\t        if (!err) err = new Error('failed to load image');\n\t\n\t        cb(err);\n\t      });\n\t\n\t      image.addEventListener('load', function () {\n\t        cb(null, {\n\t          url: dataUrl,\n\t          width: image.width,\n\t          height: image.height\n\t        });\n\t      });\n\t\n\t      image.src = dataUrl;\n\t    });\n\t  },\n\t  printStack: tradleUtils.printStack.bind(tradleUtils)\n\t};\n\t\n\tfunction normalizeRemoveListener(addListenerRetVal) {\n\t  return function () {\n\t    if (addListenerRetVal.remove) {\n\t      addListenerRetVal.remove();\n\t    } else {\n\t      addListenerRetVal();\n\t    }\n\t  };\n\t}\n\t\n\t/**\n\t * recover Buffer objects\n\t * @param  {Object} json\n\t * @return {Object} json with recovered Buffer-valued properties\n\t */\n\tfunction rebuf(json) {\n\t  if (Object.prototype.toString.call(json) !== '[object Object]') return json;\n\t\n\t  if (json && json.type === 'Buffer' && json.data && !Buffer.isBuffer(json) && Object.keys(json).length === 2) {\n\t    return new Buffer(json.data);\n\t  } else {\n\t    for (var p in json) {\n\t      json[p] = rebuf(json[p]);\n\t    }\n\t\n\t    return json;\n\t  }\n\t}\n\t\n\tfunction parseDBValue(pair) {\n\t  return pair[1] && rebuf(JSON.parse(pair[1]));\n\t}\n\t\n\tfunction serialize(buffers) {\n\t  var parts = [],\n\t      idx = 0;\n\t  buffers.forEach(function (part) {\n\t    var len = Buffer(4);\n\t    if (typeof part === 'string') part = Buffer(part);\n\t    len.writeUInt32BE(part.length, 0);\n\t    parts.push(len);\n\t    idx += len.length;\n\t    parts.push(part);\n\t    idx += part.length;\n\t  });\n\t\n\t  return Buffer.concat(parts);\n\t}\n\t\n\tfunction unserialize(buf) {\n\t  var parts = [];\n\t  var l = buf.length,\n\t      idx = 0;\n\t  while (idx < l) {\n\t    var dlen = buf.readUInt32BE(idx);\n\t    idx += 4;\n\t    var start = idx;\n\t    var end = start + dlen;\n\t    var part = buf.slice(start, end);\n\t    parts.push(part);\n\t    idx += part.length;\n\t  }\n\t\n\t  return parts;\n\t}\n\t\n\tmodule.exports = utils;\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }()), __webpack_require__(798).Buffer))\n\n/***/ },\n\n/***/ 936:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tmodule.exports = __webpack_require__(937);\n\n/***/ },\n\n/***/ 937:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tmodule.exports = __webpack_require__(319).AsyncStorage;\n\n/***/ },\n\n/***/ 941:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar prefix = '~keychain';\n\t\n\tmodule.exports = {\n\t  setGenericPassword: function setGenericPassword(username, password, service) {\n\t    return _reactNative.AsyncStorage.setItem(prefix + service + '.' + username, password);\n\t  },\n\t  getGenericPassword: function getGenericPassword(username, service) {\n\t    return _reactNative.AsyncStorage.getItem(prefix + service + '.' + username);\n\t  },\n\t  resetGenericPassword: function resetGenericPassword(username, service) {\n\t    return _reactNative.AsyncStorage.removeItem(prefix + service + '.' + username);\n\t  },\n\t  resetGenericPasswords: function resetGenericPasswords(username, service) {\n\t    return _reactNative.AsyncStorage.getAllKeys().then(function (keys) {\n\t      return keys.filter(function (k) {\n\t        return k.indexOf(prefix) === 0;\n\t      });\n\t    }).then(function (keys) {\n\t      return _reactNative.AsyncStorage.multiRemove(keys);\n\t    });\n\t  }\n\t};\n\n/***/ },\n\n/***/ 942:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar LOCAL_IP = __webpack_require__(943);\n\t\n\tmodule.exports = {\n\t  GCM_SENDER_ID: '633104277721',\n\t  serviceID: 'tradle',\n\t  accessGroup: '94V7783F74.io.tradle.dev',\n\t  LOCAL_IP: LOCAL_IP,\n\t  isAndroid: function isAndroid() {\n\t    return _reactNative.Platform.OS === 'android';\n\t  },\n\t  isIOS: function isIOS() {\n\t    return _reactNative.Platform.OS === 'ios';\n\t  },\n\t  isWeb: function isWeb() {\n\t    return _reactNative.Platform.OS === 'web';\n\t  }\n\t};\n\n/***/ },\n\n/***/ 943:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"localhost\";\n\n/***/ },\n\n/***/ 946:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tmodule.exports = _reactNative.Platform.OS === 'web' ? __webpack_require__(947) : __webpack_require__(948);\n\n/***/ },\n\n/***/ 947:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _reactDom = __webpack_require__(361);\n\t\n\tvar _reactDom2 = _interopRequireDefault(_reactDom);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tmodule.exports = {\n\t  getNode: function getNode(component) {\n\t    return typeof component === 'number' ? component : _reactDom2.default.findDOMNode(component);\n\t  },\n\t  measure: function measure(scrollView, domNode, cb) {\n\t    cb(null, domNode.getBoundingClientRect());\n\t  },\n\t  scrollTo: function scrollTo(scrollView, x, y) {\n\t    scrollView.scrollTo({ x: x, y: y });\n\t  }\n\t};\n\n/***/ },\n\n/***/ 948:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar RCTUIManager = _reactNative.NativeModules.UIManager;\n\t\n\tmodule.exports = {\n\t  getNode: function getNode(component) {\n\t    return typeof component === 'number' ? component : (0, _reactNative.findNodeHandle)(component);\n\t  },\n\t  autoScroll: function autoScroll(scrollView, toHandle, additionalOffset) {\n\t    // debugger\n\t    var scrollResponder = scrollView.getScrollResponder();\n\t    scrollResponder.scrollResponderScrollNativeHandleToKeyboard((0, _reactNative.findNodeHandle)(toHandle), additionalOffset, true);\n\t  },\n\t  measure: function measure(scrollView, handle, cb) {\n\t    RCTUIManager.measureLayout(handle, (0, _reactNative.findNodeHandle)(scrollView.getInnerViewNode()), cb, function (left, top, width, height) {\n\t      cb(null, { left: left, top: top, width: width, height: height });\n\t    });\n\t  },\n\t  scrollTo: function scrollTo(scrollView, x, y) {\n\t    var scrollResponder = scrollView.getScrollResponder();\n\t    scrollResponder.scrollResponderScrollTo({ x: x, y: y, animated: true });\n\t  }\n\t};\n\n/***/ },\n\n/***/ 1083:\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"officialAccounts\": \"Official Accounts\",\n\t\t\"back\": \"Back\",\n\t\t\"profile\": \"Profile\",\n\t\t\"done\": \"Done\",\n\t\t\"edit\": \"Edit\",\n\t\t\"settings\": \"Settings\",\n\t\t\"theMinValueBiggerThenMaxValue\": \"The min value for the range should be smaller then the max value\",\n\t\t\"thePropertyWithMinMaxRangeError\": \"The property with [min-max] range can have only two numbers\",\n\t\t\"invalidProperty\": \"Invalid {1}\",\n\t\t\"optional\": \"optional\",\n\t\t\"thisFieldIsRequired\": \"This field is required\",\n\t\t\"pleaseDrawPassword\": \"Please draw a gesture password\",\n\t\t\"drawYourPassword\": \"Draw your gesture password\",\n\t\t\"drawYourPasswordAgain\": \"Draw your gesture password again\",\n\t\t\"drawYourNewPassword\": \"Draw your new gesture password\",\n\t\t\"drawYourNewPasswordAgain\": \"Draw your new gesture password again\",\n\t\t\"drawYourOldPassword\": \"Draw your old gesture password\",\n\t\t\"gestureNotRecognized\": \"Gesture not recognized, please try again\",\n\t\t\"passwordLimitations\": \"Password must have 5 or more points\",\n\t\t\"invalidPattern\": \"Invalid pattern, please try again\",\n\t\t\"patternNotMatching\": \"The gestures didn't match. Please start again\",\n\t\t\"wrongPattern\": \"Wrong pattern\",\n\t\t\"correctGesture\": \"Correct gesture detected\",\n\t\t\"authenticationFailed\": \"Authentication failed\",\n\t\t\"setPassword\": \"Choose a secure password\",\n\t\t\"enterPassword\": \"Enter your password\",\n\t\t\"enterCurrentPassword\": \"Enter your current password\",\n\t\t\"setNewPassword\": \"Choose a new password\",\n\t\t\"textPasswordLimitations\": \"Must have 10+ characters, at least one uppercase letter, lowercase letter, number, and special character\",\n\t\t\"tooManyPasswordAttempts\": \"Too many failed attempts! This form has been disabled.\",\n\t\t\"correctPassword\": \"Aww, you remembered!\",\n\t\t\"passwordsDontMatch\": \"Passwords don't match\",\n\t\t\"pleaseRestartTIM\": \"Please restart TiM\",\n\t\t\"cancel\": \"Cancel\",\n\t\t\"details\": \"Details\",\n\t\t\"enterYourName\": \"Enter your name\",\n\t\t\"addServerUrl\": \"Add server url\",\n\t\t\"search\": \"Search\",\n\t\t\"listOfProducts\": \"Click for a list of products\",\n\t\t\"hello\": \"Hello {1}!\",\n\t\t\"testForgetMe\": \"This is a test mechanism to reset all communications with this provider\",\n\t\t\"confirmForgetMe\": \"Are you sure you want '{1}' to forget you\",\n\t\t\"forgetMe\": \"Forget me\",\n\t\t\"iNeed\": \"I need...\",\n\t\t\"LivingWithParents\": \"Living with parents\",\n\t\t\"HomeOwnerWithMortgage\": \"Home owner (with mortgage)\",\n\t\t\"HomeOwnerWithoutMortgage\": \"Home owner (without mortgage)\",\n\t\t\"TenantPrivate\": \"Tenant (private)\",\n\t\t\"TenantCounsel\": \"Tenant (counsel)\",\n\t\t\"BenefitPayments\": \"Benefit Payments\",\n\t\t\"BillsExpenses\": \"Bills / Expenses\",\n\t\t\"CapitalRaisingScottishWidowsBank\": \"Capital Raising ( Scottish Widows Bank )\",\n\t\t\"Inheritance\": \"Inheritance\",\n\t\t\"ProbateExecutorTrustee\": \"Probate / Executor / Trustee\",\n\t\t\"SalaryPensionOtherRegularIncome\": \"Salary / Pension / Other Regular Income\",\n\t\t\"Savings\": \"Savings\",\n\t\t\"SpendingMoney\": \"Spending Money\",\n\t\t\"Student\": \"Student\",\n\t\t\"Home\": \"Home\",\n\t\t\"Mobile\": \"Mobile\",\n\t\t\"Work\": \"Work\",\n\t\t\"newProduct\": \"New product\",\n\t\t\"tapToRemovePhotos\": \"Tap to remove photos\",\n\t\t\"addNew\": \"Add new {1}\",\n\t\t\"switchToRepresentative\": \"Switching to representative mode is not yet implemented.\",\n\t\t\"fillTheForm\": \"Please fill out this form\",\n\t\t\"fillTheFormWithAttachments\": \"Please fill out this form and attach a snapshot of the original document\",\n\t\t\"verifiedBy\": \"Verified by {1}\",\n\t\t\"issuedBy\": \"Issued by {1}\",\n\t\t\"sentTo\": \"Sent to {1}\",\n\t\t\"typeMessage\": \"Type a message\",\n\t\t\"newProductMsg\": \"I need a {1}.\",\n\t\t\"shareOne\": \"{1}, this is your personal privacy assistant. I see you've already had your {2} verified. You can tap below to share it with {3}.\",\n\t\t\"shareOneOfMany\": \"{1}, this is your personal privacy assistant. I see you've already had your {2} verified. You can tap on any items in the list below to share them with {3}.\",\n\t\t\"verificationTransactionID\": \"Verification Transaction Id\",\n\t\t\"scanQRcode\": \"Scan QR code\",\n\t\t\"setDateValue\": \"Set\",\n\t\t\"add\": \"Add {1}\",\n\t\t\"myDocuments\": \"My Documents\",\n\t\t\"confirmRevoke\": \"Ask {1} to delete this document from their records?\",\n\t\t\"shareProduct\": \"You can tap below to share {1} with {2}\",\n\t\t\"shareMyProduct\": \"You can tap below to share {1} with {2}\",\n\t\t\"willBeAvailable\": \"This functionality will be available soon\",\n\t\t\"switchTouchIdOff\": \"Switch touch ID off\",\n\t\t\"switchTouchIdOn\": \"Switch touch ID on\",\n\t\t\"noConnection\": \"Tradle requires a working internet connection which you don't have at the moment\",\n\t\t\"noConnectionWillProcessLater\": \"Tradle requires a working internet connection which you don't have at the moment. The request will be processed when connection returns\",\n\t\t\"noConnectionForPL\": \"Tradle requires a working internet connection to request a list of products from {1} which you don't have at the moment\",\n\t\t\"noConnectionForNewProduct\": \"{1}, Tradle requires a working internet connection to fill out the {2} application.\",\n\t\t\"inProgress\": \"Your request is in progress\",\n\t\t\"newContactRequest\": \"{1} sent you contact request\",\n\t\t\"howCanIHelpYou\": \"Hello {1}. My name is {2}. How can I help you today?\",\n\t\t\"pleaseCorrectTheErrors\": \"Please correct error in the form\",\n\t\t\"verifierHelp\": \"Click 'Done' button after reviewing the form. If some fields require correction check them them first and then click the 'Done' button\",\n\t\t\"errorNotification\": \"Error notification has been sent to the customer to correct\",\n\t\t\"addAnotherFormOrGetNext\": \"Add another {1} or move on to the next form\",\n\t\t\"getNextForm\": \"Next\",\n\t\t\"addSameForm\": \"Add\",\n\t\t\"areYouSureAboutNextForm\": \"Are you sure you are done with {1}?\",\n\t\t\"formChooser\": \"Form list\",\n\t\t\"showQR\": \"My QR code\",\n\t\t\"useTouchId\": \"Use Touch ID\",\n\t\t\"useGesturePassword\": \"Use Gesture Password\",\n\t\t\"useTouchIdAndGesturePassword\": \"Use Touch ID and Gesture\",\n\t\t\"changeGesturePassword\": \"Change gesture password\",\n\t\t\"changePassword\": \"Change password\",\n\t\t\"touchIdOn\": \"Touch ID is ON\",\n\t\t\"passwordOn\": \"Gesture Password is ON\",\n\t\t\"bothOn\": \"Both are ON\",\n\t\t\"turnTouchIdOn\": \"Turn touch ID on\",\n\t\t\"turnPasswordOn\": \"Turn Gesture Password on\",\n\t\t\"turnBothOn\": \"Turn Both on\",\n\t\t\"pairDevices\": \"Pair devices\",\n\t\t\"learnMore\": \"Learn more\",\n\t\t\"offlineMode\": \"Offline Mode\",\n\t\t\"learnMoreDescriptionTo\": \"You can still write messages in Offline Mode even though your device is not connected. When you reconnect all your messages will be automatically sent to {1}.\",\n\t\t\"noNetwork\": \"No network\",\n\t\t\"learnMoreDescription\": \"You can still write messages in Offline Mode even though your device is not connected. When you reconnect all your messages will be automatically sent.\",\n\t\t\"shareChangesWith\": \"Share changes with\",\n\t\t\"nothingChanged\": \"Nothing changed\",\n\t\t\"en\": \"English\",\n\t\t\"nl\": \"Dutch\",\n\t\t\"submittingForm\": \"Submittted new {1}\",\n\t\t\"submittingModifiedForm\": \"Modifying {1}\",\n\t\t\"receivedProduct\": \"Received {1}\",\n\t\t\"receivedVerification\": \"Received verification for {1}\",\n\t\t\"formRequest\": \"Request for {1}\",\n\t\t\"sharedForm\": \"Shared {1} from {2}\",\n\t\t\"youAreForgotten\": \"You've been successfully forgotten\",\n\t\t\"invalidPairingRequest\": \"Invalid Pairing Request\",\n\t\t\"pairingRequest\": \"Pairing Request\",\n\t\t\"deviceDoesNotHaveMyKeys\": \"Received identity does not have my keys\",\n\t\t\"pairingRequestWasProcesseed\": \"Pairing request was processed\",\n\t\t\"youShared\": \"You shared from {1}\",\n\t\t\"termsAndConditions\": \"Terms and conditions.\",\n\t\t\"acceptTermsAndConditions\": \"View terms and conditions\",\n\t\t\"acceptingTermsAndConditions\": \"By pressing OK, you accept the Terms and Conditions\",\n\t\t\"viewTerms\": \"Please view the Terms and Conditions\",\n\t\t\"wipeDevice\": \"Wipe device\",\n\t\t\"areYouSureAboutWipe\": \"This action is irreversible. You will lose all your data and private keys. Are you sure you want to proceed?\"\n\t};\n\n/***/ },\n\n/***/ 1084:\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"officialAccounts\": \"Officiële Accounts\",\n\t\t\"back\": \"Terug\",\n\t\t\"profile\": \"Profiel\",\n\t\t\"done\": \"Klaar\",\n\t\t\"edit\": \"Bewerk\",\n\t\t\"settings\": \"Settings\",\n\t\t\"theMinValueBiggerThenMaxValue\": \"The min value for the range should be smaller then the max value\",\n\t\t\"thePropertyWithMinMaxRangeError\": \"The property with [min-max] range can have only two numbers\",\n\t\t\"invalidProperty\": \"Invalid {property}\",\n\t\t\"optional\": \"onverplicht\",\n\t\t\"thisFieldIsRequired\": \"Dit veld is verplicht\",\n\t\t\"pleaseDrawPassword\": \"Gelieve te trekken een gebaar wachtwoord\",\n\t\t\"drawYourPassword\": \"Trek je gebaar wachtwoord\",\n\t\t\"gestureNotRecognized\": \"Gebaar niet herkend, probeer het opnieuw\",\n\t\t\"pleaseDrawPattern\": \"Please draw a pattern\",\n\t\t\"drawYourPattern\": \"Teken uw patroon\",\n\t\t\"pleaseDrawYourPatternAgain\": \"Please draw your pattern again\",\n\t\t\"passwordLimitations\": \"Password must have 5 or more points\",\n\t\t\"invalidPattern\": \"Invalid pattern, please try again\",\n\t\t\"patternNotMatching\": \"Patterns didn\\\\'t match. Please start again\",\n\t\t\"wrongPattern\": \"Wrong pattern\",\n\t\t\"correctGesture\": \"Correct gesture detected\",\n\t\t\"authenticationFailed\": \"Authentication failed\",\n\t\t\"pleaseRestartTIM\": \"Please restart TiM\",\n\t\t\"cancel\": \"Annuleren\",\n\t\t\"details\": \"Details\",\n\t\t\"addServerUrl\": \"Add server url\",\n\t\t\"search\": \"Zoeken\",\n\t\t\"listOfProducts\": \"Klik hier voor een lijst van producten\",\n\t\t\"hello\": \"Hallo {1}!\",\n\t\t\"testForgetMe\": \"This is a test mechanism to reset all communications with this provider\",\n\t\t\"confirmForgetMe\": \"Bent u zeker dat u willen {1} om u te vergeten\",\n\t\t\"forgetMe\": \"Vergeet me\",\n\t\t\"iNeed\": \"Ik heb nodig\",\n\t\t\"LivingWithParents\": \"Leven met ouders\",\n\t\t\"HomeOwnerWithMortgage\": \"Home owner (with mortgage)\",\n\t\t\"HomeOwnerWithoutMortgage\": \"Home owner (without mortgage)\",\n\t\t\"TenantPrivate\": \"Tenant (private)\",\n\t\t\"TenantCounsel\": \"Tenant (counsel)\",\n\t\t\"BenefitPayments\": \"Benefit Payments\",\n\t\t\"BillsExpenses\": \"Bills / Expenses\",\n\t\t\"CapitalRaisingScottishWidowsBank\": \"Capital Raising ( Scottish Widows Bank )\",\n\t\t\"Inheritance\": \"Inheritance\",\n\t\t\"ProbateExecutorTrustee\": \"Probate / Executor / Trustee\",\n\t\t\"SalaryPensionOtherRegularIncome\": \"Salary / Pension / Other Regular Income\",\n\t\t\"Savings\": \"Savings\",\n\t\t\"SpendingMoney\": \"Spending Money\",\n\t\t\"Student\": \"Student\",\n\t\t\"Home\": \"Thuis\",\n\t\t\"Mobile\": \"Mobiel\",\n\t\t\"Work\": \"Werk\",\n\t\t\"newProduct\": \"New product\",\n\t\t\"shareOne\": \"{1}, dit is uw persoonlijke privacy assistent. Ik zie dat je al hebt uw {2} geverifieerd. U kunt hieronder tikken op het te delen met {3}.\",\n\t\t\"shareOneOfMany\": \"{1}, dit is uw persoonlijke privacy assistent. Ik zie dat je al hebt gehad uw {2} geverifieerd. U kunt tikken op alle items in de lijst hieronder om ze te delen met {3}.\",\n\t\t\"Share\": \"Delen\",\n\t\t\"tapToRemovePhotos\": \"Tap to remove photos\",\n\t\t\"addNew\": \"Add new {1}\",\n\t\t\"switchToRepresentative\": \"Switching to representative mode is not yet implemented.\",\n\t\t\"fillTheForm\": \"Vul dit formulier in en voeg een momentopname van het originele document\",\n\t\t\"verifiedBy\": \"Geverifieërd door {1}\",\n\t\t\"issuedBy\": \"Issued by {1}\",\n\t\t\"sentTo\": \"Sent to {1}\",\n\t\t\"typeMessage\": \"Type a message\",\n\t\t\"newProductMsg\": \"I need a {1}.\",\n\t\t\"FulltimeEmployee\": \"Vast dienstverband onbepaalde tijd\",\n\t\t\"TemporaryEmployment\": \"Tijdelijk dienstverband\",\n\t\t\"FlexIncome\": \"Flexibel dienstverband\",\n\t\t\"Employed\": \"Loondienst\",\n\t\t\"SelfEmployed\": \"Zelfstandig\",\n\t\t\"Alimony\": \"Partner alimentatie\",\n\t\t\"IncomeOutOfRentingOrLeasing\": \"Inkomsten uit verhuur\",\n\t\t\"Pension\": \"Inkomsten uit verhuur\",\n\t\t\"PrePension\": \"AOW\",\n\t\t\"OldAgeBenefits\": \"Ouderdomsregeling\",\n\t\t\"InsurancePolicyPensionOutOfInsurance\": \"Lijfrente/Pensioenverzekering\",\n\t\t\"PartnerAlimony\": \"Partner alimentatie\",\n\t\t\"RevolvingCredit\": \"Doorlopend krediet\",\n\t\t\"Personal Loan\": \"Persoonlijke lening\",\n\t\t\"Overdraw\": \"Roodstand\",\n\t\t\"Credit card\": \"Creditcard\",\n\t\t\"???\": \"Aflopend krediet\",\n\t\t\"ShoppingCredit\": \"Postorder krediet\",\n\t\t\"Private Loan\": \"Onderhandse lening\",\n\t\t\"StudyLoan\": \"Studieschuld\",\n\t\t\"Monthly\": \"Maandelijks\",\n\t\t\"Quarterly\": \"Per kwartaal\",\n\t\t\"HalfYearly\": \"Half jaarlijks\",\n\t\t\"Yearly\": \"Jaarlijks\",\n\t\t\"ExistingInsurance\": \"Bestaand\",\n\t\t\"TemporaryCoverage\": \"Voorlopige dekking\",\n\t\t\"ToBeArranged\": \"Aanvragen\",\n\t\t\"EqualOverTime\": \"Gelijkblijvend\",\n\t\t\"YearlyDecreasing\": \"Annuitair dalend\",\n\t\t\"LinearyDecreasing\": \"Lineair dalend\",\n\t\t\"NewMortgage\": \"Nieuwe hypotheek\",\n\t\t\"SecondMortgage\": \"Tweede hypotheek\",\n\t\t\"AdditionalMortgageWithinExistingContract\": \"Verhoging binnen inschrijving\",\n\t\t\"ChangeMortgageConstruction\": \"Omzetting\",\n\t\t\"Single\": \"Ongehuwd\",\n\t\t\"MarriedWithPrenuptialAgreement\": \"Getrouwd onder huwelijkse voorwaarden\",\n\t\t\"Married\": \"Getrouwd in gemeenschap van goederen\",\n\t\t\"RegisteredPartnership\": \"Geregistreerd partnerschap\",\n\t\t\"LivingTogetherWithAgreement\": \"Samenlevingscontract\",\n\t\t\"CivilPartnership\": \"Geregistreerd partnerschap\",\n\t\t\"ElementarySchool\": \"Basisschool\",\n\t\t\"HighSchool\": \"Middelbaar onderwijs\",\n\t\t\"VocationalSecondarySchoolJunior\": \"LBO\",\n\t\t\"VocationalSecondarySchoolSenior\": \"MBO\",\n\t\t\"College\": \"HBO\",\n\t\t\"University\": \"Universitair\",\n\t\t\"verificationTransactionID\": \"Verificatie Transaction Id\",\n\t\t\"setDateValue\": \"Set\",\n\t\t\"scanQRcode\": \"Scan QR code\",\n\t\t\"myDocuments\": \"My Documents\",\n\t\t\"confirmRevoke\": \"Ask {1} to delete this document from their records?\",\n\t\t\"Netherlands\": \"Nederland\",\n\t\t\"France\": \"Frankrijk\",\n\t\t\"French\": \"Frans\",\n\t\t\"Dutch\": \"Nederlandse\",\n\t\t\"English\": \"Engels\",\n\t\t\"American\": \"Amerikaans\",\n\t\t\"Russian\": \"Russisch\",\n\t\t\"Russia\": \"Rusland\",\n\t\t\"Passport\": \"Passpoort\",\n\t\t\"ResidencePermit\": \"Verblijfsvergunning\",\n\t\t\"IdCard\": \"Identiteitskaart\",\n\t\t\"shareProduct\": \"I see you\\\\'ve already had your {1} verified\",\n\t\t\"shareMyProduct\": \"You can tap below to share {1} with {2}\",\n\t\t\"switchTouchIdOff\": \"Switch touch ID off\",\n\t\t\"switchTouchIdOn\": \"Switch touch ID on\",\n\t\t\"noConnection\": \"Tradle requires a working internet connection which yostru don't have at the moment\",\n\t\t\"noConnectionWillProcessLater\": \"Tradle requires a working internet connection which you don't have at the moment. The request will be processed when connection returns\",\n\t\t\"noConnectionForPL\": \"Tradle requires a working internet connection to request a list of products from {1} which you don't have at the moment\",\n\t\t\"noConnectionForNewProduct\": \"{1}, Tradle requires a working internet connection to fill out the {2} application.\",\n\t\t\"inProgress\": \"Your request is in progress\",\n\t\t\"newContactRequest\": \"{1} sent you contact request\",\n\t\t\"howCanIHelpYou\": \"Hello {1}. My name is {2}. How can I help you today?\",\n\t\t\"pleaseCorrectTheErrors\": \"Please correct error in the form\",\n\t\t\"verifierHelp\": \"Click 'Done' button after reviewing the form. If some fields require correction check them them first and then click the 'Done' button\",\n\t\t\"addAnotherFormOrGetNext\": \"Add another {1} or get next form\",\n\t\t\"getNextForm\": \"Get next form\",\n\t\t\"addSameForm\": \"Add same form\",\n\t\t\"areYouSureAboutNextForm\": \"Are you sure you are done with {1}.\"\n\t};\n\n/***/ },\n\n/***/ 1100:\n831,\n\n/***/ 1155:\n831,\n\n/***/ 1166:\n831,\n\n/***/ 1198:\n831,\n\n/***/ 1199:\n831,\n\n/***/ 1200:\n831,\n\n/***/ 1207:\n831,\n\n/***/ 1208:\n831,\n\n/***/ 1209:\n831,\n\n/***/ 1306:\n831,\n\n/***/ 1318:\n831,\n\n/***/ 1507:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar map = {\n\t\t\"./dictionary_en.json\": 1508,\n\t\t\"./dictionary_nl.json\": 1509,\n\t\t\"./dictionary_ru.json\": 1510\n\t};\n\tfunction webpackContext(req) {\n\t\treturn __webpack_require__(webpackContextResolve(req));\n\t};\n\tfunction webpackContextResolve(req) {\n\t\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n\t};\n\twebpackContext.keys = function webpackContextKeys() {\n\t\treturn Object.keys(map);\n\t};\n\twebpackContext.resolve = webpackContextResolve;\n\tmodule.exports = webpackContext;\n\twebpackContext.id = 1507;\n\n\n/***/ },\n\n/***/ 1517:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Reflux = __webpack_require__(1518);\n\tvar debug = __webpack_require__(766)('Actions');\n\t\n\tvar actionProps = {};\n\tvar asyncActions = ['addItem', 'addMessage', 'getItem', 'getMe', 'getTo', 'getFrom', 'getEmployeeInfo', 'addNewIdentity', 'removeIdentity', 'showIdentityList', 'changeIdentity', 'reloadDB', 'reloadModels', 'list', 'listSharedWith', 'messageList', 'productList', 'addModelFromUrl', 'start', 'share', 'addVerification', 'startTransition', 'endTransition', 'talkToRepresentative', 'saveTemporary', 'getTemporary', 'cleanup', 'forgetMe', 'updateMe', 'scheduleUpdate', 'genPairingData', 'sendPairingRequest', 'processPairingRequest', 'processPairingResponse', 'pairingRequestAccepted', 'addApp'];\n\t\n\tvar syncActions = ['setAuthenticated', 'downloadedCodeUpdate', 'requestWipe'];\n\t\n\tasyncActions.forEach(function (name) {\n\t  return actionProps[name] = {};\n\t});\n\tsyncActions.forEach(function (name) {\n\t  actionProps[name] = { sync: true };\n\t});\n\t\n\tvar Actions = Reflux.createActions(actionProps);\n\t\n\tObject.keys(Actions).forEach(function (name) {\n\t  var fn = Actions[name];\n\t  Actions[name] = function () {\n\t    debug('Actions.' + name);\n\t    return fn.apply(this, arguments);\n\t  };\n\t\n\t  for (var p in fn) {\n\t    Actions[name][p] = fn[p];\n\t  }\n\t});\n\t\n\tmodule.exports = Actions;\n\n/***/ },\n\n/***/ 1537:\n831,\n\n/***/ 1538:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _errors = __webpack_require__(1539);\n\t\n\tvar _errors2 = _interopRequireDefault(_errors);\n\t\n\tvar _q = __webpack_require__(949);\n\t\n\tvar _q2 = _interopRequireDefault(_q);\n\t\n\tvar _reactNativeKeychain = __webpack_require__(941);\n\t\n\tvar _reactNativeKeychain2 = _interopRequireDefault(_reactNativeKeychain);\n\t\n\tvar _PasswordCheck = __webpack_require__(1540);\n\t\n\tvar _PasswordCheck2 = _interopRequireDefault(_PasswordCheck);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar debug = __webpack_require__(766)('tradle:app:local-auth');\n\t\n\tvar LocalAuth = _reactNative.Platform.OS !== 'web' && __webpack_require__(1664);\n\t\n\t\n\tvar ENV = __webpack_require__(942);\n\t\n\t// hack!\n\thasTouchID().then(ENV.setHasTouchID);\n\t\n\tvar utils = __webpack_require__(935);\n\tvar translate = utils.translate;\n\tvar TouchIDOptIn = __webpack_require__(1667);\n\tvar Actions = __webpack_require__(1517);\n\t\n\tvar PASSWORD_ITEM_KEY = 'app-password';\n\t\n\tvar isAndroid = _reactNative.Platform.OS === 'android';\n\tvar ForgivableTouchIDErrors = ['LAErrorTouchIDNotAvailable', 'LAErrorTouchIDNotSupported', 'RCTTouchIDNotSupported'];\n\t\n\tvar FallbackToPasswordErrors = ['LAErrorUserCancel', 'LAErrorSystemCancel'];\n\t\n\tvar LOCK_UP_MESSAGE = 'For the safety of your data, ' + 'this application has been temporarily locked. ' + 'Please try in 5 minutes.';\n\t\n\tvar LOCK_TIME =  false ? 5000 : 5 * 60 * 1000;\n\t\n\t// const SETUP_MSG = 'Please set up Touch ID first, so the app can better protect your data.'\n\tvar AUTH_FAILED_MSG = 'Authentication failed';\n\tvar DEFAULT_OPTS = {\n\t  reason: 'unlock Tradle to proceed',\n\t  fallbackToPasscode: true,\n\t  suppressEnterPassword: false\n\t};\n\t\n\tvar PROMPTS = __webpack_require__(1673);\n\tvar PASSWORD_PROMPTS = getPasswordPrompts();\n\tvar PASSWORD_REGEX = /^(?=.*[A-Z])(?=.*[!@#$&*])(?=.*[0-9])(?=.*[a-z]).{10,}$/;\n\t\n\tvar pendingAuth = void 0;\n\tvar pendingEnrollRequest = void 0;\n\tvar TIMEOUT =  false ? 1000 : 10 * 60 * 1000;\n\t\n\tmodule.exports = {\n\t  TIMEOUT: TIMEOUT,\n\t  Errors: _errors2.default,\n\t  setPassword: setPassword,\n\t  signIn: signIn,\n\t  hasTouchID: hasTouchID,\n\t  authenticateUser: authenticateUser\n\t};\n\t\n\tfunction hasTouchID() {\n\t  if (!LocalAuth) return Promise.resolve(false);\n\t\n\t  return LocalAuth.hasTouchID().then(function () {\n\t    return true;\n\t  }, function (err) {\n\t    return false;\n\t  });\n\t}\n\t\n\t/**\n\t * Native authentication, e.g. TouchID or PIN\n\t * @param  {Object=DEFAULT_OPTS} opts\n\t * @return {Promise}\n\t */\n\tfunction authenticateUser(opts) {\n\t  // prevent two authentication requests from\n\t  // going in concurrently and causing problems\n\t  if (pendingAuth) return pendingAuth;\n\t\n\t  opts = typeof opts === 'string' ? { reason: opts } : opts || {};\n\t  opts = _extends({}, DEFAULT_OPTS, opts);\n\t  return pendingAuth = LocalAuth.authenticate(opts).then(function () {\n\t    pendingAuth = undefined;\n\t  }).catch(function (err) {\n\t    pendingAuth = undefined;\n\t\n\t    if (false) {\n\t      var message = 'error: ' + err.message + ', stack: ' + err.stack;\n\t      debug(JSON.stringify(err));\n\t      _reactNative.Alert.alert(message);\n\t    }\n\t\n\t    throw err;\n\t  });\n\t}\n\t\n\tfunction touchIDOrNothing() {\n\t  return authenticateUser().catch(requestEnrollTouchID);\n\t}\n\t\n\tfunction requestEnrollTouchID() {\n\t  if (pendingEnrollRequest) return pendingEnrollRequest;\n\t\n\t  return pendingEnrollRequest = new Promise(function (resolve) {\n\t    _reactNative.Alert.alert('Error', 'Please enable TouchID, then press OK', [{\n\t      text: 'OK',\n\t      onPress: function onPress() {\n\t        pendingEnrollRequest = null;\n\t        touchIDOrNothing().then(resolve);\n\t      }\n\t    }]);\n\t  });\n\t}\n\t\n\tfunction signIn(navigator, newMe, isChangePassword) {\n\t  var me = utils.getMe();\n\t  // if (!me)\n\t  //   return register(cb)\n\t  if (me.isAuthenticated && !newMe) return (0, _q2.default)();\n\t\n\t  var authPromise = void 0;\n\t  var requireTouchID = me.useTouchId;\n\t  if (me.useTouchId && me.useGesturePassword) authPromise = touchIDAndPasswordAuth(navigator, isChangePassword);else if (me.useTouchId) authPromise = touchIDOrNothing();else authPromise = passwordAuth(navigator, isChangePassword);\n\t\n\t  return authPromise.then(function () {\n\t    Actions.setAuthenticated(true);\n\t    if (isChangePassword) {\n\t      return setPassword(navigator, isChangePassword);\n\t    }\n\t  });\n\t}\n\t\n\t/**\n\t * Get touch ID, then get password\n\t * @param  {[type]} navigator [description]\n\t * @return {[type]}           [description]\n\t */\n\tfunction touchIDAndPasswordAuth(navigator, isChangePassword) {\n\t  if (isAndroid) return passwordAuth(navigator, isChangePassword);\n\t\n\t  return authenticateUser().then(function () {\n\t    return passwordAuth(navigator, isChangePassword);\n\t  }, function (err) {\n\t    if (ForgivableTouchIDErrors.indexOf(err.name) === -1) {\n\t      throw err;\n\t    }\n\t\n\t    // the user may have enabled touch id but then disabled it from\n\t    // the Settings app\n\t    //\n\t    // there's not much we can do short of demanding that the user\n\t    // turn touch id back on\n\t    return passwordAuth(navigator, isChangePassword);\n\t  });\n\t}\n\t\n\t// function changePasswordAuth(navigator) {\n\t//   return checkPassword(navigator)\n\t//   .then(() => {\n\t//     return setPassword(navigator)\n\t//   })\n\t// }\n\t\n\t// function touchIDWithFallback(navigator) {\n\t//   if (isAndroid) return passwordAuth(navigator)\n\t\n\t//   return authenticateUser()\n\t//     .catch((err) => {\n\t//       if (err.name === 'LAErrorUserFallback' || err.name.indexOf('TouchID') !== -1)\n\t//         return passwordAuth(navigator)\n\t\n\t//       throw err\n\t//     })\n\t// }\n\t\n\tfunction passwordAuth(navigator, isChangePassword) {\n\t  // check if we have a password stored already\n\t  debug('passwordAuth');\n\t  return utils.getHashedPassword(PASSWORD_ITEM_KEY).then(function () {\n\t    return checkPassword(navigator, isChangePassword);\n\t  },\n\t  // registration must have been aborted.\n\t  // ask user to set a password\n\t  function (err) {\n\t    return setPassword(navigator, isChangePassword);\n\t  });\n\t}\n\t\n\tfunction lockUp(err) {\n\t  // self.setState({isModalOpen: true})\n\t  if (utils.isWeb()) {\n\t    try {\n\t      _reactNative.Alert.alert(err);\n\t    } catch (err) {}\n\t  } else {\n\t    loopAlert(err);\n\t  }\n\t\n\t  debug('lockUp');\n\t  var doneWaiting = void 0;\n\t  return utils.promiseDelay(LOCK_TIME).then(function () {\n\t    return doneWaiting = true;\n\t  });\n\t\n\t  function loopAlert(err) {\n\t    _reactNative.Alert.alert(err, null, [{\n\t      text: 'OK',\n\t      onPress: function onPress() {\n\t        return !doneWaiting && loopAlert(err);\n\t      }\n\t    }]);\n\t  }\n\t}\n\t\n\tfunction setPassword(navigator, isChangePassword) {\n\t  var passwordSpec = utils.isWeb() ? translate('textPasswordLimitations') : translate('passwordLimitations');\n\t\n\t  var validate = utils.isWeb() ? validateTextPassword : validateGesturePassword;\n\t\n\t  debug('setPassword');\n\t  return _q2.default.Promise(function (resolve, reject) {\n\t    navigator.push({\n\t      component: _PasswordCheck2.default,\n\t      id: 20,\n\t      noLeftButton: true,\n\t      passProps: _extends({}, PASSWORD_PROMPTS, {\n\t        mode: _PasswordCheck2.default.Modes.set,\n\t        validate: validate,\n\t        isChange: isChangePassword,\n\t        // promptInvalidSet: translate('passwordLimitations'),\n\t        onSuccess: function onSuccess(pass) {\n\t          utils.setHashedPassword(PASSWORD_ITEM_KEY, pass).then(function () {\n\t            Actions.updateMe({ isRegistered: true, useGesturePassword: true });\n\t            resolve();\n\t          }).catch(reject);\n\t        }\n\t      })\n\t    });\n\t  });\n\t}\n\t\n\tfunction checkPassword(navigator, isChangePassword) {\n\t  debug('checkPassword');\n\t  // HACK\n\t  var routes = navigator.getCurrentRoutes();\n\t  var currentRoute = routes[routes.length - 1];\n\t  var push = currentRoute.component.displayName !== _PasswordCheck2.default.displayName;\n\t  var defer = _q2.default.defer();\n\t  var route = {\n\t    component: _PasswordCheck2.default,\n\t    id: 20,\n\t    noLeftButton: true,\n\t    passProps: _extends({}, PASSWORD_PROMPTS, {\n\t      mode: _PasswordCheck2.default.Modes.check,\n\t      maxAttempts: 3,\n\t      isChange: isChangePassword,\n\t      isCorrect: function isCorrect(pass) {\n\t        return utils.checkHashedPassword(PASSWORD_ITEM_KEY, pass);\n\t      },\n\t      onSuccess: function onSuccess() {\n\t        return defer.resolve();\n\t      },\n\t      onFail: function onFail(err) {\n\t        lockUp(LOCK_UP_MESSAGE).then(function () {\n\t          return checkPassword(navigator);\n\t        }).then(function () {\n\t          return defer.resolve();\n\t        });\n\t      }\n\t    })\n\t  };\n\t\n\t  navigator[push ? 'push' : 'replace'](route);\n\t  return defer.promise;\n\t}\n\t\n\t/*\n\t  ^                         Start anchor\n\t  (?=.*[A-Z])               Ensure string has an uppercase letter.\n\t  (?=.*[!@#$&*])            Ensure string has a special case letter.\n\t  (?=.*[0-9])               Ensure string has a digit.\n\t  (?=.*[a-z])               Ensure string has a lowercase letter\n\t  .{10,}                    Ensure string is of > length 10.\n\t  $                         End anchor.\n\t */\n\tfunction validateTextPassword(pass) {\n\t  if (false) return pass.length > 1;\n\t\n\t  return PASSWORD_REGEX.test(pass);\n\t}\n\t\n\tfunction validateGesturePassword(pass) {\n\t  return pass.length > 4;\n\t}\n\t\n\tfunction getPasswordPrompts() {\n\t  var prompts = PROMPTS[utils.isWeb() ? 'text' : 'gesture'];\n\t  var translated = {};\n\t  for (var p in prompts) {\n\t    translated[p] = utils.translate(prompts[p]);\n\t  }\n\t\n\t  return translated;\n\t}\n\n/***/ },\n\n/***/ 1540:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _tcombFormNative = __webpack_require__(991);\n\t\n\tvar _tcombFormNative2 = _interopRequireDefault(_tcombFormNative);\n\t\n\tvar _Ionicons = __webpack_require__(1541);\n\t\n\tvar _Ionicons2 = _interopRequireDefault(_Ionicons);\n\t\n\tvar _utils = __webpack_require__(935);\n\t\n\tvar _reactNativeOrient = __webpack_require__(944);\n\t\n\tvar _Actions = __webpack_require__(1517);\n\t\n\tvar _Actions2 = _interopRequireDefault(_Actions);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t// import FloatingLabel from 'react-native-floating-labels'\n\t\n\tvar Form = _tcombFormNative2.default.form.Form;\n\tvar SetType = _tcombFormNative2.default.struct({\n\t  password: _tcombFormNative2.default.String,\n\t  passwordAgain: _tcombFormNative2.default.String\n\t});\n\t\n\tvar CheckType = _tcombFormNative2.default.struct({\n\t  password: _tcombFormNative2.default.String\n\t});\n\t\n\tvar Modes = {\n\t  set: 'set',\n\t  check: 'check'\n\t};\n\t\n\tvar ERROR_COLOR = '#a94442';\n\tvar NEUTRAL_COLOR = '#888888';\n\t\n\tvar PasswordCheck = function (_Component) {\n\t  _inherits(PasswordCheck, _Component);\n\t\n\t  function PasswordCheck(props) {\n\t    _classCallCheck(this, PasswordCheck);\n\t\n\t    var _this = _possibleConstructorReturn(this, (PasswordCheck.__proto__ || Object.getPrototypeOf(PasswordCheck)).call(this, props));\n\t\n\t    _this.state = _this.props.mode === 'set' ? _this._getInitialSetState() : _this._getInitialCheckState();\n\t    _this.onPress = _this.onPress.bind(_this);\n\t    _this.onChange = _this.onChange.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(PasswordCheck, [{\n\t    key: '_getInitialSetState',\n\t    value: function _getInitialSetState() {\n\t      return {\n\t        message: this.props.isChange ? this.props.promptSetChange : this.props.promptSet,\n\t        value: {\n\t          password: '',\n\t          passwordAgain: ''\n\t        },\n\t        errors: {\n\t          password: null,\n\t          passwordAgain: null\n\t        }\n\t      };\n\t    }\n\t  }, {\n\t    key: '_getInitialCheckState',\n\t    value: function _getInitialCheckState() {\n\t      return {\n\t        message: this.props.isChange ? this.props.promptCheckCurrent : this.props.promptCheck,\n\t        value: {\n\t          password: ''\n\t        },\n\t        attempts: 0\n\t      };\n\t    }\n\t  }, {\n\t    key: '_getInput',\n\t    value: function _getInput(field) {\n\t      var component = this.refs.form.getComponent(field);\n\t      if (!component) return;\n\t\n\t      var input = component.refs.input;\n\t      if (!input) return;\n\t\n\t      if (!input.focus) input = input.refs.input;\n\t\n\t      return input;\n\t    }\n\t  }, {\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      var self = this;\n\t      var password = this._getInput('password');\n\t      var passwordAgain = this._getInput('passwordAgain');\n\t      password.focus();\n\t      password.addEventListener('keydown', onKeyDown);\n\t      if (passwordAgain) passwordAgain.addEventListener('keydown', onKeyDown);\n\t\n\t      function onKeyDown(e) {\n\t        if (!this.value || self.isDisabled()) return;\n\t\n\t        var code = e.keyCode ? e.keyCode : e.which;\n\t        if (code == 13) {\n\t          // Enter keycode\n\t          self.onPress();\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'onChange',\n\t    value: function onChange(value, path) {\n\t      if (this.props.mode === 'set') {\n\t        this._onChangeSet.apply(this, arguments);\n\t      } else {\n\t        this._onChangeCheck.apply(this, arguments);\n\t      }\n\t    }\n\t  }, {\n\t    key: '_onChangeCheck',\n\t    value: function _onChangeCheck(value, path) {\n\t      this.setState({ value: value });\n\t    }\n\t  }, {\n\t    key: '_onChangeSet',\n\t    value: function _onChangeSet(value, path) {\n\t      this.setState({\n\t        value: value,\n\t        errors: this.validatePasswordChoice(value, path[0] === 'passwordAgain')\n\t      });\n\t    }\n\t  }, {\n\t    key: 'validatePasswordChoice',\n\t    value: function validatePasswordChoice(value, both) {\n\t      var passwordError = this.props.validate(value && value.password || '');\n\t      if (passwordError === false) passwordError = this.props.promptInvalidSet;else if (passwordError === true) passwordError = null;\n\t\n\t      var errors = {\n\t        password: passwordError\n\t      };\n\t\n\t      if (!passwordError && both) {\n\t        if (!value || value.password !== value.passwordAgain) {\n\t          errors.passwordAgain = this.props.promptRetrySet;\n\t        }\n\t      }\n\t\n\t      return errors;\n\t    }\n\t  }, {\n\t    key: 'onPress',\n\t    value: function onPress() {\n\t      if (this.isDisabled()) return;\n\t\n\t      if (this.props.mode === 'set') {\n\t        this._onSet();\n\t      } else {\n\t        this._onCheck();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getValue',\n\t    value: function getValue() {\n\t      var password = this._getInput('password');\n\t      var passwordAgain = this._getInput('passwordAgain');\n\t      return {\n\t        password: password.value,\n\t        passwordAgain: passwordAgain && passwordAgain.value\n\t      };\n\t    }\n\t  }, {\n\t    key: '_onSet',\n\t    value: function _onSet() {\n\t      var errors = this.validatePasswordChoice(this.getValue(), true);\n\t      if (errors.password || errors.passwordAgain) {\n\t        this.setState({ errors: errors });\n\t      } else {\n\t        this.props.onSuccess(this.state.value.password);\n\t      }\n\t    }\n\t  }, {\n\t    key: '_onCheck',\n\t    value: function _onCheck() {\n\t      var _this2 = this;\n\t\n\t      var fields = this.getValue();\n\t      if (!fields) return;\n\t\n\t      var password = fields.password;\n\t      var result = this.props.isCorrect(password);\n\t      var promise = typeof result === 'boolean' ? Promise.resolve(result) : result;\n\t      return promise.then(function (isCorrect) {\n\t        if (isCorrect) return _this2.props.onSuccess(password);\n\t\n\t        var attempts = _this2.state.attempts + 1;\n\t        _this2.setState({\n\t          attempts: attempts\n\t        }, function () {\n\t          if (attempts >= _this2.props.maxAttempts) {\n\t            return _this2.props.onFail();\n\t          }\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'isDisabled',\n\t    value: function isDisabled() {\n\t      return this.props.mode === 'check' && this.state.attempts >= this.props.maxAttempts;\n\t    }\n\t  }, {\n\t    key: 'hasError',\n\t    value: function hasError() {\n\t      return this.props.mode === 'set' ? !!(this.state.errors.password || this.state.errors.passwordAgain) : this.state.attempts > 0;\n\t    }\n\t  }, {\n\t    key: '_getOptions',\n\t    value: function _getOptions() {\n\t      return this.props.mode === 'set' ? this._getSetOptions() : this._getCheckOptions();\n\t    }\n\t  }, {\n\t    key: '_getSetOptions',\n\t    value: function _getSetOptions() {\n\t      return {\n\t        auto: 'placeholders',\n\t        fields: {\n\t          password: {\n\t            placeholder: 'Password',\n\t            password: true,\n\t            secureTextEntry: true,\n\t            error: this.state.errors.password,\n\t            hasError: !!this.state.errors.password,\n\t            help: this.props.passwordRequirements\n\t          },\n\t          passwordAgain: {\n\t            placeholder: 'Re-enter password',\n\t            password: true,\n\t            secureTextEntry: true,\n\t            hasError: !!this.state.errors.passwordAgain,\n\t            error: this.state.errors.passwordAgain\n\t          }\n\t        },\n\t        order: ['password', 'passwordAgain']\n\t      };\n\t    }\n\t  }, {\n\t    key: '_getCheckOptions',\n\t    value: function _getCheckOptions() {\n\t      return {\n\t        auto: 'placeholders',\n\t        fields: {\n\t          password: {\n\t            password: true,\n\t            secureTextEntry: true,\n\t            hasError: this.state.attempts > 0,\n\t            help: this.props.passwordRequirements\n\t          }\n\t        }\n\t      };\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var options = this._getOptions();\n\t      var disabled = this.isDisabled();\n\t      if (disabled) {\n\t        _tcombFormNative2.default.update(options, {\n\t          fields: {\n\t            password: {\n\t              editable: { '$set': false }\n\t            }\n\t          }\n\t        });\n\t      }\n\t\n\t      var customStyle = this.props.style || {};\n\t      var type = this.props.mode === 'set' ? SetType : CheckType;\n\t      var header = this.renderHeader();\n\t\n\t      var _Dimensions$get = _reactNative.Dimensions.get('window');\n\t\n\t      var width = _Dimensions$get.width;\n\t      var height = _Dimensions$get.height;\n\t\n\t      var smaller = Math.min(width, height);\n\t      width = smaller / 2;\n\t      // height = smaller / 4\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: [styles.container, customStyle.container] },\n\t        header,\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: { width: width } },\n\t          _react2.default.createElement(Form, {\n\t            ref: 'form',\n\t            type: type,\n\t            options: options,\n\t            style: [styles.form, customStyle.form],\n\t            value: this.state.value,\n\t            onChange: this.onChange\n\t          }),\n\t          _react2.default.createElement(\n\t            _reactNative.TouchableOpacity,\n\t            {\n\t              style: [styles.button, customStyle.submit, { alignItems: 'center' }],\n\t              onPress: this.onPress,\n\t              disabled: disabled },\n\t            _react2.default.createElement(_Ionicons2.default, {\n\t              name: 'ios-lock',\n\t              size: this.props.iconSize || 100,\n\t              style: { color: this.hasError() ? ERROR_COLOR : NEUTRAL_COLOR }\n\t            })\n\t          )\n\t        ),\n\t        this.renderFooter()\n\t      );\n\t    }\n\t  }, {\n\t    key: 'renderHeader',\n\t    value: function renderHeader() {\n\t      var style = this.hasError() ? styles.error : styles.prompt;\n\t      return _react2.default.createElement(\n\t        _reactNative.Text,\n\t        { style: [styles.header, style] },\n\t        this.state.message\n\t      );\n\t    }\n\t  }, {\n\t    key: 'renderFooter',\n\t    value: function renderFooter() {\n\t      if (this.props.mode === 'set') return;\n\t\n\t      return _react2.default.createElement(\n\t        _reactNative.TouchableOpacity,\n\t        { style: styles.footer, onPress: function onPress() {\n\t            return _Actions2.default.requestWipe();\n\t          } },\n\t        _react2.default.createElement(\n\t          _reactNative.Text,\n\t          { style: styles.danger },\n\t          'Wipe device'\n\t        )\n\t      );\n\t    }\n\t    // <Text style={[styles.buttonText, customStyle.submitText]}>{this.props.submitText || 'Save'}</Text>\n\t\n\t  }]);\n\t\n\t  return PasswordCheck;\n\t}(_react.Component);\n\t\n\tPasswordCheck.displayName = 'PasswordCheck';\n\tPasswordCheck.propTypes = {\n\t  validate: _react.PropTypes.func,\n\t  onSuccess: _react.PropTypes.func,\n\t  onFail: _react.PropTypes.func,\n\t  passwordRequirements: _react.PropTypes.string,\n\t  submitText: _react.PropTypes.string,\n\t  isCorrect: _react.PropTypes.func,\n\t  maxAttempts: _react.PropTypes.number,\n\t  promptSet: _react.PropTypes.string,\n\t  promptCheck: _react.PropTypes.string,\n\t  promptReenter: _react.PropTypes.string,\n\t  promptRetrySet: _react.PropTypes.string,\n\t  promptRetryCheck: _react.PropTypes.string,\n\t  promptInvalidSet: _react.PropTypes.string,\n\t  successMsg: _react.PropTypes.string,\n\t  failMsg: _react.PropTypes.string,\n\t  style: _react.PropTypes.shape({\n\t    container: _reactNative.View.propTypes.style,\n\t    form: _reactNative.View.propTypes.style,\n\t    submit: _reactNative.View.propTypes.style,\n\t    submitText: _reactNative.View.propTypes.style\n\t  }),\n\t  mode: function mode(_mode) {\n\t    return _mode in Modes;\n\t  }\n\t};\n\t\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  container: {\n\t    flex: 1,\n\t    backgroundColor: '#efefef',\n\t    // backgroundColor: 'transparent',\n\t    justifyContent: 'center',\n\t    alignItems: 'center',\n\t    padding: 20\n\t  },\n\t  form: {\n\t    alignSelf: 'stretch',\n\t    flex: 1,\n\t    justifyContent: 'center',\n\t    alignItems: 'center'\n\t  },\n\t  header: {\n\t    fontSize: 25,\n\t    padding: 50,\n\t    textAlign: 'center'\n\t  },\n\t  error: {\n\t    color: ERROR_COLOR\n\t  },\n\t  prompt: {\n\t    color: NEUTRAL_COLOR\n\t  },\n\t  footer: {\n\t    position: 'absolute',\n\t    left: 0,\n\t    right: 0,\n\t    bottom: 0,\n\t    paddingRight: 5,\n\t    textAlign: 'right'\n\t  },\n\t  danger: {\n\t    color: '#ff8888'\n\t  }\n\t  // buttonText: {\n\t  //   fontSize: 18,\n\t  //   color: '#ffffff',\n\t  //   alignSelf: 'center'\n\t  // },\n\t  // button: {\n\t  //   // height: 36,\n\t  //   // backgroundColor: '#48BBEC',\n\t  //   // borderColor: '#48BBEC',\n\t  //   // borderWidth: 1,\n\t  //   // borderRadius: 8,\n\t  //   // marginBottom: 10,\n\t  //   // alignSelf: 'stretch',\n\t  //   justifyContent: 'center'\n\t  // }\n\t});\n\t\n\texports = module.exports = (0, _reactNativeOrient.makeResponsive)(PasswordCheck);\n\texports.Modes = Modes;\n\n/***/ },\n\n/***/ 1667:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _ArticleView = __webpack_require__(1668);\n\t\n\tvar _ArticleView2 = _interopRequireDefault(_ArticleView);\n\t\n\tvar _utils = __webpack_require__(935);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar BG_IMAGE = __webpack_require__(1671);\n\tvar TOUCH_ID_IMG = __webpack_require__(1672);\n\tvar LINK_COLOR = '#7AAAC3';\n\tvar BTN_COLOR = LINK_COLOR;\n\t\n\tvar TouchIDOptIn = function (_Component) {\n\t  _inherits(TouchIDOptIn, _Component);\n\t\n\t  function TouchIDOptIn() {\n\t    _classCallCheck(this, TouchIDOptIn);\n\t\n\t    return _possibleConstructorReturn(this, (TouchIDOptIn.__proto__ || Object.getPrototypeOf(TouchIDOptIn)).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(TouchIDOptIn, [{\n\t    key: 'learnMore',\n\t    value: function learnMore() {\n\t      this.props.navigator.push({\n\t        id: 7,\n\t        component: _ArticleView2.default,\n\t        backButtonTitle: 'Back',\n\t        passProps: {\n\t          url: 'https://support.apple.com/en-us/HT204587'\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      // <Image source={BG_IMAGE} style={{position:'absolute', left: 0, top: 0, width: Device.width, height: Device.height}} />\n\t      var _utils$dimensions = _utils2.default.dimensions(TouchIDOptIn);\n\t\n\t      var width = _utils$dimensions.width;\n\t      var height = _utils$dimensions.height;\n\t      // <Text style={[styles.text, { paddingTop: 20, fontSize: 15 }]}>\n\t      //   You can always enable/disable it on your profile\n\t      // </Text>\n\t\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: styles.container },\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: styles.headingContainer },\n\t          _react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: [styles.text, { fontSize: 30 }] },\n\t            'Enable Touch ID?'\n\t          )\n\t        ),\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: styles.imgContainer },\n\t          _react2.default.createElement(_reactNative.Image, { resizeMode: 'contain', source: TOUCH_ID_IMG })\n\t        ),\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: styles.quoteContainer },\n\t          _react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: [styles.text, styles.quoteText] },\n\t            '\"iOS and other apps never access your fingerprint data, it\\'s never stored on Apple servers, and it\\'s never backed up to iCloud or anywhere else.\"'\n\t          ),\n\t          _react2.default.createElement(\n\t            _reactNative.TouchableHighlight,\n\t            { underlayColor: 'transparent', onPress: this.learnMore.bind(this) },\n\t            _react2.default.createElement(\n\t              _reactNative.Text,\n\t              { style: [styles.text, styles.optInText, { color: LINK_COLOR }] },\n\t              '-Apple'\n\t            )\n\t          )\n\t        ),\n\t        _react2.default.createElement(\n\t          _reactNative.TouchableHighlight,\n\t          {\n\t            underlayColor: BTN_COLOR,\n\t            style: [styles.btnContainer, { width: width }],\n\t            onPress: this.props.optIn },\n\t          _react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: styles.btnText },\n\t            'Enable'\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return TouchIDOptIn;\n\t}(_react.Component);\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  container: {\n\t    flex: 1,\n\t    alignItems: 'center',\n\t    justifyContent: 'center'\n\t  },\n\t  headingContainer: {\n\t    flex: 0.3,\n\t    alignItems: 'center',\n\t    justifyContent: 'center'\n\t  },\n\t  imgContainer: {\n\t    flex: 0.2,\n\t    justifyContent: 'center'\n\t  },\n\t  quoteContainer: {\n\t    flex: 0.4,\n\t    justifyContent: 'center',\n\t    paddingHorizontal: 20\n\t  },\n\t  btnContainer: {\n\t    flex: 0.1,\n\t    alignItems: 'center',\n\t    justifyContent: 'center',\n\t    backgroundColor: BTN_COLOR\n\t  },\n\t  text: {\n\t    // color: '#ffffff'\n\t  },\n\t  btn: {\n\t    paddingVertical: 10,\n\t    paddingHorizontal: 30,\n\t    backgroundColor: 'transparent'\n\t  },\n\t  optInText: {\n\t    fontSize: 15\n\t  },\n\t  quoteText: {\n\t    fontSize: 15,\n\t    fontStyle: 'italic',\n\t    paddingBottom: 20\n\t  },\n\t  btnText: {\n\t    fontSize: 20,\n\t    color: '#ffffff'\n\t  }\n\t});\n\t\n\tmodule.exports = TouchIDOptIn;\n\n/***/ },\n\n/***/ 1668:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _ActivityIndicator = __webpack_require__(1669);\n\t\n\tvar _ActivityIndicator2 = _interopRequireDefault(_ActivityIndicator);\n\t\n\tvar _WebView = __webpack_require__(1670);\n\t\n\tvar _WebView2 = _interopRequireDefault(_WebView);\n\t\n\tvar _utils = __webpack_require__(935);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar ArticleView = function (_Component) {\n\t  _inherits(ArticleView, _Component);\n\t\n\t  function ArticleView(props) {\n\t    _classCallCheck(this, ArticleView);\n\t\n\t    return _possibleConstructorReturn(this, (ArticleView.__proto__ || Object.getPrototypeOf(ArticleView)).call(this, props));\n\t  }\n\t\n\t  _createClass(ArticleView, [{\n\t    key: 'renderError',\n\t    value: function renderError(domain, code, description) {\n\t      return _react2.default.createElement(\n\t        _reactNative.Text,\n\t        { style: styles.error },\n\t        'error :( - ',\n\t        description ? description : ''\n\t      );\n\t    }\n\t  }, {\n\t    key: 'renderLoading',\n\t    value: function renderLoading() {\n\t      return _react2.default.createElement(\n\t        _reactNative.ScrollView,\n\t        { contentContainerStyle: styles.contentContainer },\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: styles.container },\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: styles.loading },\n\t            _react2.default.createElement(\n\t              _reactNative.Text,\n\t              null,\n\t              'Loading...'\n\t            ),\n\t            _react2.default.createElement(_ActivityIndicator2.default, { style: { alignSelf: 'center' } })\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return _react2.default.createElement(_WebView2.default, { style: styles.webView,\n\t        source: { uri: this.props.url },\n\t        startInLoadingState: true,\n\t        renderError: this.renderError.bind(this),\n\t        automaticallyAdjustContentInsets: false,\n\t        renderLoading: this.renderLoading });\n\t    }\n\t  }]);\n\t\n\t  return ArticleView;\n\t}(_react.Component);\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  contentContainer: {\n\t    padding: 10\n\t  },\n\t  container: {\n\t    flex: 1\n\t  },\n\t  error: {\n\t    marginTop: 160,\n\t    paddingHorizontal: 20,\n\t    fontSize: 20,\n\t    color: '#7AAAC3'\n\t  },\n\t  webView: {\n\t    backgroundColor: '#ffffff',\n\t    marginTop: 60,\n\t    height: _utils2.default.isWeb() ? '100%' : 350\n\t  }\n\t\n\t});\n\t\n\tmodule.exports = ArticleView;\n\n/***/ },\n\n/***/ 1669:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar impl = _reactNative.ActivityIndicator || _reactNative.ActivityIndicatorIOS;\n\texports.default = impl;\n\n/***/ },\n\n/***/ 1670:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(React) {'use strict';\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tif (_reactNative.Platform.OS === 'web') {\n\t  module.exports = function (props) {\n\t    var src = props.src;\n\t    var source = props.source;\n\t    var style = props.style;\n\t\n\t\n\t    src = src || source.uri;\n\t    style = style || {};\n\t    return React.createElement('iframe', { src: src, style: style });\n\t  };\n\t} else {\n\t  module.exports = _reactNative.WebView;\n\t}\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(320)))\n\n/***/ },\n\n/***/ 1671:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAV4AAADcCAIAAAC3Rl4qAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowMTgwMTE3NDA3MjA2ODExOEMxNEREMzFCODJGRDRBNiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowMjNCNEQ2QTk2MjcxMUU1OUI3Q0JFREZDMEUxQkZDRSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowMjNCNEQ2OTk2MjcxMUU1OUI3Q0JFREZDMEUxQkZDRSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjAyODAxMTc0MDcyMDY4MTE4QzE0REQzMUI4MkZENEE2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjAxODAxMTc0MDcyMDY4MTE4QzE0REQzMUI4MkZENEE2Ii8+IDwvcmRmOkRlc2NyaXB0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\"\n\n/***/ },\n\n/***/ 1672:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"data:image/png;base64,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\"\n\n/***/ },\n\n/***/ 1673:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\t// maps to strings_en.json\n\tvar TEXT_PASSWORD_PROMPTS = {\n\t  promptSet: 'setPassword',\n\t  promptSetChange: 'setNewPassword',\n\t  promptRetrySet: 'passwordsDontMatch',\n\t  promptCheck: 'enterPassword',\n\t  promptCheckCurrent: 'enterCurrentPassword',\n\t  promptInvalidSet: 'textPasswordLimitations',\n\t  successMsg: 'correctPassword',\n\t  failMsg: 'tooManyPasswordAttempts'\n\t};\n\t\n\tvar GESTURE_PASSWORD_PROMPTS = {\n\t  promptSet: 'pleaseDrawPassword',\n\t  promptSetChange: 'drawYourNewPassword',\n\t  promptRetrySet: 'patternNotMatching',\n\t  promptCheck: 'drawYourPassword',\n\t  promptCheckCurrent: 'drawYourOldPassword',\n\t  promptReenter: 'drawYourPasswordAgain',\n\t  promptReenterChange: 'drawYourNewPasswordAgain',\n\t  promptRetryCheck: 'gestureNotRecognized',\n\t  promptInvalidSet: 'passwordLimitations',\n\t  successMsg: 'correctGesture',\n\t  failMsg: 'authenticationFailed'\n\t};\n\t\n\tmodule.exports = {\n\t  text: TEXT_PASSWORD_PROMPTS,\n\t  gesture: GESTURE_PASSWORD_PROMPTS\n\t};\n\n/***/ },\n\n/***/ 1674:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _utils = __webpack_require__(935);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tmodule.exports = _utils2.default.isAndroid() ? __webpack_require__(1675) : _utils2.default.isIOS() ? __webpack_require__(1676) : __webpack_require__(1677);\n\n/***/ },\n\n/***/ 1675:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _utils = __webpack_require__(935);\n\t\n\tmodule.exports = exports = _reactNative.StyleSheet.create({\n\t  container: {\n\t    backgroundColor: '#f7f7f7',\n\t    marginTop: 56,\n\t    flex: 1\n\t  },\n\t  navBarText: {\n\t    marginTop: 19,\n\t    fontSize: 17\n\t  },\n\t  menuButtonNarrow: {\n\t    marginTop: 2,\n\t    paddingHorizontal: 5\n\t  },\n\t  menuButtonRegular: {\n\t    marginTop: 2,\n\t    paddingHorizontal: 5\n\t  },\n\t  menuButton: {\n\t    marginTop: 5,\n\t    paddingHorizontal: 5\n\t  },\n\t  touchIdText: {\n\t    color: '#2E3B4E',\n\t    fontSize: 18,\n\t    marginTop: 7,\n\t    marginLeft: 15,\n\t    alignSelf: 'flex-start'\n\t  }\n\t});\n\tvar menuIcon = {\n\t  name: 'md-menu',\n\t  color: 'red'\n\t};\n\texports.MenuIcon = menuIcon;\n\n/***/ },\n\n/***/ 1676:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tmodule.exports = exports = _reactNative.StyleSheet.create({\n\t  container: {\n\t    backgroundColor: '#f7f7f7',\n\t    marginTop: 64,\n\t    flex: 1\n\t  },\n\t  navBarText: {\n\t    marginTop: 10,\n\t    fontSize: 17\n\t  },\n\t  menuButtonNarrow: {\n\t    marginTop: -23,\n\t    paddingVertical: 5,\n\t    paddingHorizontal: 21,\n\t    height: 45,\n\t    borderRadius: 24,\n\t    // shadowOffset:{width: 5, height: 5},\n\t    shadowOpacity: 1,\n\t    shadowRadius: 5,\n\t    shadowColor: '#afafaf',\n\t    backgroundColor: 'red'\n\t  },\n\t  menuButton: {\n\t    marginTop: -23,\n\t    paddingVertical: 5,\n\t    paddingHorizontal: 13,\n\t    borderRadius: 24,\n\t    // shadowOffset:{width: 5, height: 5},\n\t    shadowOpacity: 1,\n\t    shadowRadius: 5,\n\t    shadowColor: '#afafaf',\n\t    backgroundColor: 'red'\n\t  },\n\t  menuButtonRegular: {\n\t    marginTop: -20,\n\t    paddingVertical: 5,\n\t    paddingHorizontal: 10,\n\t    borderRadius: 24,\n\t    // shadowOffset:{width: 5, height: 5},\n\t    shadowOpacity: 1,\n\t    shadowRadius: 5,\n\t    shadowColor: '#afafaf',\n\t    backgroundColor: 'red'\n\t  },\n\t  touchIdText: {\n\t    color: '#2E3B4E',\n\t    fontSize: 18,\n\t    marginTop: 10,\n\t    marginLeft: 15,\n\t    alignSelf: 'flex-start'\n\t  }\n\t\n\t});\n\t\n\tvar menuIcon = {\n\t  name: 'md-more',\n\t  color: '#ffffff'\n\t};\n\t\n\texports.MenuIcon = menuIcon;\n\t\n\t// Object.defineProperty(exports, 'MB', {\n\t//   icon: 'md-more',\n\t//   color: '#ffffff'\n\t// })\n\n/***/ },\n\n/***/ 1677:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tmodule.exports = exports = _reactNative.StyleSheet.create({\n\t  container: {\n\t    // backgroundColor: '#f7f7f7',\n\t    marginTop: 64,\n\t    flex: 1\n\t  },\n\t  navBarText: {\n\t    marginTop: 5,\n\t    fontSize: 17\n\t  },\n\t  menuButtonNarrow: {\n\t    marginTop: -23,\n\t    paddingVertical: 5,\n\t    paddingHorizontal: 21,\n\t    height: 45,\n\t    borderRadius: 24,\n\t    // shadowOffset:{width: 5, height: 5},\n\t    shadowOpacity: 1,\n\t    shadowRadius: 5,\n\t    shadowColor: '#afafaf',\n\t    backgroundColor: 'red'\n\t  },\n\t  menuButton: {\n\t    marginTop: -23,\n\t    paddingVertical: 5,\n\t    paddingHorizontal: 13,\n\t    borderRadius: 24,\n\t    // shadowOffset:{width: 5, height: 5},\n\t    shadowOpacity: 1,\n\t    shadowRadius: 5,\n\t    shadowColor: '#afafaf',\n\t    backgroundColor: 'red'\n\t  },\n\t  menuButtonRegular: {\n\t    marginTop: -20,\n\t    paddingVertical: 5,\n\t    paddingHorizontal: 10,\n\t    borderRadius: 24,\n\t    // shadowOffset:{width: 5, height: 5},\n\t    shadowOpacity: 1,\n\t    shadowRadius: 5,\n\t    shadowColor: '#afafaf',\n\t    backgroundColor: 'red'\n\t  },\n\t  touchIdText: {\n\t    color: '#2E3B4E',\n\t    fontSize: 18,\n\t    marginTop: 10,\n\t    marginLeft: 15,\n\t    alignSelf: 'flex-start'\n\t  }\n\t\n\t});\n\t\n\tvar menuIcon = {\n\t  name: 'md-more',\n\t  color: '#ffffff'\n\t};\n\t\n\texports.MenuIcon = menuIcon;\n\t\n\t// Object.defineProperty(exports, 'MB', {\n\t//   icon: 'md-more',\n\t//   color: '#ffffff'\n\t// })\n\t\n\t// module.exports = require('./platform.ios.js')\n\n/***/ },\n\n/***/ 1678:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _reactNative2 = _interopRequireDefault(_reactNative);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar buildStyleInterpolator = _reactNative.Platform.OS === 'web' && __webpack_require__(701);\n\t\n\tvar NoTransition = {\n\t  opacity: {\n\t    value: 1.0,\n\t    type: 'constant'\n\t  }\n\t};\n\t\n\tvar Transitions = {\n\t  NONE: _extends({}, _reactNative.Navigator.SceneConfigs.FadeAndroid, {\n\t    gestures: null,\n\t    defaultTransitionVelocity: 1000,\n\t    animationInterpolators: {\n\t      into: buildStyleInterpolator(NoTransition),\n\t      out: buildStyleInterpolator(NoTransition)\n\t    }\n\t  })\n\t};\n\t\n\texports.default = Transitions;\n\n/***/ },\n\n/***/ 1679:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\t\n\t// TODO:\n\t//   https://github.com/mozilla/serviceworker-cookbook/tree/master/push-get-payload\n\t//   https://github.com/markdalgleish/serviceworker-loader\n\t\n\tmodule.exports = 'serviceWorker' in global.navigator && 'PushManager' in global ? __webpack_require__(1680) : __webpack_require__(1682);\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n\n/***/ 1680:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\t'use strict';\n\t\n\tvar _utils = __webpack_require__(935);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tvar _Actions = __webpack_require__(1517);\n\t\n\tvar _Actions2 = _interopRequireDefault(_Actions);\n\t\n\tvar _env = __webpack_require__(942);\n\t\n\tvar _env2 = _interopRequireDefault(_env);\n\t\n\tvar _engine = __webpack_require__(1085);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tvar TYPE = _engine.constants.TYPE;\n\tvar debug = __webpack_require__(766)('tradle:sse-push');\n\t// http://michalzalecki.com/progressive-web-apps-with-webpack/\n\tvar swURL = __webpack_require__(1681);\n\tvar pushServerURL =  false ? 'http://' + _env2.default.LOCAL_IP + ':48284' : 'https://push1.tradle.io';\n\t// const pushServerURL = `http://${ENV.LOCAL_IP}:48284`\n\t\n\tvar initialized = void 0;\n\tvar initialize = new Promise(function (resolve) {\n\t  initialized = resolve;\n\t});\n\t\n\tvar Local = __webpack_require__(1682);\n\t\n\texports.init = function (opts) {\n\t  Local.init(opts);\n\t\n\t  var node = opts.node;\n\t  return navigator.serviceWorker.register(swURL).then(function (registration) {\n\t    // Use the PushManager to get the user's subscription to the push service.\n\t    return registration.pushManager.getSubscription().then(function (subscription) {\n\t      // If a subscription was found, return it.\n\t      if (subscription) {\n\t        return subscription;\n\t      }\n\t\n\t      // Otherwise, subscribe the user (userVisibleOnly allows to specify that we don't plan to\n\t      // send notifications that don't have a visible effect for the user).\n\t      return registration.pushManager.subscribe({ userVisibleOnly: true });\n\t    });\n\t  }).then(function (subscription) {\n\t    var _postWithRetry;\n\t\n\t    return postWithRetry(node, '/subscriber', (_postWithRetry = {}, _defineProperty(_postWithRetry, TYPE, 'tradle.PNSRegistration'), _defineProperty(_postWithRetry, 'identity', node.identity), _defineProperty(_postWithRetry, 'token', subscription.endpoint.split('/').pop()), _defineProperty(_postWithRetry, 'protocol', 'gcm'), _postWithRetry));\n\t  }).then(function () {\n\t    return initialized(opts);\n\t  }, function (err) {\n\t    console.error('failed to register service worker for Push notifications', err);\n\t    throw err;\n\t  });\n\t};\n\t\n\texports.subscribe = function (publisher) {\n\t  return initialize.then(function (opts) {\n\t    var _postWithRetry2;\n\t\n\t    var node = opts.node;\n\t    return postWithRetry(node, '/subscription', (_postWithRetry2 = {}, _defineProperty(_postWithRetry2, TYPE, 'tradle.PNSSubscription'), _defineProperty(_postWithRetry2, 'publisher', publisher), _defineProperty(_postWithRetry2, 'subscriber', node.permalink), _postWithRetry2));\n\t  });\n\t};\n\t\n\texports.resetBadgeNumber = function () {\n\t  return Promise.resolve();\n\t};\n\t\n\t// function S4() {\n\t//   return (((1+Math.random())*0x10000)|0).toString(16).slice(1)\n\t// }\n\t\n\t// // generate the user private channel and save it at the local storage\n\t// // so we always use the same channel for each user\n\t// function generateUserChannel(){\n\t//   userChannel = localStorage.getItem('channel')\n\t//   if (userChannel == null || userChannel == 'null'){\n\t//     guid = (S4() + S4() + '-' + S4() + '-4' + S4().substr(0,3) + '-' + S4() + '-' + S4() + S4() + S4()).toLowerCase()\n\t//     userChannel = 'channel-' + guid\n\t//     localStorage.setItem('channel', userChannel)\n\t//   }\n\t\n\t//   return userChannel\n\t// }\n\t\n\t\n\t/**\n\t * Copied from utils/push.js\n\t * TODO: factor out\n\t *\n\t * POST until successful\n\t * @param  {[type]} path [description]\n\t * @param  {[type]} body [description]\n\t * @return {[type]}      [description]\n\t */\n\tfunction postWithRetry(node, path, body) {\n\t  if (path[0] === '/') path = path.slice(1);\n\t\n\t  return node.sign({\n\t    object: body\n\t  }).then(function (result) {\n\t    // TODO: encode body with protocol buffers to save space\n\t    return _utils2.default.fetchWithBackoff(pushServerURL + '/' + path, {\n\t      method: 'POST',\n\t      headers: {\n\t        'Accept': 'application/json',\n\t        'Content-Type': 'application/json'\n\t      },\n\t      body: JSON.stringify(result.object)\n\t    }, 10000);\n\t  });\n\t}\n\n/***/ },\n\n/***/ 1681:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"service-worker.js\";\n\n/***/ },\n\n/***/ 1682:\n/***/ function(module, exports) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\t\n\tif ('Notification' in global) {\n\t  requestPermissions();\n\t}\n\t\n\tvar tabIsFocused = true;\n\tvar me = void 0;\n\t\n\twindow.addEventListener('blur', function () {\n\t  tabIsFocused = false;\n\t});\n\t\n\twindow.addEventListener('focus', function () {\n\t  if (me && me.unreadPushNotifications) {\n\t    Actions.updateMe({ unreadPushNotifications: 0 });\n\t  }\n\t\n\t  tabIsFocused = true;\n\t});\n\t\n\texports.init = function (opts) {\n\t  me = opts.me;\n\t  var node = opts.node;\n\t  node.on('message', function () {\n\t    if (tabIsFocused || Notification.permission !== 'granted') return;\n\t\n\t    // TODO: show logo of msg sender\n\t    var n = new Notification('You have a message waiting!', {\n\t      body: 'Click to open your Tradle tab',\n\t      icon: '/img/logo.png'\n\t    });\n\t\n\t    n.onclick = function () {\n\t      try {\n\t        window.focus();\n\t      } catch (e) {}\n\t\n\t      clearTimeout(closeTimeout);\n\t      n.close();\n\t    };\n\t\n\t    var closeTimeout = setTimeout(function () {\n\t      return n.close();\n\t    }, 5000);\n\t  });\n\t};\n\t\n\texports.subscribe = function () {\n\t  return Promise.resolve();\n\t};\n\t\n\texports.resetBadgeNumber = function () {\n\t  return Promise.resolve();\n\t};\n\t\n\tfunction requestPermissions() {\n\t  if (Notification.permission === 'granted') return;\n\t\n\t  // Let's check whether notification permissions have already been granted\n\t  if (Notification.permission !== 'denied') {\n\t    Notification.requestPermission(function (permission) {\n\t      if (permission === 'granted') {\n\t        console.log('notifications permission granted');\n\t      }\n\t    });\n\t  }\n\t}\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n\n/***/ 1683:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar navs = new Map();\n\t\n\tmodule.exports = {\n\t  watch: function watch(nav) {\n\t    if (navs.has(nav)) return;\n\t\n\t    var _currentRoute = void 0;\n\t    navs.set(nav, {\n\t      get currentRoute() {\n\t        return _currentRoute;\n\t      }\n\t    });\n\t\n\t    nav.navigationContext.addListener('willfocus', function (e) {\n\t      _currentRoute = e.data.route;\n\t    });\n\t  },\n\t  getCurrentRoute: function getCurrentRoute(nav) {\n\t    var watcher = navs.get(nav);\n\t    if (!watcher) throw new Error('nav not found! Run navs.watch(nav) first');\n\t\n\t    return watcher.currentRoute;\n\t  }\n\t};\n\n/***/ },\n\n/***/ 1684:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = {};\n\n/***/ },\n\n/***/ 1685:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _reactNativeActionsheet = __webpack_require__(1686);\n\t\n\tvar _reactNativeActionsheet2 = _interopRequireDefault(_reactNativeActionsheet);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _platform = __webpack_require__(1674);\n\t\n\tvar _platform2 = _interopRequireDefault(_platform);\n\t\n\tvar _StatusBar = __webpack_require__(1690);\n\t\n\tvar _StatusBar2 = _interopRequireDefault(_StatusBar);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar NoResources = __webpack_require__(1691);\n\tvar ResourceRow = __webpack_require__(1692);\n\tvar ResourceView = __webpack_require__(1706);\n\tvar VerificationRow = __webpack_require__(2095);\n\tvar NewResource = __webpack_require__(1949);\n\tvar MessageList = __webpack_require__(1946);\n\tvar PageView = __webpack_require__(1722);\n\tvar MessageView = __webpack_require__(1947);\n\t\n\tvar utils = __webpack_require__(935);\n\tvar translate = utils.translate;\n\tvar reactMixin = __webpack_require__(1703);\n\tvar extend = __webpack_require__(1705);\n\tvar Store = __webpack_require__(1723);\n\tvar Actions = __webpack_require__(1517);\n\tvar Reflux = __webpack_require__(1518);\n\tvar constants = __webpack_require__(1348);\n\tvar Icon = __webpack_require__(1541);\n\tvar QRCodeScanner = __webpack_require__(2099);\n\tvar QRCode = __webpack_require__(1932);\n\tvar buttonStyles = __webpack_require__(1721);\n\tvar NetworkInfoProvider = __webpack_require__(2076);\n\tvar defaultBankStyle = __webpack_require__(2094);\n\t\n\tvar WEB_TO_MOBILE = '0';\n\tvar TALK_TO_EMPLOYEEE = '1';\n\tvar APP_QR_CODE = '5';\n\t// var bankStyles = require('../styles/bankStyles')\n\tvar ENUM = 'tradle.Enum';\n\t\n\tvar SearchBar = _reactNative.Platform.OS !== 'ios' ? null : __webpack_require__(2069);\n\t\n\tvar ResourceList = function (_Component) {\n\t  _inherits(ResourceList, _Component);\n\t\n\t  function ResourceList(props) {\n\t    _classCallCheck(this, ResourceList);\n\t\n\t    var _this = _possibleConstructorReturn(this, (ResourceList.__proto__ || Object.getPrototypeOf(ResourceList)).call(this, props));\n\t\n\t    _this.state = {\n\t      // isLoading: utils.getModels() ? false : true,\n\t      isLoading: true,\n\t      dataSource: new _reactNative.ListView.DataSource({\n\t        rowHasChanged: function rowHasChanged(row1, row2) {\n\t          return row1 !== row2;\n\t        }\n\t      }),\n\t      allowToAdd: _this.props.prop && _this.props.prop.allowToAdd,\n\t      filter: _this.props.filter,\n\t      show: false,\n\t      isConnected: _this.props.navigator.isConnected,\n\t      userInput: ''\n\t    };\n\t    var isRegistration = _this.props.isRegistration || _this.props.resource && _this.props.resource[constants.TYPE] === constants.TYPES.PROFILE && !_this.props.resource[constants.ROOT_HASH];\n\t    if (isRegistration) _this.state.isRegistration = isRegistration;\n\t    if (_this.props.chat) {\n\t      _this.state.sharedWith = {};\n\t      var routes = _this.props.navigator.getCurrentRoutes();\n\t      routes[routes.length - 1].onRightButtonPress = _this.done.bind(_this);\n\t    }\n\t    return _this;\n\t  }\n\t\n\t  _createClass(ResourceList, [{\n\t    key: 'done',\n\t    value: function done() {\n\t      var orgs = [];\n\t      for (var orgId in this.state.sharedWith) {\n\t        if (!this.state.sharedWith[orgId]) continue;\n\t        orgs.push(orgId);\n\t        //       for (var rep in this.state.sharedWithMapping) {\n\t        //         let org = this.state.sharedWithMapping[rep]\n\t        //         if (utils.getId(org) === orgId)\n\t        //           reps.push(rep)\n\t        //       }\n\t      }\n\t      // if (reps.length)\n\t      this.props.callback(orgs);\n\t    }\n\t  }, {\n\t    key: 'componentWillUnmount',\n\t    value: function componentWillUnmount() {\n\t      if (this.props.navigator.getCurrentRoutes().length === 1) _StatusBar2.default.setHidden(true);\n\t    }\n\t  }, {\n\t    key: 'componentWillMount',\n\t    value: function componentWillMount() {\n\t      var _this2 = this;\n\t\n\t      if (this.props.chat) {\n\t        utils.onNextTransitionEnd(this.props.navigator, function () {\n\t          Actions.listSharedWith(_this2.props.resource, _this2.props.chat);\n\t        });\n\t        return;\n\t      }\n\t      var params = {\n\t        modelName: this.props.modelName\n\t      };\n\t      if (this.props.isAggregation) params.isAggregation = true;\n\t      if (this.props.sortProperty) params.sortProperty = this.props.sortProperty;\n\t      if (this.props.prop) params.prop = utils.getModel(this.props.resource[constants.TYPE]).value.properties[this.props.prop.name];\n\t      if (params.prop) {\n\t        var m = utils.getModel(this.props.resource[constants.TYPE]).value;\n\t        // case when for example clicking on 'Verifications' on Form page\n\t        if (m.interfaces) {\n\t          // if (utils.getModel(this.props.modelName).value.interfaces)\n\t          //   params.to = this.props.resource.to\n\t          params.resource = this.props.resource;\n\t        }\n\t\n\t        //       params.resource = this.props.resource\n\t      } else params.to = this.props.resource;\n\t\n\t      // this.state.isLoading = true;\n\t      utils.onNextTransitionEnd(this.props.navigator, function () {\n\t        Actions.list(params);\n\t        _StatusBar2.default.setHidden(false);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      this.listenTo(Store, 'onListUpdate');\n\t    }\n\t  }, {\n\t    key: 'onListUpdate',\n\t    value: function onListUpdate(params) {\n\t      if (params.error) return;\n\t\n\t      var action = params.action;\n\t      if (action === 'newContact') {\n\t        var routes = this.props.navigator.getCurrentRoutes();\n\t        var curRoute = routes[routes.length - 1];\n\t        if (curRoute.id === 11 && curRoute.passProps.resource[constants.ROOT_HASH] === params.to[constants.ROOT_HASH]) return;\n\t        var style = this.mergeStyle(params.to.style);\n\t        this.props.navigator[curRoute.id === 3 ? 'replace' : 'push']({\n\t          title: params.to.firstName,\n\t          component: MessageList,\n\t          id: 11,\n\t          backButtonTitle: 'Back',\n\t          passProps: {\n\t            resource: params.to,\n\t            filter: '',\n\t            modelName: constants.TYPES.MESSAGE,\n\t            // currency: params.organization.currency,\n\t            bankStyle: style\n\t          }\n\t        });\n\t\n\t        return;\n\t      }\n\t      if (action === 'addApp') {\n\t        this.props.navigator.pop();\n\t        // Actions.list(constants.TYPES.ORGANIZATION)\n\t        return;\n\t      }\n\t      if (action === 'connectivity') {\n\t        this.setState({ isConnected: params.isConnected });\n\t        return;\n\t      }\n\t\n\t      if (action === 'addItem' || action === 'addMessage') {\n\t        var model = action === 'addMessage' ? utils.getModel(this.props.modelName).value : utils.getModel(params.resource[constants.TYPE]).value;\n\t        if (action === 'addItem' && model.id !== this.props.modelName) return;\n\t        if (action === 'addMessage' && this.props.modelName !== constants.TYPES.PROFILE) return;\n\t        // this.state.isLoading = true;\n\t        Actions.list({\n\t          query: this.state.filter,\n\t          modelName: model.id,\n\t          to: this.props.resource,\n\t          sortProperty: model.sort\n\t        });\n\t\n\t        return;\n\t      }\n\t      if (action === 'getForms') {\n\t        if (!params.to) return;\n\t        var _style = this.mergeStyle(params.to.style);\n\t\n\t        var route = {\n\t          title: params.to.name,\n\t          component: MessageList,\n\t          id: 11,\n\t          backButtonTitle: 'Back',\n\t          passProps: {\n\t            resource: params.to,\n\t            filter: '',\n\t            modelName: constants.TYPES.MESSAGE,\n\t            currency: params.to.currency,\n\t            bankStyle: _style,\n\t            dictionary: params.dictionary\n\t          }\n\t        };\n\t        // var me = utils.getMe()\n\t        // var msg = {\n\t        //   message: me.firstName + ' is waiting for the response',\n\t        //   _t: constants.TYPES.SELF_INTRODUCTION,\n\t        //   identity: params.myIdentity,\n\t        //   from: me,\n\t        //   to: params.to\n\t        // }\n\t        // utils.onNextTransitionEnd(this.props.navigator, () => Actions.messageList({modelName: constants.TYPES.MESSAGE, to: params.to}))\n\t        this.props.navigator.replace(route);\n\t        return;\n\t      }\n\t      if (action === 'talkToEmployee') {\n\t        if (!params.to) return;\n\t        var _style2 = this.mergeStyle(params.to.style);\n\t        var route = {\n\t          title: params.to.name,\n\t          component: MessageList,\n\t          id: 11,\n\t          backButtonTitle: 'Back',\n\t          passProps: {\n\t            resource: params.to,\n\t            filter: '',\n\t            modelName: constants.TYPES.MESSAGE,\n\t            currency: params.to.currency,\n\t            bankStyle: _style2,\n\t            dictionary: params.dictionary\n\t          }\n\t        };\n\t        var me = utils.getMe();\n\t\n\t        var msg = {\n\t          message: me.firstName + ' is waiting for the response',\n\t          _t: constants.TYPES.SELF_INTRODUCTION,\n\t          identity: params.myIdentity,\n\t          from: me,\n\t          to: params.to\n\t        };\n\t        // var sendNotification = (resource.name === 'Rabobank'  &&  (!me.organization  ||  me.organization.name !== 'Rabobank'))\n\t        // Actions.addMessage(msg, true, sendNotification)\n\t        utils.onNextTransitionEnd(this.props.navigator, function () {\n\t          return Actions.addMessage(msg);\n\t        }); //, true))\n\t        if (this.props.navigator.getCurrentRoutes().length === 3) this.props.navigator.replace(route);else this.props.navigator.push(route);\n\t        return;\n\t      }\n\t      if (action === 'list') {\n\t        // First time connecting to server. No connection no providers yet loaded\n\t        if (!params.list && params.alert) {\n\t          _reactNative.Alert.alert(params.alert);\n\t          return;\n\t        }\n\t      }\n\t      if (action !== 'list' && action !== 'listSharedWith' || !params.list || params.isAggregation !== this.props.isAggregation) return;\n\t      if (action === 'list' && this.props.chat) return;\n\t      if (action === 'listSharedWith' && !this.props.chat) return;\n\t      var list = params.list;\n\t\n\t      if (!list.length) {\n\t        if (!this.state.filter || !this.state.filter.length) this.setState({\n\t          isLoading: false\n\t        });else this.setState({\n\t          isLoading: false,\n\t          dataSource: this.state.dataSource.cloneWithRows(list),\n\t          list: list\n\t        });\n\t        return;\n\t      }\n\t      var type = list[0][constants.TYPE];\n\t      if (type !== this.props.modelName) {\n\t        var m = utils.getModel(type).value;\n\t        if (!m.subClassOf || m.subClassOf != this.props.modelName) return;\n\t      }\n\t      var state = {\n\t        dataSource: this.state.dataSource.cloneWithRows(list),\n\t        list: list,\n\t        forceUpdate: params.forceUpdate,\n\t        dictionary: params.dictionary,\n\t        isLoading: false\n\t      };\n\t      if (params.sharedWith) {\n\t        (function () {\n\t          state.sharedWithMapping = params.sharedWith;\n\t          var sharedWith = {};\n\t          list.forEach(function (r) {\n\t            sharedWith[utils.getId(r)] = true;\n\t          });\n\t          state.sharedWith = sharedWith;\n\t        })();\n\t      }\n\t\n\t      this.setState(state);\n\t    }\n\t  }, {\n\t    key: 'mergeStyle',\n\t    value: function mergeStyle(newStyle) {\n\t      var style = {};\n\t      extend(style, defaultBankStyle);\n\t      if (newStyle) style = extend(style, newStyle);\n\t      return style;\n\t    }\n\t  }, {\n\t    key: 'shouldComponentUpdate',\n\t    value: function shouldComponentUpdate(nextProps, nextState) {\n\t      if (nextState.forceUpdate) return true;\n\t      if (this.state.show !== nextState.show) return true;\n\t      if (nextState.isConnected !== this.state.isConnected) return true;\n\t      // if (this.state.isConnected !== nextState.isConnected)\n\t      //   if (!this.state.list && !nextState.list)\n\t      //     return true\n\t      if (!this.state.list || !nextState.list || this.state.list.length !== nextState.list.length) return true;\n\t      var isOrg = this.props.modelName === constants.TYPES.ORGANIZATION;\n\t      for (var i = 0; i < this.state.list.length; i++) {\n\t        if (this.state.list[i].numberOfForms !== nextState.list[i].numberOfForms) return true;\n\t        if (this.state.list[i][constants.ROOT_HASH] !== nextState.list[i][constants.ROOT_HASH]) return true;\n\t      }\n\t      return false;\n\t    }\n\t  }, {\n\t    key: 'selectResource',\n\t    value: function selectResource(resource) {\n\t      var me = utils.getMe();\n\t      // Case when resource is a model. In this case the form for creating a new resource of this type will be displayed\n\t      var model = utils.getModel(this.props.modelName);\n\t      var isIdentity = this.props.modelName === constants.TYPES.PROFILE;\n\t      var isVerification = model.value.id === constants.TYPES.VERIFICATION;\n\t      var isForm = model.value.id === constants.TYPES.FORM;\n\t      var isOrganization = this.props.modelName === constants.TYPES.ORGANIZATION;\n\t      if (!isIdentity && !isOrganization && !this.props.callback) {\n\t        var m = utils.getModel(resource[constants.TYPE]).value;\n\t\n\t        if (isVerification || isForm) {\n\t          this.props.navigator.push({\n\t            title: m.title,\n\t            id: 5,\n\t            component: MessageView,\n\t            backButtonTitle: translate('back'),\n\t            passProps: {\n\t              resource: resource,\n\t              bankStyle: this.props.bankStyle || defaultBankStyle\n\t            }\n\t          });\n\t        } else {\n\t          var title = utils.makeTitle(utils.getDisplayName(resource, m.properties));\n\t          this.props.navigator.push({\n\t            title: title,\n\t            id: 3,\n\t            component: ResourceView,\n\t            // titleTextColor: '#7AAAC3',\n\t            backButtonTitle: translate('back'),\n\t            rightButtonTitle: translate('edit'),\n\t            onRightButtonPress: {\n\t              title: title,\n\t              id: 4,\n\t              component: NewResource,\n\t              titleTextColor: '#7AAAC3',\n\t              backButtonTitle: translate('back'),\n\t              rightButtonTitle: translate('done'),\n\t              passProps: {\n\t                model: m,\n\t                resource: resource,\n\t                bankStyle: this.props.bankStyle || defaultBankStyle\n\t              }\n\t            },\n\t\n\t            passProps: { resource: resource }\n\t          });\n\t        }\n\t        return;\n\t      }\n\t      if (this.props.prop) {\n\t        if (me && this.props.modelName != constants.TYPES.PROFILE) {\n\t          this._selectResource(resource);\n\t          return;\n\t        }\n\t        if (!me) {\n\t          if (this.state.isRegistration) {\n\t            this._selectResource(resource);\n\t            return;\n\t          }\n\t        } else if (me[constants.ROOT_HASH] === resource[constants.ROOT_HASH] || this.props.resource && me[constants.ROOT_HASH] === this.props.resource[constants.ROOT_HASH] && this.props.prop) {\n\t          this._selectResource(resource);\n\t          return;\n\t        }\n\t      }\n\t      var title = isIdentity ? resource.firstName : resource.name; //utils.getDisplayName(resource, model.value.properties);\n\t      var modelName = constants.TYPES.MESSAGE;\n\t      var self = this;\n\t      var style = this.mergeStyle(resource.style);\n\t      var route = {\n\t        component: MessageList,\n\t        id: 11,\n\t        backButtonTitle: translate('back'),\n\t        passProps: {\n\t          resource: resource,\n\t          filter: '',\n\t          modelName: modelName,\n\t          currency: resource.currency,\n\t          bankStyle: style\n\t        }\n\t      };\n\t      if (isIdentity) {\n\t        //  ||  isOrganization) {\n\t        route.title = resource.firstName;\n\t        route.rightButtonTitle = translate('profile');\n\t\n\t        route.onRightButtonPress = {\n\t          title: title,\n\t          id: 3,\n\t          component: ResourceView,\n\t          titleTextColor: '#7AAAC3',\n\t          backButtonTitle: translate('back'),\n\t          passProps: {\n\t            bankStyle: style,\n\t            resource: resource\n\t          }\n\t        };\n\t        var isMe = isIdentity ? resource[constants.ROOT_HASH] === me[constants.ROOT_HASH] : true;\n\t        if (isMe) {\n\t          route.onRightButtonPress.rightButtonTitle = translate('edit');\n\t          route.onRightButtonPress.onRightButtonPress = {\n\t            title: title,\n\t            id: 4,\n\t            component: NewResource,\n\t            titleTextColor: '#7AAAC3',\n\t            backButtonTitle: translate('back'),\n\t            rightButtonTitle: translate('done'),\n\t            passProps: {\n\t              bankStyle: style,\n\t              model: utils.getModel(resource[constants.TYPE]).value,\n\t              resource: resource,\n\t              currency: this.props.currency\n\t            }\n\t          };\n\t        }\n\t      }\n\t      if (isOrganization) {\n\t        route.title = resource.name;\n\t        if (this.props.officialAccounts) {\n\t          if (!utils.isEmployee(resource)) {\n\t            var msg = {\n\t              message: me.firstName + ' is waiting for the response',\n\t              _t: constants.TYPES.CUSTOMER_WAITING,\n\t              from: me,\n\t              to: resource,\n\t              time: new Date().getTime()\n\t            };\n\t\n\t            utils.onNextTransitionEnd(this.props.navigator, function () {\n\t              return Actions.addMessage(msg, true);\n\t            });\n\t          }\n\t        }\n\t      }\n\t\n\t      this.props.navigator.push(route);\n\t    }\n\t  }, {\n\t    key: '_selectResource',\n\t    value: function _selectResource(resource) {\n\t      var model = utils.getModel(this.props.modelName);\n\t      var title = utils.getDisplayName(resource, model.value.properties);\n\t      var newTitle = title;\n\t      if (title.length > 20) {\n\t        var t = title.split(' ');\n\t        newTitle = '';\n\t        t.forEach(function (word) {\n\t          if (newTitle.length + word.length > 20) return;\n\t          newTitle += newTitle.length ? ' ' + word : word;\n\t        });\n\t      }\n\t\n\t      var route = {\n\t        title: utils.makeTitle(newTitle),\n\t        id: 3,\n\t        component: ResourceView,\n\t        parentMeta: model,\n\t        backButtonTitle: translate('back'),\n\t        passProps: {\n\t          resource: resource,\n\t          bankStyle: this.props.style,\n\t          currency: this.props.currency\n\t        }\n\t      };\n\t      // Edit resource\n\t      var me = utils.getMe();\n\t      if ((me || this.state.isRegistration) && this.props.prop) {\n\t        this.props.callback(this.props.prop, resource); // HACK for now\n\t        if (this.props.returnRoute) this.props.navigator.popToRoute(this.props.returnRoute);else this.props.navigator.pop();\n\t        return;\n\t      }\n\t      if (me && !model.value.isInterface && (resource[constants.ROOT_HASH] === me[constants.ROOT_HASH] || resource[constants.TYPE] !== constants.TYPES.PROFILE)) {\n\t        var self = this;\n\t        route.rightButtonTitle = translate('edit');\n\t        route.onRightButtonPress = /*() =>*/{\n\t          title: translate('edit'),\n\t          id: 4,\n\t          component: NewResource,\n\t          rightButtonTitle: translate('done'),\n\t          titleTextColor: '#7AAAC3',\n\t          passProps: {\n\t            model: utils.getModel(resource[constants.TYPE]).value,\n\t            bankStyle: this.props.style,\n\t            resource: me\n\t          }\n\t        };\n\t      }\n\t      this.props.navigator.push(route);\n\t    }\n\t  }, {\n\t    key: 'showRefResources',\n\t    value: function showRefResources(resource, prop) {\n\t      var props = utils.getModel(resource[constants.TYPE]).value.properties;\n\t      var propJson = props[prop];\n\t      var resourceTitle = utils.getDisplayName(resource, props);\n\t      resourceTitle = utils.makeTitle(resourceTitle);\n\t\n\t      var backlinksTitle = propJson.title + ' - ' + resourceTitle;\n\t      backlinksTitle = utils.makeTitle(backlinksTitle);\n\t      var modelName = propJson.items.ref;\n\t\n\t      this.props.navigator.push({\n\t        title: backlinksTitle,\n\t        id: 10,\n\t        component: ResourceList,\n\t        backButtonTitle: translate('back'),\n\t        titleTextColor: '#7AAAC3',\n\t        passProps: {\n\t          resource: resource,\n\t          prop: prop,\n\t          bankStyle: this.props.style,\n\t          modelName: modelName\n\t        },\n\t        rightButtonTitle: translate('details'),\n\t        onRightButtonPress: {\n\t          title: resourceTitle,\n\t          id: 3,\n\t          component: ResourceView,\n\t          titleTextColor: '#7AAAC3',\n\t          backButtonTitle: translate('back'),\n\t          rightButtonTitle: translate('edit'),\n\t          onRightButtonPress: {\n\t            title: resourceTitle,\n\t            id: 4,\n\t            component: NewResource,\n\t            titleTextColor: '#7AAAC3',\n\t            backButtonTitle: translate('back'),\n\t            rightButtonTitle: translate('done'),\n\t            passProps: {\n\t              model: utils.getModel(resource[constants.TYPE]).value,\n\t              bankStyle: this.props.style,\n\t              resource: resource\n\t            }\n\t          },\n\t\n\t          passProps: {\n\t            bankStyle: this.props.style,\n\t            resource: resource,\n\t            currency: this.props.currency\n\t          }\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'onSearchChange',\n\t    value: function onSearchChange(filter) {\n\t      this.state.filter = filter;\n\t      Actions.list({\n\t        query: filter,\n\t        modelName: this.props.modelName,\n\t        to: this.props.resource\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderRow',\n\t    value: function renderRow(resource) {\n\t      var _this3 = this;\n\t\n\t      var model = utils.getModel(this.props.modelName).value;\n\t      // || (model.id === constants.TYPES.FORM)\n\t      var isVerification = model.id === constants.TYPES.VERIFICATION || model.subClassOf === constants.TYPES.VERIFICATION;\n\t      var isForm = model.id === constants.TYPES.FORM || model.subClassOf === constants.TYPES.FORM;\n\t      var isMyProduct = model.id === 'tradle.MyProduct' || model.subClassOf === 'tradle.MyProduct';\n\t\n\t      // let hasBacklink = this.props.prop && this.props.prop.items  &&  this.props.prop.backlink\n\t      return (/*hasBacklink  &&*/isVerification || isForm || isMyProduct ? _react2.default.createElement(VerificationRow, {\n\t          onSelect: function onSelect() {\n\t            return _this3.selectResource(isVerification ? resource.document : resource);\n\t          },\n\t          key: resource[constants.ROOT_HASH],\n\t          navigator: this.props.navigator,\n\t          prop: this.props.prop,\n\t          currency: this.props.currency,\n\t          isChooser: this.props.isChooser,\n\t          resource: resource }) : _react2.default.createElement(ResourceRow, {\n\t          onSelect: function onSelect() {\n\t            return _this3.selectResource(resource);\n\t          },\n\t          key: resource[constants.ROOT_HASH],\n\t          navigator: this.props.navigator,\n\t          changeSharedWithList: this.props.chat ? this.changeSharedWithList.bind(this) : null,\n\t          currency: this.props.currency,\n\t          isOfficialAccounts: this.props.officialAccounts,\n\t          showRefResources: this.showRefResources.bind(this),\n\t          resource: resource })\n\t      );\n\t    }\n\t  }, {\n\t    key: 'changeSharedWithList',\n\t    value: function changeSharedWithList(id, value) {\n\t      this.state.sharedWith[id] = value;\n\t    }\n\t  }, {\n\t    key: 'renderFooter',\n\t    value: function renderFooter() {\n\t      var _this4 = this;\n\t\n\t      var me = utils.getMe();\n\t      // if (!me  ||  (this.props.prop  &&  (this.props.prop.readOnly || (this.props.prop.items  &&  this.props.prop.items.readOnly))))\n\t      //   return <View />;\n\t      var model = utils.getModel(this.props.modelName).value;\n\t      if (!this.props.prop && model.id !== constants.TYPES.ORGANIZATION) return _react2.default.createElement(_reactNative.View, null);\n\t      // if (model.subClassOf === constants.TYPES.FINANCIAL_PRODUCT ||  model.subClassOf === ENUM)\n\t      //   return <View />\n\t      if (this.props.prop && !this.props.prop.allowToAdd) return _react2.default.createElement(_reactNative.View, null);\n\t\n\t      // var qrInfo = (model.id === constants.TYPES.PROFILE)\n\t      //            ? <View style={styles.row}>\n\t      //                <TouchableHighlight underlayColor='transparent'\n\t      //                   onPress={this.showQRCode.bind(this, 'Contact Info', me[constants.ROOT_HASH])}>\n\t      //                 <View style={{alignSelf: 'center'}}>\n\t      //                   <View style={{marginTop: -12}}>\n\t      //                     <Icon name='ios-barcode'  size={30}  color='#999999' style={styles.icon} />\n\t      //                   </View>\n\t      //                   <View style={{marginTop: -5}}>\n\t      //                     <Text style={[buttonStyles.text, {color:'#999999'}]}>My QR Code</Text>\n\t      //                   </View>\n\t      //                 </View>\n\t      //               </TouchableHighlight>\n\t      //               <TouchableHighlight underlayColor='transparent' onPress={this.scanQRCode.bind(this)}>\n\t      //                 <View style={styles.row}>\n\t      //                   <View style={{marginTop: -5}}>\n\t      //                     <Text style={styles.resourceTitle}>Scan new contact</Text>\n\t      //                   </View>\n\t      //                   <View style={{marginTop: -12}}>\n\t      //                     <Icon name='qr-scanner'  size={30}  color='#999999' style={styles.icon} />\n\t      //                   </View>\n\t      //                 </View>\n\t      //               </TouchableHighlight>\n\t      //             </View>\n\t      //           : <View />\n\t\n\t      // return (\n\t      //   <View style={styles.footer}>\n\t      //     <TouchableHighlight underlayColor='transparent' onPress={() => this.ActionSheet.show()}>\n\t      //       <View style={styles.menuButton1}>\n\t      //         <Icon name='md-menu'  size={30}  color='#ffffff' />\n\t      //       </View>\n\t      //     </TouchableHighlight>\n\t      //   </View>\n\t      // );\n\t      // let style = Platform.OS === 'ios' ? styles.menuButton : styles.menuButtonA\n\t      var icon = _reactNative.Platform.OS === 'android' ? 'md-menu' : 'md-more';\n\t      var color = _reactNative.Platform.OS === 'android' ? 'red' : '#ffffff';\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: styles.footer },\n\t        _react2.default.createElement(\n\t          _reactNative.TouchableOpacity,\n\t          { onPress: function onPress() {\n\t              return _this4.ActionSheet.show();\n\t            } },\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: _platform2.default.menuButtonNarrow },\n\t            _react2.default.createElement(Icon, { name: icon, size: 33, color: color })\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }, {\n\t    key: 'onSettingsPressed',\n\t    value: function onSettingsPressed() {\n\t      var _this5 = this;\n\t\n\t      var model = utils.getModel(constants.TYPES.SETTINGS).value;\n\t      this.setState({ show: false });\n\t      var route = {\n\t        component: NewResource,\n\t        title: 'Settings',\n\t        backButtonTitle: translate('back'),\n\t        rightButtonTitle: translate('done'),\n\t        id: 4,\n\t        titleTextColor: '#7AAAC3',\n\t        passProps: {\n\t          model: model,\n\t          bankStyle: this.props.style,\n\t          callback: function callback() {\n\t            _this5.props.navigator.pop();\n\t            Actions.list({ modelName: _this5.props.modelName });\n\t          }\n\t          // callback: this.register.bind(this)\n\t        }\n\t      };\n\t\n\t      this.props.navigator.push(route);\n\t    }\n\t  }, {\n\t    key: 'showBanks',\n\t    value: function showBanks() {\n\t      this.props.navigator.push({\n\t        title: translate('officialAccounts'),\n\t        id: 10,\n\t        component: ResourceList,\n\t        backButtonTitle: translate('back'),\n\t        titleTextColor: '#7AAAC3',\n\t        passProps: {\n\t          officialAccounts: true,\n\t          bankStyle: this.props.style,\n\t          modelName: constants.TYPES.ORGANIZATION\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'addNew',\n\t    value: function addNew() {\n\t      var model = utils.getModel(this.props.modelName).value;\n\t      var r;\n\t      this.setState({ show: false });\n\t      // resource if present is a container resource as for example subreddit for posts or post for comments\n\t      // if to is passed then resources only of this container need to be returned\n\t      if (this.props.resource) {\n\t        var props = model.properties;\n\t        for (var p in props) {\n\t          var isBacklink = props[p].ref && props[p].ref === this.props.resource[constants.TYPE];\n\t          if (props[p].ref && !isBacklink) {\n\t            if (utils.getModel(props[p].ref).value.isInterface && model.interfaces && model.interfaces.indexOf(props[p].ref) !== -1) isBacklink = true;\n\t          }\n\t          if (isBacklink) {\n\t            r = {};\n\t            r[constants.TYPE] = this.props.modelName;\n\t            r[p] = { id: this.props.resource[constants.TYPE] + '_' + this.props.resource[constants.ROOT_HASH] };\n\t\n\t            if (this.props.resource.relatedTo && props.relatedTo) // HACK for now for main container\n\t              r.relatedTo = this.props.resource.relatedTo;\n\t          }\n\t        }\n\t      }\n\t      // Setting some property like insured person. The value for it will be another form\n\t      //\n\t      if (this.props.prop && model.subClassOf === constants.TYPES.FORM) {\n\t        if (!r) r = {};\n\t        r[constants.TYPE] = this.props.prop.ref || this.props.prop.items.ref;\n\t        r.from = this.props.resource.from;\n\t        r.to = this.props.resource.to;\n\t      }\n\t      var self = this;\n\t      this.props.navigator.push({\n\t        title: model.title,\n\t        id: 4,\n\t        component: NewResource,\n\t        titleTextColor: '#7AAAC3',\n\t        backButtonTitle: translate('back'),\n\t        rightButtonTitle: translate('done'),\n\t        passProps: {\n\t          model: model,\n\t          bankStyle: this.props.style,\n\t          resource: r,\n\t          callback: function callback(resource) {\n\t            self.props.navigator.pop();\n\t            var l = [];\n\t\n\t            self.state.list.forEach(function (r) {\n\t              var rr = {};\n\t              extend(rr, r);\n\t              l.push(rr);\n\t            });\n\t            l.push(resource);\n\t\n\t            self.setState({\n\t              list: l,\n\t              dataSource: self.state.dataSource.cloneWithRows(l)\n\t            });\n\t            // this.props.navigator.jumpTo(routes[routes.length - 2])\n\t            // routes[routes.length - 2].passProps.callback(resource)\n\t          }\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this6 = this;\n\t\n\t      // AlertIOS.alert('Rendering list ' + this.state.isLoading)\n\t      // if (this.state.isLoading)\n\t      //   return <View/>\n\t      var content;\n\t      var model = utils.getModel(this.props.modelName).value;\n\t      if (this.state.dataSource.getRowCount() === 0 && utils.getMe() && !utils.getMe().organization && model.subClassOf !== ENUM && !this.props.isChooser &&\n\t      // this.props.modelName !== constants.TYPES.PROFILE       &&\n\t      // this.props.modelName !== constants.TYPES.VERIFICATION  &&\n\t      this.props.modelName !== constants.TYPES.ORGANIZATION && (!model.subClassOf || model.subClassOf !== ENUM)) {\n\t        content = _react2.default.createElement(NoResources, {\n\t          filter: this.state.filter,\n\t          model: model,\n\t          isLoading: this.state.isLoading });\n\t      } else {\n\t        var model = utils.getModel(this.props.modelName).value;\n\t        // style={[styles.listViewStyle, {width: Math.floor(utils.dimensions().width * 0.75)}]}\n\t\n\t        content = _react2.default.createElement(_reactNative.ListView, {\n\t          dataSource: this.state.dataSource,\n\t          renderHeader: this.renderHeader.bind(this),\n\t          enableEmptySections: true,\n\t          renderRow: this.renderRow.bind(this),\n\t          automaticallyAdjustContentInsets: false,\n\t          removeClippedSubviews: false,\n\t          keyboardDismissMode: utils.isWeb() ? 'none' : 'on-drag',\n\t          keyboardShouldPersistTaps: utils.isWeb() ? false : true,\n\t          initialListSize: 1000,\n\t          showsVerticalScrollIndicator: false });\n\t      }\n\t      // pageSize={20}\n\t      // scrollRenderAhead={10}\n\t      // initialListSize={10}\n\t      var model = utils.getModel(this.props.modelName).value;\n\t      var footer = this.renderFooter();\n\t\n\t      var buttons = this.state.allowToAdd ? [translate('addNew', this.props.prop.title), translate('cancel')] : [translate('addServerUrl'), translate('scanQRcode') /*, 'Talk to employee'*/, translate('cancel')];\n\t\n\t      var searchBar;\n\t      if (SearchBar) {\n\t        searchBar = _react2.default.createElement(SearchBar, {\n\t          onChangeText: this.onSearchChange.bind(this),\n\t          placeholder: translate('search'),\n\t          showsCancelButton: false,\n\t          hideBackground: true\n\t        });\n\t      }\n\t\n\t      return _react2.default.createElement(\n\t        PageView,\n\t        { style: _platform2.default.container },\n\t        _react2.default.createElement(NetworkInfoProvider, { connected: this.state.isConnected }),\n\t        searchBar,\n\t        content,\n\t        footer,\n\t        _react2.default.createElement(_reactNativeActionsheet2.default, {\n\t          ref: function ref(o) {\n\t            _this6.ActionSheet = o;\n\t          },\n\t          options: buttons,\n\t          cancelButtonIndex: buttons.length - 1,\n\t          onPress: function onPress(index) {\n\t            switch (index) {\n\t              case 0:\n\t                if (_this6.state.allowToAdd) _this6.addNew();else _this6.onSettingsPressed();\n\t                break;\n\t              case 1:\n\t                _this6.scanFormsQRCode();\n\t                break;\n\t              // case 2:\n\t              //   this.talkToEmployee()\n\t              //   break\n\t              default:\n\t                return;\n\t            }\n\t          }\n\t        })\n\t      );\n\t    }\n\t  }, {\n\t    key: 'renderHeader',\n\t    value: function renderHeader() {\n\t      if (this.props.modelName !== constants.TYPES.PROFILE) return _react2.default.createElement(_reactNative.View, null);\n\t\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: { padding: 5, backgroundColor: '#CDE4F7' } },\n\t        _react2.default.createElement(\n\t          _reactNative.TouchableOpacity,\n\t          { onPress: this.showBanks.bind(this) },\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: styles.row },\n\t            _react2.default.createElement(\n\t              _reactNative.View,\n\t              null,\n\t              _react2.default.createElement(_reactNative.Image, { source: __webpack_require__(2100), style: styles.cellImage })\n\t            ),\n\t            _react2.default.createElement(\n\t              _reactNative.View,\n\t              { style: styles.textContainer },\n\t              _react2.default.createElement(\n\t                _reactNative.Text,\n\t                { style: styles.resourceTitle },\n\t                'Official Accounts'\n\t              )\n\t            )\n\t          )\n\t        )\n\t      );\n\t    }\n\t\n\t    // showQRCode1(purpose, content) {\n\t    //   this.props.navigator.push({\n\t    //     title: 'QR Code: ' + purpose,\n\t    //     id: 17,\n\t    //     component: QRCode,\n\t    //     titleTextColor: '#eeeeee',\n\t    //     backButtonTitle: translate('back'),\n\t    //     passProps: {\n\t    //       fullScreen: true,\n\t    //       content: content\n\t    //     }\n\t    //   })\n\t    // }\n\t\n\t    // talkToEmployee(qrcode) {\n\t    //   this.setState({show: false})\n\t    //   if (!qrcode)\n\t    //     // qrcode = 'http://127.0.0.1:444444;71e4b7cd6c11ab7221537275988f113a879029eu;6aefc09f4da125095409770592eb96ac142fb579'\n\t    //     // qrcode = 'http://192.168.0.104:44444/;71e4b7cd6c11ab7221537275988f113a879029eu;3497c6ce074f1bc66c05e204fd3a7fbcd5e0fb08'\n\t    //     qrcode = 'http://192.168.0.136:44444/;71e4b7cd6c11ab7221537275988f113a879029eu;c3adf2d26304133265c3e28b5c9037614880aec5'\n\t\n\t    //   Actions.getEmployeeInfo(qrcode)\n\t    //   return\n\t    // }\n\t\n\t  }, {\n\t    key: 'scanFormsQRCode',\n\t    value: function scanFormsQRCode() {\n\t      this.setState({ show: false });\n\t      this.props.navigator.push({\n\t        title: 'Scan QR Code',\n\t        id: 16,\n\t        component: QRCodeScanner,\n\t        titleTintColor: '#eeeeee',\n\t        backButtonTitle: 'Cancel',\n\t        // rightButtonTitle: 'ion|ios-reverse-camera',\n\t        passProps: {\n\t          onread: this.onread.bind(this)\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'onread',\n\t    value: function onread(result) {\n\t      // Pairing devices QRCode\n\t      if (result.data.charAt(0) === '{') {\n\t        h = JSON.parse(result.data);\n\t        Actions.sendPairingRequest(h);\n\t        this.props.navigator.pop();\n\t        return;\n\t      }\n\t      var h = result.data.split(';');\n\t\n\t      // post to server request for the forms that were filled on the web\n\t      var me = utils.getMe();\n\t      switch (h[0]) {\n\t        case WEB_TO_MOBILE:\n\t          var r = {\n\t            _t: 'tradle.GuestSessionProof',\n\t            session: h[1],\n\t            from: {\n\t              id: utils.getId(me),\n\t              title: utils.getDisplayName(me)\n\t            },\n\t            to: {\n\t              id: constants.TYPES.PROFILE + '_' + h[2]\n\t            }\n\t          };\n\t          Actions.addItem({ resource: r, value: r, meta: utils.getModel('tradle.GuestSessionProof').value });\n\t          break;\n\t        case TALK_TO_EMPLOYEEE:\n\t          Actions.getEmployeeInfo(result.data.substring(h[0].length + 1));\n\t          break;\n\t        case APP_QR_CODE:\n\t          Actions.addApp(result.data.substring(h[0].length + 1));\n\t          break;\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return ResourceList;\n\t}(_react.Component);\n\t\n\treactMixin(ResourceList.prototype, Reflux.ListenerMixin);\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  // container: {\n\t  //   flex: 1,\n\t  //   backgroundColor: '#f7f7f7',\n\t  //   // backgroundColor: 'white',\n\t  //   marginTop: Platform.OS === 'ios' ? 64 : 44,\n\t  // },\n\t  // listViewStyle: {\n\t  //   alignSelf: 'flex-end',\n\t  //   borderWidth: 1,\n\t  //   borderColor: '#f7f7f7',\n\t  //   borderLeftColor: '#cccccc'\n\t  // },\n\t  centerText: {\n\t    alignItems: 'center'\n\t  },\n\t  separator: {\n\t    height: 1,\n\t    backgroundColor: '#cccccc'\n\t  },\n\t  icon: {\n\t    marginLeft: -23,\n\t    marginTop: -25,\n\t    // color: '#629BCA',\n\t    color: 'red'\n\t  },\n\t  image: {\n\t    width: 25,\n\t    height: 25,\n\t    marginRight: 5\n\t  },\n\t  footer: {\n\t    flexDirection: 'row',\n\t    flexWrap: 'nowrap',\n\t    justifyContent: 'flex-end',\n\t    height: 45,\n\t    // paddingTop: 5,\n\t    paddingHorizontal: 10,\n\t    backgroundColor: 'transparent',\n\t    // backgroundColor: '#eeeeee',\n\t    borderColor: '#eeeeee',\n\t    borderWidth: _reactNative.StyleSheet.hairlineWidth,\n\t    borderTopColor: '#cccccc'\n\t  },\n\t  row: {\n\t    // backgroundColor: 'white',\n\t    // justifyContent: 'space-around',\n\t    flexDirection: 'row',\n\t    padding: 5\n\t  },\n\t  textContainer: {\n\t    flex: 1\n\t  },\n\t  resourceTitle: {\n\t    flex: 1,\n\t    fontSize: 18,\n\t    fontWeight: '400',\n\t    marginBottom: 2,\n\t    paddingLeft: 5\n\t  },\n\t  cellImage: {\n\t    // backgroundColor: '#dddddd',\n\t    height: 50,\n\t    marginRight: 10,\n\t    width: 50\n\t  },\n\t  menuButton: {\n\t    marginTop: -23,\n\t    paddingVertical: 5,\n\t    paddingHorizontal: 21,\n\t    borderRadius: 24,\n\t    // shadowOffset:{width: 5, height: 5},\n\t    shadowOpacity: 1,\n\t    shadowRadius: 5,\n\t    shadowColor: '#afafaf',\n\t    backgroundColor: 'red'\n\t  },\n\t  menuButtonA: {\n\t    paddingVertical: 5,\n\t    paddingHorizontal: 5\n\t  },\n\t\n\t  menuButton1: {\n\t    marginTop: -30,\n\t    paddingVertical: 7,\n\t    paddingHorizontal: 13,\n\t    borderRadius: 25,\n\t    backgroundColor: 'red',\n\t    shadowOpacity: 1,\n\t    shadowRadius: 5,\n\t    shadowColor: '#afafaf'\n\t  }\n\t\n\t});\n\t\n\tmodule.exports = ResourceList;\n\t\n\t// showDeals(modelName) {\n\t//   var model = utils.getModel(modelName).value;\n\t//   // var model = utils.getModel(this.props.modelName).value;\n\t//   this.props.navigator.push({\n\t//     title: model.title,\n\t//     id: 10,\n\t//     component: ResourceList,\n\t//     titleTextColor: '#7AAAC3',\n\t//     backButtonTitle: 'Back',\n\t//     passProps: {\n\t//       filter: '',\n\t//       modelName: DEAL_MODEL,\n\t//     },\n\t//   })\n\t// }\n\t// onSearchChange1(event) {\n\t//   var filter = event.nativeEvent.text.toLowerCase();\n\t//   Actions.list({\n\t//     query: filter,\n\t//     modelName: this.props.modelName,\n\t//     to: this.props.resource\n\t//   });\n\t// }\n\t// showMenu() {\n\t//   var buttons = [translate('addServerUrl'), translate('scanQRcode'), 'Talk to employee', translate('cancel')]\n\t//   let allowToAdd = this.props.prop  &&  this.props.prop.allowToAdd\n\t//   var buttons = allowToAdd\n\t//               ? [translate('addNew', this.props.prop.title), translate('cancel')]\n\t//               : buttons\n\t//   var self = this;\n\t//   ActionSheetIOS.showActionSheetWithOptions({\n\t//     options: buttons,\n\t//     cancelButtonIndex: allowToAdd ? 2 : 3\n\t//   }, function(buttonIndex) {\n\t//     switch (buttonIndex) {\n\t//     case 0:\n\t//       if (allowToAdd)\n\t//         self.addNew()\n\t//       else\n\t//         self.onSettingsPressed()\n\t//       break\n\t//     case 1:\n\t//       self.scanFormsQRCode()\n\t//       break;\n\t//     case 2:\n\t//       self.talkToEmployee()\n\t//       break\n\t//     default:\n\t//       return\n\t//     }\n\t//   });\n\t// }\n\n/***/ },\n\n/***/ 1690:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _utils = __webpack_require__(935);\n\t\n\tvar noop = function noop() {};\n\tvar mock = {\n\t  setHidden: noop\n\t};\n\t\n\tvar impl = (0, _utils.isWeb)() ? mock : _reactNative.StatusBar;\n\t\n\texports.default = impl;\n\n/***/ },\n\n/***/ 1691:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _utils = __webpack_require__(935);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar NoResources = function (_Component) {\n\t  _inherits(NoResources, _Component);\n\t\n\t  function NoResources() {\n\t    _classCallCheck(this, NoResources);\n\t\n\t    return _possibleConstructorReturn(this, (NoResources.__proto__ || Object.getPrototypeOf(NoResources)).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(NoResources, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      var noRes;\n\t      if (this.props.filter) noRes = _react2.default.createElement(\n\t        _reactNative.Text,\n\t        { style: styles.NoResourcesText },\n\t        'No results for \\u201C' + this.props.filter + '\\u201D'\n\t      );else if (!this.props.isLoading)\n\t        // If we're looking at the latest resources, aren't currently loading, and\n\t        // still have no results, show a message\n\t        noRes = _react2.default.createElement(\n\t          _reactNative.Text,\n\t          { style: styles.NoResourcesText },\n\t          'No ' + (this.props.model.plural || this.props.model.title + 's') + ' were found.'\n\t        );else return _react2.default.createElement(_reactNative.View, null);\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: [styles.container, styles.centerText] },\n\t        noRes\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return NoResources;\n\t}(_react.Component);\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  container: {\n\t    flex: 1,\n\t    backgroundColor: 'white'\n\t  },\n\t  centerText: {\n\t    alignItems: 'center',\n\t    justifyContent: 'center'\n\t  },\n\t  NoResourcesText: {\n\t    // marginTop: height > 800 ? height/5 : height / 4,\n\t    color: '#888888',\n\t    fontSize: _utils2.default.getFontSize(18)\n\t  }\n\t});\n\t\n\tmodule.exports = NoResources;\n\n/***/ },\n\n/***/ 1692:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _reactNativeOrient = __webpack_require__(944);\n\t\n\tvar _reactNativeLinearGradient = __webpack_require__(1693);\n\t\n\tvar _reactNativeLinearGradient2 = _interopRequireDefault(_reactNativeLinearGradient);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _ActivityIndicator = __webpack_require__(1669);\n\t\n\tvar _ActivityIndicator2 = _interopRequireDefault(_ActivityIndicator);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar utils = __webpack_require__(935);\n\tvar translate = utils.translate;\n\tvar ArticleView = __webpack_require__(1668);\n\tvar constants = __webpack_require__(1348);\n\tvar Icon = __webpack_require__(1541);\n\tvar RowMixin = __webpack_require__(1694);\n\tvar ResourceList = __webpack_require__(1685);\n\t// var Swipeout = require('react-native-swipeout')\n\tvar reactMixin = __webpack_require__(1703);\n\tvar equal = __webpack_require__(721);\n\tvar extend = __webpack_require__(1705);\n\tvar Actions = __webpack_require__(1517);\n\t\n\tvar dateProp;\n\t\n\tvar ResourceRow = function (_Component) {\n\t  _inherits(ResourceRow, _Component);\n\t\n\t  function ResourceRow(props) {\n\t    _classCallCheck(this, ResourceRow);\n\t\n\t    var _this = _possibleConstructorReturn(this, (ResourceRow.__proto__ || Object.getPrototypeOf(ResourceRow)).call(this, props));\n\t\n\t    if (_this.props.changeSharedWithList) _this.state = { sharedWith: true };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(ResourceRow, [{\n\t    key: 'shouldComponentUpdate',\n\t    value: function shouldComponentUpdate(nextProps, nextState) {\n\t      if (Object.keys(this.props).length !== Object.keys(nextProps).length) return true;\n\t      if (this.props.resource.lastMessage !== nextProps.resource.lastMessage) return true;\n\t      if (this.state || nextState) {\n\t        if (nextState.sharedWith && nextState.sharedWith === this.state.sharedWith) return true;\n\t        if (this.state && nextState) {\n\t          if (Object.keys(this.state).length !== Object.keys(nextState).length) return true;\n\t        } else return true;\n\t      }\n\t      var opts = { strict: true };\n\t      for (var p in this.props) {\n\t        if (typeof this.props[p] === 'function') {\n\t          if ('' + this.props[p] !== '' + nextProps[p]) return true;\n\t        } else if (this.props[p] !== nextProps[p]) {\n\t          if (!equal(this.props[p], nextProps[p], opts)) return true;\n\t        }\n\t      }\n\t      if (!this.state && !nextState) return false;\n\t      for (var p in this.state) {\n\t        if (this.state[p] !== nextState[p]) {\n\t          if (!equal(this.state[p], nextState[p], opts)) return true;\n\t        }\n\t      }\n\t      return false;\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this2 = this;\n\t\n\t      var resource = this.props.resource;\n\t      var photo;\n\t      var isIdentity = resource[constants.TYPE] === constants.TYPES.PROFILE;\n\t      var noImage;\n\t      if (resource.photos && resource.photos.length) {\n\t        var uri = utils.getImageUri(resource.photos[0].url);\n\t        var params = {\n\t          uri: utils.getImageUri(uri)\n\t        };\n\t        if (uri.indexOf('/var/mobile/') === 0) params.isStatic = true;\n\t        photo = _react2.default.createElement(_reactNative.Image, { source: params, style: styles.cellImage, key: this.getNextKey() });\n\t      } else {\n\t        if (isIdentity) {\n\t          if (!resource.firstName && !resource.lastName) return _react2.default.createElement(_reactNative.View, null);\n\t          var name = resource.firstName ? resource.firstName.charAt(0) : '';\n\t          name += resource.lastName ? resource.lastName.charAt(0) : '';\n\t          photo = _react2.default.createElement(\n\t            _reactNativeLinearGradient2.default,\n\t            { colors: ['#A4CCE0', '#7AAAc3', '#5E92AD'], style: styles.cellRoundImage },\n\t            _react2.default.createElement(\n\t              _reactNative.Text,\n\t              { style: styles.cellText },\n\t              name\n\t            )\n\t          );\n\t        } else {\n\t          var model = utils.getModel(resource[constants.TYPE]).value;\n\t          var icon = model.icon;\n\t          if (icon) photo = _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: styles.cellImage },\n\t            _react2.default.createElement(Icon, { name: icon, size: 35, style: styles.icon })\n\t          );else if (model.properties.photos) photo = _react2.default.createElement(_reactNative.View, { style: styles.cellImage });else {\n\t            photo = _react2.default.createElement(_reactNative.View, { style: styles.cellNoImage });\n\t            noImage = true;\n\t          }\n\t        }\n\t      }\n\t      var orgPhoto;\n\t      orgPhoto = _react2.default.createElement(_reactNative.View, null);\n\t\n\t      var onlineStatus = resource.online ? _react2.default.createElement(_reactNative.View, { style: styles.online }) : _react2.default.createElement(_reactNative.View, { style: [styles.online, { backgroundColor: 'transparent' }] });\n\t\n\t      var rId = utils.getId(this.props.resource);\n\t      // var cancelResource = (this.props.onCancel ||  this.state)\n\t      //                    ? <TouchableOpacity onPress={this.action.bind(this)} style={{position: 'absolute', right: 0, top: 20}}>\n\t      //                        <View>\n\t      //                          <Icon name={this.state.sharedWith[rId] ? 'ios-checkmark-circle-outline' : 'ios-radio-button-off'}  size={30}  color={this.state.sharedWith[rId] ? '#B1010E' : '#dddddd'}  style={styles.cancelIcon} />\n\t      //                        </View>\n\t      //                      </TouchableOpacity>\n\t      //                    : <View />;\n\t      var cancelResource = this.props.onCancel || this.state ? _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: { position: 'absolute', right: 0, top: 20, backgroundColor: 'transparent' } },\n\t        _react2.default.createElement(Icon, { name: this.state.sharedWith ? 'ios-checkmark-circle-outline' : 'ios-radio-button-off', size: 30, color: this.state.sharedWith ? '#B1010E' : '#dddddd', style: styles.cancelIcon })\n\t      ) : _react2.default.createElement(_reactNative.View, null);\n\t      var textStyle = noImage ? [styles.textContainer, { marginVertical: 7 }] : styles.textContainer;\n\t\n\t      var dateRow = void 0;\n\t      if (dateProp && resource[dateProp]) {\n\t        var val = utils.formatDate(new Date(resource[dateProp]), true);\n\t        dateRow = _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: styles.dateRow },\n\t          _react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: styles.verySmallLetters },\n\t            val\n\t          )\n\t        );\n\t      } else dateRow = _react2.default.createElement(_reactNative.View, null);\n\t\n\t      // Grey out if not loaded provider info yet\n\t      var isOpaque = resource[constants.TYPE] === constants.TYPES.ORGANIZATION && !resource.contacts;\n\t      if (isOpaque) return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { key: this.getNextKey(), style: [{ opacity: 0.5 }, styles.rowWrapper] },\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: styles.row, key: this.getNextKey() },\n\t          photo,\n\t          orgPhoto,\n\t          onlineStatus,\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: [textStyle, { flexDirection: 'row', justifyContent: 'space-between' }], key: this.getNextKey() },\n\t            this.formatRow(resource),\n\t            _react2.default.createElement(_ActivityIndicator2.default, { hidden: 'true', color: '#629BCA' })\n\t          ),\n\t          dateRow,\n\t          cancelResource\n\t        )\n\t      );else return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { key: this.getNextKey(), style: [{ opacity: 1 }, styles.rowWrapper] },\n\t        _react2.default.createElement(\n\t          _reactNative.TouchableOpacity,\n\t          { onPress: this.state ? this.action.bind(this) : this.props.onSelect, key: this.getNextKey() },\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: [styles.row, { width: utils.dimensions(ResourceRow).width - 50 }], key: this.getNextKey() },\n\t            photo,\n\t            orgPhoto,\n\t            onlineStatus,\n\t            _react2.default.createElement(\n\t              _reactNative.View,\n\t              { style: textStyle, key: this.getNextKey() },\n\t              this.formatRow(resource)\n\t            ),\n\t            cancelResource\n\t          )\n\t        ),\n\t        this.props.isOfficialAccounts ? _react2.default.createElement(\n\t          _reactNative.TouchableOpacity,\n\t          { style: { position: 'absolute', right: 10, top: 25, backgroundColor: 'white' }, onPress: function onPress() {\n\t              _this2.props.navigator.push({\n\t                component: ResourceList,\n\t                title: translate(\"myDocuments\"),\n\t                backButtonTitle: translate('back'),\n\t                passProps: {\n\t                  modelName: constants.TYPES.FORM,\n\t                  resource: _this2.props.resource\n\t                }\n\t              });\n\t            } },\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: textStyle },\n\t            resource.numberOfForms ? _react2.default.createElement(\n\t              _reactNative.View,\n\t              { style: { flexDirection: 'row' } },\n\t              _react2.default.createElement(Icon, { name: 'ios-paper-outline', color: '#7AAAc3', size: 30, style: { marginTop: _reactNative.Platform.OS === 'ios' ? 0 : 0 } }),\n\t              _react2.default.createElement(\n\t                _reactNative.Text,\n\t                { style: { fontWeight: '600', marginLeft: 0, marginTop: _reactNative.Platform.OS === 'ios' ? -5 : -5, color: '#7AAAc3' } },\n\t                resource.numberOfForms\n\t              )\n\t            ) : _react2.default.createElement(_reactNative.View, null)\n\t          )\n\t        ) : _react2.default.createElement(_reactNative.View, null),\n\t        dateRow,\n\t        cancelResource\n\t      );\n\t    }\n\t  }, {\n\t    key: 'action',\n\t    value: function action() {\n\t      if (this.props.onCancel) this.props.onCancel();else if (_typeof(this.props.changeSharedWithList)) {\n\t        var id = utils.getId(this.props.resource);\n\t        this.setState({ sharedWith: this.state.sharedWith ? false : true });\n\t        this.props.changeSharedWithList(id, this.state.sharedWith ? false : true);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'hideResource',\n\t    value: function hideResource(resource) {\n\t      var r = {};\n\t      extend(true, r, resource);\n\t      r.hide = true;\n\t      Actions.addItem({ resource: resource, value: r, meta: utils.getModel(resource[constants.TYPE]).value });\n\t    }\n\t  }, {\n\t    key: '_allowScroll',\n\t    value: function _allowScroll(scrollEnabled) {\n\t      this.setState({ scrollEnabled: scrollEnabled });\n\t    }\n\t  }, {\n\t    key: 'rowContent',\n\t    value: function rowContent() {\n\t      return;\n\t      _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: styles.row, key: this.getNextKey() },\n\t        photo,\n\t        orgPhoto,\n\t        onlineStatus,\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: textStyle, key: this.getNextKey() },\n\t          this.formatRow(resource)\n\t        ),\n\t        cancelResource\n\t      );\n\t    }\n\t  }, {\n\t    key: 'formatRow',\n\t    value: function formatRow(resource) {\n\t      var self = this;\n\t      var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n\t      var viewCols = model.gridCols || model.viewCols;\n\t      var renderedViewCols;\n\t      if (!viewCols) {\n\t        var vCols = utils.getDisplayName(resource, model.properties);\n\t        if (vCols && vCols.length) {\n\t          if (model.subClassOf && model.subClassOf === 'tradle.Enum') vCols = utils.createAndTranslate(vCols, true);\n\t\n\t          return _react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: styles.resourceTitle, numberOfLines: 2 },\n\t            vCols\n\t          );\n\t        } else return _react2.default.createElement(\n\t          _reactNative.Text,\n\t          { style: styles.resourceTitle, numberOfLines: 2 },\n\t          model.title + ' ' + utils.getFormattedDate(resource.time)\n\t        );\n\t      }\n\t      var vCols = [];\n\t      var properties = model.properties;\n\t      var first = true;\n\t      var datePropIdx;\n\t      var datePropsCounter = 0;\n\t      var backlink;\n\t      var cnt = 10;\n\t      for (var i = 0; i < viewCols.length; i++) {\n\t        var v = viewCols[i];\n\t        if (properties[v].type === 'array') {\n\t          if (properties[v].items.backlink) backlink = v;\n\t          continue;\n\t        }\n\t        if (properties[v].type !== 'date' || !resource[v]) continue;\n\t        if (resource[v]) {\n\t          if (v === 'dateSubmitted' || v === 'lastMessageTime') {\n\t            dateProp = v;\n\t            if (!datePropsCounter) datePropIdx = i;\n\t            datePropsCounter++;\n\t          }\n\t        }\n\t      }\n\t      if (datePropsCounter > 1) dateProp = null;\n\t\n\t      var isOfficialAccounts = this.props.isOfficialAccounts;\n\t      var isIdentity = resource[constants.TYPE] === constants.TYPES.PROFILE;\n\t      viewCols.forEach(function (v) {\n\t        if (v === dateProp) return;\n\t        if (properties[v].type === 'array') return;\n\t\n\t        if (!resource[v] && !properties[v].displayAs) return;\n\t        var style = first ? styles.resourceTitle : styles.description;\n\t        if (isIdentity && v === 'organization') style = [style, { alignSelf: 'flex-end', marginTop: 20 }, styles.verySmallLetters];\n\t        if (properties[v].style) style = [style, properties[v].style];\n\t        var ref = properties[v].ref;\n\t        if (ref) {\n\t          if (resource[v]) {\n\t            var row;\n\t            if (ref == constants.TYPES.MONEY) row = _react2.default.createElement(\n\t              _reactNative.Text,\n\t              { style: style, numberOfLines: first ? 2 : 1, key: self.getNextKey() },\n\t              (resource[v].currency || CURRENCY_SYMBOL) + resource[v].value\n\t            );else row = _react2.default.createElement(\n\t              _reactNative.Text,\n\t              { style: style, numberOfLines: first ? 2 : 1, key: self.getNextKey() },\n\t              resource[v].title\n\t            );\n\t\n\t            vCols.push(row);\n\t          }\n\t          first = false;\n\t        } else if (properties[v].type === 'date') {\n\t          if (!dateProp) vCols.push(self.addDateProp(v));else return;\n\t        } else {\n\t          var row;\n\t          if (resource[v] && typeof resource[v] != 'string') row = _react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: style, numberOfLines: 1, key: self.getNextKey() },\n\t            resource[v]\n\t          );else if (!backlink && resource[v] && (resource[v].indexOf('http://') == 0 || resource[v].indexOf('https://') == 0)) row = _react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: style, onPress: self.onPress.bind(self), numberOfLines: 1, key: self.getNextKey() },\n\t            resource[v]\n\t          );else {\n\t            var val = properties[v].displayAs ? utils.templateIt(properties[v], resource) : resource[v];\n\t            var msgParts = utils.splitMessage(val);\n\t            if (msgParts.length <= 2) val = msgParts[0];else {\n\t              val = '';\n\t              for (var _i = 0; _i < msgParts.length - 1; _i++) {\n\t                val += msgParts[_i];\n\t              }\n\t            }\n\t            if (self.props.isOfficialAccounts && v === 'lastMessage') {\n\t              var isMyLastMessage = val.indexOf('You: ') !== -1;\n\t              var lastMessageTypeIcon = _react2.default.createElement(_reactNative.View, null);\n\t              if (isMyLastMessage) {\n\t                val = val.substring(5);\n\t                var lastMessageType = resource.lastMessageType;\n\t                if (lastMessageType) {\n\t                  var msgModel = utils.getModel(lastMessageType).value;\n\t                  var icon = void 0;\n\t                  if (msgModel.subClassOf === constants.TYPES.FINANCIAL_PRODUCT) icon = 'ios-usd';else if (msgModel.subClassOf === constants.TYPES.FORM) icon = 'ios-paper-outline';\n\t                  // else if (model.id === constants.TYPES.VERIFICATION)\n\t                  //   icon =\n\t                  if (icon) lastMessageTypeIcon = _react2.default.createElement(Icon, { name: icon, size: 14, color: '#7AAAc3', style: { paddingLeft: 1, marginTop: -2 } });\n\t                }\n\t              }\n\t              var w = utils.dimensions(ResourceRow).width - 145;\n\t              row = _react2.default.createElement(\n\t                _reactNative.View,\n\t                { style: { flexDirection: 'row' }, key: self.getNextKey() },\n\t                _react2.default.createElement(\n\t                  _reactNative.View,\n\t                  { style: { flexDirection: 'column' } },\n\t                  _react2.default.createElement(Icon, { name: 'md-done-all', size: 16, color: isMyLastMessage ? '#cccccc' : '#7AAAc3' }),\n\t                  lastMessageTypeIcon\n\t                ),\n\t                _react2.default.createElement(\n\t                  _reactNative.Text,\n\t                  { style: [style, { width: w, paddingLeft: 2 }] },\n\t                  val\n\t                )\n\t              );\n\t            } else row = _react2.default.createElement(\n\t              _reactNative.Text,\n\t              { style: style, key: self.getNextKey() },\n\t              val\n\t            );\n\t          }\n\t          vCols.push(row);\n\t          first = false;\n\t        }\n\t      });\n\t\n\t      if (vCols && vCols.length) renderedViewCols = vCols;else {\n\t        var vCols = utils.getDisplayName(resource, model.properties);\n\t        return _react2.default.createElement(\n\t          _reactNative.Text,\n\t          { style: styles.resourceTitle, numberOfLines: 2 },\n\t          vCols\n\t        );\n\t      }\n\t      if (!backlink) return renderedViewCols;\n\t      return [_react2.default.createElement(\n\t        _reactNative.TouchableOpacity,\n\t        { key: this.getNextKey(), onPress: this.props.showRefResources.bind(this, resource, backlink) },\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { key: this.getNextKey() },\n\t          renderedViewCols\n\t        )\n\t      )];\n\t    }\n\t  }, {\n\t    key: 'onPress',\n\t    value: function onPress(event) {\n\t      var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n\t      var title = utils.makeTitle(utils.getDisplayName(this.props.resource, model.properties));\n\t      this.props.navigator.push({\n\t        id: 7,\n\t        title: title,\n\t        component: ArticleView,\n\t        passProps: { url: this.props.resource.url }\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return ResourceRow;\n\t}(_react.Component);\n\t\n\treactMixin(ResourceRow.prototype, RowMixin);\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  textContainer: {\n\t    flex: 1,\n\t    alignSelf: 'center'\n\t  },\n\t  rowWrapper: {\n\t    borderColor: '#f7f7f7',\n\t    borderWidth: _reactNative.StyleSheet.hairlineWidth,\n\t    borderBottomColor: '#eeeeee',\n\t    justifyContent: 'center',\n\t    backgroundColor: '#ffffff'\n\t  },\n\t  dateRow: {\n\t    position: 'absolute',\n\t    top: 2,\n\t    backgroundColor: 'transparent',\n\t    right: 10\n\t  },\n\t  // TODO: remove when you figure out v-centering\n\t  // HACK FOR VERTICAL CENTERING\n\t  resourceTitle: {\n\t    // flex: 1,\n\t    fontSize: 17,\n\t    fontWeight: '400'\n\t  },\n\t  description: {\n\t    // flex: 1,\n\t    flexWrap: 'wrap',\n\t    color: '#999999',\n\t    fontSize: 16\n\t  },\n\t  row: {\n\t    backgroundColor: 'white',\n\t    justifyContent: 'center',\n\t    // justifyContent: 'space-around',\n\t    flexDirection: 'row',\n\t    padding: 5\n\t  },\n\t  cellRoundImage: {\n\t    // flex: 1,\n\t    justifyContent: 'center',\n\t    alignItems: 'center',\n\t    // backgroundColor: '#7AAAc3',\n\t    paddingVertical: 1,\n\t    // borderColor: '#7AAAc3',\n\t    borderRadius: 30,\n\t    // borderWidth: 1,\n\t    height: 60,\n\t    marginRight: 10,\n\t    width: 60,\n\t    alignSelf: 'center'\n\t  },\n\t  cellText: {\n\t    color: '#ffffff',\n\t    fontSize: 20,\n\t    backgroundColor: 'transparent'\n\t  },\n\t  cellImage: {\n\t    backgroundColor: '#ffffff',\n\t    height: 60,\n\t    marginRight: 10,\n\t    width: 60,\n\t    borderColor: '#7AAAc3',\n\t    borderRadius: 30,\n\t    borderWidth: _reactNative.StyleSheet.hairlineWidth\n\t  },\n\t  cellNoImage: {\n\t    backgroundColor: '#dddddd',\n\t    marginTop: 20,\n\t    marginLeft: 10\n\t  },\n\t  cancelIcon: {\n\t    width: 40,\n\t    height: 40\n\t  },\n\t  icon: {\n\t    width: 40,\n\t    height: 40,\n\t    alignSelf: 'center',\n\t    marginLeft: 10,\n\t    marginTop: 7,\n\t    color: '#7AAAc3'\n\t  },\n\t  online: {\n\t    backgroundColor: 'green',\n\t    borderRadius: 6,\n\t    width: 12,\n\t    height: 12,\n\t    position: 'absolute',\n\t    top: 83,\n\t    left: 8,\n\t    borderWidth: _reactNative.StyleSheet.hairlineWidth,\n\t    borderColor: '#ffffff'\n\t  },\n\t  verySmallLetters: {\n\t    fontSize: 12,\n\t    alignSelf: 'flex-end',\n\t    color: '#b4c3cb'\n\t  }\n\t});\n\t\n\tResourceRow = (0, _reactNativeOrient.makeResponsive)(ResourceRow);\n\tmodule.exports = ResourceRow;\n\t// return (\n\t// <Swipeout right={[{text: 'Hide', backgroundColor: 'red', onPress: this.hideResource.bind(this, resource)}]} autoClose={true} scroll={(event) => this._allowScroll(event)} >\n\t//   <View key={this.getNextKey()} style={{opacity: 1, flex: 1, justifyContent: 'center'}}>\n\t//     <TouchableOpacity onPress={this.state ? this.action.bind(this) : this.props.onSelect} key={this.getNextKey()}>\n\t//       <View style={[styles.row]} key={this.getNextKey()}>\n\t//         {photo}\n\t//         {orgPhoto}\n\t//         {onlineStatus}\n\t//         <View style={textStyle} key={this.getNextKey()}>\n\t//           {this.formatRow(resource)}\n\t//         </View>\n\t//         {cancelResource}\n\t//       </View>\n\t//     </TouchableOpacity>\n\t//     {this.props.isOfficialAccounts\n\t//     ? <TouchableOpacity style={{position: 'absolute', right: 20, top: 25, backgroundColor: 'white'}} onPress={() => {\n\t//         this.props.navigator.push({\n\t//           component: ResourceList,\n\t//           title: translate(\"myDocuments\"),\n\t//           backButtonTitle: translate('back'),\n\t//           passProps: {\n\t//             modelName: constants.TYPES.FORM,\n\t//             resource: this.props.resource\n\t//           }\n\t//         })\n\t//       }}>\n\t//         <View style={textStyle}>\n\t//            {resource.numberOfForms\n\t//               ? <View style={{flexDirection: 'row'}}>\n\t//                    <Icon name='ios-paper-outline' color='#cccccc' size={35} style={{marginTop: Platform.OS === 'ios' ? -5 : 0}}/>\n\t//                    <Text style={{fontWeight: '600', marginLeft: 0, marginTop: Platform.OS === 'ios' ? -10 : -6, color: '#cccccc'}}>{resource.numberOfForms}</Text>\n\t//                 </View>\n\t//               : <View />\n\t//            }\n\t//         </View>\n\t//       </TouchableOpacity>\n\t//       : <View />}\n\t//     {dateRow}\n\t//     {cancelResource}\n\t//     <View style={styles.cellBorder}  key={this.getNextKey()} />\n\t//   </View>\n\t// </Swipeout>\n\t// );\n\n/***/ },\n\n/***/ 1693:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\texports.default = _reactNative.View;\n\n/***/ },\n\n/***/ 1694:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _customicons = __webpack_require__(1695);\n\t\n\tvar _customicons2 = _interopRequireDefault(_customicons);\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar React = __webpack_require__(320);\n\tvar utils = __webpack_require__(935);\n\tvar translate = utils.translate;\n\tvar constants = __webpack_require__(1348);\n\tvar Accordion = __webpack_require__(1699);\n\t// import LinearGradient from 'react-native-linear-gradient'\n\t// var Icon = require('react-native-vector-icons/Ionicons');\n\t\n\tvar cnt = 0;\n\t\n\t\n\tvar MY_PRODUCT = 'tradle.MyProduct';\n\tvar FORM_ERROR = 'tradle.FormError';\n\tvar FORM = 'tradle.Form';\n\tvar FORM_REQUEST = 'tradle.FormRequest';\n\tvar ENUM = 'tradle.Enum';\n\tvar NEXT_FORM_REQUEST = 'tradle.NextFormRequest';\n\tvar PRODUCT_APPLICATION = 'tradle.ProductApplication';\n\tvar STRUCTURED_MESSAGE_COLOR;\n\tvar BORDER_WIDTH = _reactNative.StyleSheet.hairlineWidth;\n\t\n\tvar RowMixin = {\n\t  addDateProp: function addDateProp(dateProp, style) {\n\t    var resource = this.props.resource;\n\t    var properties = utils.getModel(resource[constants.TYPE] || resource.id).value.properties;\n\t    if (properties[dateProp] && properties[dateProp].style) style = [style, properties[dateProp].style];\n\t    var val = utils.formatDate(new Date(resource[dateProp]));\n\t\n\t    return !properties[dateProp] || properties[dateProp].skipLabel ? React.createElement(\n\t      _reactNative.Text,\n\t      { style: style, key: this.getNextKey() },\n\t      val\n\t    ) : React.createElement(\n\t      _reactNative.View,\n\t      { style: { flexDirection: 'row' }, key: this.getNextKey() },\n\t      React.createElement(\n\t        _reactNative.Text,\n\t        { style: style },\n\t        properties[dateProp].title\n\t      ),\n\t      React.createElement(\n\t        _reactNative.Text,\n\t        { style: style },\n\t        val\n\t      )\n\t    );\n\t\n\t    return React.createElement(\n\t      _reactNative.Text,\n\t      { style: [style], numberOfLines: 1, key: this.getNextKey() },\n\t      val\n\t    );\n\t  },\n\t  getNextKey: function getNextKey() {\n\t    return this.props.resource[constants.ROOT_HASH] + '_' + cnt++;\n\t  },\n\t  getPropRow: function getPropRow(prop, resource, val, isVerification) {\n\t    STRUCTURED_MESSAGE_COLOR = this.props.bankStyle.STRUCTURED_MESSAGE_COLOR;\n\t    if (prop.ref) {\n\t      if (prop.ref === constants.TYPES.MONEY) {\n\t        var c = utils.normalizeCurrencySymbol(val.currency);\n\t        val = (c || CURRENCY_SYMBOL) + val.value;\n\t        // val = (val.currency || CURRENCY_SYMBOL) + val.value\n\t      } else {\n\t        var m = utils.getModel(prop.ref).value;\n\t        if (m.subClassOf === ENUM) {\n\t          if (typeof val === 'string') val = utils.createAndTranslate(val);else val = utils.createAndTranslate(val.title);\n\t        }\n\t      }\n\t    }\n\t    var model = utils.getModel(resource[constants.TYPE]).value;\n\t\n\t    var style = { flexDirection: 'row' };\n\t    var propTitle = translate(prop, model);\n\t    if (isVerification) {\n\t      if (!this.props.isAggregation) style = [style, { borderWidth: BORDER_WIDTH, paddingVertical: 3, borderColor: this.props.bankStyle.VERIFICATION_BG, borderTopColor: '#eeeeee' }];\n\t      return React.createElement(\n\t        _reactNative.View,\n\t        { style: style, key: this.getNextKey() },\n\t        React.createElement(\n\t          _reactNative.View,\n\t          { style: { flex: 1, flexDirection: 'column' } },\n\t          React.createElement(\n\t            _reactNative.Text,\n\t            { style: [styles.verySmallLetters, { color: '#333333' }] },\n\t            propTitle\n\t          )\n\t        ),\n\t        React.createElement(\n\t          _reactNative.View,\n\t          { style: { flex: 1, flexDirection: 'column' } },\n\t          React.createElement(\n\t            _reactNative.Text,\n\t            { style: styles.verySmallLetters },\n\t            val + (prop.units && prop.units.charAt(0) !== '[' ? ' ' + prop.units : '')\n\t          )\n\t        )\n\t      );\n\t    } else {\n\t      var isMyProduct = model.subClassOf === MY_PRODUCT;\n\t      var isForm = model.subClassOf === constants.TYPES.FORM;\n\t      var _isMyMessage = this.isMyMessage();\n\t      if (!this.props.isAggregation && (_isMyMessage || isForm) && !isMyProduct) style = [style, { borderWidth: BORDER_WIDTH, paddingVertical: 3, borderColor: _isMyMessage ? STRUCTURED_MESSAGE_COLOR : '#ffffff', borderBottomColor: this.props.bankStyle.STRUCTURED_MESSAGE_BORDER }];\n\t      var color = this.isMyMessage() && !isMyProduct ? { color: '#FFFFEE' } : { color: '#757575' };\n\t      return React.createElement(\n\t        _reactNative.View,\n\t        { style: style, key: this.getNextKey() },\n\t        React.createElement(\n\t          _reactNative.View,\n\t          { style: { flex: 1, flexDirection: 'column' } },\n\t          React.createElement(\n\t            _reactNative.Text,\n\t            { style: [styles.descriptionB, color] },\n\t            propTitle\n\t          )\n\t        ),\n\t        React.createElement(\n\t          _reactNative.View,\n\t          { style: { flex: 1, flexDirection: 'column' } },\n\t          React.createElement(\n\t            _reactNative.Text,\n\t            { style: [styles.descriptionB, color] },\n\t            val + (prop.units && prop.units.charAt(0) !== '[' ? ' ' + prop.units : '')\n\t          )\n\t        )\n\t      );\n\t    }\n\t  },\n\t  getOwnerPhoto: function getOwnerPhoto(isMyMessage) {\n\t    var to = this.props.to;\n\t\n\t    if (isMyMessage || !to /* ||  !to.photos*/) return React.createElement(_reactNative.View, { style: { marginVertical: 0 } });\n\t\n\t    if (!isMyMessage && this.props.resource.from.photo) {\n\t      var _uri = utils.getImageUri(this.props.resource.from.photo.url);\n\t      return React.createElement(_reactNative.Image, { source: { uri: _uri }, style: styles.employeeImage });\n\t    }\n\t    if (to.photos) {\n\t      var uri = utils.getImageUri(to.photos[0].url);\n\t      return React.createElement(_reactNative.Image, { source: { uri: uri }, style: styles.msgImage });\n\t    }\n\t    if (!isMyMessage) {\n\t      var title = this.props.resource.from.title.split(' ').map(function (s) {\n\t        return s.charAt(0);\n\t      }).join('');\n\t\n\t      return React.createElement(\n\t        _reactNative.View,\n\t        { style: { paddingRight: 3 } },\n\t        React.createElement(\n\t          _reactNative.View,\n\t          { style: [{ color: '#ffffff', backgroundColor: this.props.bankStyle.LINK_COLOR }, styles.cellRoundImage] },\n\t          React.createElement(\n\t            _reactNative.Text,\n\t            { style: styles.cellText },\n\t            title\n\t          )\n\t        )\n\t      );\n\t    }\n\t  },\n\t  getTime: function getTime(resource) {\n\t    if (!resource.time) return;\n\t    var previousMessageTime = this.props.previousMessageTime;\n\t    var showTime = !previousMessageTime || this.props.isAggregation;\n\t\n\t    if (!showTime) {\n\t      var prevDate = new Date(previousMessageTime);\n\t      var curDate = new Date(resource.time);\n\t      showTime = resource.time - previousMessageTime > 3600000 || prevDate.getDate() !== curDate.getDate() || prevDate.getMonth() !== curDate.getMonth() || prevDate.getYear() !== curDate.getYear();\n\t    }\n\t\n\t    if (showTime) return utils.formatDate(resource.time);\n\t  },\n\t  isMyMessage: function isMyMessage() {\n\t    if (this.props.isAggregation) return;\n\t    var r = this.props.resource;\n\t    // return utils.isMyMessage(r)\n\t    var fromHash = utils.getId(r.from);\n\t    var me = utils.getMe();\n\t    if (fromHash === utils.getId(me)) return true;\n\t    if (utils.getModel(r[constants.TYPE]).value.subClassOf == MY_PRODUCT) {\n\t      var org = r.from.organization;\n\t      if (org && utils.getId(r.from.organization) !== utils.getId(this.props.to)) return true;\n\t    }\n\t  },\n\t  formatDocument: function formatDocument(model, verification, onPress, isAccordion) {\n\t    var _this = this;\n\t\n\t    var resource = verification.document;\n\t    isAccordion = false;\n\t\n\t    var docModel = utils.getModel(resource[constants.TYPE]).value;\n\t    var isMyProduct = docModel.subClassOf === MY_PRODUCT;\n\t    var docModelTitle = docModel.title;\n\t    var idx = docModelTitle.indexOf('Verification');\n\t    var docTitle = idx === -1 ? docModelTitle : docModelTitle.substring(0, idx);\n\t\n\t    var msg;\n\t    if (resource.message && docModel.subClassOf !== FORM) msg = React.createElement(\n\t      _reactNative.View,\n\t      null,\n\t      React.createElement(\n\t        _reactNative.Text,\n\t        { style: styles.description },\n\t        resource.message\n\t      )\n\t    );\n\t    // else if (!onPress) {\n\t    //   msg = <View><Text style={styles.description}>{translate('seeTheForm')}</Text></View>\n\t    //   // var rows = [];\n\t    //   // this.formatDocument1(model, resource, rows);\n\t    //   // msg = <View>{rows}</View>\n\t    // }\n\t    else msg = React.createElement(_reactNative.View, null);\n\t\n\t    var hasPhotos = resource && resource.photos && resource.photos.length;\n\t    var photo = hasPhotos ? React.createElement(_reactNative.Image, { resizeMode: 'cover', source: { uri: utils.getImageUri(resource.photos[0].url) }, style: styles.cellImage }) : React.createElement(_reactNative.View, null);\n\t    var headerStyle = { paddingTop: 5, alignSelf: 'center' };\n\t    // var header =  <View style={headerStyle}>\n\t    //                 <Text style={[styles.resourceTitle, {fontSize: 20, color: '#B6C2A7'}]}>{translate(model)}</Text>\n\t    //               </View>\n\t    // <Icon name='md-arrow-dropright' size={30} color={this.props.bankStyle.VERIFIED_HEADER_COLOR}/>\n\t    var header = React.createElement(\n\t      _reactNative.View,\n\t      { style: headerStyle },\n\t      React.createElement(\n\t        _reactNative.Text,\n\t        { style: [styles.resourceTitle, { fontSize: 18, marginTop: 2, paddingRight: 10, color: this.props.bankStyle.VERIFIED_HEADER_COLOR }] },\n\t        translate(model) + ' ...'\n\t      )\n\t    );\n\t    var addStyle = void 0;\n\t    if (!onPress) addStyle = { marginHorizontal: -7, paddingHorizontal: 7, backgroundColor: this.props.bankStyle.VERIFICATION_BG, borderWidth: BORDER_WIDTH, borderColor: this.props.bankStyle.VERIFICATION_BG, borderBottomColor: this.props.bankStyle.VERIFIED_HEADER_COLOR };else addStyle = {};\n\t    header = hasPhotos ? React.createElement(\n\t      _reactNative.View,\n\t      { style: [styles.rowContainer, styles.verification, addStyle] },\n\t      photo,\n\t      header\n\t    ) : React.createElement(\n\t      _reactNative.View,\n\t      { style: [addStyle, styles.verification] },\n\t      header\n\t    );\n\t    if (!isAccordion) header = React.createElement(\n\t      _reactNative.TouchableHighlight,\n\t      { underlayColor: 'transparent', onPress: this.props.onSelect.bind(this, resource, verification) },\n\t      header\n\t    );\n\t\n\t    var orgRow = React.createElement(_reactNative.View, null);\n\t    if (verification && verification.organization) {\n\t      var orgPhoto;\n\t      var shareView;\n\t      var orgTitle;\n\t      var maxWidth;\n\t      var orgView;\n\t\n\t      (function () {\n\t        orgPhoto = verification.organization.photo ? React.createElement(_reactNative.Image, { source: { uri: utils.getImageUri(verification.organization.photo) }, style: [styles.orgImage, { marginTop: -5 }] }) : React.createElement(_reactNative.View, null);\n\t        shareView = React.createElement(\n\t          _reactNative.View,\n\t          { style: [styles.shareButton, { opacity: _this.props.resource.documentCreated ? 0.3 : 1 }] },\n\t          React.createElement(_customicons2.default, { name: 'tradle', style: { color: '#ffffff' }, size: 35 }),\n\t          React.createElement(\n\t            _reactNative.Text,\n\t            { style: { color: '#fefefe', fontSize: 18, paddingHorizontal: 3, marginTop: 6 } },\n\t            translate('Share')\n\t          )\n\t        );\n\t        orgTitle = _this.props.to[constants.TYPE] === constants.TYPES.ORGANIZATION ? _this.props.to.name : _this.props.to.organization ? _this.props.to.organization.title : null;\n\t        // let o = verification.organization.title.length < 25 ? verification.organization.title : verification.organization.title.substring(0, 27) + '..'\n\t\n\t        var verifiedBy = void 0;\n\t        if (isMyProduct) verifiedBy = translate('issuedBy', verification.organization.title);\n\t        // Not verified Form - still shareable\n\t        else if (verification[constants.ROOT_HASH]) verifiedBy = translate('verifiedBy', verification.organization.title);else verifiedBy = translate('sentTo', verification.organization.title);\n\t\n\t        // if (verifiedBy.length > 25)\n\t        //   verifiedBy = verifiedBy.substring(0, 25) + '..'\n\t        maxWidth = 0.8 * utils.dimensions().width - 150;\n\t        orgView = React.createElement(\n\t          _reactNative.View,\n\t          { style: { marginTop: 5, maxWidth: maxWidth, paddingLeft: 3 } },\n\t          React.createElement(\n\t            _reactNative.Text,\n\t            { style: [styles.verySmallLetters, { fontSize: 14 }] },\n\t            verifiedBy\n\t          )\n\t        );\n\t\n\t        // <Text style={[styles.verySmallLetters, {color: '#2E3B4E'}]}>{verification.organization.title.length < 30 ? verification.organization.title : verification.organization.title.substring(0, 27) + '..'}</Text>\n\t\n\t        if (onPress) {\n\t          // if (!this.props.resource.documentCreated)\n\t          //      <TouchableHighlight underlayColor='transparent' onPress={onPress ? onPress : () =>\n\t          //                     Alert.alert(\n\t          //                       'Sharing ' + docTitle + ' ' + verifiedBy,\n\t          //                       'with ' + orgTitle,\n\t          //                       [\n\t          //                         {text: translate('cancel'), onPress: () => console.log('Canceled!')},\n\t          //                         {text: translate('Share'), onPress: this.props.share.bind(this, verification, this.props.to, this.props.resource)},\n\t          //                       ]\n\t          //                   )}>\n\t          //             {shareView}\n\t          //           </TouchableHighlight>\n\t\n\t        } else if (_this.props.resource.documentCreated) {\n\t          orgRow = React.createElement(\n\t            _reactNative.View,\n\t            { style: { flexDirection: 'row', marginTop: 5, paddingBottom: 5, justifyContent: 'space-between' } },\n\t            shareView,\n\t            React.createElement(\n\t              _reactNative.TouchableHighlight,\n\t              { onPress: _this.props.onSelect.bind(_this, resource, verification), underlayColor: 'transparent' },\n\t              orgView\n\t            )\n\t          );\n\t        } else {\n\t          orgRow = React.createElement(\n\t            _reactNative.View,\n\t            { style: { flexDirection: 'row', marginTop: 7, paddingBottom: 5, justifyContent: 'space-between' } },\n\t            React.createElement(\n\t              _reactNative.TouchableHighlight,\n\t              { underlayColor: 'transparent', onPress: onPress ? onPress : function () {\n\t                  return _reactNative.Alert.alert('Sharing ' + docTitle + ' ' + verifiedBy, 'with ' + orgTitle, [{ text: translate('cancel'), onPress: function onPress() {\n\t                      return console.log('Canceled!');\n\t                    } }, { text: translate('Share'), onPress: _this.props.share.bind(_this, verification, _this.props.to, _this.props.resource) }]);\n\t                } },\n\t              shareView\n\t            ),\n\t            React.createElement(\n\t              _reactNative.TouchableHighlight,\n\t              { onPress: _this.props.onSelect.bind(_this, resource, verification), underlayColor: 'transparent' },\n\t              orgView\n\t            )\n\t          );\n\t        }\n\t      })();\n\t    }\n\t    var content = React.createElement(\n\t      _reactNative.View,\n\t      { style: { flex: 1 } },\n\t      React.createElement(\n\t        _reactNative.TouchableHighlight,\n\t        { onPress: this.props.onSelect.bind(this, resource, verification), underlayColor: 'transparent' },\n\t        msg\n\t      ),\n\t      orgRow\n\t    );\n\t\n\t    // var verifiedBy = verification && verification.organization ? verification.organization.title : ''\n\t    return isAccordion ? React.createElement(\n\t      _reactNative.View,\n\t      { style: { marginTop: 5 }, key: this.getNextKey() },\n\t      React.createElement(Accordion, {\n\t        header: header,\n\t        style: { padding: 5 },\n\t        content: content,\n\t        underlayColor: 'transparent',\n\t        easing: 'easeOutCirc' })\n\t    ) : React.createElement(\n\t      _reactNative.View,\n\t      { style: { flex: 1 }, key: this.getNextKey() },\n\t      header,\n\t      content\n\t    );\n\t  },\n\t  formatDocument1: function formatDocument1(model, resource, renderedRow) {\n\t    var viewCols = model.gridCols || model.viewCols;\n\t    if (!viewCols) return;\n\t    var vCols = [];\n\t    var self = this;\n\t\n\t    if (resource[constants.TYPE] != model.id) return;\n\t\n\t    var properties = model.properties;\n\t    viewCols.forEach(function (v) {\n\t      if (properties[v].type === 'array' || properties[v].type === 'date') return;\n\t      var style = styles.verySmallLetters;\n\t      if (properties[v].ref) {\n\t        // if (properties[v].ref) {\n\t        if (resource[v]) {\n\t          var val;\n\t          if (properties[v].type === 'object') {\n\t            if (properties[v].ref) {\n\t              if (properties[v].ref === constants.TYPES.MONEY) {\n\t                val = resource[v]; //(resource[v].currency || CURRENCY_SYMBOL) + resource[v].value\n\t                if (typeof val === 'string') val = { value: val, currency: CURRENCY_SYMBOL };else {\n\t                  var c = utils.normalizeCurrencySymbol(val.currency);\n\t                  val.currency = c;\n\t                }\n\t              } else {\n\t                var m = utils.getModel(properties[v].ref).value;\n\t                if (m.subClassOf && m.subClassOf == ENUM) val = resource[v].title;\n\t              }\n\t            }\n\t          }\n\t          if (!val) val = resource[v].title || resource[v];\n\t          vCols.push(self.getPropRow(properties[v], resource, val, true));\n\t        }\n\t        return;\n\t      }\n\t      var row;\n\t      if (resource[v] && properties[v].type === 'string' && (resource[v].indexOf('http://') == 0 || resource[v].indexOf('https://') == 0)) row = React.createElement(\n\t        _reactNative.Text,\n\t        { style: style, key: self.getNextKey() },\n\t        resource[v]\n\t      );else if (!model.autoCreate) {\n\t        var val = properties[v].displayAs ? utils.templateIt(properties[v], resource) : properties[v].type === 'boolean' ? resource[v] ? 'Yes' : 'No' : resource[v];\n\t        if (!val) return;\n\t        row = self.getPropRow(properties[v], resource, val || resource[v], true);\n\t      } else {\n\t        if (!resource[v] || !resource[v].length) return;\n\t        var msgParts = utils.splitMessage(resource[v]);\n\t        // Case when the needed form was sent along with the message\n\t        if (msgParts.length === 2) {\n\t          var msgModel = utils.getModel(msgParts[1]);\n\t          if (msgModel) {\n\t            vCols.push(React.createElement(\n\t              _reactNative.View,\n\t              { key: self.getNextKey() },\n\t              React.createElement(\n\t                _reactNative.Text,\n\t                { style: style },\n\t                msgParts[0]\n\t              ),\n\t              React.createElement(\n\t                _reactNative.Text,\n\t                { style: [style, { color: isMyMessage ? STRUCTURED_MESSAGE_COLOR : LINK_COLOR }] },\n\t                msgModel.value.title\n\t              )\n\t            ));\n\t            return;\n\t          }\n\t        }\n\t        row = self.getPropRow(properties[v], resource, resource[v], /*style,*/true);\n\t      }\n\t      vCols.push(row);\n\t    });\n\t\n\t    if (vCols && vCols.length) {\n\t      vCols.forEach(function (v) {\n\t        renderedRow.push(v);\n\t      });\n\t    }\n\t  }\n\t\n\t  // anyOtherRow(prop, backlink, styles) {\n\t  //   var row;\n\t  //   var resource = this.props.resource;\n\t  //   var propValue = resource[prop.name];\n\t  //   if (propValue  &&  (typeof propValue != 'string'))\n\t  //     row = <Text style={style} numberOfLines={1}>{propValue}</Text>;\n\t  //   else if (!backlink  &&  propValue  && (propValue.indexOf('http://') == 0  ||  propValue.indexOf('https://') == 0))\n\t  //     row = <Text style={style} onPress={this.onPress.bind(this)} numberOfLines={1}>{propValue}</Text>;\n\t  //   else {\n\t  //     var val = prop.displayAs ? utils.templateIt(prop, resource) : propValue;\n\t  //     let msgParts = utils.splitMessage(val);\n\t  //     if (msgParts.length <= 2)\n\t  //       val = msgParts[0];\n\t  //     else {\n\t  //       val = '';\n\t  //       for (let i=0; i<msgParts.length - 1; i++)\n\t  //         val += msgParts[i];\n\t  //     }\n\t  //     row = <Text style={style}>{val}</Text>;\n\t  //   }\n\t  //   return row;\n\t  // }\n\t\n\t};\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  verySmallLetters: {\n\t    fontSize: 18,\n\t    // alignSelf: 'flex-end',\n\t    color: '#757575'\n\t    // color: '#b4c3cb'\n\t  },\n\t  description: {\n\t    // flexWrap: 'wrap',\n\t    color: '#757575',\n\t    fontSize: 14\n\t  },\n\t  descriptionB: {\n\t    // flexWrap: 'wrap',\n\t    // color: '#757575',\n\t    fontSize: 18\n\t  },\n\t  shareButton: {\n\t    flexDirection: 'row',\n\t    marginLeft: 0,\n\t    justifyContent: 'space-between',\n\t    padding: 5,\n\t    borderRadius: 10,\n\t    borderWidth: BORDER_WIDTH,\n\t    borderColor: '#215A89',\n\t    backgroundColor: '#4982B1'\n\t  },\n\t  msgImage: {\n\t    // backgroundColor: '#dddddd',\n\t    height: 30,\n\t    marginRight: 3,\n\t    marginLeft: 0,\n\t    width: 30,\n\t    borderRadius: 15,\n\t    borderColor: '#cccccc',\n\t    borderWidth: BORDER_WIDTH\n\t  },\n\t  cellText: {\n\t    marginTop: 8,\n\t    alignSelf: 'center',\n\t    color: '#ffffff',\n\t    fontSize: 18,\n\t    backgroundColor: 'transparent'\n\t  },\n\t  employeeImage: {\n\t    // backgroundColor: '#dddddd',\n\t    height: 30,\n\t    marginRight: 3,\n\t    marginLeft: 0,\n\t    width: 30\n\t  },\n\t  cellRoundImage: {\n\t    paddingVertical: 1,\n\t    borderRadius: 20,\n\t    height: 40,\n\t    width: 40,\n\t    alignSelf: 'center'\n\t  },\n\t  cellImage: {\n\t    // backgroundColor: '#dddddd',\n\t    height: 40,\n\t    width: 40,\n\t    marginRight: 10,\n\t    borderColor: 'transparent',\n\t    borderRadius: 10,\n\t    borderWidth: BORDER_WIDTH\n\t  },\n\t  rowContainer: {\n\t    flexDirection: 'row',\n\t    justifyContent: 'space-between'\n\t  },\n\t  verification: {\n\t    // marginHorizontal: -7,\n\t    // marginVertical: -10,\n\t    paddingVertical: 7\n\t  },\n\t  orgImage: {\n\t    width: 20,\n\t    height: 20,\n\t    borderRadius: 10\n\t  },\n\t  resourceTitle: {\n\t    // flex: 1,\n\t    fontSize: 18,\n\t    fontWeight: '400',\n\t    marginBottom: 2\n\t  }\n\t});\n\t\n\tmodule.exports = RowMixin;\n\n/***/ },\n\n/***/ 1695:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _reactNativeVectorIcons = __webpack_require__(1696);\n\t\n\tvar glyphMap = { 'tradle': 58896 };\n\tvar Icons = (0, _reactNativeVectorIcons.createIconSet)(glyphMap, 'tradle', 'tradle.ttf');\n\tmodule.exports = Icons;\n\tmodule.exports.glyphMap = glyphMap;\n\n/***/ },\n\n/***/ 1706:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _reactNativeActionsheet = __webpack_require__(1686);\n\t\n\tvar _reactNativeActionsheet2 = _interopRequireDefault(_reactNativeActionsheet);\n\t\n\tvar _platform = __webpack_require__(1674);\n\t\n\tvar _platform2 = _interopRequireDefault(_platform);\n\t\n\tvar _localAuth = __webpack_require__(1538);\n\t\n\tvar _reactNativeOrient = __webpack_require__(944);\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar utils = __webpack_require__(935);\n\tvar translate = utils.translate;\n\tvar ShowPropertiesView = __webpack_require__(1707);\n\tvar PhotoView = __webpack_require__(1718);\n\tvar PhotoList = __webpack_require__(1711);\n\t// var AddNewIdentity = require('./AddNewIdentity');\n\t// var SwitchIdentity = require('./SwitchIdentity');\n\tvar ShowRefList = __webpack_require__(1720);\n\tvar PageView = __webpack_require__(1722);\n\tvar Icon = __webpack_require__(1541);\n\t// var IdentitiesList = require('./IdentitiesList');\n\tvar Actions = __webpack_require__(1517);\n\tvar Reflux = __webpack_require__(1518);\n\tvar Store = __webpack_require__(1723);\n\tvar reactMixin = __webpack_require__(1703);\n\tvar ResourceMixin = __webpack_require__(1717);\n\tvar QRCode = __webpack_require__(1932);\n\tvar MessageList = __webpack_require__(1946);\n\tvar defaultBankStyle = __webpack_require__(2094);\n\tvar ENV = __webpack_require__(942);\n\t\n\tvar TALK_TO_EMPLOYEE = '1';\n\t// const SERVER_URL = 'http://192.168.0.162:44444/'\n\t\n\tvar extend = __webpack_require__(1705);\n\tvar constants = __webpack_require__(1348);\n\tvar USE_TOUCH_ID = 0;\n\tvar USE_GESTURE_PASSWORD = 1;\n\tvar CHANGE_GESTURE_PASSWORD = 2;\n\tvar PAIR_DEVICES = 3;\n\tvar WIPE_DEVICE = 4;\n\t\n\tvar ResourceView = function (_Component) {\n\t  _inherits(ResourceView, _Component);\n\t\n\t  function ResourceView(props) {\n\t    _classCallCheck(this, ResourceView);\n\t\n\t    var _this = _possibleConstructorReturn(this, (ResourceView.__proto__ || Object.getPrototypeOf(ResourceView)).call(this, props));\n\t\n\t    var me = utils.getMe();\n\t    _this.state = {\n\t      resource: props.resource,\n\t      isLoading: props.resource.id ? true : false,\n\t      isModalOpen: false,\n\t      useTouchId: me && me.useTouchId,\n\t      useGesturePassword: me && me.useGesturePassword\n\t    };\n\t    var currentRoutes = _this.props.navigator.getCurrentRoutes();\n\t    var len = currentRoutes.length;\n\t    if (!currentRoutes[len - 1].onRightButtonPress && currentRoutes[len - 1].rightButtonTitle) currentRoutes[len - 1].onRightButtonPress = _this.props.action.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(ResourceView, [{\n\t    key: 'componentWillMount',\n\t    value: function componentWillMount() {\n\t      if (this.props.resource.id) Actions.getItem(this.props.resource);\n\t    }\n\t  }, {\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      this.listenTo(Store, 'handleEvent');\n\t    }\n\t  }, {\n\t    key: 'handleEvent',\n\t    value: function handleEvent(params) {\n\t      switch (params.action) {\n\t        case 'showIdentityList':\n\t          this.onShowIdentityList(params);\n\t          break;\n\t        case 'getItem':\n\t          this.setState({\n\t            resource: params.resource,\n\t            isLoading: false\n\t          });\n\t          break;\n\t        case 'genPairingData':\n\t          if (params.error) _reactNative.Alert.alert(params.error);else this.setState({ pairingData: params.pairingData, isModalOpen: true });\n\t          break;\n\t        case 'invalidPairingRequest':\n\t          this.props.navigator.pop();\n\t          _reactNative.Alert.alert(translate(params.error));\n\t          break;\n\t        case 'acceptingPairingRequest':\n\t          this.closeModal();\n\t          // check signature\n\t          (0, _localAuth.signIn)(this.props.navigator, utils.getMe()).then(function () {\n\t            Actions.pairingRequestAccepted(params.resource);\n\t          });\n\t          break;\n\t        case 'pairingRequestAccepted':\n\t          this.props.navigator.pop();\n\t          break;\n\t        case 'newContact':\n\t          this.closeModal();\n\t          break;\n\t        case 'employeeOnboarding':\n\t          var routes = this.props.navigator.getCurrentRoutes();\n\t          // this.props.navigator.jumpTo(routes[1])\n\t          var style = {};\n\t          extend(style, defaultBankStyle);\n\t          if (params.to.style) style = extend(style, params.to.style);\n\t          this.props.navigator.replacePreviousAndPop({\n\t            component: MessageList,\n\t            title: utils.getDisplayName(params.to),\n\t            id: 11,\n\t            backButtonTitle: 'Back',\n\t            passProps: {\n\t              resource: params.to,\n\t              filter: '',\n\t              modelName: constants.TYPES.MESSAGE,\n\t              // currency: params.organization.currency,\n\t              bankStyle: style\n\t            }\n\t          }, 2);\n\t          // this.props.navigator.jumpTo(routes[2])\n\t          break;\n\t        default:\n\t          if (params.resource) this.onResourceUpdate(params);\n\t          break;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'shouldComponentUpdate',\n\t    value: function shouldComponentUpdate(nextProps, nextState) {\n\t      return utils.resized(this.props, nextProps) || this.state.isModalOpen !== nextState.isModalOpen || this.state.useGesturePassword !== nextState.useGesturePassword || this.state.useTouchId !== nextState.useTouchId || this.state.pairingData !== nextState.pairingData;\n\t    }\n\t  }, {\n\t    key: 'onResourceUpdate',\n\t    value: function onResourceUpdate(params) {\n\t      var resource = params.resource;\n\t      // if (resource  &&  this.props.resource[constants.ROOT_HASH] === resource[constants.ROOT_HASH]) {\n\t      //   var me = utils.getMe();\n\t      //   if (resource[constants.ROOT_HASH] === me[constants.ROOT_HASH])\n\t      //     utils.setMe(resource);\n\t      this.setState({ resource: resource });\n\t      // }\n\t    }\n\t  }, {\n\t    key: 'changePhoto',\n\t    value: function changePhoto(photo) {\n\t      this.setState({ currentPhoto: photo });\n\t    }\n\t  }, {\n\t    key: 'onShowIdentityList',\n\t    value: function onShowIdentityList(params) {\n\t      var me = utils.getMe();\n\t      this.props.navigator.push({\n\t        id: 8,\n\t        title: 'My Identities',\n\t        component: IdentitiesList,\n\t        backButtonTitle: 'Profile',\n\t        passProps: {\n\t          filter: '',\n\t          list: params.list\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this2 = this;\n\t\n\t      if (this.state.isLoading) return _react2.default.createElement(_reactNative.View, null);\n\t\n\t      var dimensions = this.props.dimensions;\n\t      var styles = createStyles();\n\t\n\t      var resource = this.state.resource;\n\t      var modelName = resource[constants.TYPE];\n\t      var model = utils.getModel(modelName).value;\n\t      var photos = [];\n\t      if (resource.photos && resource.photos.length > 1) {\n\t        extend(photos, resource.photos);\n\t        photos.splice(0, 1);\n\t      }\n\t\n\t      var isIdentity = model.id === constants.TYPES.PROFILE;\n\t      var isOrg = model.id === constants.TYPES.ORGANIZATION;\n\t      var me = utils.getMe();\n\t      var actionPanel;\n\t      if (me) {\n\t        var isMe = isIdentity ? resource[constants.ROOT_HASH] === me[constants.ROOT_HASH] : true;\n\t        actionPanel = isIdentity && !isMe || isOrg && (!me.organization || utils.getId(me.organization) !== utils.getId(resource)) ? _react2.default.createElement(_reactNative.View, null) : _react2.default.createElement(ShowRefList, { showQR: this.openModal.bind(this), resource: resource, currency: this.props.currency, navigator: this.props.navigator });\n\t      } else actionPanel = _react2.default.createElement(_reactNative.View, null);\n\t      var qrcode, w;\n\t\n\t      var _utils$dimensions = utils.dimensions(ResourceView);\n\t\n\t      var width = _utils$dimensions.width;\n\t      var height = _utils$dimensions.height;\n\t\n\t      if (this.state.pairingData) {\n\t        w = Math.floor(width / 3 * 2);\n\t        qrcode = _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: { alignSelf: 'center', justifyContent: 'center', backgroundColor: '#ffffff', padding: 10 }, onPress: function onPress() {\n\t              return _this2.setState({ isModalOpen: true });\n\t            } },\n\t          _react2.default.createElement(QRCode, { inline: true, content: this.state.pairingData, dimension: w })\n\t        );\n\t      } else if (isMe && me.isEmployee && me.organization && me.organization.url) {\n\t        w = Math.floor(width / 3 * 2);\n\t        qrcode = _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: { alignSelf: 'center', justifyContent: 'center', backgroundColor: '#ffffff', padding: 10 }, onPress: function onPress() {\n\t              return _this2.setState({ isModalOpen: true });\n\t            } },\n\t          _react2.default.createElement(QRCode, { inline: true, content: TALK_TO_EMPLOYEE + ';' + me.organization.url + ';' + utils.getId(me.organization).split('_')[1] + ';' + me[constants.ROOT_HASH], dimension: w })\n\t        );\n\t      } else qrcode = _react2.default.createElement(_reactNative.View, null);\n\t\n\t      var msg = void 0;\n\t      if (this.state.useTouchId && this.state.useGesturePassword) msg = translate('bothOn');else if (this.state.useTouchId) msg = translate('touchIdOn');else msg = translate('passwordOn');\n\t      //, this.state.useTouchId ? {opacity: 1} : {opacity: 0.3}\n\t      var switchTouchId = isIdentity ? _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: styles.footer },\n\t        _react2.default.createElement(\n\t          _reactNative.Text,\n\t          { style: _platform2.default.touchIdText },\n\t          msg\n\t        ),\n\t        _react2.default.createElement(\n\t          _reactNative.TouchableHighlight,\n\t          { underlayColor: 'transparent', onPress: function onPress() {\n\t              return _this2.ActionSheet.show();\n\t            } },\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: [_platform2.default.menuButtonRegular] },\n\t            _react2.default.createElement(Icon, { name: 'md-finger-print', color: _reactNative.Platform.OS === 'android' ? 'red' : '#ffffff', size: 33 })\n\t          )\n\t        )\n\t      ) : _react2.default.createElement(_reactNative.View, null);\n\t      // let showSwitch = isIdentity && Platform.OS === 'ios'  && !utils.isSimulator()\n\t      // let switchTouchId = showSwitch\n\t      //                   ? <View style={styles.footer}>\n\t      //                       <Text style={styles.touchIdText}>{msg}</Text>\n\t      //                       <TouchableHighlight underlayColor='transparent' onPress={() => this.ActionSheet.show()}>\n\t      //                          <View style={[platformStyles.menuButtonRegular, this.state.useTouchId ? {opacity: 1} : {opacity: 0.3}]}>\n\t      //                             <Icon name='md-finger-print' color={Platform.OS === 'ios' ? '#ffffff': 'red'} size={33} />\n\t      //                           </View>\n\t      //                         </TouchableHighlight>\n\t      //                     </View>\n\t      //                  : <View />\n\t      // var switchTouchId = <View />\n\t      // <AddNewIdentity resource={resource} navigator={this.props.navigator} />\n\t      // <SwitchIdentity resource={resource} navigator={this.props.navigator} />\n\t      // <Icon  onPress={() => this.closeModal()} name={} size={30} style={{fontSize: 20, color: '#ffffff', paddingHorizontal: 30, paddingVertical: 15}}>Close</Text>\n\t      // let buttons = showSwitch\n\t      //             ? [translate('useTouchId') + (this.state.useTouchId ? '    ✔️' : ''), translate('useGesturePassword') + (this.state.useGesturePassword ? '    ✔️' : '')]\n\t      //             : []\n\t\n\t      var buttons = [];\n\t      var actions = [];\n\t      if (isIdentity && isMe) {\n\t        if (utils.isIOS()) {\n\t          // when both auth methods are available, give the choice to disable one\n\t          buttons.push(translate('useTouchId') + (this.state.useTouchId ? ' ✓' : ''));\n\t          actions.push(USE_TOUCH_ID);\n\t          buttons.push(translate('useGesturePassword') + (this.state.useGesturePassword ? ' ✓' : ''));\n\t          actions.push(USE_GESTURE_PASSWORD);\n\t        }\n\t\n\t        if (this.state.useGesturePassword || !utils.isIOS()) {\n\t          buttons.push(utils.isWeb() ? translate('changePassword') : translate('changeGesturePassword'));\n\t          actions.push(CHANGE_GESTURE_PASSWORD);\n\t        }\n\t        buttons.push(translate('pairDevices'));\n\t        actions.push(PAIR_DEVICES);\n\t      }\n\t\n\t      if (utils.isWeb()) {\n\t        buttons.push(translate('wipeDevice'));\n\t        actions.push(WIPE_DEVICE);\n\t      }\n\t\n\t      buttons.push(translate('cancel'));\n\t      return _react2.default.createElement(\n\t        PageView,\n\t        { style: _platform2.default.container },\n\t        _react2.default.createElement(\n\t          _reactNative.ScrollView,\n\t          { ref: 'this' },\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: styles.photoBG },\n\t            _react2.default.createElement(PhotoView, { resource: resource, navigator: this.props.navigator })\n\t          ),\n\t          actionPanel,\n\t          _react2.default.createElement(\n\t            _reactNative.Modal,\n\t            { animationType: 'fade', visible: this.state.isModalOpen, transparent: true, onRequestClose: function onRequestClose() {\n\t                return _this2.closeModal();\n\t              } },\n\t            _react2.default.createElement(\n\t              _reactNative.TouchableHighlight,\n\t              { onPress: function onPress() {\n\t                  return _this2.closeModal();\n\t                }, underlayColor: 'transparent' },\n\t              _react2.default.createElement(\n\t                _reactNative.View,\n\t                { style: styles.modalBackgroundStyle },\n\t                qrcode\n\t              )\n\t            )\n\t          ),\n\t          _react2.default.createElement(PhotoList, { photos: photos, resource: this.props.resource, navigator: this.props.navigator, isView: true, numberInRow: photos.length > 4 ? 5 : photos.length }),\n\t          _react2.default.createElement(ShowPropertiesView, { resource: resource,\n\t            showItems: this.showResources.bind(this),\n\t            showRefResource: this.getRefResource.bind(this),\n\t            currency: this.props.currency,\n\t            excludedProperties: ['photos'],\n\t            navigator: this.props.navigator }),\n\t          _react2.default.createElement(_reactNativeActionsheet2.default, {\n\t            ref: function ref(o) {\n\t              _this2.ActionSheet = o;\n\t            },\n\t            options: buttons,\n\t            cancelButtonIndex: buttons.length - 1,\n\t            onPress: function onPress(index) {\n\t              if (index < buttons.length - 1) _this2.changePreferences(index, actions[index]);\n\t            }\n\t          })\n\t        ),\n\t        switchTouchId\n\t      );\n\t    }\n\t  }, {\n\t    key: 'openModal',\n\t    value: function openModal() {\n\t      this.setState({ isModalOpen: true });\n\t    }\n\t  }, {\n\t    key: 'closeModal',\n\t    value: function closeModal() {\n\t      this.setState({ isModalOpen: false });\n\t    }\n\t  }, {\n\t    key: 'getRefResource',\n\t    value: function getRefResource(resource, prop) {\n\t      var model = utils.getModel(this.props.resource[constants.TYPE]).value;\n\t\n\t      this.state.prop = prop;\n\t      this.state.propValue = utils.getId(resource.id);\n\t      Actions.getItem(resource.id);\n\t    }\n\t  }, {\n\t    key: 'changePreferences',\n\t    value: function changePreferences(id, action) {\n\t      var me = utils.getMe();\n\t      var r = {\n\t        _r: me[constants.ROOT_HASH],\n\t        _t: constants.TYPES.PROFILE\n\t      };\n\t      var isChangeGesturePassword = void 0;\n\t      switch (action) {\n\t        case USE_TOUCH_ID:\n\t          r.useTouchId = me.useTouchId ? me.useGesturePassword ? false : true : true;\n\t          r.useGesturePassword = me.useGesturePassword;\n\t          break;\n\t        case USE_GESTURE_PASSWORD:\n\t          r.useGesturePassword = me.useGesturePassword ? me.useTouchId ? false : true : true;\n\t          r.useTouchId = me.useTouchId;\n\t          break;\n\t        case CHANGE_GESTURE_PASSWORD:\n\t          isChangeGesturePassword = true;\n\t          break;\n\t        case PAIR_DEVICES:\n\t          Actions.genPairingData();\n\t          return;\n\t        case WIPE_DEVICE:\n\t          Actions.requestWipe();\n\t          return;\n\t      }\n\t      if (!r.useGesturePassword && !r.useTouchId) r.useGesturePassword = true;\n\t      if (!isChangeGesturePassword && me.useTouchId === r.useTouchId && me.useGesturePassword === r.useGesturePassword) return;\n\t      var self = this;\n\t      (0, _localAuth.signIn)(self.props.navigator, r, isChangeGesturePassword).then(function () {\n\t        Actions.addItem({ resource: me, value: r, meta: utils.getModel(constants.TYPES.PROFILE).value });\n\t        if (isChangeGesturePassword) {\n\t          var routes = self.props.navigator.getCurrentRoutes();\n\t          self.props.navigator.popToRoute(routes[routes.length - 3]);\n\t        } else {\n\t          self.props.navigator.pop();\n\t        }\n\t\n\t        self.setState({ useGesturePassword: r.useGesturePassword, useTouchId: r.useTouchId });\n\t      });\n\t      // this.props.navigator.push({\n\t      //   id: 1,\n\t      //   backButtonTitle: null,\n\t      //   component: TimHome,\n\t      //   passProps: {\n\t      //     navigator: this.props.navigator,\n\t      //     modelName: constants.TYPES.PROFILE,\n\t      //     newMe: r\n\t      //   }\n\t      // })\n\t\n\t      // this.setState({useGesturePassword: r.useGesturePassword, useTouchId: r.useTouchId})\n\t      // Actions.addItem({resource: me, value: r, meta: utils.getModel(constants.TYPES.PROFILE).value})\n\t    }\n\t  }]);\n\t\n\t  return ResourceView;\n\t}(_react.Component);\n\t\n\tResourceView.displayName = 'ResourceView';\n\t\n\t\n\treactMixin(ResourceView.prototype, Reflux.ListenerMixin);\n\treactMixin(ResourceView.prototype, ResourceMixin);\n\tResourceView = (0, _reactNativeOrient.makeResponsive)(ResourceView);\n\t\n\tvar createStyles = utils.styleFactory(ResourceView, function (_ref) {\n\t  var dimensions = _ref.dimensions;\n\t\n\t  return _reactNative.StyleSheet.create({\n\t    // container: {\n\t    //   marginTop: Platform.OS === 'ios' ? 64 : 44,\n\t    //   flex: 1,\n\t    // },\n\t    modalBackgroundStyle: {\n\t      backgroundColor: 'rgba(0, 0, 0, 0.7)',\n\t      justifyContent: 'center',\n\t      padding: 20,\n\t      height: dimensions.height\n\t    },\n\t    photoBG: {\n\t      // backgroundColor: '#245D8C',\n\t      alignItems: 'center'\n\t    },\n\t    footer: {\n\t      flexDirection: 'row',\n\t      flexWrap: 'nowrap',\n\t      justifyContent: 'space-between',\n\t      alignSelf: 'stretch',\n\t      height: 45,\n\t      width: dimensions.width,\n\t      backgroundColor: '#eeeeee',\n\t      borderColor: '#eeeeee',\n\t      borderWidth: 1,\n\t      borderTopColor: '#cccccc',\n\t      paddingRight: 10\n\t    }\n\t  });\n\t});\n\t\n\tmodule.exports = ResourceView;\n\n/***/ },\n\n/***/ 1707:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _reactNativeActionsheet = __webpack_require__(1686);\n\t\n\tvar _reactNativeActionsheet2 = _interopRequireDefault(_reactNativeActionsheet);\n\t\n\tvar _reactNativePrompt = __webpack_require__(1708);\n\t\n\tvar _reactNativePrompt2 = _interopRequireDefault(_reactNativePrompt);\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar PhotoList = __webpack_require__(1711);\n\tvar ArticleView = __webpack_require__(1668);\n\tvar utils = __webpack_require__(935);\n\tvar constants = __webpack_require__(1348);\n\tvar RowMixin = __webpack_require__(1694);\n\tvar ResourceMixin = __webpack_require__(1717);\n\tvar reactMixin = __webpack_require__(1703);\n\tvar Accordion = __webpack_require__(1699);\n\tvar Icon = __webpack_require__(1541);\n\tvar NOT_SPECIFIED = '[not specified]';\n\tvar DEFAULT_CURRENCY_SYMBOL = '£';\n\tvar CURRENCY_SYMBOL;\n\tvar TERMS_AND_CONDITIONS = 'tradle.TermsAndConditions';\n\tvar ENUM = 'tradle.Enum';\n\t// import Communications from 'react-native-communications'\n\t\n\tvar ShowPropertiesView = function (_Component) {\n\t  _inherits(ShowPropertiesView, _Component);\n\t\n\t  function ShowPropertiesView(props) {\n\t    _classCallCheck(this, ShowPropertiesView);\n\t\n\t    var _this = _possibleConstructorReturn(this, (ShowPropertiesView.__proto__ || Object.getPrototypeOf(ShowPropertiesView)).call(this, props));\n\t\n\t    _this.state = {\n\t      promptVisible: null\n\t    };\n\t    CURRENCY_SYMBOL = props.currency ? props.currency.symbol || props.currency : DEFAULT_CURRENCY_SYMBOL;\n\t    return _this;\n\t  }\n\t\n\t  _createClass(ShowPropertiesView, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { key: this.getNextKey() },\n\t        this.getViewCols()\n\t      );\n\t    }\n\t    // let buttons = {[translate('sendEmail'), translate('sendSMS'), translate('cancel')]}\n\t    // <ActionSheet\n\t    //   ref={(o) => {\n\t    //     this.ActionSheet = o\n\t    //   }}\n\t    //   options={buttons}\n\t    //   cancelButtonIndex={buttons.length - 1}\n\t    //   onPress={(index) => {\n\t    //     switch (index) {\n\t    //     case 0:\n\t    //       Communications.email([val], null, null, 'My Subject','My body text')\n\t    //       break\n\t    //     case 1:\n\t    //       Communications.text(val)\n\t    //       break;\n\t    //     default:\n\t    //       return\n\t    //     }\n\t    //   }}\n\t    // />\n\t\n\t  }, {\n\t    key: 'shouldComponentUpdate',\n\t    value: function shouldComponentUpdate(nextProps, nextState) {\n\t      // Prompt for employee to write a correction message\n\t      if (this.state.promptVisible !== nextState.promptVisible) return true;\n\t      if (!this.props.errorProps || !nextProps.errorProps) return true;\n\t      return this.props.errorProps != nextProps.errorProps ? true : false;\n\t    }\n\t  }, {\n\t    key: 'getViewCols',\n\t    value: function getViewCols(resource, model) {\n\t      var _this2 = this;\n\t\n\t      var resource = this.props.resource;\n\t      var modelName = resource[constants.TYPE];\n\t      var model = utils.getModel(modelName).value;\n\t      var vCols = [];\n\t      if (this.props.checkProperties) {\n\t        var _props = model.properties;\n\t        for (var _p in _props) {\n\t          if (_p.charAt(0) === '_' || _props[_p].hidden || _props[_p].readOnly) continue;\n\t          vCols.push(_p);\n\t        }\n\t      } else vCols = model.viewCols;\n\t\n\t      var excludedProperties = this.props.excludedProperties;\n\t      var props = model.properties;\n\t      if (excludedProperties) {\n\t        var mapped = [];\n\t        excludedProperties.forEach(function (p) {\n\t          if (props[p]) {\n\t            mapped.push(p);\n\t          }\n\t        });\n\t        excludedProperties = mapped;\n\t      }\n\t\n\t      if (!vCols) {\n\t        vCols = [];\n\t        for (var p in props) {\n\t          if (p != constants.TYPE) vCols.push(p);\n\t        }\n\t      }\n\t      var isMessage = model.interfaces;\n\t      if (!isMessage) {\n\t        var len = vCols.length;\n\t        for (var i = 0; i < len; i++) {\n\t          if (props[vCols[i]].displayName) {\n\t            vCols.splice(i, 1);\n\t            len--;\n\t          }\n\t        }\n\t      }\n\t      var first = true;\n\t      var self = this;\n\t      var viewCols = vCols.map(function (p) {\n\t        if (excludedProperties && excludedProperties.indexOf(p) !== -1) return;\n\t\n\t        var val = resource[p];\n\t        var pMeta = model.properties[p];\n\t        var isRef;\n\t        var isItems;\n\t        var isDirectionRow;\n\t        // var isEmail\n\t        if (!val) {\n\t          if (pMeta.displayAs) val = utils.templateIt(pMeta, resource);else if (_this2.props.checkProperties) val = NOT_SPECIFIED;else return;\n\t        } else if (pMeta.ref) {\n\t          if (pMeta.ref == constants.TYPES.MONEY) {\n\t            var c = utils.normalizeCurrencySymbol(val.currency);\n\t            val = (c || CURRENCY_SYMBOL) + val.value;\n\t          }\n\t          // Could be enum like props\n\t          else if (utils.getModel(pMeta.ref).value.subClassOf === ENUM) val = val.title;else if (_this2.props.showRefResource) {\n\t              // ex. property that is referencing to the Organization for the contact\n\t              var value = val[constants.TYPE] ? utils.getDisplayName(val, utils.getModel(val[constants.TYPE]).value.properties) : val.title;\n\t\n\t              val = _react2.default.createElement(\n\t                _reactNative.TouchableOpacity,\n\t                { onPress: _this2.props.showRefResource.bind(_this2, val, pMeta) },\n\t                _react2.default.createElement(\n\t                  _reactNative.Text,\n\t                  { style: [styles.title, styles.linkTitle] },\n\t                  value\n\t                )\n\t              );\n\t\n\t              isRef = true;\n\t            }\n\t        } else if (pMeta.type === 'date') val = utils.formatDate(val);\n\t        // else if (pMeta[constants.SUB_TYPE] === 'email') {\n\t        //   isEmail = true\n\t        //   val = <TouchableOpacity onPress={() => Communications.email([val], null, null, 'My Subject','My body text')}>\n\t        //       <Text  style={[styles.title, styles.linkTitle]}>{val}</Text>\n\t        //   </TouchableOpacity>\n\t\n\t        // }\n\t\n\t        if (!val) return _react2.default.createElement(_reactNative.View, { key: _this2.getNextKey() });\n\t        if (!isRef) {\n\t          if (val instanceof Array) {\n\t            if (pMeta.items.backlink) return _react2.default.createElement(_reactNative.View, { key: _this2.getNextKey() });\n\t            var vCols = pMeta.viewCols;\n\t            var cnt = val.length;\n\t            val = _react2.default.createElement(\n\t              _reactNative.View,\n\t              { style: { marginHorizontal: 7 } },\n\t              _this2.renderItems(val, pMeta)\n\t            );\n\t\n\t            isItems = true;\n\t            first = false;\n\t            title = _react2.default.createElement(\n\t              _reactNative.View,\n\t              { style: { flexDirection: 'row' } },\n\t              _react2.default.createElement(\n\t                _reactNative.Text,\n\t                { style: styles.title },\n\t                pMeta.title || utils.makeLabel(p)\n\t              ),\n\t              cnt > 3 && modelName !== TERMS_AND_CONDITIONS ? _react2.default.createElement(Icon, { name: 'ios-arrow-down', size: 15, color: '#7AAAC3', style: { position: 'absolute', right: 10, top: 10 } }) : _react2.default.createElement(_reactNative.View, null)\n\t            );\n\t\n\t            if (cnt > 3 && modelName !== TERMS_AND_CONDITIONS) val = _react2.default.createElement(\n\t              _reactNative.View,\n\t              { key: _this2.getNextKey() },\n\t              separator,\n\t              _react2.default.createElement(Accordion, {\n\t                header: title,\n\t                content: val,\n\t                underlayColor: 'transparent',\n\t                easing: 'easeInCirc' })\n\t            );else {\n\t              val = _react2.default.createElement(\n\t                _reactNative.View,\n\t                { key: _this2.getNextKey() },\n\t                title,\n\t                val\n\t              );\n\t            }\n\t          } else {\n\t            if (props[p].units && props[p].units.charAt(0) != '[') val += ' ' + props[p].units;\n\t\n\t            if (val === NOT_SPECIFIED) val = _react2.default.createElement(\n\t              _reactNative.Text,\n\t              { style: [styles.description, { color: _this2.props.bankStyle.LINK }] },\n\t              val\n\t            );else if (typeof val === 'number' || typeof val === 'boolean') val = _react2.default.createElement(\n\t              _reactNative.Text,\n\t              { style: styles.description },\n\t              val ? 'Yes' : 'No'\n\t            );else if (pMeta.type === 'boolean') val = _react2.default.createElement(\n\t              _reactNative.Text,\n\t              { style: styles.description },\n\t              val.title\n\t            );else if (pMeta.type !== 'object' && typeof val === 'string' && (val.indexOf('http://') == 0 || val.indexOf('https://') === 0)) val = _react2.default.createElement(\n\t              _reactNative.Text,\n\t              { onPress: _this2.onPress.bind(_this2, val), style: [styles.description, { color: '#7AAAC3' }] },\n\t              val\n\t            );\n\t            // else if (pMeta.range) {\n\t            //   if (pMeta.range === 'email')\n\t            //     val = <TouchableOpacity onPress={this.sendEmail.bind(this, val)}>\n\t            //             <Text  style={[styles.title, styles.linkTitle]}>{val}</Text>\n\t            //           </TouchableOpacity>\n\t            //   else if (pMeta.range === 'phone') {\n\t            //     val = <TouchableOpacity onPress={this.sendSMS.bind(this, val)}>\n\t            //             <Text  style={[styles.title, styles.linkTitle]}>{val}</Text>\n\t            //           </TouchableOpacity>\n\t            //   }\n\t            // }\n\t            else if (modelName === TERMS_AND_CONDITIONS) val = _react2.default.createElement(\n\t                _reactNative.Text,\n\t                { style: [styles.description, { flexWrap: 'wrap' }] },\n\t                val\n\t              );else val = _react2.default.createElement(\n\t                _reactNative.Text,\n\t                { style: [styles.description], numberOfLines: 2 },\n\t                val\n\t              );\n\t          }\n\t        }\n\t        var title = pMeta.skipLabel || isItems ? _react2.default.createElement(_reactNative.View, null) : _react2.default.createElement(\n\t          _reactNative.Text,\n\t          { style: styles.title },\n\t          pMeta.title || utils.makeLabel(p)\n\t        );\n\t        var separator = first ? _react2.default.createElement(_reactNative.View, null) : _react2.default.createElement(_reactNative.View, { style: styles.separator });\n\t\n\t        first = false;\n\t        var isPromptVisible = _this2.state.promptVisible !== null;\n\t        if (isPromptVisible) console.log(_this2.state.promptVisible);\n\t        var canReject = _this2.props.checkProperties ? _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: styles.iconView },\n\t          _react2.default.createElement(Icon, { key: p, name: _this2.props.errorProps && _this2.props.errorProps[p] ? 'ios-close-circle' : 'ios-radio-button-off', size: 25, color: _this2.props.errorProps && _this2.props.errorProps[p] ? 'red' : _this2.props.bankStyle.LINK_COLOR, style: { marginTop: 10 },\n\t            onPress: function onPress() {\n\t              _this2.setState({ promptVisible: pMeta });\n\t            } }),\n\t          _react2.default.createElement(_reactNativePrompt2.default, {\n\t            title: 'Please write a message to the customer',\n\t            placeholder: 'Start typing',\n\t            visible: isPromptVisible,\n\t            onCancel: function onCancel() {\n\t              return _this2.setState({ promptVisible: null });\n\t            },\n\t            onSubmit: function onSubmit(value) {\n\t              _this2.setState({ promptVisible: null });\n\t              _this2.props.checkProperties(_this2.state.promptVisible, value);\n\t            } })\n\t        ) : _react2.default.createElement(_reactNative.View, null);\n\t        if (_this2.props.checkProperties) isDirectionRow = true;\n\t        // <View style={{flexDirection: 'row', justifyContent: 'space-between'}}>\n\t\n\t        var style = [styles.textContainer, { padding: 10 }];\n\t        if (isDirectionRow) {\n\t          style.push({ flexDirection: 'row' });\n\t          if (canReject) style.push({ justifyContent: 'space-between' });\n\t        } else style.push({ flexDirection: 'column' });\n\t\n\t        return _react2.default.createElement(\n\t          _reactNative.View,\n\t          { key: _this2.getNextKey() },\n\t          separator,\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: isDirectionRow ? { flexDirection: 'row' } : { flexDirection: 'column' } },\n\t            _react2.default.createElement(\n\t              _reactNative.View,\n\t              { style: [style, { flexDirection: 'column' }] },\n\t              title,\n\t              val\n\t            ),\n\t            canReject\n\t          )\n\t        );\n\t      });\n\t      if (resource.txId) {\n\t        viewCols.push(_react2.default.createElement(\n\t          _reactNative.View,\n\t          { key: this.getNextKey() },\n\t          _react2.default.createElement(_reactNative.View, { style: styles.separator }),\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: [styles.textContainer, { padding: 10 }] },\n\t            _react2.default.createElement(\n\t              _reactNative.Text,\n\t              { style: styles.title },\n\t              'Transaction uri'\n\t            ),\n\t            _react2.default.createElement(\n\t              _reactNative.TouchableOpacity,\n\t              { onPress: this.onPress.bind(this, 'http://tbtc.blockr.io/tx/info/' + resource.txId) },\n\t              _react2.default.createElement(\n\t                _reactNative.Text,\n\t                { style: [styles.description, { color: '#7AAAC3' }] },\n\t                resource.txId\n\t              )\n\t            )\n\t          )\n\t        ));\n\t      }\n\t      return viewCols;\n\t    }\n\t  }, {\n\t    key: 'onPress',\n\t    value: function onPress(url, event) {\n\t      var model = utils.getModel(this.props.resource[constants.TYPE]).value;\n\t      this.props.navigator.push({\n\t        id: 7,\n\t        backButtonTitle: 'Back',\n\t        title: utils.getDisplayName(this.props.resource, model.properties),\n\t        component: ArticleView,\n\t        passProps: { url: url ? url : this.props.resource.url }\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return ShowPropertiesView;\n\t}(_react.Component);\n\t\n\treactMixin(ShowPropertiesView.prototype, RowMixin);\n\treactMixin(ShowPropertiesView.prototype, ResourceMixin);\n\tvar styles = _reactNative.StyleSheet.create({\n\t  textContainer: {\n\t    flex: 1\n\t  },\n\t  separator: {\n\t    height: 1,\n\t    backgroundColor: '#eeeeee',\n\t    marginHorizontal: 15\n\t  },\n\t  title: {\n\t    fontSize: 16,\n\t    fontFamily: 'Avenir Next',\n\t    marginTop: 3,\n\t    marginBottom: 0,\n\t    marginHorizontal: 7,\n\t    color: '#9b9b9b'\n\t  },\n\t  linkTitle: {\n\t    color: '#2892C6'\n\t  },\n\t  description: {\n\t    fontSize: 18,\n\t    marginVertical: 3,\n\t    marginHorizontal: 7,\n\t    color: '#2E3B4E'\n\t  },\n\t  photo: {\n\t    width: 86,\n\t    height: 86,\n\t    marginLeft: 1\n\t  },\n\t  icon: {\n\t    width: 40,\n\t    height: 40\n\t  },\n\t  iconView: {\n\t    alignSelf: 'center',\n\t    marginRight: 20\n\t  }\n\t});\n\t\n\tmodule.exports = ShowPropertiesView;\n\t// npm i react-native-message-composer\n\t// sendEmail(val) {\n\t//   Communications.email([val], null, null, 'My Subject','My body text')\n\t// }\n\t// sendSMS(val) {\n\t//   // Communications.text(val)\n\t//   var Composer = require('NativeModules').RNMessageComposer\n\t//   Composer.messagingSupported(supported => {\n\t//     let s = 'may be show something'\n\t//   });\n\t\n\t//   // inside your code where you would like to send a message\n\t//   Composer.composeMessageWithArgs({\n\t//       'messageText':'My sample message body text',\n\t//       // 'subject':'My Sample Subject',\n\t//       'recipients':[val]\n\t//     },\n\t//     (result) => {\n\t//       switch(result) {\n\t//       case Composer.Sent:\n\t//         console.log('the message has been sent');\n\t//         break;\n\t//       case Composer.Cancelled:\n\t//         console.log('user cancelled sending the message');\n\t//         break;\n\t//       case Composer.Failed:\n\t//         console.log('failed to send the message');\n\t//         break;\n\t//       case Composer.NotSupported:\n\t//         console.log('this device does not support sending texts');\n\t//         break;\n\t//       default:\n\t//         console.log('something unexpected happened');\n\t//         break;\n\t//       }\n\t//     }\n\t//   );\n\t// }\n\n/***/ },\n\n/***/ 1711:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar utils = __webpack_require__(935);\n\tvar groupByEveryN = utils.groupByEveryN;\n\tvar constants = __webpack_require__(1348);\n\tvar reactMixin = __webpack_require__(1703);\n\tvar PhotoCarouselMixin = __webpack_require__(1712);\n\tvar RowMixin = __webpack_require__(1694);\n\t\n\tvar equal = __webpack_require__(721);\n\tvar cnt = 1000;\n\t\n\t// var Animated = require('Animated');\n\tvar PhotoList = function (_Component) {\n\t  _inherits(PhotoList, _Component);\n\t\n\t  function PhotoList(props) {\n\t    _classCallCheck(this, PhotoList);\n\t\n\t    var _this = _possibleConstructorReturn(this, (PhotoList.__proto__ || Object.getPrototypeOf(PhotoList)).call(this, props));\n\t\n\t    var dataSource = new _reactNative.ListView.DataSource({\n\t      rowHasChanged: function rowHasChanged(row1, row2) {\n\t        return row1 !== row2;\n\t      }\n\t    });\n\t    _this.state = {\n\t      photos: _this.props.photos,\n\t      anim: new _reactNative.Animated.Value(0.7),\n\t      // bounceValue: new Animated.Value(0),\n\t      dataSource: dataSource\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(PhotoList, [{\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      _reactNative.Animated.timing( // Uses easing functions\n\t      this.state.anim, // The value to drive\n\t      { toValue: 1,\n\t        duration: 500 } // Configuration\n\t      ).start();\n\t    }\n\t    // componentDidMount() {\n\t    //  // this.state.bounceValue.setValue(1.5);     // Start large\n\t    //   Animated.spring(                          // Base: spring, decay, timing\n\t    //     this.state.bounceValue,                 // Animate `bounceValue`\n\t    //     {\n\t    //       toValue: 0.8,                         // Animate to smaller size\n\t    //       friction: 1,                          // Bouncier spring\n\t    //     }\n\t    //   ).start();                                // Start the animation\n\t\n\t    // }\n\t\n\t  }, {\n\t    key: 'shouldComponentUpdate',\n\t    value: function shouldComponentUpdate(nextProps, nextState) {\n\t      if (this.props.resource[constants.ROOT_HASH] !== nextProps.resource[constants.ROOT_HASH]) return true;\n\t\n\t      return nextProps.forceUpdate || !equal(this.props.resource.photos, nextProps.resource.photos) || !equal(this.props.photos, nextProps.photos);\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var photos = this.props.photos;\n\t      if (!photos || !photos.length || photos.length == 1 && this.props.isView) return null;\n\t\n\t      var styles = createStyles();\n\t      var val = this.renderPhotoList(photos, styles);\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: [styles.photoContainer, this.props.style ? {} : { marginHorizontal: 15 }], key: this.getNextKey() },\n\t        val\n\t      );\n\t    }\n\t  }, {\n\t    key: 'renderPhotoList',\n\t    value: function renderPhotoList(val, styles) {\n\t      // var dataSource = this.state.dataSource.cloneWithRows(\n\t      //   groupByEveryN(val, this.props.numberInRow || 3)\n\t      // );\n\t      // return (\n\t      //   <View style={styles.row}>\n\t      //      <ListView\n\t      //         scrollEnabled = {false}\n\t      //         removeClippedSubviews={false}\n\t      //         enableEmptySections={true}\n\t      //         renderRow={this.renderRow.bind(this, styles)}\n\t      //         dataSource={dataSource} />\n\t      //   </View>\n\t      // );\n\t      var imageStyle = this.props.style;\n\t      var len = val.length;\n\t      if (!imageStyle || utils.isEmpty(imageStyle)) {\n\t        switch (len) {\n\t          case 1:\n\t          case 2:\n\t          case 3:\n\t            imageStyle = [styles.thumb3];\n\t            break;\n\t          case 4:\n\t            imageStyle = [styles.thumb4];\n\t            break;\n\t          default:\n\t          case 5:\n\t            imageStyle = [styles.thumb5];\n\t            break;\n\t        }\n\t      }\n\t      var inRow = this.props.numberInRow || Math.floor(utils.dimensions().width / imageStyle[0].width) - 1; // 2 is padding\n\t      var rows = [];\n\t      for (var i = 0; i < len; i++) {\n\t        var row = [];\n\t        for (var j = 0; j < inRow && i < len; j++, i++) {\n\t          row.push(this.renderRow(styles, val[i], imageStyle));\n\t        }rows.push(_react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: { flexDirection: 'row' }, key: this.getNextKey() },\n\t          row\n\t        ));\n\t        i--;\n\t      }\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: { flexDirection: 'column' } },\n\t        rows\n\t      );\n\t      // return (\n\t      //   <View style={styles.row}>\n\t      //     {this.renderRow(styles, val)}\n\t      //   </View>\n\t      // );\n\t    }\n\t  }, {\n\t    key: 'renderRow',\n\t    value: function renderRow(styles, photo, imageStyle) {\n\t      var uri = photo.url;\n\t      if (!uri) return _react2.default.createElement(_reactNative.View, null);\n\t      var source = { uri: uri };\n\t      if (uri.indexOf('data') === 0 || uri.charAt(0) == '/') source.isStatic = true;\n\t\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: [{ margin: 1 }, imageStyle[0]], key: this.getNextKey() },\n\t        _react2.default.createElement(\n\t          _reactNative.TouchableHighlight,\n\t          { underlayColor: 'transparent', onPress: this.props.callback ? this.props.callback.bind(this, photo) : this.showCarousel.bind(this, photo) },\n\t          _react2.default.createElement(_reactNative.Image, { resizeMode: 'cover', style: [styles.thumbCommon, imageStyle], source: source })\n\t        )\n\t      );\n\t      // return (\n\t      //   <Animated.View style={[{paddingTop: 2, margin: 1}, {transform: [{scale: this.state.anim}]},imageStyle[0]]} key={this.getNextKey() + '_photo'}>\n\t      //     <TouchableHighlight underlayColor='transparent' onPress={this.props.callback ? this.props.callback.bind(this, photo) : this.showCarousel.bind(this, photo)}>\n\t      //        <Image resizeMode='cover' style={[styles.thumbCommon, imageStyle]} source={source} />\n\t      //     </TouchableHighlight>\n\t      //   </Animated.View>\n\t      // )\n\t    }\n\t  }]);\n\t\n\t  return PhotoList;\n\t}(_react.Component);\n\t\n\tPhotoList.displayName = 'PhotoList';\n\t\n\treactMixin(PhotoList.prototype, PhotoCarouselMixin);\n\treactMixin(PhotoList.prototype, RowMixin);\n\t\n\tvar createStyles = utils.styleFactory(PhotoList, function (_ref) {\n\t  var dimensions = _ref.dimensions;\n\t\n\t  var width = dimensions.width;\n\t  var d3 = Math.min(width / 3 - 5, 240);\n\t  var d4 = Math.min(width / 4 - 5, 190);\n\t  var d5 = Math.min(width / 5 - 5, 140);\n\t  return _reactNative.StyleSheet.create({\n\t    photoContainer: {\n\t      paddingTop: 5\n\t    },\n\t    thumb3: {\n\t      width: d3,\n\t      height: d3\n\t    },\n\t    thumb4: {\n\t      width: d4,\n\t      height: d4\n\t    },\n\t    thumb5: {\n\t      width: d5,\n\t      height: d5\n\t    },\n\t    thumbCommon: {\n\t      borderWidth: 0.5,\n\t      margin: 1,\n\t      borderColor: '#999999'\n\t    },\n\t    row: {\n\t      flexDirection: 'row',\n\t      // marginTop: 3,\n\t      flex: 1\n\t    }\n\t  });\n\t});\n\t\n\tmodule.exports = PhotoList;\n\t// renderPhotoList(val, styles) {\n\t//   var dataSource = this.state.dataSource.cloneWithRows(\n\t//     groupByEveryN(val, this.props.numberInRow || 3)\n\t//   );\n\t//   return (\n\t//     <View style={styles.row}>\n\t//        <ListView\n\t//           scrollEnabled = {true}\n\t//           removeClippedSubviews={false}\n\t//           enableEmptySections={true}\n\t//           style={{overflow: 'visible'}}\n\t//           renderRow={this.renderRow.bind(this, styles)}\n\t//           dataSource={dataSource} />\n\t//     </View>\n\t//   );\n\t// }\n\t\n\t// renderRow(styles, photos)  {\n\t//   var len = photos.length;\n\t//   var imageStyle = this.props.style;\n\t//   if (!imageStyle) {\n\t//     switch (len) {\n\t//       case 1:\n\t//       case 2:\n\t//       case 3:\n\t//         imageStyle = [styles.thumb3];\n\t//         break;\n\t//       case 4:\n\t//         imageStyle = [styles.thumb4];\n\t//         break;\n\t//       default:\n\t//       case 5:\n\t//         imageStyle = [styles.thumb5];\n\t//         break;\n\t//      }\n\t//    }\n\t//    var photos = photos.map((photo) => {\n\t//     if (photo === null)\n\t//       return null;\n\t//     // var title = !photo.title || photo.title === 'photo'\n\t//     //           ? <View />\n\t//     //           : <Text style={styles.photoTitle}>{photo.title}</Text>\n\t\n\t//     // return (\n\t//     // <Animated.Image                         // Base: Image, Text, View\n\t//     //   source={{uri: utils.getImageUri(photo.url)}}\n\t//     //   style={{\n\t//     //     flex: 1,\n\t//     //     transform: [                        // `transform` is an ordered array\n\t//     //       {scale: this.state.bounceValue},  // Map `bounceValue` to `scale`\n\t//     //     ]\n\t//     //   }}\n\t//     // />);\n\t//     // var uri = utils.getImageUri(photo.url)\n\t//     var uri = photo.url\n\t//     if (!uri)\n\t//       return <View />\n\t//     var source = {uri: uri};\n\t//     if (uri.indexOf('data') === 0  ||  uri.charAt(0) == '/')\n\t//       source.isStatic = true;\n\t\n\t//     return (\n\t//       <View style={[{paddingTop: 2, margin: 1, flexDirection: 'column'}, imageStyle[0]]} key={this.getNextKey() + '_photo'}>\n\t//         <TouchableHighlight underlayColor='transparent' onPress={this.props.callback ? this.props.callback.bind(this, photo) : this.showCarousel.bind(this, photo)}>\n\t//            <Image resizeMode='cover' style={[styles.thumbCommon, imageStyle]} source={source} />\n\t//         </TouchableHighlight>\n\t//       </View>\n\t//     );\n\t//   });\n\t\n\t//   return (\n\t//     <View style={styles.row}>\n\t//       {photos}\n\t//     </View>\n\t//   );\n\t// }\n\n/***/ },\n\n/***/ 1712:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar PhotoCarousel = __webpack_require__(1713);\n\t\n\tvar PhotoCarouselMixin = {\n\t  showCarousel: function showCarousel(currentPhoto) {\n\t    this.props.navigator.push({\n\t      id: 14,\n\t      // title: 'Photos',\n\t      noLeftButton: true,\n\t      component: PhotoCarousel,\n\t      passProps: {\n\t        currentPhoto: currentPhoto,\n\t        photos: this.props.resource.photos,\n\t        resource: this.props.resource\n\t      },\n\t      rightButtonTitle: 'Done',\n\t      titleTintColor: 'black',\n\t      sceneConfig: _reactNative.Navigator.SceneConfigs.FadeAndroid,\n\t      tintColor: '#dddddd',\n\t      onRightButtonPress: {\n\t        stateChange: this.closeCarousel.bind(this)\n\t      }\n\t    });\n\t  },\n\t  closeCarousel: function closeCarousel() {\n\t    this.props.navigator.pop();\n\t  }\n\t};\n\tmodule.exports = PhotoCarouselMixin;\n\n/***/ },\n\n/***/ 1713:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _reactNativeCarousel = __webpack_require__(1714);\n\t\n\tvar _reactNativeCarousel2 = _interopRequireDefault(_reactNativeCarousel);\n\t\n\tvar _reactNativeOrient = __webpack_require__(944);\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar utils = __webpack_require__(935);\n\tvar constants = __webpack_require__(1348);\n\t\n\tvar PhotoCarousel = function (_Component) {\n\t  _inherits(PhotoCarousel, _Component);\n\t\n\t  function PhotoCarousel(props) {\n\t    _classCallCheck(this, PhotoCarousel);\n\t\n\t    return _possibleConstructorReturn(this, (PhotoCarousel.__proto__ || Object.getPrototypeOf(PhotoCarousel)).call(this, props));\n\t  }\n\t\n\t  _createClass(PhotoCarousel, [{\n\t    key: 'shouldComponentUpdate',\n\t    value: function shouldComponentUpdate(nextProps, nextState) {\n\t      return this.props.orientation !== nextProps.orientation;\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var photoUrls = [];\n\t      var currentPhoto = this.props.currentPhoto || this.props.photos[0];\n\t      var currentPhotoIndex = -1;\n\t      var n = this.props.photos.length;\n\t\n\t      var model = utils.getModel(this.props.resource[constants.TYPE]).value;\n\t      var isVertical = currentPhoto.isVertical;\n\t      var cnt = 2000;\n\t      var r = this.props.resource;\n\t      var styles = createStyles();\n\t      var photos = [];\n\t      for (var j = 0; j < 2; j++) {\n\t        for (var i = 0; i < n; i++) {\n\t          var photo = this.props.photos[i];\n\t\n\t          if (currentPhotoIndex == -1 && photo.url !== currentPhoto.url) continue;\n\t          if (currentPhotoIndex == -1) currentPhotoIndex = i;\n\t          var key = r[constants.ROOT_HASH] + cnt++;\n\t          if (photo.width) {\n\t            var _utils$dimensions = utils.dimensions(PhotoCarousel);\n\t\n\t            var width = _utils$dimensions.width;\n\t            var height = _utils$dimensions.height;\n\t\n\t            var w = width,\n\t                h,\n\t                padding;\n\t\n\t            if (height > width) {\n\t              if (photo.width > width) h = photo.height * width / photo.width;else {\n\t                h = photo.height;\n\t                w = photo.width;\n\t                padding = (width - photo.width) / 2;\n\t              }\n\t\n\t              if (h > 0.8 * height) h = Math.floor(0.8 * height);\n\t            } else {\n\t              h = Math.floor(0.8 * height);\n\t              if (photo.height > h) w = photo.width * h / photo.height;else {\n\t                h = photo.height;\n\t                w = photo.width;\n\t              }\n\t            }\n\t\n\t            photos.push(_react2.default.createElement(\n\t              _reactNative.View,\n\t              { style: [styles.container], key: key },\n\t              _react2.default.createElement(_reactNative.Image, { resizeMode: 'cover', source: { uri: photo.url }, style: { width: w, height: h } })\n\t            ));\n\t          } else photos.push(isVertical ? _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: styles.container, key: key },\n\t            _react2.default.createElement(_reactNative.Image, { resizeMode: 'cover', source: { uri: photo.url }, style: styles.imageV })\n\t          ) : _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: styles.container, key: key },\n\t            _react2.default.createElement(_reactNative.Image, { resizeMode: 'cover', source: { uri: photo.url }, style: styles.image })\n\t          ));\n\t        }\n\t        n = currentPhotoIndex;\n\t      }\n\t      return _react2.default.createElement(\n\t        _reactNativeCarousel2.default,\n\t        { width: width,\n\t          loop: false,\n\t          animate: false,\n\t          indicatorOffset: 20,\n\t          indicatorColor: '#efefef' },\n\t        photos\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return PhotoCarousel;\n\t}(_react.Component);\n\t\n\tPhotoCarousel.displayName = 'PhotoCarousel';\n\t\n\tPhotoCarousel = (0, _reactNativeOrient.makeResponsive)(PhotoCarousel);\n\t\n\tvar createStyles = utils.styleFactory(PhotoCarousel, function (_ref) {\n\t  var dimensions = _ref.dimensions;\n\t\n\t  return _reactNative.StyleSheet.create({\n\t    image: {\n\t      width: dimensions.width,\n\t      height: dimensions.height - 200\n\t    },\n\t    imageH: {\n\t      width: dimensions.width,\n\t      height: dimensions.width - 100\n\t    },\n\t    imageV: {\n\t      width: dimensions.width,\n\t      height: dimensions.height - 200\n\t    },\n\t    container: {\n\t      width: dimensions.width,\n\t      flex: 1,\n\t      justifyContent: 'center',\n\t      alignItems: 'center',\n\t      backgroundColor: 'black'\n\t    }\n\t  });\n\t});\n\tPhotoCarousel = (0, _reactNativeOrient.makeResponsive)(PhotoCarousel);\n\tmodule.exports = PhotoCarousel;\n\n/***/ },\n\n/***/ 1717:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar utils = __webpack_require__(935);\n\tvar extend = __webpack_require__(1705);\n\tvar translate = utils.translate;\n\tvar Icon = __webpack_require__(1541);\n\tvar equal = __webpack_require__(721);\n\t// var ResourceView = require('./ResourceView');\n\t// var ResourceList = require('./ResourceList');\n\tvar PhotoList = __webpack_require__(1711);\n\tvar constants = __webpack_require__(1348);\n\t\n\tvar ResourceMixin = {\n\t  showRefResource: function showRefResource(resource, prop) {\n\t    var id = utils.getId(resource);\n\t    // if (resource[constants.TYPE] + '_' + resource[constants.ROOT_HASH] !== this.state.propValue)\n\t    if (id !== this.state.propValue) return;\n\t    var type = resource[constants.TYPE] || id.split('_')[0];\n\t    var model = utils.getModel(type).value;\n\t    var title = utils.getDisplayName(resource, model.properties);\n\t    this.props.navigator.push({\n\t      title: title,\n\t      id: 3,\n\t      component: __webpack_require__(1706),\n\t      titleTextColor: '#7AAAC3',\n\t      // rightButtonTitle: 'Edit',\n\t      backButtonTitle: translate('back'),\n\t      passProps: {\n\t        resource: resource,\n\t        prop: prop,\n\t        currency: this.props.currency\n\t      }\n\t    });\n\t  },\n\t  showResources: function showResources(resource, prop) {\n\t    this.props.navigator.push({\n\t      id: 10,\n\t      title: translate(prop, utils.getModel(resource[constants.TYPE]).value),\n\t      titleTextColor: '#7AAAC3',\n\t      backButtonTitle: translate('back'),\n\t      component: __webpack_require__(1685),\n\t      passProps: {\n\t        modelName: prop.items.ref,\n\t        filter: '',\n\t        resource: resource,\n\t        prop: prop,\n\t        currency: this.props.currency\n\t      }\n\t    });\n\t  },\n\t  renderItems: function renderItems(val, pMeta, cancelItem) {\n\t    var LINK_COLOR = this.props.bankStyle && this.props.bankStyle.LINK_COLOR || '#7AAAC3';\n\t    var itemsMeta = pMeta.items.properties;\n\t    var prop = pMeta;\n\t    if (!itemsMeta) {\n\t      var ref = pMeta.items.ref;\n\t      if (ref) {\n\t        pMeta = utils.getModel(ref).value;\n\t        itemsMeta = pMeta.properties;\n\t      }\n\t    }\n\t    var counter = 0;\n\t    var vCols = pMeta.viewCols;\n\t    if (!vCols) {\n\t      vCols = [];\n\t      for (var p in itemsMeta) {\n\t        vCols.push(p);\n\t      }\n\t    }\n\t    var cnt = val.length;\n\t    var self = this;\n\t    return val.map(function (v) {\n\t      var ret = [];\n\t      counter++;\n\t      vCols.forEach(function (p) {\n\t        var itemMeta = itemsMeta[p];\n\t        if (!v[p] && !itemMeta.displayAs) return;\n\t        if (itemMeta.displayName) return;\n\t        var value;\n\t        if (itemMeta.displayAs) value = utils.templateIt(itemMeta, v);else if (itemMeta.type === 'date') value = utils.formatDate(v[p]);else if (itemMeta.type !== 'object') {\n\t          if (p == 'photos') {\n\t            var photos = [];\n\t            ret.push(_react2.default.createElement(PhotoList, { photos: v.photos, navigator: self.props.navigator, numberInRow: 4, resource: resource }));\n\t            return;\n\t          } else value = v[p];\n\t        } else if (itemMeta.ref) value = v[p].title || utils.getDisplayName(v[p], utils.getModel(itemMeta.ref).value.properties);else value = v[p].title;\n\t\n\t        if (!value) return;\n\t        var item = _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: styles.itemColContainer },\n\t          _react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: itemMeta.skipLabel ? { height: 0 } : styles.itemText },\n\t            itemMeta.skipLabel ? '' : itemMeta.title || utils.makeLabel(p)\n\t          ),\n\t          _react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: styles.itemText },\n\t            value\n\t          )\n\t        );\n\t\n\t        ret.push(_react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: styles.item, key: self.getNextKey() },\n\t          cancelItem ? _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: styles.row },\n\t            item,\n\t            _react2.default.createElement(\n\t              _reactNative.TouchableHighlight,\n\t              { underlayColor: 'transparent', onPress: cancelItem.bind(self, prop, v) },\n\t              _react2.default.createElement(Icon, { name: 'ios-close-circle-outline', size: 25, color: LINK_COLOR })\n\t            )\n\t          ) : item\n\t        ));\n\t      });\n\t      if (!ret.length && v.title) {\n\t        var item = _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: [styles.itemColContainer, { flexDirection: 'row' }] },\n\t          v.photo ? _react2.default.createElement(_reactNative.Image, { source: { uri: v.photo }, style: styles.thumb }) : _react2.default.createElement(_reactNative.View, null),\n\t          _react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: [styles.itemText, { color: cancelItem ? '#000000' : LINK_COLOR }] },\n\t            v.title\n\t          )\n\t        );\n\t\n\t        ret.push(_react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: { paddingBottom: 5 }, key: self.getNextKey() },\n\t          cancelItem ? _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: styles.row },\n\t            item,\n\t            _react2.default.createElement(\n\t              _reactNative.TouchableHighlight,\n\t              { underlayColor: 'transparent', onPress: cancelItem.bind(self, prop, v) },\n\t              _react2.default.createElement(Icon, { name: 'ios-close', size: 25, color: LINK_COLOR })\n\t            )\n\t          ) : _react2.default.createElement(\n\t            _reactNative.TouchableHighlight,\n\t            { underlayColor: 'transparent', onPress: function onPress() {\n\t                self.props.navigator.push({\n\t                  title: v.title,\n\t                  id: 3,\n\t                  component: __webpack_require__(1706),\n\t                  backButtonTitle: translate('back'),\n\t                  passProps: { resource: v }\n\t                });\n\t              } },\n\t            item\n\t          )\n\t        ));\n\t      }\n\t\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { key: self.getNextKey() },\n\t        ret,\n\t        counter == cnt ? _react2.default.createElement(_reactNative.View, null) : _react2.default.createElement(_reactNative.View, { style: styles.itemSeparator })\n\t      );\n\t    });\n\t  }\n\t};\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  thumb: {\n\t    width: 25,\n\t    height: 25,\n\t    marginRight: 2,\n\t    borderRadius: 5\n\t  },\n\t  itemText: {\n\t    fontSize: 18,\n\t    fontFamily: 'Avenir Next',\n\t    marginBottom: 0,\n\t    // marginHorizontal: 7,\n\t    color: '#000000'\n\t  },\n\t  itemSeparator: {\n\t    height: 1,\n\t    backgroundColor: '#eeeeee'\n\t  },\n\t  itemColContainer: {\n\t    // flexDirection: 'row',\n\t  },\n\t  item: {\n\t    paddingVertical: 7\n\t  },\n\t  row: {\n\t    flexDirection: 'row',\n\t    justifyContent: 'space-between',\n\t    marginRight: 3\n\t  }\n\t});\n\t\n\tmodule.exports = ResourceMixin;\n\n/***/ },\n\n/***/ 1718:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactNativeAnimatable = __webpack_require__(1719);\n\t\n\tvar Animatable = _interopRequireWildcard(_reactNativeAnimatable);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar utils = __webpack_require__(935);\n\tvar Icon = __webpack_require__(1541);\n\tvar constants = __webpack_require__(1348);\n\tvar PhotoCarousel = __webpack_require__(1713);\n\tvar reactMixin = __webpack_require__(1703);\n\tvar PhotoCarouselMixin = __webpack_require__(1712);\n\t\n\tvar equal = __webpack_require__(721);\n\t\n\tvar PhotoView = function (_Component) {\n\t  _inherits(PhotoView, _Component);\n\t\n\t  function PhotoView(props) {\n\t    _classCallCheck(this, PhotoView);\n\t\n\t    var _this = _possibleConstructorReturn(this, (PhotoView.__proto__ || Object.getPrototypeOf(PhotoView)).call(this, props));\n\t\n\t    _this.state = { anim: new _reactNative.Animated.Value(1.5), isModalOpen: false };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(PhotoView, [{\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      _reactNative.Animated.timing( // Uses easing functions\n\t      this.state.anim, // The value to drive\n\t      { toValue: 1,\n\t        duration: 500 } // Configuration\n\t      ).start();\n\t    }\n\t  }, {\n\t    key: 'changePhoto',\n\t    value: function changePhoto(photo) {\n\t      this.setState({ currentPhoto: photo });\n\t    }\n\t  }, {\n\t    key: 'shouldComponentUpdate',\n\t    value: function shouldComponentUpdate(nextProps, nextState) {\n\t      if (this.props.resource[constants.ROOT_HASH] !== nextProps.resource[constants.ROOT_HASH] || this.state.isModalOpen !== nextState.isModalOpen) return true;\n\t\n\t      return !equal(this.props.resource.photos, nextProps.resource.photos);\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var resource = this.props.resource;\n\t      if (!resource) return _react2.default.createElement(_reactNative.View, null);\n\t      var modelName = resource[constants.TYPE];\n\t      var model = utils.getModel(modelName).value;\n\t      if (!model.interfaces && !model.isInterface && !resource[constants.ROOT_HASH]) return _react2.default.createElement(_reactNative.View, null);\n\t\n\t      var hasPhoto = resource.photos && resource.photos.length;\n\t      var currentPhoto = this.state.currentPhoto || hasPhoto && resource.photos[0];\n\t      if (!currentPhoto) {\n\t        // if (model.id === constants.TYPES.PROFILE) {\n\t        //   return (\n\t        //     <View style={styles.photoBG}>\n\t        //       <Icon name='ios-person' size={200}  color='#f6f6f4' />\n\t        //     </View>\n\t        //   )\n\t        // }\n\t        // else\n\t        return _react2.default.createElement(_reactNative.View, null);\n\t      }\n\t\n\t      var url = currentPhoto.url;\n\t      var nextPhoto = resource.photos.length == 1;\n\t      var uri = utils.getImageUri(url);\n\t      var source = uri.charAt(0) == '/' || uri.indexOf('data') === 0 ? { uri: uri, isStatic: true } : { uri: uri };\n\t      var nextPhoto;\n\t      var len = resource.photos.length;\n\t      for (var i = 0; i < len && !nextPhoto; i++) {\n\t        var p = resource.photos[i].url;\n\t        if (p === url) nextPhoto = i === len - 1 ? resource.photos[0] : resource.photos[i + 1];\n\t      }\n\t\n\t      var _utils$dimensions = utils.dimensions(PhotoView);\n\t\n\t      var width = _utils$dimensions.width;\n\t      var height = _utils$dimensions.height;\n\t\n\t      var baseW = 0.8 * width;\n\t      var baseH = 0.8 * height;\n\t      var image = utils.isWeb() ? {\n\t        width: Math.floor(width < height ? baseW : baseH),\n\t        height: Math.floor(width < height ? baseH / 2 : baseW / 2)\n\t      } : {\n\t        width: width < height ? width : height,\n\t        height: Math.floor(width < height ? height / 2 : width / 2)\n\t      };\n\t\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        null,\n\t        _react2.default.createElement(\n\t          _reactNative.TouchableHighlight,\n\t          { underlayColor: 'transparent', onPress: this.showCarousel.bind(this, resource.photos[0]) },\n\t          _react2.default.createElement(_reactNative.Image, { resizeMode: 'cover', source: source, style: image })\n\t        )\n\t      );\n\t      // return (\n\t      //       <Animated.View style={style}>\n\t      //         <TouchableHighlight underlayColor='transparent' onPress={this.openModal.bind(this)}>\n\t      //           <Image resizeMode='cover' source={source} style={image} />\n\t      //         </TouchableHighlight>\n\t      //     <Modal style={{width: width, height: height}} animationType={'fade'} visible={this.state.isModalOpen} transparent={true} onRequestClose={() => this.closeModal()}>\n\t      //       <TouchableHighlight  onPress={() => this.closeModal()} underlayColor='transparent'>\n\t      //         <View style={styles.modalBackgroundStyle}>\n\t      //           {this.shwCarousel(resource.photos[0])}\n\t      //         </View>\n\t      //       </TouchableHighlight>\n\t      //     </Modal>\n\t      //       </Animated.View>\n\t      // )\n\t    }\n\t  }, {\n\t    key: 'shwCarousel',\n\t    value: function shwCarousel(currentPhoto) {\n\t      var photoUrls = [];\n\t      // var currentPhoto = this.props.currentPhoto || this.props.photos[0];\n\t      var currentPhotoIndex = -1;\n\t\n\t      for (var i = 0; i < this.props.resource.photos.length; i++) {\n\t        var photo = this.props.resource.photos[i];\n\t\n\t        if (currentPhotoIndex === -1 && photo.url === currentPhoto.url) currentPhotoIndex = i;\n\t        photoUrls.push(photo.url);\n\t      }\n\t      return _react2.default.createElement(Gallery, {\n\t        style: { flex: 1 },\n\t        images: photoUrls,\n\t        initialPage: currentPhotoIndex\n\t      });\n\t    }\n\t  }, {\n\t    key: 'openModal',\n\t    value: function openModal() {\n\t      this.setState({ isModalOpen: true });\n\t    }\n\t  }, {\n\t    key: 'closeModal',\n\t    value: function closeModal() {\n\t      this.setState({ isModalOpen: false });\n\t    }\n\t  }]);\n\t\n\t  return PhotoView;\n\t}(_react.Component);\n\t\n\treactMixin(PhotoView.prototype, PhotoCarouselMixin);\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  photoBG: {\n\t    backgroundColor: '#245D8C',\n\t    alignItems: 'center',\n\t    alignSelf: 'stretch'\n\t  },\n\t  modalBackgroundStyle: {\n\t    backgroundColor: 'rgba(0, 0, 0, 0.4)',\n\t    justifyContent: 'center'\n\t  }\n\t});\n\t\n\tmodule.exports = PhotoView;\n\n/***/ },\n\n/***/ 1720:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _reactNativeOrient = __webpack_require__(944);\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar utils = __webpack_require__(935);\n\tvar translate = utils.translate;\n\tvar ResourceList = __webpack_require__(1685);\n\tvar Icon = __webpack_require__(1541);\n\tvar buttonStyles = __webpack_require__(1721);\n\tvar constants = __webpack_require__(1348);\n\tvar reactMixin = __webpack_require__(1703);\n\tvar RowMixin = __webpack_require__(1694);\n\tvar ResourceMixin = __webpack_require__(1717);\n\t\n\tvar ShowRefList = function (_Component) {\n\t  _inherits(ShowRefList, _Component);\n\t\n\t  function ShowRefList(props) {\n\t    _classCallCheck(this, ShowRefList);\n\t\n\t    return _possibleConstructorReturn(this, (ShowRefList.__proto__ || Object.getPrototypeOf(ShowRefList)).call(this, props));\n\t  }\n\t\n\t  _createClass(ShowRefList, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this2 = this;\n\t\n\t      var resource = this.props.resource;\n\t      var model = utils.getModel(resource[constants.TYPE]).value;\n\t      var props = model.properties;\n\t      var self = this;\n\t      var refList = [];\n\t      var isIdentity = model.id === constants.TYPES.PROFILE;\n\t      var me = utils.getMe();\n\t      var isMe = isIdentity ? resource[constants.ROOT_HASH] === me[constants.ROOT_HASH] : true;\n\t      // The profile page for the device owner has 2 more profile specific links: add new PROFILE and switch PROFILE\n\t      var propsToShow = [];\n\t\n\t      for (var p in props) {\n\t        if (isIdentity) {\n\t          if (!isMe && props[p].allowRoles && props[p].allowRoles === 'me') continue;\n\t          if (p === 'verifiedByMe' && !me.organization) continue;\n\t          if (p == 'myVerifications' && me.organization) continue;\n\t        }\n\t        if (p.charAt(0) === '_' || !props[p].items || !props[p].items.backlink) continue;\n\t        var icon = props[p].icon || utils.getModel(props[p].items.ref).value.icon;\n\t        if (!icon) icon = 'ios-checkmark';\n\t        propsToShow.push(p);\n\t      }\n\t      var showQR = utils.getId(me) === utils.getId(resource) && me.isEmployee;\n\t      var width = utils.dimensions(ShowRefList).width / (propsToShow.length + (showQR ? 1 : 0));\n\t      var maxLetters = 2 + width / 10;\n\t      propsToShow.forEach(function (p) {\n\t        var propTitle = translate(props[p], model);\n\t        if (propTitle.length > maxLetters) propTitle = propTitle.substring(0, maxLetters);\n\t        refList.push(_react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: [buttonStyles.container, { width: width }], key: _this2.getNextKey() },\n\t          _react2.default.createElement(\n\t            _reactNative.TouchableHighlight,\n\t            { onPress: _this2.showResources.bind(_this2, _this2.props.resource, props[p]), underlayColor: 'transparent' },\n\t            _react2.default.createElement(\n\t              _reactNative.View,\n\t              { style: { alignItems: 'center' } },\n\t              _react2.default.createElement(Icon, { name: icon, size: 30, color: '#ffffff' }),\n\t              _react2.default.createElement(\n\t                _reactNative.Text,\n\t                { style: [buttonStyles.text, _reactNative.Platform.OS === 'android' ? { marginTop: 3 } : { marginTop: 0 }] },\n\t                propTitle\n\t              )\n\t            )\n\t          )\n\t        ));\n\t      });\n\t\n\t      if (utils.getId(me) === utils.getId(resource) && me.isEmployee) {\n\t        refList.push(_react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: buttonStyles.container, key: this.getNextKey() },\n\t          _react2.default.createElement(\n\t            _reactNative.TouchableHighlight,\n\t            { onPress: this.props.showQR.bind(this), underlayColor: 'transparent' },\n\t            _react2.default.createElement(\n\t              _reactNative.View,\n\t              { style: { alignItems: 'center' } },\n\t              _react2.default.createElement(Icon, { name: 'ios-qr-scanner', size: 30, color: '#ffffff' }),\n\t              _react2.default.createElement(\n\t                _reactNative.Text,\n\t                { style: [buttonStyles.text, _reactNative.Platform.OS === 'android' ? { marginTop: 3 } : { marginTop: 0 }] },\n\t                translate('showQR')\n\t              )\n\t            )\n\t          )\n\t        ));\n\t      }\n\t      return refList.length ? _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: buttonStyles.buttons, key: 'ShowRefList' },\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: { flexDirection: 'row' } },\n\t          refList\n\t        )\n\t      ) : _react2.default.createElement(_reactNative.View, null);\n\t    }\n\t  }]);\n\t\n\t  return ShowRefList;\n\t}(_react.Component);\n\t\n\treactMixin(ShowRefList.prototype, ResourceMixin);\n\treactMixin(ShowRefList.prototype, RowMixin);\n\tShowRefList = (0, _reactNativeOrient.makeResponsive)(ShowRefList);\n\t\n\tmodule.exports = ShowRefList;\n\n/***/ },\n\n/***/ 1721:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t\n\t  a bootstrap like style\n\t\n\t*/\n\t'use strict';\n\t\n\tvar ICON_BORDER_COLOR = '#D7E6ED';\n\tvar BACKGROUND_COLOR = /*'#2E3B4E';*/'#7AAAC3';\n\tvar ERROR_COLOR = '#a94442';\n\tvar HELP_COLOR = '#999999';\n\tvar BORDER_COLOR = '#cccccc';\n\tvar DISABLED_COLOR = '#777777';\n\tvar DISABLED_BACKGROUND_COLOR = '#eeeeee';\n\tvar FONT_SIZE = 12;\n\tvar FONT_SIZE_1 = 17;\n\tvar FONT_WEIGHT = '500';\n\t\n\tvar utils = __webpack_require__(935);\n\t\n\tvar buttonStyles = Object.freeze({\n\t  icon: {\n\t    width: 30,\n\t    height: 30\n\t  },\n\t  row: {\n\t    flexDirection: 'row'\n\t  },\n\t  container: {\n\t    alignSelf: 'center',\n\t    paddingHorizontal: 7,\n\t    marginTop: 10\n\t  },\n\t  buttons: {\n\t    // marginTop: -80,\n\t    // opacity: 0.8,\n\t    // height: 63,\n\t    // height: 90,\n\t    // backgroundColor: BACKGROUND_COLOR,\n\t    flexDirection: 'row',\n\t    backgroundColor: '#a0a0a0',\n\t    justifyContent: 'center',\n\t    alignSelf: 'stretch'\n\t  },\n\t  text: {\n\t    color: '#ffffff',\n\t    paddingBottom: 10,\n\t    // fontWeight: FONT_WEIGHT,\n\t    fontSize: utils.getFontSize(FONT_SIZE),\n\t    alignSelf: 'center'\n\t  },\n\t\n\t  row1: {\n\t    flexDirection: 'row',\n\t    alignSelf: 'center',\n\t    position: 'absolute',\n\t    left: 30,\n\t    top: 5\n\t  },\n\t  icon1: {\n\t    width: 25,\n\t    height: 25,\n\t    paddingTop: 2\n\t    // paddingLeft: 5,\n\t    // borderWidth: 1,\n\t    // borderColor: ICON_BORDER_COLOR,\n\t    // borderRadius: 15,\n\t    // borderWidth: 2,\n\t    // borderRadius: 12,\n\t  },\n\t  container1: {\n\t    flex: 1,\n\t    // position: 'absolute',\n\t    // right: 10\n\t    paddingHorizontal: 10\n\t  },\n\t  buttonContent: {\n\t    // padding: 15,\n\t    alignSelf: 'center',\n\t    width: 150,\n\t    height: 40,\n\t    borderRadius: 10,\n\t    backgroundColor: BACKGROUND_COLOR,\n\t    opacity: 0.7,\n\t    borderWidth: 1,\n\t    borderColor: '#466690'\n\t  },\n\t  text1: {\n\t    paddingTop: 3,\n\t    color: '#ffffff',\n\t    fontFamily: 'Avenir Next',\n\t    // fontWeight: '800',\n\t    fontSize: utils.getFontSize(FONT_SIZE_1)\n\t  }\n\t});\n\t\n\tmodule.exports = buttonStyles;\n\n/***/ },\n\n/***/ 1722:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _utils = __webpack_require__(935);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar PageView = function (_Component) {\n\t  _inherits(PageView, _Component);\n\t\n\t  function PageView(props) {\n\t    _classCallCheck(this, PageView);\n\t\n\t    return _possibleConstructorReturn(this, (PageView.__proto__ || Object.getPrototypeOf(PageView)).call(this, props));\n\t  }\n\t\n\t  _createClass(PageView, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: [this.props.style, styles.separator] },\n\t        this.props.children\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return PageView;\n\t}(_react.Component);\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  separator: {\n\t    borderColor: '#ffffff',\n\t    borderTopColor: '#cccccc',\n\t    borderWidth: _reactNative.StyleSheet.hairlineWidth\n\t  }\n\t});\n\t\n\tmodule.exports = PageView;\n\n/***/ },\n\n/***/ 1723:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(Buffer) {'use strict';var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _typeof=typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};var _reactNative=__webpack_require__(319);var _reactNative2=_interopRequireDefault(_reactNative);var _Storage=__webpack_require__(936);var _Storage2=_interopRequireDefault(_Storage);var _localAuth=__webpack_require__(1538);var LocalAuth=_interopRequireWildcard(_localAuth);var _push=__webpack_require__(1679);var _push2=_interopRequireDefault(_push);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}var path=__webpack_require__(1334);var querystring=__webpack_require__(1724);var parseURL=__webpack_require__(1727).parse;var path=__webpack_require__(1334);// var BeSafe = require('asyncstorage-backup')\n\tvar Reflux=__webpack_require__(1518);var Actions=__webpack_require__(1517);var extend=__webpack_require__(1705);var Debug=__webpack_require__(766);var deepEqual=__webpack_require__(721);var SENT='Sent';var SENDING='Sending';var QUEUED='Queued';var debug=Debug('Store');var employee=__webpack_require__(1730);var Q=__webpack_require__(949);Q.longStackSupport=(false);Q.onerror=function(err){console.error(err);throw err;};var ENV=_reactNative.Platform.OS!=='ios'?__webpack_require__(1731):__webpack_require__(1732);// var AddressBook = require('NativeModules').AddressBook;\n\tvar voc=__webpack_require__(1350);var sampleData=voc.data;var currencies=voc.currencies;var nationalities=voc.nationalities;var countries=voc.countries;// var myIdentity = __DEV__ ? require('../data/myIdentity.json') : []\n\tvar welcome=__webpack_require__(1733);var sha=__webpack_require__(1734);var utils=__webpack_require__(935);var Keychain=!utils.isWeb()&&__webpack_require__(1737);var translate=utils.translate;var promisify=__webpack_require__(1740);var leveldown=__webpack_require__(1743);var level=__webpack_require__(1805);var mutexify=__webpack_require__(1230);var collect=__webpack_require__(987);var tradle=__webpack_require__(1085);var tradleUtils=tradle.utils;var protocol=tradle.protocol;var constants=__webpack_require__(1348);// tradle.constants\n\tvar Cache=__webpack_require__(1079);var NONCE=constants.NONCE;var TYPE=constants.TYPE;var SIG=constants.SIG;var ROOT_HASH=constants.ROOT_HASH;var CUR_HASH=constants.CUR_HASH;var PREV_HASH=constants.PREV_HASH;var NEXT_HASH='_n';var LAST_MESSAGE_TIME='lastMessageTime';var ORGANIZATION=constants.TYPES.ORGANIZATION;var IDENTITY=constants.TYPES.IDENTITY;var IDENTITY_PUBLISHING_REQUEST=constants.TYPES.IDENTITY_PUBLISHING_REQUEST;var MESSAGE=constants.TYPES.MESSAGE;var SIMPLE_MESSAGE=constants.TYPES.SIMPLE_MESSAGE;var FINANCIAL_PRODUCT=constants.TYPES.FINANCIAL_PRODUCT;var PRODUCT_LIST=constants.TYPES.PRODUCT_LIST;var PROFILE=constants.TYPES.PROFILE;var ADDITIONAL_INFO=constants.TYPES.ADDITIONAL_INFO;var VERIFICATION=constants.TYPES.VERIFICATION;var FORM=constants.TYPES.FORM;var MODEL=constants.TYPES.MODEL;var CUSTOMER_WAITING=constants.TYPES.CUSTOMER_WAITING;var SELF_INTRODUCTION=constants.TYPES.SELF_INTRODUCTION;var INTRODUCTION='tradle.Introduction';var FORGET_ME=constants.TYPES.FORGET_ME;var FORGOT_YOU=constants.TYPES.FORGOT_YOU;// const SHARED_RESOURCE     = 'tradle.SharedResource'\n\tvar MY_IDENTITIES_TYPE='tradle.MyIdentities';var PRODUCT_APPLICATION='tradle.ProductApplication';var MY_PRODUCT='tradle.MyProduct';var ENUM='tradle.Enum';var GUEST_SESSION_PROOF='tradle.GuestSessionProof';var FORM_ERROR='tradle.FormError';var EMPLOYEE_ONBOARDING='tradle.EmployeeOnboarding';var MY_EMPLOYEE_PASS='tradle.MyEmployeeOnboarding';var FORM_REQUEST='tradle.FormRequest';var PAIRING_REQUEST='tradle.PairingRequest';var PAIRING_RESPONSE='tradle.PairingResponse';var PAIRING_DATA='tradle.PairingData';var COUNTRY='tradle.Country';var MY_IDENTITIES=MY_IDENTITIES_TYPE+'_1';var SETTINGS=constants.TYPES.SETTINGS;var WELCOME_INTERVAL=600000;// var Tim = require('tim')\n\t// Tim.enableOptimizations()\n\t// Tim.CATCH_UP_INTERVAL = 10000\n\t// var Zlorp = Tim.Zlorp\n\t// Zlorp.ANNOUNCE_INTERVAL = 10000\n\t// Zlorp.LOOKUP_INTERVAL = 10000\n\t// Zlorp.KEEP_ALIVE_INTERVAL = 10000\n\tvar Sendy=__webpack_require__(1806);var SendyWS=__webpack_require__(1827);var TLSClient=__webpack_require__(1873);// const DSA = require('@tradle/otr').DSA\n\t// const BigInt = require('@tradle/otr/vendor/bigint')\n\t// const BigIntTimes = {}\n\t// Object.keys(BigInt).forEach(function (method) {\n\t//   const orig = BigInt[method]\n\t//   BigIntTimes[method] = 0\n\t//   BigInt[method] = function () {\n\t//     var now = Date.now()\n\t//     var result = orig.apply(this, arguments)\n\t//     BigIntTimes[method] += Date.now() - now\n\t//     return result\n\t//   }\n\t// })\n\tvar SENDY_OPTS={resendInterval:30000,mtu:10000,autoConnect:true};// const newOTRSwitchboard = require('sendy-otr-ws').Switchboard\n\tvar newSwitchboard=SendyWS.Switchboard;var WebSocketClient=SendyWS.Client;// const HttpClient = require('@tradle/transport-http').HttpClient\n\t// var getDHTKey = require('tim/lib/utils').getDHTKey\n\t// var dns = require('dns')\n\tvar map=__webpack_require__(1336);var Blockchain=__webpack_require__(1907);// use tradle/cb-blockr fork\n\t// var defaultKeySet = midentity.defaultKeySet\n\tvar createKeeper=__webpack_require__(1919);var cachifyKeeper=__webpack_require__(1931);var crypto=__webpack_require__(809);// var tutils = require('@tradle/utils')\n\tvar isTest,originalMe;var currentEmployees={};// var tim;\n\tvar PORT=51086;var TIM_PATH_PREFIX='me';// If app restarts in less then 10 minutes keep it authenticated\n\tvar AUTHENTICATION_TIMEOUT=LocalAuth.TIMEOUT;var models={};var list={};var chatMessages={};var temporaryResources={};var employees={};var db;var ldb;var isLoaded;var me;var language;var dictionary={};var isAuthenticated;var meDriver;// var publishedIdentity\n\tvar driverPromise;var ready;var networkName='testnet';var TOP_LEVEL_PROVIDERS=ENV.topLevelProviders||[ENV.topLevelProvider];var COMMON_ENV=__webpack_require__(942);var SERVICE_PROVIDERS_BASE_URL_DEFAULTS= false?['http://'+COMMON_ENV.LOCAL_IP+':44444']:TOP_LEVEL_PROVIDERS.map(function(t){return t.baseUrl;});var SERVICE_PROVIDERS_BASE_URLS;var HOSTED_BY=TOP_LEVEL_PROVIDERS.map(function(t){return t.name;});// var ALL_SERVICE_PROVIDERS = require('../data/serviceProviders')\n\tvar SERVICE_PROVIDERS;var publishRequestSent=[];var driverInfo={wsClients:{}};// const KEY_SET = [\n\t//   { type: 'bitcoin', purpose: 'payment' },\n\t//   { type: 'bitcoin', purpose: 'messaging' },\n\t//   { type: 'ec', purpose: 'sign', curve: 'p256' },\n\t//   { type: 'ec', purpose: 'update', curve: 'p256' }\n\t// ]\n\tvar ENCRYPTION_KEY='accountkey';var DEVICE_ID='deviceid';// const ENCRYPTION_SALT = 'accountsalt'\n\tvar TLS_ENABLED=false;var PAUSE_ON_TRANSITION=true;// var Store = Reflux.createStore(timeFunctions({\n\tvar Store=Reflux.createStore({// this will set up listeners to all publishers in TodoActions, using onKeyname (or keyname) as callbacks\n\tlistenables:[Actions],// this will be called by all listening components as they register their listeners\n\tinit:function init(){var _this=this;var self=this;// Setup components:\n\tvar ldb=level('TiM.db',{valueEncoding:'json'});// ldb = levelQuery(level('TiM.db', { valueEncoding: 'json' }));\n\t// ldb.query.use(jsonqueryEngine());\n\tdb=promisify(ldb);this._loadedResourcesDefer=Q.defer();if(_reactNative.NetInfo){_reactNative.NetInfo.isConnected.addEventListener('change',this._handleConnectivityChange.bind(this));if(utils.isSimulator()){// isConnected always returns false on simulator\n\t// https://github.com/facebook/react-native/issues/873\n\tthis.isConnected=true;}else{_reactNative.NetInfo.isConnected.fetch().then(function(isConnected){return _this.isConnected=isConnected;});}}this.loadModels();voc.forEach(function(m){models[m.id]={key:m.id,value:m};self.addNameAndTitleProps(m);self.addVerificationsToFormModel(m);});utils.setModels(models);// if (true) {\n\tif(false){return this.ready=this.wipe().then(function(){_reactNative.Alert.alert('please refresh');return Q.Promise(function(resolve){// hang\n\t});});}return this.ready=Q.all([this.getMe(),this.getSettings()]).then(function(){// this.loadMyResources()\n\tif(!utils.isEmpty(list))isLoaded=true;if(me){return _this.getDriver(me).then(function(){return _this.monitorTim();});}}).then(function(){if(me&&me.registeredForPushNotifications){_push2.default.resetBadgeNumber();}});},_handleConnectivityChange:function _handleConnectivityChange(isConnected){this.isConnected=isConnected;this.trigger({action:'connectivity',isConnected:isConnected});// Alert.alert('Store: ' + isConnected)\n\t},getMe:function getMe(){var self=this;return db.get(MY_IDENTITIES).then(function(value){if(value){var key=MY_IDENTITIES;self._setItem(key,value);return db.get(value.currentIdentity.replace(PROFILE,IDENTITY));}}).then(function(value){self._setItem(utils.getId(value),value);return db.get(utils.getId(value).replace(IDENTITY,PROFILE));}).then(function(value){me=value;if(me.isAuthenticated){if(Date.now()-me.dateAuthenticated>AUTHENTICATION_TIMEOUT){delete me.isAuthenticated;delete me.dateAuthenticated;db.put(utils.getId(me),me);}}// HACK for the case if employee removed\n\tif(me.isEmployee&&!me.organization){delete me.isEmployee;db.put(utils.getId(me),me);}self.setMe(me);var key=value[TYPE]+'_'+value[ROOT_HASH];self._setItem(key,value);}).catch(function(err){if(!err.notFound)debugger;// return self.loadModels()\n\t});},setMe:function setMe(newMe){me=newMe;if(SERVICE_PROVIDERS&&me.organization&&!me.organization.url){(function(){var orgId=utils.getId(me.organization);var o=SERVICE_PROVIDERS.filter(function(r){return r.org==orgId?true:false;});if(o&&o.length){if(o[0].url)me.organization.url=o[0].url;}})();}utils.setMe(me);},onUpdateMe:function onUpdateMe(params){var r={};extend(true,r,me,params);this.setMe(r);var meId=utils.getId(r);this._setItem(meId,r);return db.put(meId,r);// .then(() => {\n\t//   if (params.registered) {\n\t//     this.trigger({action: 'registered'})\n\t//   } else if (params)\n\t// })\n\t},onSetAuthenticated:function onSetAuthenticated(authenticated){if(!me)me=utils.getMe();var meId=utils.getId(me);var r={};// extend(true, r, me, {\n\t//   isAuthenticated: authenticated,\n\t//   dateAuthenticated: Date.now()\n\t// })\n\tthis.onUpdateMe({isAuthenticated:authenticated,dateAuthenticated:Date.now()});// this.setMe(r)\n\tthis.trigger({action:'authenticated',value:authenticated});// if (authenticated)\n\t//   return\n\t// let me = utils.getMe()\n\t// let settings = list[SETTINGS + '_1'].value\n\t// if (utils.isEmpty(settings.hashToUrl))\n\t//   return\n\t// let time = new Date().getTime()\n\t// let toChain = {\n\t//   [TYPE]: 'tradle.AppState',\n\t//   [NONCE]: this.getNonce(),\n\t//   state: 'background'\n\t// }\n\t// Object.keys(settings.hashToUrl).forEach(id => {\n\t//   let to = list[id].value\n\t//   if (!to.pubkeys) return\n\t//   let result = this.searchMessages({modelName: MESSAGE, to: to, limit: 1})\n\t//   if (result  &&  time - result[0].time < 36000) {\n\t//     meDriver.signAndSend({\n\t//       object: toChain,\n\t//       to: { fingerprint: self.getFingerprint(list[toId].value) }\n\t//     })\n\t//     .catch(function (err) {\n\t//       debugger\n\t//     })\n\t//   }\n\t// })\n\t// return db.put(meId, r)\n\t// .then(() => {\n\t//   self.trigger({action: 'authenticated'})\n\t// })\n\t},getSettings:function getSettings(){var self=this;var key=SETTINGS+'_1';return db.get(key).then(function(value){if(value){self._setItem(key,value);}}).catch(function(err){// debugger\n\t// return self.loadModels()\n\t});},buildDriver:function buildDriver(_ref){var keys=_ref.keys;var identity=_ref.identity;var encryption=_ref.encryption;var self=this;var keeper=createKeeper({path:path.join(TIM_PATH_PREFIX,'keeper'),db:leveldown,encryption:encryption});cachifyKeeper(keeper,{max:100});var blockchain=new Blockchain(networkName);var wsClients=driverInfo.wsClients;// var whitelist = driverInfo.whitelist\n\t// var tlsKey = driverInfo.tlsKey\n\t// return Q.ninvoke(dns, 'resolve4', 'tradle.io')\n\t//   .then(function (addrs) {\n\t//     console.log('tradle is at', addrs)\n\tmeDriver=new tradle.node({name:'me',dir:TIM_PATH_PREFIX,identity:identity,keys:keys,keeper:keeper,networkName:networkName,blockchain:blockchain,leveldown:leveldown,// dht: dht,\n\t// port: port,\n\t// sendThrottle: 10000,\n\tsyncInterval:10*60*1000});console.log('me: '+meDriver.permalink);meDriver=tradleUtils.promisifyNode(meDriver);// TODO: figure out of we need to publish identities\n\tmeDriver.identityPublishStatus=meDriver.identitySealStatus;meDriver._multiGetFromDB=utils.multiGet;meDriver.addressBook.setCache(new Cache({max:500}));var noProviders=void 0;if(!SERVICE_PROVIDERS_BASE_URLS){var settingsId=SETTINGS+'_1';var settings=list[settingsId];var updateSettings=void 0;if(false){(function(){var urls=settings.value.urls;// HACK for non-static ip\n\tif(SERVICE_PROVIDERS_BASE_URL_DEFAULTS){SERVICE_PROVIDERS_BASE_URL_DEFAULTS.forEach(function(url){var found=void 0;urls.forEach(function(u){if(u===url)found=true;});if(!found){updateSettings=true;urls.push(url);}});}SERVICE_PROVIDERS_BASE_URLS=urls;if(updateSettings)db.put(settingsId,settings.value);})();}else{var _settings;SERVICE_PROVIDERS_BASE_URLS=SERVICE_PROVIDERS_BASE_URL_DEFAULTS.slice();var settings=(_settings={},_defineProperty(_settings,TYPE,SETTINGS),_defineProperty(_settings,ROOT_HASH,'1'),_defineProperty(_settings,CUR_HASH,'1'),_defineProperty(_settings,'urls',SERVICE_PROVIDERS_BASE_URLS),_defineProperty(_settings,'hashToUrl',{}),_settings);this._setItem(settingsId,settings);db.put(settingsId,settings);}}// if (TLS_ENABLED) {\n\t//   tlsKey = keys.filter((k) => k.type === 'dsa')[0]\n\t//   if (tlsKey) tlsKey = DSA.parsePrivate(tlsKey.priv)\n\t// }\n\t// if (tlsKey) tlsKey = kiki.toKey(tlsKey).priv()\n\tvar tlsKey=driverInfo.tlsKey=TLS_ENABLED&&meDriver.keys.filter(function(k){return k.get('purpose')==='tls';})[0];// var fromPubKey = meDriver.identity.pubkeys.filter(k => k.type === 'ec' && k.purpose === 'sign')[0]\n\tmeDriver._send=function(msg,recipientInfo,cb){var recipientHash=recipientInfo.permalink;var messenger=wsClients[recipientHash];if(!messenger){var url=list[SETTINGS+'_1'].value.hashToUrl[recipientHash];messenger=wsClients[url];}if(!messenger){// Alert.alert('meDriver._send recipient not found ' + recipientHash)\n\treturn cb(new Error('recipient not found'));}var args=arguments;var identifier=self.getIdentifier(recipientInfo);// this timeout is not for sending the entire message\n\t// but rather an idle connection timeout\n\tmessenger.send(identifier,msg,cb);messenger.setTimeout(60000);};// meDriver = timeFunctions(meDriver)\n\tthis.getInfo(SERVICE_PROVIDERS_BASE_URLS,true)// .then(() => {\n\t//   if (me && utils.isEmpty(chatMessages))\n\t//     this.initChats()\n\t// })\n\t.catch(function(err){debugger;});return Q(meDriver);},initChats:function initChats(){var _this2=this;var meId=utils.getId(me);var _loop=function _loop(){var r=list[p].value;var m=_this2.getModel(r[TYPE]).value;if(m.interfaces&&m.interfaces.indexOf(MESSAGE)!==-1){if(r.sharedWith){r.sharedWith.forEach(function(shareInfo){if(shareInfo.bankRepresentative===meId)_this2.addMessagesToChat(utils.getId(r.to),r,true,shareInfo.timeShared);else{var rep=list[shareInfo.bankRepresentative].value;var orgId=utils.getId(rep.organization);_this2.addMessagesToChat(orgId,r,true,shareInfo.timeShared);if(utils.getId(r.to)===meId){var contact=list[utils.getId(r.from)].value;if(!contact.organization||!contact.bot)_this2.addMessagesToChat(utils.getId(r.from),r,true,shareInfo.timeShared);}}});}else if(m.id===VERIFICATION&&meId===utils.getId(r.from))_this2.addMessagesToChat(utils.getId(r.to),r,true);else{var fromId=utils.getId(r.from);var rep=list[meId===fromId?utils.getId(r.to):fromId].value;var orgId=rep.organization?utils.getId(rep.organization):utils.getId(rep);_this2.addMessagesToChat(orgId,r,true);}}};for(var p in list){_loop();}for(var id in chatMessages){chatMessages[id].sort(function(a,b){return a.time-b.time;});chatMessages[id]=this.filterChatMessages(chatMessages[id],id);}},// Filtered result contains only messages that get displayed\n\tfilterChatMessages:function filterChatMessages(messages,orgId,lastId){var _this3=this;var meId=utils.getId(me);var productToForms={};var productApp={};// Compact all FormRequests that were fulfilled\n\tfor(var i=messages.length-1;i>=0;i--){var _r=list[messages[i].id].value;if(_r[TYPE]===FORM_REQUEST&&!_r.document){// && r.documentCreated)\n\t// delete list[id]\n\tvar forms=productToForms[_r.product];if(!forms)productToForms[_r.product]={};var formIdx=productToForms[_r.product][_r.form];if(typeof formIdx!=='undefined')messages.splice(formIdx,1);productToForms[_r.product][_r.form]=i;}if(_r[TYPE]===PRODUCT_APPLICATION){var productIdx=productApp[_r.product];if(productIdx)messages.splice(productIdx,1);else productApp[_r.product]=i;}}// Compact all SelfIntroduction\n\tmessages=messages.filter(function(rr,i){var r=list[rr.id].value;return r[TYPE]===SELF_INTRODUCTION?false:true;// delete list[id]\n\t});var newResult=messages.filter(function(rr,i){var time=rr.time;var id=rr.id;var type=id.split('_')[0];// Compact ProductList resources that go one after another\n\tif(type===PRODUCT_LIST&&i!==messages.length-1){var next=messages[i+1];if(next&&next.id.split('_')[0]===PRODUCT_LIST){// delete list[id]\n\treturn false;}}// if (r[TYPE] === CUSTOMER_WAITING) {\n\t//   let f = list[utils.getId(r.from)].value.organization\n\t//   let t = list[utils.getId(r.to)].value.organization\n\t//   if (utils.getId(f) === utils.getId(t))\n\t//     return false\n\t// }\n\tvar r=list[rr.id].value;// Check if there was request for the next form after multy-entry form\n\tvar fromId=utils.getId(r.from);if(!me.isEmployee&&fromId!==meId&&list[fromId]){var rFrom=list[fromId].value;if(!rFrom.bot){var photos=list[fromId].value.photos;if(photos)r.from.photo=photos[0];else r.from.photo=employee;}}var m=_this3.getModel(r[TYPE]).value;var isMyProduct=m.subClassOf===MY_PRODUCT;var isForm=!isMyProduct&&m.subClassOf===FORM;// r.from.photos = list[utils.getId(r.from)].value.photos;\n\t// var to = list[utils.getId(r.to)]\n\t// if (!to) console.log(r.to)\n\t// r.to.photos = to  &&  to.value.photos;\n\tif(isMyProduct)r.from.organization=list[utils.getId(r.from)].value.organization;else if(isForm){// set organization and photos for items properties for better displaying\n\tvar form=list[utils.getId(r.to)].value;if(orgId&&r.sharedWith&&r.sharedWith.length>1){// if (utils.getId(r.to.organization) !== toOrgId) {\n\t//   let filteredVerifications = this.getSharedVerificationsAboutThisForm(r, toOrgId)\n\t// }\n\t}r.to.organization=form.organization;for(var p in r){if(!m.properties[p]||m.properties[p].type!=='array'||!m.properties[p].items.ref)continue;var pModel=_this3.getModel(m.properties[p].items.ref).value;if(pModel.properties.photos){var items=r[p];items.forEach(function(ir){var itemPhotos=list[utils.getId(ir)].value.photos;if(itemPhotos)ir.photo=itemPhotos[0].url;});}}}return true;});if(lastId&&lastId.split('_')[0]===PRODUCT_LIST){var _i=newResult.length-1;for(;_i>=0;_i--){if(newResult[_i][TYPE]!==PRODUCT_LIST)break;}newResult.splice(_i,1);}return newResult;// return newResult.reverse()\n\t},getInfo:function getInfo(serverUrls,retry,id){var self=this;var defer=Q.defer();var togo=serverUrls.length;serverUrls.forEach(function(url){self.getServiceProviders(url,retry,id).then(function(results){// var httpClient = driverInfo.httpClient\n\tvar wsClients=driverInfo.wsClients;// var whitelist = driverInfo.whitelist\n\tvar tlsKey=driverInfo.tlsKey;// if (!httpClient) {\n\t//   httpClient = new HttpClient()\n\t//   driverInfo.httpClient = httpClient\n\t//   meDriver.ready().then(function () {\n\t//     var myHash = meDriver.myRootHash()\n\t//     httpClient.setRootHash(myHash)\n\t//   })\n\t//   httpClient.on('message', function () {\n\t//     meDriver.receiveMsg.apply(meDriver, arguments)\n\t//   })\n\t// }\n\tresults.forEach(function(provider){self.addProvider(provider);_push2.default.subscribe(provider.hash).catch(function(err){return console.log('failed to register for push notifications');});});if(--togo===0){defer.resolve();// meDriver.watchTxs(whitelist)\n\treturn meDriver;}}).catch(function(err){debugger;});});return defer.promise;// return Q.all(serverUrls.map(url => self.getServiceProviders(url, retry)))\n\t// .then(function(results) {\n\t//   var httpClient = driverInfo.httpClient\n\t//   var wsClients = driverInfo.wsClients\n\t//   var whitelist = driverInfo.whitelist\n\t//   var tlsKey = driverInfo.tlsKey\n\t//   results.forEach(function(providers) {\n\t//     if (!httpClient) {\n\t//       httpClient = new HttpClient()\n\t//       driverInfo.httpClient = httpClient\n\t//       meDriver.ready().then(function () {\n\t//         var myHash = meDriver.myRootHash()\n\t//         httpClient.setRootHash(myHash)\n\t//       })\n\t//       httpClient.on('message', function () {\n\t//         meDriver.receiveMsg.apply(meDriver, arguments)\n\t//       })\n\t//     }\n\t//     providers.forEach(function(provider) {\n\t//       self.addProvider(provider)\n\t//       // httpClient.addRecipient(\n\t//       //   provider.hash,\n\t//       //   utils.joinURL(provider.url, provider.id, 'send')\n\t//       // )\n\t//       // if (provider.txId) {\n\t//       //   whitelist.push(provider.txId)\n\t//       // }\n\t//       // if (!tlsKey) return\n\t//       // // self.addWebSocketClient()\n\t//       // var wsClient = new WebSocketClient({\n\t//       //   url: utils.joinURL(provider.url, provider.id, 'ws'),\n\t//       //   tlsKey: tlsKey,\n\t//       //   autoconnect: false,\n\t//       //   // rootHash: meDriver.myRootHash()\n\t//       // })\n\t//       // // will need to do this on demand too\n\t//       // // e.g. when scanning an employee QR Code at the bank\n\t//       // wsClient.on('message', meDriver.receiveMsg)\n\t//       // wsClients[provider.hash] = wsClient\n\t//     })\n\t//   })\n\t//   meDriver.watchTxs(whitelist)\n\t//   return meDriver\n\t// })\n\t},onGetEmployeeInfo:function onGetEmployeeInfo(code){var self=this;var parts=code.split(';');var orgId=ORGANIZATION+'_'+parts[1];var serviceProvider=SERVICE_PROVIDERS?SERVICE_PROVIDERS.filter(function(json){return json.org===orgId;}):null;serviceProvider=serviceProvider&&serviceProvider.length?serviceProvider[0]:null;// let serviceProvider =  SERVICE_PROVIDERS.filter((json) => json.url === serverUrl)\n\tvar org=list[orgId].value;var promise=serviceProvider?Q():this.getInfo([parts[0]]);return promise.then(function(){if(!serviceProvider)serviceProvider=SERVICE_PROVIDERS.filter(function(json){return json.org===orgId;})[0];return Q.race([fetch(utils.joinURL(serviceProvider.url,serviceProvider.id+'/employee/'+parts[2]),{headers:{cache:'no-cache'}}),Q.Promise(function(resolve,reject){setTimeout(function(){reject(new Error('timed out'));},5000);})]);})// return Q(employee)\n\t.then(function(response){return response.clone().json();}).then(function(data){var info={bot:data,org:list[orgId].value,style:list[orgId].value.style,isEmployee:true};return self.addInfo(info);}).then(function(provider){self.addProvider(provider);self.addToSettings(provider);meDriver.addContactIdentity(provider.identity);var employee=list[PROFILE+'_'+provider.hash].value;currentEmployees[utils.getId(org)]=employee;var myIdentities=list[MY_IDENTITIES].value;var currentIdentity=myIdentities.currentIdentity;var identity=myIdentities.allIdentities.filter(function(i){if(i.id===currentIdentity)return true;})[0].publishedIdentity;self.trigger({action:'talkToEmployee',to:org,myIdentity:identity});}).catch(function(err){debugger;});},addToSettings:function addToSettings(provider){var hashToUrl=list[SETTINGS+'_1'].value.hashToUrl;if(!hashToUrl){list[SETTINGS+'_1'].value.hashToUrl={};hashToUrl=list[SETTINGS+'_1'].value.hashToUrl;}// save provider's employee\n\t// if (!hashToUrl[provider.hash]) {\n\thashToUrl[provider.hash]=getProviderUrl(provider);db.put(SETTINGS+'_1',list[SETTINGS+'_1'].value);// }\n\t},addProvider:function addProvider(provider){// let httpClient = driverInfo.httpClient\n\t// httpClient.addRecipient(\n\t//   provider.hash,\n\t//   utils.joinURL(provider.url, provider.id, 'send')\n\t// )\n\t// let whitelist = driverInfo.whitelist\n\t// if (provider.txId)\n\t//   whitelist.push(provider.txId)\n\tvar self=this;var tlsKey=driverInfo.tlsKey;var wsClients=driverInfo.wsClients;// const identifier = tlsKey ? tlsKey.pubKeyString : meDriver.permalink\n\t// const identifier = tradle.utils.serializePubKey(identifierPubKey).toString('hex')\n\tvar base=getProviderUrl(provider);if(wsClients[base])return wsClients[base];var wsClient=this.getWsClient(base);var transport=this.getTransport(wsClient);// const url = utils.joinURL(base, 'ws?from=' + identifier).replace(/^http/, 'ws')\n\t// const wsClient = new WebSocketClient({\n\t//   url: url,\n\t//   autoConnect: true,\n\t//   // for now, till we figure out why binary\n\t//   // doesn't work (socket.io parser errors on decode)\n\t//   forceBase64: true\n\t// })\n\twsClient.on('disconnect',function(){transport.clients().forEach(function(c){// reset OTR session, restart on connect\n\tdebug('aborting pending sends due to disconnect');c.destroy();});// pause all channels\n\tmeDriver.sender.pause();});wsClient.on('connect',function(recipient){// resume all paused channels\n\tmeDriver.sender.resume();});wsClients[base]=transport;wsClients[provider.hash]=transport;// let timeouts = {}\n\t// transport.on('receiving', function (msg) {\n\t//   clearTimeout(timeouts[msg.from])\n\t//   delete timeouts[msg.from]\n\t// })\n\t// transport.on('404', function (recipient) {\n\t//   if (!timeouts[recipient]) {\n\t//     timeout = setTimeout(function () {\n\t//       delete timeouts[recipient]\n\t//       transport.cancelPending(recipient)\n\t//     }, 10000)\n\t//   }\n\t// })\n\ttransport.on('404',function(recipient){meDriver.sender.pause(recipient);transport.cancelPending(recipient);// try again soon. Todo: make this smarter\n\tsetTimeout(function(){return meDriver.resume();},10000);});var receiveLocks={};transport.on('message',function(msg,from){if(!receiveLocks[from])receiveLocks[from]=mutexify();var lock=receiveLocks[from];lock(function(_release){var timeout=setTimeout(release,10000);var release=function release(){clearTimeout(timeout);_release();};var promise=receive(msg,from);if(!Q.isPromiseAlike(promise)){return release();}promise.finally(release);});});transport.on('timeout',function(identifier){transport.cancelPending(identifier);});function receive(msg,from){try{var _ret4=function(){msg=tradleUtils.unserializeMessage(msg);var payload=msg.object;var _ret5=function(){switch(payload[TYPE]){case INTRODUCTION:var rootHash=payload.identity[ROOT_HASH]||protocol.linkString(payload.identity);return{v:{v:meDriver.addContactIdentity(payload.identity).then(function(){return self.addContact(payload,rootHash);}).then(function(){var url=utils.keyByValue(wsClients,transport);self.addToSettings({hash:rootHash,url:url});})}};break;case SELF_INTRODUCTION:rootHash=payload.identity[ROOT_HASH]||protocol.linkString(payload.identity);var name=payload.name;if(!name||!name.length){name=payload.identity.name;if(name)name=name.formatted;}if(!name&&payload.message)name=payload.message.split(' ')[0];// const rootHash = payload.identity[ROOT_HASH] || protocol.linkString(payload.identity)\n\t_reactNative.Alert.alert(translate('newContactRequest',name),payload.message||null,[{text:translate('Ok'),onPress:function onPress(){return meDriver.addContactIdentity(payload.identity).then(function(){return self.addContact(payload,rootHash);}).then(function(){var url=utils.keyByValue(wsClients,transport);self.addToSettings({hash:rootHash,url:url});});}},{text:translate('cancel'),onPress:function onPress(){return console.log('Canceled!');}}]);// if (name)\n\t//   name = name.charAt(0).toUpperCase() + name.slice(1)\n\treturn{v:{v:void 0}};default:break;}}();if((typeof _ret5==='undefined'?'undefined':_typeof(_ret5))===\"object\")return _ret5.v;}();if((typeof _ret4==='undefined'?'undefined':_typeof(_ret4))===\"object\")return _ret4.v;}catch(err){try{var _ret6=function(){//           debugger\n\tvar payload=JSON.parse(msg);if(payload[TYPE]===PAIRING_REQUEST){var rootHash=payload.identity[ROOT_HASH]||protocol.linkString(payload.identity);_reactNative.Alert.alert(translate('pairingRequest'),null,[{text:translate('Ok'),onPress:function onPress(){self.trigger({action:'acceptingPairingRequest',resource:payload});// return self.onProcessPairingRequest(list[PAIRING_DATA + '_1'].value, payload)\n\t// .then(() => {\n\t//   Alert.alert(translate('pairingRequestWasProcesseed'))\n\t// })\n\t// .catch((err) => {\n\t//   debugger\n\t// })\n\t}},{text:translate('cancel'),onPress:function onPress(){return console.log('Canceled!');}}]);}// else if (payload[TYPE] === PAIRING_RESPONSE) {\n\t//   return self.onProcessPairingResponse(list[PAIRING_DATA + '_1'].value, payload)\n\t//   .then(() => {\n\t//     debugger\n\t//     Alert.alert('Pairing was successful')\n\t//   })\n\t//   .catch((err) => {\n\t//     debugger\n\t//     Alert.alert(err)\n\t//   })\n\t// }\n\treturn{v:void 0};}();if((typeof _ret6==='undefined'?'undefined':_typeof(_ret6))===\"object\")return _ret6.v;}catch(err){return;}}// const prop = 'pubKey'\n\t// const identifier = tradle.utils.deserializePubKey(new Buffer(from, 'hex'))\n\tvar prop=tlsKey?'pubKey':'permalink';var identifier=prop==='permalink'?from:{type:'ec',curve:'curve25519',pub:new Buffer(from,'hex')};meDriver.sender.resume(identifier);return meDriver.receive(msg,_defineProperty({},prop,identifier)).catch(function(err){console.warn('failed to receive msg:',err,msg);debugger;});}},onPairingRequestAccepted:function onPairingRequestAccepted(payload){var _this4=this;return this.onProcessPairingRequest(list[PAIRING_DATA+'_1'].value,payload).then(function(){_this4.trigger({action:'pairingRequestAccepted'});}).catch(function(err){debugger;_this4.trigger({action:'invalidPairingRequest',error:err.fullType==='exists'?translate('thisDeviceWasAlreadyPaired'):translate('invalidPairingRequest')});});},getIdentifier:function getIdentifier(identityInfo){identityInfo=identityInfo||meDriver.identityInfo;return TLS_ENABLED?this.getIdentifierPubKey(identityInfo):identityInfo.permalink;},getIdentifierPubKey:function getIdentifierPubKey(identityInfo){identityInfo=identityInfo||meDriver;var purpose=TLS_ENABLED?'tls':'sign';var key=tradleUtils.find(identityInfo.keys||identityInfo.object.pubkeys,function(k){var kPurpose=k.purpose||k.get('purpose');return kPurpose===purpose;});return key.pubKeyString||key.pub;},getWsClient:function getWsClient(base){var tlsKey=driverInfo.tlsKey;var url=utils.joinURL(base,'ws?'+querystring.stringify({from:this.getIdentifier()})).replace(/^http/,'ws');return new WebSocketClient({url:url,autoConnect:true,// for now, till we figure out why binary\n\t// doesn't work (socket.io parser errors on decode)\n\tforceBase64:true});},getTransport:function getTransport(wsClient){var tlsKey=driverInfo.tlsKey;return newSwitchboard({identifier:this.getIdentifier(),unreliable:wsClient,clientForRecipient:function clientForRecipient(recipient){var sendy=new Sendy(SENDY_OPTS);if(!tlsKey)return sendy;return new TLSClient({key:{secretKey:tlsKey.priv,publicKey:tlsKey.pub},client:sendy,theirPubKey:new Buffer(recipient,'hex')});}});},// Gets info about companies in this app, their bot representatives and their styles\n\tgetServiceProviders:function getServiceProviders(url,retry,id){var _this5=this;var self=this;// return Q.race([\n\t//   fetch(utils.joinURL(url, 'info'), { headers: { cache: 'no-cache' } }),\n\t//   Q.Promise(function (resolve, reject) {\n\t//     setTimeout(function () {\n\t//       reject(new Error('timed out'))\n\t//     }, 5000)\n\t//   })\n\t// ])\n\tvar doFetch=retry?utils.fetchWithBackoff:utils.fetchWithTimeout;var originalUrl=url;url=utils.joinURL(url,'info');var languageCode=void 0;if(me){language=me.language;if(language&&list[utils.getId(language)]){language=list[utils.getId(language)].value;languageCode=language.code;}}if(!languageCode)languageCode=utils.getDefaultLanguage();if(languageCode)url+='?lang='+languageCode;return doFetch(url,{headers:{cache:'no-cache'}},5000).then(function(response){if(response.status>300)throw new Error('Cannot access: '+url);return response.json();}).then(function(json){if(json.dictionary){extend(true,dictionary,json.dictionary);if(me){me.dictionary=dictionary;if(language)me.language=language;self.setMe(me);}}if(!SERVICE_PROVIDERS)SERVICE_PROVIDERS=[];var promises=[];json.providers.forEach(function(sp){if(id){if(sp.id!==id)return;}// else if (sp.id !== 'eres'  &&  !list[PROFILE + '_' + sp.bot[ROOT_HASH]])\n\t//   return\n\tif(!sp.org[ROOT_HASH]){sp.org[ROOT_HASH]=protocol.linkString(sp.org);}var duplicateSP=null;var isDuplicate=SERVICE_PROVIDERS.some(function(r){// return deepEqual(r.org, sp.org)\n\tif(r.org===utils.getId(sp.org))duplicateSP=r;});if(isDuplicate)return;SERVICE_PROVIDERS.push({id:sp.id,org:utils.getId(sp.org),url:originalUrl,style:sp.style});promises.push(self.addInfo(sp,originalUrl));});if(utils.getMe())self.setMe(utils.getMe());return Q.allSettled(promises);}).then(function(results){var list=self.searchNotMessages({modelName:ORGANIZATION});_this5.trigger({action:'list',list:list});return results.filter(function(r){return r.state==='fulfilled';}).map(function(r){return r.value;});});},addInfo:function addInfo(sp,url){var self=this;var okey=sp.org?utils.getId(sp.org):null;var hash=protocol.linkString(sp.bot.pub);var ikey=IDENTITY+'_'+hash;var batch=[];if(!list[okey]){batch.push({type:'put',key:okey,value:sp.org});this._setItem(okey,sp.org);}if(sp.style)list[okey].value.style=sp.style;if(!list[ikey]){var _profile,_identity;var profile=(_profile={},_defineProperty(_profile,TYPE,PROFILE),_defineProperty(_profile,ROOT_HASH,hash),_defineProperty(_profile,'firstName',sp.bot.profile.name.firstName||sp.id+'Bot'),_defineProperty(_profile,'organization',self.buildRef(sp.org)),_profile);if(sp.bot.profile.name.lastName)profile.lastName=sp.bot.profile.name.lastName;profile.formatted=sp.bot.profile.name.formatted||(profile.lastName?profile.firstName+' '+profile.lastName:profile.firstName);profile.photos=[];if(sp.bot.profile.photo)profile.photos.push(sp.bot.profile.photo);else profile.photos.push(employee);if(sp.isEmployee)profile.isEmployee=true;else profile.bot=true;// profile[ROOT_HASH] = r.pub[ROOT_HASH] //?????\n\tvar identity=(_identity={},_defineProperty(_identity,ROOT_HASH,hash),_defineProperty(_identity,'txId',sp.bot.txId),_identity);extend(true,identity,sp.bot.pub);if(identity.name){identity.firstName=identity.name.firstName;identity.formatted=identity.name.formatted||identity.firstName;delete identity.name;}var pkey=utils.getId(profile);batch.push({type:'put',key:ikey,value:identity});batch.push({type:'put',key:pkey,value:profile});self._setItem(ikey,identity);self._setItem(pkey,profile);}if(!list[okey].value.contacts){self._mergeItem(okey,{contacts:[]});// list[okey].value.contacts = []\n\t}var pkey=PROFILE+'_'+hash;var curOkeyVal=list[okey].value;var newContact={id:pkey};self._mergeItem(okey,{contacts:[].concat(_toConsumableArray(curOkeyVal.contacts),[newContact])});// list[okey].value.contacts.push({\n\t//   id:     pkey,\n\t//   titile: list[pkey].formatted\n\t// })\n\tvar promises=[// TODO: evaluate the security of this\n\tmeDriver.addContactIdentity(sp.bot.pub)];if(batch.length)promises.push(db.batch(batch));return Q.allSettled(promises).then(function(){if(!sp.isEmployee)return{hash:hash,txId:sp.bot.txId,id:sp.id,url:url};var orgSp=SERVICE_PROVIDERS.filter(function(r){return utils.getId(r.org)===okey;})[0];return{hash:hash,txId:sp.bot.txId,id:orgSp.id,url:orgSp.url,identity:sp.bot.pub};}).catch(function(err){debugger;throw err;});},addContact:function addContact(data,hash){var _onAddMessage;var ikey=IDENTITY+'_'+hash;var pkey=PROFILE+'_'+hash;var profile=list[pkey]&&list[pkey].value;var identity=list[ikey]&&list[ikey].value;var newContact=!profile||!identity;var isDevicePairing=data[TYPE]&&data[TYPE]===PAIRING_REQUEST;if(newContact){if(data.name==='')data.name=data.identity.name&&data.identity.name.formatted;if(isDevicePairing){var _profile2;profile=(_profile2={},_defineProperty(_profile2,TYPE,PROFILE),_defineProperty(_profile2,ROOT_HASH,hash),_defineProperty(_profile2,'firstName',me.firstName),_defineProperty(_profile2,'formatted',me.formatted),_profile2);}else{var _extends2;profile=_extends((_extends2={},_defineProperty(_extends2,TYPE,PROFILE),_defineProperty(_extends2,ROOT_HASH,hash),_extends2),data.profile);if(!profile.firstName){profile.firstName=data.name||data.message.split(' ')[0];}if(!profile.formatted){profile.formatted=profile.firstName;}}profile.formatted=profile.firstName+(data&&data.lastName?' '+data.lastName:'');var identity=data.identity;identity[ROOT_HASH]=hash;identity[CUR_HASH]=hash;var batch=[];batch.push({type:'put',key:ikey,value:identity});batch.push({type:'put',key:pkey,value:profile});this._setItem(ikey,identity);this._setItem(pkey,profile);}// HACK\n\tif(!profile.firstName.length){profile.firstName=identity.name.firstName;profile.formatted=identity.name.formatted||profile.firstName;}if(!isDevicePairing)this.trigger({action:'newContact',to:profile,newContact:true});// return newContact ? db.batch(batch) : Q()\n\t// .then(() => {\n\treturn isDevicePairing?Q():this.onAddMessage((_onAddMessage={},_defineProperty(_onAddMessage,TYPE,SIMPLE_MESSAGE),_defineProperty(_onAddMessage,'message',translate('howCanIHelpYou',profile.formatted,utils.getMe().firstName)),_defineProperty(_onAddMessage,'from',this.buildRef(utils.getMe())),_defineProperty(_onAddMessage,'to',list[pkey].value),_onAddMessage)).then(function(){if(newContact)return db.batch(batch);})// })\n\t.catch(function(err){debugger;});},// dhtFor (identity, port) {\n\t//   var dht = new DHT({\n\t//     nodeId: this.nodeIdFor(identity),\n\t//     bootstrap: ['tradle.io:25778']\n\t//   })\n\t//   dht.on('error', function (err) {\n\t//     debugger\n\t//     throw err\n\t//   })\n\t//   dht.listen(port)\n\t//   // dht.socket.filterMessages(tutils.isDHTMessage)\n\t//   return dht\n\t// },\n\t//\n\t// nodeIdFor (identity) {\n\t//   return crypto.createHash('sha256')\n\t//     .update(this.findKey(identity.pubkeys, { type: 'dsa' }).fingerprint)\n\t//     .digest()\n\t//     .slice(0, 20)\n\t// },\n\tfindKey:function findKey(keys,where){var match;keys.some(function(k){for(var p in where){if(k[p]!==where[p])return false;}match=k;return true;});return match;},onStart:function onStart(){var self=this;Q.all([LocalAuth.hasTouchID(),this.ready]).spread(function(hasTouchID){// isLoaded = true\n\tself.trigger({action:'start',models:models,me:me,hasTouchID:hasTouchID});});},onAddMessage:function onAddMessage(r,isWelcome,requestForForm){var _toChain;var self=this;var m=this.getModel(r[TYPE]).value;var props=m.properties;var rr={};if(!r.time)r.time=new Date().getTime();var toOrg;if(r.to[TYPE]===ORGANIZATION){var orgId=utils.getId(r.to);var orgRep=this.getRepresentative(orgId);if(!orgRep){var params={action:'addMessage',error:'No '+r.to.name+' representative was found'};this.trigger(params);return;}toOrg=r.to;r.to=orgRep;}var isSelfIntroduction=r[TYPE]===SELF_INTRODUCTION;for(var p in r){if(!props[p])continue;if(!isSelfIntroduction&&props[p].ref&&!props[p].id)rr[p]=this.buildRef(r[p]);else rr[p]=r[p];}// let firstTime\n\tif(r[TYPE]===PRODUCT_APPLICATION){var result=this.searchMessages({modelName:PRODUCT_APPLICATION,to:toOrg});if(result){result=result.filter(function(r){return r.message===r.message&&!r.documentCreated?true:false;});if(result.length){result.forEach(function(r){var rid=utils.getId(r);self._mergeItem(rid,{documentCreated:true});});}}}var isCustomerWaiting=r[TYPE]===CUSTOMER_WAITING;//   if (!this.isConnected) {\n\t//     let result = this.searchMessages({modelName: PRODUCT_LIST, to: toOrg})\n\t//     firstTime = !result  ||  !result.length\n\t//   }\n\t// }\n\trr[NONCE]=this.getNonce();var toChain=(_toChain={},_defineProperty(_toChain,TYPE,rr[TYPE]),_defineProperty(_toChain,NONCE,rr[NONCE]),_defineProperty(_toChain,'time',r.time),_toChain);if(rr.message)toChain.message=rr.message;if(rr.photos)toChain.photos=rr.photos;if(r.list)rr.list=r.list;var required=m.required;if(required){required.forEach(function(p){toChain[p]=rr[p];});// HACK\n\tdelete toChain.from;delete toChain.to;}var batch=[];var error;var welcomeMessage;var tmpKey;// var promise = Q(protocol.linkString(toChain))\n\tvar hash=r.to[ROOT_HASH];if(!hash)hash=list[utils.getId(r.to)].value[ROOT_HASH];var toId=IDENTITY+'_'+hash;var sendStatus=self.isConnected?SENDING:QUEUED;var noCustomerWaiting;return meDriver.sign({object:toChain}).then(function(result){toChain=result.object;tmpKey=rr[ROOT_HASH]=result.sig;if(r[TYPE]===PRODUCT_APPLICATION){var _params={action:'addItem',resource:rr};self.trigger(_params);}if(!isWelcome){var len=batch.length;self.addLastMessage(r,batch);}if(!isWelcome||utils.isEmployee(r.to))return;if(!orgRep)return;if(orgRep.lastMessageTime){isWelcome=orgRep.lastMessage===r.message;if(!isWelcome)return;}// var wmKey = SIMPLE_MESSAGE + '_Welcome' + toOrg.name.replace(' ', '_')// + '_' + new Date().getTime()\n\t// Create welcome message without saving it in DB\n\t// welcomeMessage = {}\n\tif(me.txId)return;// Avoid sending CustomerWaiting request after SelfIntroduction or IdentityPublishRequest to\n\t// prevent the not needed duplicate expensive operations for obtaining ProductList\n\treturn self.getDriver(me).then(function(){if(/*!self.isConnected  || */publishRequestSent[orgId])return;// TODO:\n\t// do we need identity publish status anymore\n\treturn meDriver.identityPublishStatus();}).then(function(status){if(!status/* || !self.isConnected*/)return;publishRequestSent[orgId]=true;if(!status.watches.link&&!status.link){if(isCustomerWaiting)noCustomerWaiting=true;return self.publishMyIdentity(orgRep);}else{var _msg;// self.updateMe()\n\tvar allMyIdentities=list[MY_IDENTITIES].value;var all=allMyIdentities.allIdentities;var curId=allMyIdentities.currentIdentity;var identity=all.filter(function(id){return id.id===curId;});var msg=(_msg={message:me.firstName+' is waiting for the response'},_defineProperty(_msg,TYPE,SELF_INTRODUCTION),_defineProperty(_msg,'identity',identity[0].publishedIdentity),_defineProperty(_msg,'profile',{firstName:me.firstName}),_defineProperty(_msg,'from',me),_defineProperty(_msg,'to',r.to),_msg);if(isCustomerWaiting)noCustomerWaiting=true;return self.onAddMessage(msg);}});}).then(function(){if(isWelcome&&utils.isEmpty(welcomeMessage))return;// Temporary untill the real hash is known\n\tvar key=utils.getId(rr);rr._sendStatus=sendStatus;self._setItem(key,rr);if(!toOrg){var to=list[utils.getId(r.to)].value;toOrg=to.organization?to.organization:to;}self.addMessagesToChat(utils.getId(toOrg),rr);var params={action:'addMessage',resource:isWelcome?welcomeMessage:rr};if(error)params.error=error;self.trigger(params);if(batch.length&&!error&&list[toId].value.pubkeys)return self.getDriver(me);}).then(function(){// SelfIntroduction or IdentityPublishRequest were just sent\n\tif(noCustomerWaiting)return;if(list[toId].value.pubkeys){var sendParams=self.packMessage(r,toChain);var method=toChain[SIG]?'send':'signAndSend';return meDriver[method](sendParams).catch(function(err){debugger;});}}).then(function(result){if(!requestForForm&&isWelcome)return;if(isWelcome&&utils.isEmpty(welcomeMessage))return;// cleanup temporary resources from the chat message references and from the in-memory storage - 'list'\n\tif(!toOrg){var to=list[utils.getId(r.to)].value;toOrg=to.organization?to.organization:to;}var orgId=utils.getId(toOrg);self.deleteMessageFromChat(orgId,rr);delete list[rr[TYPE]+'_'+tmpKey];// saving the new message\n\tvar data=utils.toOldStyleWrapper(result.message);if(data){rr[ROOT_HASH]=data[ROOT_HASH];rr[CUR_HASH]=data[CUR_HASH];}var key=utils.getId(rr);batch.push({type:'put',key:key,value:rr});rr._sendStatus=self.isConnected?SENDING:QUEUED;self._setItem(key,rr);self.addMessagesToChat(orgId,rr);return db.batch(batch);}).catch(function(err){debugger;});},packMessage:function packMessage(r,toChain){var _this6=this;var sendParams={object:toChain};var hash=r.to[ROOT_HASH];if(hash===me[ROOT_HASH])hash=r.from[ROOT_HASH];if(!hash)hash=list[utils.getId(r.to)].value[ROOT_HASH];var toId=IDENTITY+'_'+hash;var isEmployee;if(me.isEmployee){var to=list[utils.getId(r.to)].value;isEmployee=!to.organization||utils.getId(to.organization)===utils.getId(me.organization);}// let isEmployee = me.isEmployee && (!r.to.organization || utils.getId(r.to.organization) === utils.getId(me.organization))\n\tif(isEmployee){var arr=SERVICE_PROVIDERS.filter(function(sp){var reps=_this6.getRepresentatives(sp.org);var talkingToBot=reps.forEach(function(r){return r[ROOT_HASH]===hash?true:false;});return talkingToBot&&talkingToBot.length?true:false;});if(!arr.length){var toRootHash=hash;sendParams.other={forward:toRootHash};var rep=this.getRepresentative(utils.getId(me.organization));sendParams.to={fingerprint:this.getFingerprint(list[IDENTITY+'_'+rep[ROOT_HASH]].value)};}}var toId=IDENTITY+'_'+hash;if(!sendParams.to)sendParams.to={fingerprint:this.getFingerprint(list[toId].value)};return sendParams;},disableOtherFormRequestsLikeThis:function disableOtherFormRequestsLikeThis(rr){var fromRep=utils.getId(rr.from);var orgId=utils.getId(list[fromRep].value.organization);var messages=chatMessages[orgId];messages.forEach(function(r){var m=list[r.id].value;if(m[TYPE]===FORM_REQUEST&&m.product===rr.product&&m.form===rr.form&&!m.document&&!m.documentCreated){m.documentCreated=true;db.put(utils.getId(m),m);}});},// Every chat has it's own messages array where\n\t// all the messages present in order they were received\n\taddMessagesToChat:function addMessagesToChat(id,r,isInit,timeShared){if(r.documentCreated&&!isInit)return;// if (!isInit  &&  utils.isEmpty(chatMessages))\n\t//   return\n\tvar messages=chatMessages[id];var rid=utils.getId(r);if(messages&&messages.length){if(!isInit){if(r[TYPE]===SELF_INTRODUCTION)return;if(r[TYPE]===PRODUCT_LIST){var msgId=messages[messages.length-1].id;if(msgId.split('_')[0]===PRODUCT_LIST)messages.splice(messages.length-1,1);}//       return false\n\tvar idx=-1;for(var i=0;i<messages.length&&!idx;i++){if(messages[i].id===rid)idx=i;}if(idx!==-1)messages.splice(idx,1);}}else{messages=[];chatMessages[id]=messages;}messages.push({id:utils.getId(r),time:timeShared?timeShared:r.time});},// cleanup\n\tdeleteMessageFromChat:function deleteMessageFromChat(id,r){var messages=chatMessages[id];if(messages){var rid=utils.getId(r);for(var i=0;i<messages.length;i++){if(messages[i].id===rid){messages.splice(i,1);break;}}}},getRepresentatives:function getRepresentatives(orgId){var result=this.searchNotMessages({modelName:PROFILE,all:true});var orgRep=[];result.some(function(ir){if(!ir.organization)return;if(utils.getId(ir.organization)===orgId)orgRep.push(ir);});return orgRep.length?orgRep:null;},getRepresentative:function getRepresentative(orgId){if(currentEmployees[orgId])return currentEmployees[orgId];var result=this.searchNotMessages({modelName:PROFILE,all:true});var orgRep;result.some(function(ir){if(!ir.organization)return;if(utils.getId(ir.organization)===orgId&&ir.bot){orgRep=ir;return true;}});return orgRep;},onAddVerification:function onAddVerification(r,notOneClickVerification,dontSend){var self=this;var batch=[];var key;var fromId=utils.getId(r.from);var from=list[fromId].value;var toId=utils.getId(r.to);var to=list[toId].value;r[NONCE]=r[NONCE]||this.getNonce();r.time=r.time||new Date().getTime();var toChain={};var sendParams;var toRootHash=toId.split('_')[1];if(!dontSend){extend(toChain,r);if(r[ROOT_HASH]){toChain[CUR_HASH]=r[ROOT_HASH];r[CUR_HASH]=r[ROOT_HASH];}delete toChain.from;delete toChain.to;toChain.time=r.time;sendParams=this.packMessage(r,toChain);}var key=IDENTITY+'_'+toRootHash;var promise=dontSend?Q():meDriver.signAndSend(sendParams);// meDriver.signAndSend({\n\t//   object: toChain,\n\t//   to: { fingerprint: this.getFingerprint(list[key].value) }\n\t// })\n\tvar newVerification;return promise.then(function(data){if(data){r[CUR_HASH]=data.object.link;r[ROOT_HASH]=data.object.permalink;// var roothash = data[0]._props[ROOT_HASH]\n\t// r[ROOT_HASH] = roothash\n\t// r[CUR_HASH] = data[0]._props[CUR_HASH]\n\t}key=utils.getId(r);if(from.organization)r.organization=from.organization;if(!r.sharedWith){r.sharedWith=[];r.sharedWith.push(self.createSharedWith(utils.getId(r.from),r.time));}batch.push({type:'put',key:key,value:r});newVerification=self.buildRef(r);var len=batch.length;self.addLastMessage(r,batch);return db.batch(batch);}).then(function(){var rr={};// extend(rr, from);\n\t// rr.verifiedByMe = r;\n\tself._setItem(key,r);if(utils.getId(from)===utils.getId(me))self.addMessagesToChat(utils.getId(r.to),r);else self.addMessagesToChat(from.organization?utils.getId(from.organization):fromId,r);if(notOneClickVerification)self.trigger({action:'addItem',resource:r});else self.trigger({action:'addVerification',resource:r});var verificationRequestId=utils.getId(r.document);var verificationRequest=list[verificationRequestId].value;if(!verificationRequest.verifications)verificationRequest.verifications=[];if(!r.txId){verificationRequest.verifications.push(self.buildRef(newVerification));}else{for(var i=0;i<verificationRequest.verifications.length;i++){if(utils.getId(verificationRequest.verifications).split('_')[1]===r[ROOT_HASH])verificationRequest.verifications=self.buildRef(newVerification);}}// if (!verificationRequest.sharedWith)\n\t//   verificationRequest.sharedWith = []\n\t// verificationRequest.sharedWith.push(fromId)\n\treturn db.put(verificationRequestId,verificationRequest);}).then(function(data){var d=data;}).catch(function(err){debugger;err=err;});},onGetTo:function onGetTo(key){this.onGetItem(key,'getTo');},onGetFrom:function onGetFrom(key){this.onGetItem(key,'getFrom');},onGetItem:function onGetItem(key,action){var resource={};extend(resource,list[utils.getId(key)].value);var props=this.getModel(resource[TYPE]).value.properties;for(var p in props){if(p.charAt(0)==='_')continue;var items=props[p].items;if(!items||!items.backlink)continue;var backlink=items.backlink;var itemsModel=this.getModel(items.ref).value;var params={modelName:items.ref,to:resource,meta:itemsModel,props:itemsModel.properties};var result=this.searchNotMessages(params);if(result&&result.length)resource[p]=result;}this.trigger({resource:resource,action:action||'getItem'});},getItem:function getItem(resource){var self=this;var modelName=resource[TYPE];var meta=this.getModel(modelName).value;var foundRefs=[];var refProps=this.getRefs(resource,foundRefs,meta.properties);var newResource={};extend(newResource,resource);for(var i=0;i<foundRefs.length;i++){// foundRefs.forEach(function(val) {\n\tvar val=foundRefs[i];if(val.state==='fulfilled'){var propValue=utils.getId(val.value);var prop=refProps[propValue];newResource[prop]=val.value;newResource[prop].id=propValue;if(!newResource[prop].title)newResource[prop].title=utils.getDisplayName(newResource,meta);}}return newResource;},getDependencies:function getDependencies(resultList){var self=this;var newResult=resultList.map(function(resource){return self.getItem(resource);});return newResult;},getRefs:function getRefs(resource,foundRefs,props){var refProps=[];for(var p in resource){if(props[p]&&props[p].type==='object'){var ref=props[p].ref;if(ref&&resource[p]){// reference property could be set as a full resource (for char to have all info at hand when displaying the message)\n\t// or resource id\n\tvar rValue=utils.getId(resource[p]);refProps[rValue]=p;if(list[rValue]){var elm={value:list[rValue].value,state:'fulfilled'};foundRefs.push(elm);}}}}return refProps;},onAddModelFromUrl:function onAddModelFromUrl(url){var self=this;var model,props;return fetch(url).then(function(response){return response.json();}).then(function(responseData){model=responseData;props=model.properties;var err='';var id=model.id;if(!id)err+='\"id\" is required. Could be something like \"myGithubId.nameOfTheModel\"';var key=id;// if (models[key])\n\t//   err += '\"id\" is not unique';\n\tvar message=model.message;var from=props.from;if(!from)err+='\"from\" is required. Should have {ref: \"'+PROFILE+'\"}';var to=props.to;if(!to)err+='\"to\" is required. Should have {ref: \"'+PROFILE+'\"}';var time=props.time;if(!time)err+='\"time\" is required';if(err.length){self.trigger({action:'newModelAdded',err:err});return;}model.interfaces=[];model.interfaces.push(MESSAGE);var rootHash=sha(model);model[ROOT_HASH]=rootHash;model[constants.OWNER]=self.buildRef(me);// model[constants.OWNER] = {\n\t//   id: PROFILE + '_' + me[ROOT_HASH],\n\t//   title: utils.getDisplayName(me, self.getModel(PROFILE).value.properties),\n\t// photos: me.photos\n\t// }\n\t// Wil need to publish new model\n\treturn db.put(key,model);}).then(function(){if(!me.myModels)me.myModels=[];var key=model.id;me.myModels.push({key:key,title:model.title});self.setPropertyNames(props);models[key]={key:key,value:model};self.trigger({action:'newModelAdded',newModel:model});}).catch(function(err){err=err;}).done();},setPropertyNames:function setPropertyNames(props){for(var p in props){var val=props[p];if(!val.name&&typeof val!=='function')props[p].name=p;if(!val.title)val.title=utils.makeLabel(p);}},onSaveTemporary:function onSaveTemporary(resource){temporaryResources[resource[TYPE]]=resource;},onGetTemporary:function onGetTemporary(type){var r=temporaryResources[type];// if (!r) {\n\t//   r = {_t: type}\n\t//   if (type === SETTINGS)\n\t//     r.url = SERVICE_PROVIDERS_BASE_URL || SERVICE_PROVIDERS_BASE_URL_DEFAULT\n\t// }\n\tthis.trigger({action:'getTemporary',resource:r});},onAddItem:function onAddItem(params){var _this7=this;var self=this;var value=params.value;var resource=params.resource;delete temporaryResources[resource[TYPE]];var meta=params.meta;var shareWith=params.shareWith;var isRegistration=params.isRegistration;var additionalInfo=params.additionalInfo;// Check if there are references to other resources\n\tvar refProps={};var promises=[];var foundRefs=[];var props=meta.properties;if(meta.id==VERIFICATION||meta.subClassOf===VERIFICATION)return this.onAddVerification(resource,true);var isSelfIntroduction=meta[TYPE]===SELF_INTRODUCTION;var isNew=!resource[ROOT_HASH];var checkPublish;var isSwitchingToEmployeeMode=isNew?false:self.isSwitchingToEmployeeMode(resource);// Data were obtained by scanning QR code of the forms that were entered on Web\n\tif(meta.id===GUEST_SESSION_PROOF||isSwitchingToEmployeeMode){checkPublish=this.getDriver(me).then(function(){// if (publishRequestSent)\n\treturn meDriver.identityPublishStatus();}).then(function(status){if(!status.watches.link&&!status.link){if(isSwitchingToEmployeeMode)self.publishMyIdentity(self.getRepresentative(utils.getId(resource.organization)));else self.publishMyIdentity(list[utils.getId(resource.to)].value);}else if(isSwitchingToEmployeeMode){var _msg2;var orgId=utils.getId(resource.organization);var orgRep=self.getRepresentative(orgId);var msg=(_msg2={message:me.firstName+' is waiting for the response'},_defineProperty(_msg2,TYPE,SELF_INTRODUCTION),_defineProperty(_msg2,'identity',meDriver.identity),_defineProperty(_msg2,'name',me.firstName),_defineProperty(_msg2,'from',me),_defineProperty(_msg2,'to',orgRep),_msg2);checkPublish=self.onAddMessage(msg);}});}else{checkPublish=Q();}return checkPublish.then(function(){for(var p in resource){if(props[p]&&props[p].type==='object'){var ref=props[p].ref;if(ref&&resource[p]){var refModel=_this7.getModel(ref).value;if(refModel.inlined||refModel.subClassOf===ENUM)continue;var rValue=utils.getId(resource[p]);refProps[rValue]=p;if(list[rValue]){var elm={value:list[rValue].value,state:'fulfilled'};foundRefs.push(elm);}else promises.push(Q.ninvoke(db,'get',rValue));}}}// Add items properties if they were created\n\tvar json=utils.clone(value);// maybe not the best way to copy, try `clone`?\n\tfor(p in resource){if(props[p]&&props[p].type==='array')json[p]=resource[p];}if(!json[TYPE])json[TYPE]=meta.id;var error=_this7.checkRequired(json,props);if(error){foundRefs.forEach(function(val){var propValue=utils.getId(val.value);var prop=refProps[propValue];json[prop]=val.value;});_this7.trigger({action:'addItem',// list: list,\n\tresource:json,error:error});return;}// if (error) {\n\t//   this.listenables[0].addItem.failed(error);\n\t//   return;\n\t// }\n\tvar returnVal;var identity;// if (!isNew) // make sure that the values of ref props are not the whole resources but their references\n\tif(!isSelfIntroduction)utils.optimizeResource(resource);var isMessage=meta.isInterface||meta.interfaces&&meta.interfaces.indexOf(MESSAGE)!=-1;Q.allSettled(promises).then(function(results){var allFoundRefs=foundRefs.concat(results);allFoundRefs.forEach(function(val){if(val.state==='fulfilled'){var value=val.value;var propValue=utils.getId(value);var prop=refProps[propValue];var title=utils.getDisplayName(value,self.getModel(value[TYPE]).value.properties);json[prop]=self.buildRef(value);if(isMessage&&!json.documentCreated)json.time=new Date().getTime();}});// if (isNew  &&  !resource.time)\n\tif(isNew||!value.documentCreated)//(meta.id !== FORM_ERROR  &&  meta.id !== FORM_REQUEST  &&  !meta.id === FORM_ERROR))\n\tresource.time=new Date().getTime();if(!resource||isNew)returnVal=json;else{returnVal={};extend(true,returnVal,resource);for(var p in json){if(!returnVal[p])returnVal[p]=json[p];else if(!props[p])continue;else if(!props[p].readOnly&&!props[p].immutable)returnVal[p]=json[p];}}// utils.optimizeResource(returnVal)\n\tif(!isRegistration){// HACK to not to republish identity\n\tif(returnVal[TYPE]!==PROFILE)returnVal[NONCE]=self.getNonce();}if(params.chat){var chatId=utils.getId(params.chat);returnVal.to=self.buildRef(self.getRepresentative(chatId));}if(isRegistration)return handleRegistration();else if(isMessage)return handleMessage();else return save(isSwitchingToEmployeeMode);}).then(function(){if(isSwitchingToEmployeeMode){var _msg3;var orgId=utils.getId(resource.organization);var orgRep=self.getRepresentative(orgId);var msg=(_msg3={},_defineProperty(_msg3,TYPE,PRODUCT_APPLICATION),_defineProperty(_msg3,'product',EMPLOYEE_ONBOARDING),_defineProperty(_msg3,NONCE,self.getNonce()),_defineProperty(_msg3,'time',new Date().getTime()),_msg3);self.trigger({action:'employeeOnboarding',to:list[orgId].value});meDriver.signAndSend({object:msg,to:{fingerprint:self.getFingerprint(list[utils.getId(IDENTITY+'_'+orgRep[ROOT_HASH])].value)}}).catch(function(err){debugger;});}});function handleRegistration(){self.trigger({action:'runVideo'});return Q.all([self.loadDB(),utils.resetPasswords()]).then(function(){return self.getDriver(returnVal);}).then(function(){if(!resource||isNew){returnVal[ROOT_HASH]=protocol.linkString(meDriver.identity);}return save();});}function handleMessage(){// TODO: fix hack\n\t// hack: we don't know root hash yet, use a fake\n\tif(returnVal.documentCreated){var params={action:'addItem',resource:returnVal};self.disableOtherFormRequestsLikeThis(returnVal);// don't save until the real resource is created\n\tlist[utils.getId(returnVal)].value=returnVal;self.trigger(params);return self.waitForTransitionToEnd().then(function(){save();}).catch(function(err){debugger;});}// Trigger painting before send. for that set ROOT_HASH to some temporary value like NONCE\n\t// and reset it after the real root hash will be known\n\tvar isNew=returnVal[ROOT_HASH]==null;var isForm=self.getModel(returnVal[TYPE]).value.subClassOf===FORM;if(isNew)returnVal[ROOT_HASH]=returnVal[NONCE];else if(isForm){var prevRes=list[returnVal[TYPE]+'_'+returnVal[ROOT_HASH]+'_'+returnVal[CUR_HASH]].value;if(utils.compare(returnVal,prevRes)){self.trigger({action:'noChanges'});return;}returnVal[PREV_HASH]=returnVal[CUR_HASH];returnVal[CUR_HASH]=returnVal[NONCE];}var returnValKey=utils.getId(returnVal);self._setItem(returnValKey,returnVal);var org=list[utils.getId(returnVal.to)].value.organization;var orgId=utils.getId(org);self.addMessagesToChat(orgId,returnVal);var params;if(returnVal[TYPE]===GUEST_SESSION_PROOF){org=list[utils.getId(org)].value;params={action:'getForms',to:org};}else{params={action:'addItem',resource:utils.clone(returnVal)};}var m=self.getModel(returnVal[TYPE]).value;// if (m.subClassOf === FORM)\n\t//   params.sendStatus = sendStatus\n\t//         var to = returnVal.to\n\t//         Object.defineProperty(returnVal, 'to', {\n\t//           get: function () {\n\t//             return to\n\t//           },\n\t//           set: function () {\n\t//             debugger\n\t//             console.log('yay!')\n\t//           }\n\t//         })\n\t//         var organization = to.organization\n\t//         Object.defineProperty(to, 'organization', {\n\t//           get: function () {\n\t//             return organization\n\t//           },\n\t//           set: function () {\n\t//             debugger\n\t//             console.log('yay!')\n\t//           }\n\t//         })\n\ttry{self.trigger(params);}catch(err){debugger;}return self.waitForTransitionToEnd().then(function(){var rId=utils.getId(returnVal.to);var to=list[rId].value;var toChain={};if(!isNew){// returnVal[PREV_HASH] = returnVal[CUR_HASH] || returnVal[ROOT_HASH]\n\ttoChain[PREV_HASH]=returnVal[PREV_HASH];}var exclude=['to','from','verifications',CUR_HASH,'sharedWith','_sendStatus'];if(isNew)exclude.push(ROOT_HASH);extend(toChain,returnVal);var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=exclude[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var _p=_step.value;delete toChain[_p];}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}toChain.time=returnVal.time;var key=IDENTITY+'_'+to[ROOT_HASH];var sendParams=self.packMessage(returnVal,toChain);return meDriver.signAndSend(sendParams);// return meDriver.signAndSend({\n\t//   object: toChain,\n\t//   to: { fingerprint: self.getFingerprint(list[key].value) }\n\t// })\n\t}).then(function(result){// TODO: fix hack\n\t// we now have a real root hash,\n\t// scrap the placeholder\n\t// if (isNew ||  !shareWith)\n\tif(isNew||isForm){delete list[returnValKey];self.deleteMessageFromChat(orgId,returnVal);}returnVal[CUR_HASH]=result.object.link;returnVal[ROOT_HASH]=result.object.permalink;var sendStatus=self.isConnected?SENDING:QUEUED;returnVal._sendStatus=sendStatus;//           let org = list[utils.getId(returnVal.to)].value.organization\n\t//           self.addMessagesToChat(utils.getId(org), returnVal)\n\tdelete returnVal.sharedWith;delete returnVal.verifications;// if (shareWith) {\n\t//   let oldValue = list[returnValKey]\n\t//   for (let p in shareWith) {\n\t//     if (shareWith[p])\n\t//       this.onShare(returnVal, list[p].value)\n\t//   }\n\t// }\n\treturn save(true);}).then(function(){var rId=utils.getId(returnVal.to);var to=list[rId].value;if(!isNew||self.getModel(returnVal[TYPE]).value.subClassOf!==FORM)return;var allFormRequests=self.searchMessages({modelName:FORM_REQUEST,to:to});var formRequests=allFormRequests&&allFormRequests.filter(function(r){if(r.document===returnVal[NONCE])return true;});if(formRequests&&formRequests.length){var req=formRequests[0];req.document=utils.getId(returnVal);returnVal=req;save(true);}});}function save(noTrigger){return self._putResourceInDB({type:returnVal[TYPE],resource:returnVal,roothash:returnVal[ROOT_HASH],isRegistration:isRegistration,noTrigger:noTrigger});}});},isSwitchingToEmployeeMode:function isSwitchingToEmployeeMode(resource){var _this8=this;if(resource[TYPE]!==PROFILE||!resource.organization)return;var org=list[utils.getId(resource)].value.organization;var newOrgId=utils.getId(resource.organization);var settingOrg=!org||utils.getId(org)!==newOrgId;if(settingOrg){var o=SERVICE_PROVIDERS.filter(function(r){return r.org==newOrgId?true:false;});if(o&&o.length)return true;}else if(org){var _ret7=function(){var result=_this8.searchMessages({to:me,modelName:MY_EMPLOYEE_PASS});if(!result)return{v:true};var meOrgId=utils.getId(me.organization);var repId=utils.getId(_this8.getRepresentative(meOrgId));var fresult=result.some(function(r){return repId===utils.getId(r.to);});return{v:fresult.length};}();if((typeof _ret7==='undefined'?'undefined':_typeof(_ret7))===\"object\")return _ret7.v;}},onGetMe:function onGetMe(){this.trigger({action:'getMe',me:me});},onCleanup:function onCleanup(){var _this9=this;// var me  = utils.getMe()\n\tif(!me)return;var result=this.searchMessages({to:me,modelName:CUSTOMER_WAITING,isForgetting:true});if(!result)return;if(result.length)delete result[result.length-1];return this.cleanup(result).then(function(){result=_this9.searchMessages({to:me,modelName:PRODUCT_LIST,isForgetting:true});if(result&&result.length){delete result[result.length-1];return _this9.cleanup(result);}});},onShare:function onShare(resource,shareWithList,formResource){var _this10=this;if(!Array.isArray(shareWithList))return this.onShareOne(resource,shareWithList,formResource);var promisses=[];shareWithList.forEach(function(r){promisses.push(_this10.onShareOne(resource,list[r].value));});Q.all(promisses).then(function(results){debugger;});},onShareOne:function onShareOne(resource,to,formResource){var self=this;var toOrgId;if(to[TYPE]===ORGANIZATION){toOrgId=utils.getId(to);to=this.getRepresentative(ORGANIZATION+'_'+to[ROOT_HASH]);}else toOrgId=utils.getId(to.organization);if(!to)return;var ikey=IDENTITY+'_'+to[ROOT_HASH];var opts={to:{fingerprint:this.getFingerprint(list[ikey].value)},// share seal if it exists\n\tseal:true};var promise=meDriver.send(_extends({},opts,{link:resource.document[CUR_HASH]}));return promise.then(function(){return resource[CUR_HASH]?meDriver.send(_extends({},opts,{link:resource[CUR_HASH]})):Q();// return meDriver.send({...opts, link: resource.document[ROOT_HASH]})\n\t}).then(function(){var key=utils.getId(formResource);var r=list[key].value;r.documentCreated=true;if(r[TYPE]===FORM_REQUEST)r.document=resource[TYPE]===VERIFICATION?utils.getId(resource.document):utils.getId(resource);var batch=[];batch.push({type:'put',key:key,value:r});var toId=utils.getId(to);var time=new Date().getTime();// let sh = {\n\t//   [TYPE]: SHARED_RESOURCE,\n\t//   [ROOT_HASH]: self.getNonce(),\n\t//   resource: self.buildRef(resource),\n\t//   from: resource.from,\n\t//   to: resource.to,\n\t//   time: time\n\t// }\n\t// batch.push({type: 'put', key: utils.getId(sh), value: sh})\n\tif(resource[ROOT_HASH]){key=utils.getId(resource);var ver=list[key].value;if(!ver.sharedWith)ver.sharedWith=[];ver.sharedWith.push(self.createSharedWith(toId,time));utils.optimizeResource(ver);batch.push({type:'put',key:key,value:ver});}var formId=utils.getId(resource.document);var form=list[formId].value;if(!form.sharedWith){form.sharedWith=[];form.sharedWith.push(self.createSharedWith(utils.getId(form.to),form.time));}form.sharedWith.push(self.createSharedWith(toId,time));self.addMessagesToChat(toOrgId,form,false,time);if(ver)self.addMessagesToChat(toOrgId,ver,false,time);utils.optimizeResource(form);self.addLastMessage(form,batch,to);batch.push({type:'put',key:formId,value:form});return db.batch(batch);})//     .then(() => {\n\t//       self.trigger({action: 'list', list: self.searchNotMessages({modelName: ORGANIZATION, to: resource})})\n\t//     })\n\t.catch(function(err){debugger;});},createSharedWith:function createSharedWith(toId,time){return{bankRepresentative:toId,timeShared:time};},checkRequired:function checkRequired(resource,meta){var type=resource[TYPE];var rootHash=resource[ROOT_HASH];var oldResource=rootHash?list[type+'_'+rootHash]:null;var required=meta.required;if(!required)return;for(var i=0;i<required.length;i++){var prop=required[i];if(!resource[prop]&&(!oldResource||!oldResource[prop]))return'Please add \"'+meta.properties[prop].title+'\"';}},onReloadModels:function onReloadModels(){this.loadModels();},onRequestWipe:function onRequestWipe(){_reactNative.Alert.alert(translate('areYouSureAboutWipe'),'',[{text:'Cancel',onPress:function onPress(){}},{text:'OK',onPress:function onPress(){return Actions.reloadDB();}}]);},wipe:function wipe(){if(utils.isWeb()){return this.wipeWeb();}else{return this.wipeMobile();}},wipeWeb:function wipeWeb(){if(localStorage)localStorage.clear();if(sessionStorage)sessionStorage.clear();if(leveldown.destroyAll)return leveldown.destroyAll();},wipeMobile:function wipeMobile(){return Q.all([_Storage2.default.clear(),utils.resetPasswords()]).then(function(){return _Storage2.default.getAllKeys();}).then(function(keys){return console.log('AsyncStorage has '+keys.length+' keys');});},onReloadDB:function onReloadDB(){var _this11=this;var self=this;var destroyTim=meDriver?meDriver.destroy():Q();return destroyTim.then(function(){return _this11.wipe();}).then(function(){// Alert.alert('please refresh')\n\treturn utils.restartApp();// Q.Promise(function (resolve) {})\n\t});// .then(function() {\n\t//   list = {};\n\t//   models = {};\n\t//   me = null;\n\t//   return\n\t//   // return self.loadModels()\n\t// })\n\t// .then(function() {\n\t//   self.trigger({action: 'reloadDB', models: models});\n\t// })\n\t// .catch(function(err) {\n\t//   err = err;\n\t// });\n\t// var togo = 1;\n\t// // this.loadModels()\n\t// // var name = me.firstName.toLowerCase();\n\t// var self = this\n\t// meDriver.destroy()\n\t// .then(function() {\n\t//   meDriver = null\n\t//   driverPromise = null\n\t//   rimraf('./', function () {\n\t//     console.log('rimraf done')\n\t//     finish()\n\t//   })\n\t//   ;[\n\t//     'addressBook.db',\n\t//     'msg-log.db',\n\t//     'messages.db',\n\t//     'txs.db'\n\t//   ].forEach(function (dbName) {\n\t//     ;[name].forEach(function (name) {\n\t//       togo++\n\t//       leveldown.destroy(TIM_PATH_PREFIX + '-' + dbName, finish)\n\t//     })\n\t//   })\n\t//   function finish () {\n\t//     if (--togo === 0)  {\n\t//       isLoaded = false;\n\t//       self.onReloadDB1()\n\t//     }\n\t//   }\n\t// })\n\t// .catch(function(err) {\n\t//   err = err\n\t// })\n\t},onMessageList:function onMessageList(params){this.onList(params);},onList:function onList(params){var self=this;if(isLoaded)this.getList(params);else{this.loadDB().then(function(){isLoaded=true;if(params.modelName)self.getList(params);});}},getList:function getList(params){var _this12=this;var meta=this.getModel(params.modelName).value;var isMessage=meta.isInterface||meta.interfaces&&meta.interfaces.indexOf(MESSAGE)!=-1;if(!isMessage){params.fromView=true;var result=this.searchNotMessages(params);if(!result){// First time. No connection no providers yet loaded\n\tif(!this.isConnected&&params.modelName===ORGANIZATION)this.trigger({action:'list',alert:translate('noConnection')});return;}if(params.isAggregation)result=this.getDependencies(result);var shareableResources;var retParams={action:'list',list:result,spinner:params.spinner,isAggregation:params.isAggregation};if(params.prop)retParams.prop=params.prop;this.trigger(retParams);return;}return this._searchMessages(params).then(function(result){if(!result)return;if(params.isAggregation)result=_this12.getDependencies(result);var retParams={action:!params.prop?'messageList':'list',list:result,spinner:params.spinner,isAggregation:params.isAggregation};var shareableResources;var hasMore=params.limit&&result.length>params.limit;if(params.loadEarlierMessages||hasMore){if(hasMore){result.splice(0,1);retParams.allLoaded=true;}retParams.loadEarlierMessages=true;}if(!params.isAggregation&&params.to){// let to = list[utils.getId(params.to)].value\n\t// if (to  &&  to[TYPE] === ORGANIZATION)\n\tshareableResources=_this12.getShareableResources(result,params.to);}if(params.to){var orgId=void 0;if(params.to.organization)orgId=utils.getId(params.to.organization);else{if(params.to[TYPE]===ORGANIZATION)orgId=utils.getId(params.to);}if(orgId){var rep=_this12.getRepresentative(orgId);if(rep&&!rep.bot)retParams.isEmployee=true;}}if(shareableResources)retParams.shareableResources=shareableResources;if(params.prop)retParams.prop=params.prop;_this12.trigger(retParams);});},getList1:function getList1(params){var result=this.searchResources(params);if(params.isAggregation)result=this.getDependencies(result);if(!result){// First time. No connection no providers yet loaded\n\tif(!this.isConnected&&params.modelName===ORGANIZATION)this.trigger({action:'list',alert:translate('noConnection')});return;}var model=this.getModel(params.modelName).value;var isMessage=model.isInterface||model.interfaces&&model.interfaces.indexOf(MESSAGE)!=-1;var resultList=result;var shareableResources;var retParams={action:isMessage&&!params.prop?'messageList':'list',list:resultList,spinner:params.spinner,isAggregation:params.isAggregation};if(isMessage){var hasMore=params.limit&&result.length>params.limit;if(params.loadEarlierMessages||hasMore){if(hasMore){result.splice(0,1);retParams.allLoaded=true;}retParams.loadEarlierMessages=true;}if(!params.isAggregation&&params.to){// let to = list[utils.getId(params.to)].value\n\t// if (to  &&  to[TYPE] === ORGANIZATION)\n\tshareableResources=this.getShareableResources(result,params.to);}if(params.to){var orgId=void 0;if(params.to.organization)orgId=utils.getId(params.to.organization);else{if(params.to[TYPE]===ORGANIZATION)orgId=utils.getId(params.to);}if(orgId){var rep=this.getRepresentative(orgId);if(rep&&!rep.bot)retParams.isEmployee=true;}}}// if (isMessage) {\n\t//   let orgId = utils.getId(params.to)\n\t//   let styles\n\t//   if (SERVICE_PROVIDERS)\n\t//      styles = SERVICE_PROVIDERS.filter((sp) => {\n\t//         if (sp.org === orgId)\n\t//           return true\n\t//       })\n\t//   if (styles  &&  styles.length)\n\t//     retParams.style = styles[0].style\n\t// }\n\tif(shareableResources)retParams.shareableResources=shareableResources;if(params.prop)retParams.prop=params.prop;this.trigger(retParams);},searchResources:function searchResources(params){var meta=this.getModel(params.modelName).value;var isMessage=meta.isInterface||meta.interfaces&&meta.interfaces.indexOf(MESSAGE)!=-1;if(isMessage)return this._searchMessages(params);else{params.fromView=true;return this.searchNotMessages(params);}},onListSharedWith:function onListSharedWith(resource,chat){var sharedWith=resource.sharedWith;if(!sharedWith)return null;var chatId=utils.getId(chat);var shareWithMapping={};var result=[];sharedWith.forEach(function(r){var bot=list[r.bankRepresentative].value;var org=list[utils.getId(bot.organization)].value;if(utils.getId(org)===chatId)return;result.push(org);shareWithMapping[r.bankRepresentative]=org;});this.trigger({action:'listSharedWith',list:result,sharedWith:shareWithMapping});},searchNotMessages:function searchNotMessages(params){var foundResources={};var modelName=params.modelName;var to=params.to;var notVerified=params.notVerified;var meta=this.getModel(modelName).value;var props=meta.properties;var containerProp,resourceId;var isOrg=params.modelName==ORGANIZATION;var sortProp=params.sortProperty?params.sortProperty:isOrg&&!params.sortProperty?LAST_MESSAGE_TIME:null;var isIdentity=modelName===PROFILE;// to variable if present is a container resource as for example subreddit for posts or post for comments\n\t// if to is passed then resources only of this container need to be returned\n\tif(to){for(var p in props){if(props[p].ref&&props[p].ref===to[TYPE]){containerProp=p;resourceId=utils.getId(to);}}}var query=params.query;var required=meta.required;var meId=me?utils.getId(me):null;var subclasses=utils.getAllSubclasses(modelName).map(function(r){return r.id;});var orgToForm={};for(var key in list){var r=list[key].value;if(key.indexOf(modelName+'_')==-1){var s=key.split('_')[0];if(isOrg){if(this.getModel(s).value.subClassOf!==FORM)continue;var toId=utils.getId(list[key].value.to);// The resource was never shared or it has a shared with party in it\n\tif(r.sharedWith){var wasShared=void 0;r.sharedWith.forEach(function(o){var org=list[o.bankRepresentative].value.organization;var orgId=utils.getId(org);if(orgToForm[orgId])orgToForm[orgId]=++orgToForm[orgId];else orgToForm[orgId]=1;});}else{var org=list[toId].value.organization;if(!org){var fromId=utils.getId(list[key].value.from);org=list[fromId].value.organization;}var orgId=utils.getId(org);if(orgToForm[orgId])orgToForm[orgId]=++orgToForm[orgId];else orgToForm[orgId]=1;}continue;}if(subclasses){if(subclasses.indexOf(s)===-1)continue;}else continue;}else if(params.fromView&&isIdentity&&r.bot)continue;else if(notVerified&&r.verifications&&r.verifications.length)continue;if(r.canceled)continue;// if (r[constants.OWNER]) {\n\t//   var id = utils.getId(r[constants.OWNER]);\n\t//   if (id != me[TYPE] + '_' + me[ROOT_HASH])\n\t//     continue;\n\t// }\n\tif(containerProp&&(!r[containerProp]||utils.getId(r[containerProp])!==resourceId))continue;if(!query){foundResources[key]=r;continue;}// primitive filtering for this commit\n\tvar combinedValue='';for(var rr in props){if(r[rr]instanceof Array)continue;combinedValue+=combinedValue?' '+r[rr]:r[rr];}if(!combinedValue||combinedValue&&(!query||combinedValue.toLowerCase().indexOf(query.toLowerCase())!=-1)){foundResources[key]=r;}}// Don't show current 'me' contact in contact list or my identities list\n\tif(!containerProp&&me&&isIdentity){if(sampleData.getMyId())delete foundResources[utils.getId(me)];else if(!isTest){var myIdentities=list[MY_IDENTITIES].value.allIdentities;myIdentities.forEach(function(meId){if(foundResources[meId.id])delete foundResources[meId.id];});}}if(utils.isEmpty(foundResources))return;var result=utils.objectToArray(foundResources);// if (isIdentity) {\n\t//   result.forEach(function(r) {\n\t//     if (r.organization) {\n\t//       var res = list[utils.getId(r.organization.id)];\n\t//       if (res  &&  res.value) {\n\t//         var photos = res.value.photos;\n\t//         if (photos)\n\t//           r.organization.photo = photos[0].url;\n\t//       }\n\t//     }\n\t//   });\n\t// }\n\tif(isIdentity&&!params.all&&me.isEmployee){(function(){var retPeople=[];// Filter out the employees of other service providers from contact list\n\t// This will go away when thru-bot communications will deployed\n\tresult.forEach(function(r){if(!r.organization){retPeople.push(r);return;}var orgId=utils.getId(r.organization);if(r.isEmployee&&utils.getId(r.organization)!==orgId){var orgs=SERVICE_PROVIDERS.filter(function(rr){return rr.org===orgId?true:false;});if(!orgs.length)retPeople.push(r);}});result=retPeople;})();}if(result.length===1)return result;// var sortProp = params.sortProperty;\n\tif(sortProp){var asc=typeof params.asc!='undefined'?params.asc:false;if(props[sortProp].type=='date'){result.sort(function(a,b){var aVal=a[sortProp]?a[sortProp]:0;var bVal=b[sortProp]?b[sortProp]:0;if(asc)return aVal-bVal;else return bVal-aVal;});}else if(props[sortProp].type=='string'){result.sort();if(asc)result=result.reverse();}else if(props[sortProp].type=='number'){result.sort(function(a,b){return asc?a-b:b-a;});}}if(isOrg){(function(){// cloning orgs to re-render the org list with the correct number of forms\n\tvar retOrgs=[];result.forEach(function(r){var oId=utils.getId(r);var rr={};extend(true,rr,r);retOrgs.push(rr);rr.numberOfForms=orgToForm[oId];});result=retOrgs;})();}return result;},_searchMessages:function _searchMessages(params){var _this13=this;return this._loadedResourcesDefer.promise.then(function(){return _this13.searchMessages(params);});},searchMessages:function searchMessages(params){var _this14=this;var query=params.query;var modelName=params.modelName;var meta=this.getModel(modelName).value;var prop=params.prop;if(typeof prop==='string')prop=meta[prop];var backlink=prop?prop.items?prop.items.backlink:prop:null;var foundResources=[];var props=meta.properties;// var required = meta.required;\n\tvar meId=utils.getId(me);var meOrgId=me.isEmployee?utils.getId(me.organization):null;var chatTo=params.to;if(chatTo&&chatTo.id)chatTo=list[utils.getId(chatTo)].value;var chatId=chatTo?utils.getId(chatTo):null;var isChatWithOrg=chatTo&&chatTo[TYPE]===ORGANIZATION;var toOrgId;var toOrg;var thisChatMessages=void 0;if(isChatWithOrg){var rep=this.getRepresentative(chatId);if(!rep)return;chatTo=rep;chatId=utils.getId(chatTo);// isChatWithOrg = false\n\ttoOrgId=utils.getId(params.to);toOrg=list[toOrgId].value;thisChatMessages=chatMessages[toOrgId];}else{if(chatTo){if(chatTo.organization&&!meOrgId){toOrgId=utils.getId(chatTo.organization);thisChatMessages=chatMessages[toOrgId];}else thisChatMessages=chatMessages[utils.getId(chatTo)];}//       else if (chatId === meId) {\n\t// console.log('What are we doing here!!! chatId: ' + chatId)\n\t//         thisChatMessages = chatMessages[chatId]\n\t//       }\n\t}if(!thisChatMessages&&(!params.to||chatId===meId)){thisChatMessages=[];Object.keys(list).filter(function(key){var type=list[key].value[TYPE];var m=_this14.getModel(type);if(!m)return false;if(type===modelName||m.value.subClassOf===modelName||modelName===MESSAGE&&m.value.interfaces){thisChatMessages.push({id:key,time:list[key].value.time});return true;}});}if(!thisChatMessages||!thisChatMessages.length)return null;// if (isChatWithOrg  &&  !chatTo.name) {\n\t//   chatTo = list[chatId].value;\n\t// }\n\tvar testMe=chatTo?chatTo.me:null;if(testMe){if(testMe==='me'){if(!originalMe)originalMe=me;testMe=originalMe[ROOT_HASH];}isTest=true;var meId=constants.TYPES.PROFILE+'_'+testMe;me=list[meId].value;this.setMe(me);var myIdentities=list[MY_IDENTITIES].value;if(myIdentities)myIdentities.currentIdentity=meId;}// var lastPL\n\t// var sharedWithTimePairs = []\n\tvar from=params.from;var limit=params.limit?params.limit+1:null;var isAllMessages=meta.isInterface;var implementors=isAllMessages?utils.getImplementors(modelName):null;var isVerification=modelName===VERIFICATION||meta.subClassOf===VERIFICATION;// for (var key in list) {\n\tvar lastId=params.lastId;var ii=thisChatMessages.length-1;if(lastId){for(;ii>=0;ii--){if(thisChatMessages[ii].id===lastId){ii--;break;}}}var resourceId=params.resource?utils.getId(params.resource):null;for(var i=ii;i>=0;i--){var key=thisChatMessages[i].id;var iMeta=null;if(isAllMessages)iMeta=utils.getModel(key.split('_')[0]).value;else if(list[key].value[TYPE]!==modelName){var rModel=this.getModel(list[key].value[TYPE]);if(!rModel)continue;rModel=rModel.value;// Checks for the first level of subClasses\n\tif(rModel.subClassOf!==modelName)continue;}if(!iMeta)iMeta=meta;var r=list[key].value;if(r.canceled)continue;var isFormError=isAllMessages&&r[TYPE]===FORM_ERROR;// Make sure that the messages that are showing in chat belong to the conversation between these participants\n\tif(isVerification){if(r.document){var d=list[utils.getId(r.document)];if(!d)continue;if(params.resource&&resourceId!==meId&&utils.getId(params.resource)!==utils.getId(d.value))continue;r.document=d.value;}}else if(isFormError)r.prefill=list[utils.getId(r.prefill)]?list[utils.getId(r.prefill)].value:r.prefill;// HACK to not show service message in customer stream\n\telse if(r.message&&r.message.length){if(r[TYPE]===SELF_INTRODUCTION&&!params.isForgetting&&utils.getId(r.to)!==meId)continue;if(r.message==='[already published](tradle.Identity)')continue;var m=utils.splitMessage(r.message);if(m.length===2){if(m[1]===PROFILE)continue;}if(chatTo.organization&&r[TYPE]===constants.TYPES.CUSTOMER_WAITING){var rid=utils.getId(chatTo.organization);var org=list[utils.getId(r.to)].value.organization;var orgId=utils.getId(org);if(!utils.isEmployee(list[utils.getId(chatTo.organization)].value))continue;}}var isSharedWith=false,timeResourcePair=null;if(r.sharedWith&&toOrgId){var sharedWith=r.sharedWith.filter(function(r){var org=list[r.bankRepresentative].value.organization;return org?utils.getId(org)===toOrgId:false;});isSharedWith=sharedWith.length!==0;if(isSharedWith){timeResourcePair={time:sharedWith[0].timeShared,resource:r};}}if(chatTo){// backlinks like myVerifications, myDocuments etc. on Profile\n\tif(backlink&&r[backlink]){var s=params.resource?utils.getId(params.resource):chatId;if(s===utils.getId(r[backlink])){foundResources.push(r);// for Loading earlier resources we don't need to check limit untill we get to the lastId\n\tif(limit&&foundResources.length===limit)break;}continue;}var m=this.getModel(r[TYPE]).value;var isVerificationR=r[TYPE]===VERIFICATION||m.subClassOf===VERIFICATION;var isForm=m.subClassOf===FORM;var isMyProduct=m.subClassOf===MY_PRODUCT;var isProductApplication=m.id===PRODUCT_APPLICATION;if((!r.message||r.message.trim().length===0)&&!r.photos&&!isVerificationR&&!isForm&&!isMyProduct&&!isProductApplication)// check if this is verification resource\n\tcontinue;// var fromID = utils.getId(r.from);\n\tvar toID=utils.getId(r.to);if(params.strict){if(chatId!==toID)continue;}}if(params.strict&&chatId!==utils.getId(r.to))continue;if(r.sharedWith&&toOrgId&&!isSharedWith)continue;if(isVerificationR||r[TYPE]===ADDITIONAL_INFO){var doc={};var rDoc=list[utils.getId(r.document)];if(!rDoc){if(params.isForgetting)foundResources.push(r);continue;}// TODO: check if we can copy by reference\n\tfor(var p in rDoc.value){if(p==='verifications'||p==='additionalInfo')continue;var val=rDoc.value[p];switch(typeof val==='undefined'?'undefined':_typeof(val)){case'object':if(val){if(Array.isArray(val))doc[p]=val.slice(0);else doc[p]=extend(true,{},val);}break;default:doc[p]=val;break;}}r.document=doc;}if(!query){var msg=this.fillMessage(r);if(!msg)msg=r;// foundResources[key] = msg;\n\tfoundResources.push(msg);if(limit&&foundResources.length===limit)break;continue;}// primitive filtering for this commit\n\tvar combinedValue='';for(var rr in props){if(r[rr]instanceof Array)continue;combinedValue+=combinedValue?' '+r[rr]:r[rr];}if(!combinedValue||combinedValue&&(!query||combinedValue.toLowerCase().indexOf(query.toLowerCase())!=-1)){// foundResources[key] = this.fillMessage(r);\n\tfoundResources.push(this.fillMessage(r));if(limit&&foundResources.length===limit)break;}}if(!foundResources.length)return;return foundResources.reverse();},getSearchResult:function getSearchResult(result){return result.map(function(r){return r.value;});},fillMessage:function fillMessage(r){return r;var resource={};extend(resource,r);if(!r.verifications||!r.verifications.length)return resource;for(var i=0;i<resource.verifications.length;i++){var v=resource.verifications[i];var vId=utils.getId(v);var ver={};extend(ver,list[vId].value);resource.verifications[i]=ver;if(ver.organization&&!ver.organization.photos){var orgPhotos=list[utils.getId(ver.organization.id)].value.photos;if(orgPhotos)ver.organization.photo=orgPhotos[0].url;}// resource.time = ver.time;\n\t}return resource;},// Gathers resources that were created on this official account to figure out if the\n\t// customer has some other official accounts where he already submitted this information\n\tgetShareableResources:function getShareableResources(foundResources,to){var _this15=this;if(!foundResources)return;var verTypes=[];var meId=utils.getId(me);var simpleLinkMessages={};var meId=utils.getId(utils.getMe());for(var i=0;i<foundResources.length;i++){var r=foundResources[i];if(me&&utils.getId(r.to)!==meId&&utils.getId(r.from)!==meId)continue;// documentCreated identifier is set when the document of this type was created\n\t// and we don't want to create it again from this same notification\n\tif(r[TYPE]!==FORM_REQUEST||r.documentCreated)continue;if(utils.getId(r.to)!==meId)continue;// var msgParts = utils.splitMessage(r.message);\n\t// // Case when the needed form was sent along with the message\n\t// if (msgParts.length !== 2)\n\t//   continue;\n\t// Case when customer already has resource to SHARE on the screen but accidentally\n\t// or otherwise clicked on PRODUCT list link. To avoid the multiple shares\n\t// of the same resource with the same financial institution\n\t// let rr = simpleLinkMessages[msgParts[1]]\n\tvar _rr=simpleLinkMessages[r.form];if(_rr){_rr.documentCreated=true;list[utils.getId(_rr)].value.documentCreated=true;continue;}simpleLinkMessages[r.form]=r;var msgModel=this.getModel(r.form);if(msgModel&&msgModel.value.subClassOf!==MY_PRODUCT)verTypes.push(msgModel.value.id);}var shareableResources={};var shareableResourcesRootToR={};var isOrg=to&&to[TYPE]===ORGANIZATION;var org=isOrg?to:to.organization?list[utils.getId(to.organization)].value:null;var reps;if(isOrg)reps=this.getRepresentatives(utils.getId(org));else reps=[utils.getId(to)];var productsToShare=this.searchMessages({modelName:MY_PRODUCT,to:utils.getMe(),strict:true});if(productsToShare&&productsToShare.length){productsToShare.forEach(function(r){var _rr2;var fromId=utils.getId(r.from);if(r.sharedWith){var sw=r.sharedWith.filter(function(r){if(reps.filter(function(rep){if(utils.getId(rep)===r.bankRepresentative)return true;}).length)return true;});if(sw.length)return;}if(shareableResourcesRootToR[r[ROOT_HASH]]){var arr=shareableResources[r[TYPE]];var skip=void 0;for(var _i2=0;_i2<arr.length&&!skip;_i2++){if(r[ROOT_HASH]===rr[ROOT_HASH]){if(r.time<rr.time)skip=true;else arr.splice(_i2,1);}}if(skip)return;}var rr=(_rr2={},_defineProperty(_rr2,TYPE,VERIFICATION),_defineProperty(_rr2,'document',r),_defineProperty(_rr2,'organization',list[utils.getId(r.from)].value.organization),_rr2);addAndCheckShareable(rr);});}if(!verTypes.length)return shareableResources;var toId=utils.getId(to);var l=this.searchMessages({modelName:VERIFICATION});if(l)l.forEach(function(val){var doc=val.document;var docType=doc.id&&doc.id.split('_')[0]||doc[TYPE];if(verTypes.indexOf(docType)===-1)return;var id=utils.getId(val.to.id);if(id!==meId)return;// Filter out the verification from the same company\n\tvar fromId=utils.getId(val.from);var fromOrgId=utils.getId(list[fromId].value.organization);if(fromOrgId===toId)return;var document=doc.id?list[utils.getId(doc.id)]&&list[utils.getId(doc.id)].value:doc;if(!document)return;if(to&&org&&document.verifications){var thisCompanyVerification;for(var i=0;i<document.verifications.length;i++){var v=list[utils.getId(document.verifications[i])].value;if(v.organization&&utils.getId(org)===utils.getId(v.organization)){var sharedWith=doc.sharedWith;if(!sharedWith)thisCompanyVerification=true;else{var sw=sharedWith.filter(function(r){if(reps.filter(function(rep){if(utils.getId(rep)===r.bankRepresentative)return true;}).length)return true;});if(sw.length)thisCompanyVerification=true;}break;}}// if (thisCompanyVerification)\n\t//   return;\n\t}var value={};extend(value,val);value.document=document;addAndCheckShareable(value);});// Allow sharing non-verified forms\n\tverTypes.forEach(function(verType){var l=_this15.searchNotMessages({modelName:verType,notVerified:true});if(!l)return;l.forEach(function(r){var _rr3;var rr=(_rr3={},_defineProperty(_rr3,TYPE,VERIFICATION),_defineProperty(_rr3,'document',r),_defineProperty(_rr3,'organization',list[utils.getId(r.to)].value.organization),_rr3);addAndCheckShareable(rr);});});return shareableResources;// Allow sharing only the last version of the resource\n\tfunction addAndCheckShareable(verification){var r=verification.document;// Allow sharing only of resources that were filled out by me\n\t// if (utils.getId(r.from) !== utils.getId(me))\n\t//   return\n\tvar docType=r[TYPE];var v=shareableResources[docType];if(!v)shareableResources[docType]=[];else if(shareableResourcesRootToR[r[ROOT_HASH]]){var arr=shareableResources[r[TYPE]];for(var _i3=0;_i3<arr.length;_i3++){var _rr4=arr[_i3].document;if(r[ROOT_HASH]===_rr4[ROOT_HASH]){if(r.time<_rr4.time)return;else arr.splice(_i3,1);}}}// Check that this is not the resource that was send to me as to an employee\n\tif(utils.getId(r.to)!==meId){shareableResources[docType].push(verification);shareableResourcesRootToR[r[ROOT_HASH]]=r;}}},getNonce:function getNonce(){return crypto.randomBytes(32).toString('hex');},_putResourceInDB:function _putResourceInDB(params){var self=this;var modelName=params.type;var value=params.resource;var dhtKey=params.roothash;var isRegistration=params.isRegistration;var noTrigger=params.noTrigger;// Cleanup null form values\n\tfor(var p in value){if(!value[p]&&typeof value[p]==='undefined')delete value[p];}if(!value[TYPE])value[TYPE]=modelName;var model=this.getModel(modelName).value;var props=model.properties;var newLanguage;var isMessage=model.isInterface||model.interfaces&&model.interfaces.indexOf(MESSAGE)!=-1;var originalR=list[utils.getId(value)];var isNew=!value[ROOT_HASH]||!value[CUR_HASH]||!isMessage&&!originalR;if(value[TYPE]===SETTINGS){if(isNew){if(SERVICE_PROVIDERS_BASE_URL_DEFAULTS.includes(value.url))isNew=false;else{value[ROOT_HASH]=1;value[CUR_HASH]=1;}}if(!isNew&&(!value.urls||value.urls&&value.urls.indexOf(value.url)!==-1)){this.trigger({action:'addItem',resource:value,error:'The \"'+props.url.title+'\" was already added'});return;}}else if(isNew)value[CUR_HASH]=dhtKey;//isNew ? dhtKey : value[ROOT_HASH]\n\tvar batch=[];if(isNew){var creator=me?me:isRegistration?value:null;// if (creator)\n\t//   value[constants.OWNER] = this.buildRef(creator)\n\tif(value[TYPE]===ADDITIONAL_INFO){var verificationRequest=value.document;var vrId=utils.getId(verificationRequest);var vr=list[vrId].value;if(!vr.additionalInfo||!vr.additionalInfo.length)vr.additionalInfo=[];vr.additionalInfo.push(this.buildRef(value));batch.push({type:'put',key:vrId,value:vr});}}value.time=value.time||new Date().getTime();if(isMessage){var isForm=model.subClassOf===FORM;if(/*isNew  &&*/isForm){if(!value.sharedWith)value.sharedWith=[];value.sharedWith.push(this.createSharedWith(utils.getId(value.to),new Date().getTime()));}if(!isNew&&isForm){var prevRes=list[value[TYPE]+'_'+value[ROOT_HASH]+'_'+value[PREV_HASH]];if(prevRes){prevRes=prevRes.value;prevRes[NEXT_HASH]=value[CUR_HASH];utils.optimizeResource(prevRes);batch.push({type:'put',key:utils.getId(prevRes),value:prevRes});}}if(props['to']&&props['from'])self.addLastMessage(value,batch);}var iKey=utils.getId(value);//modelName + '_' + value[ROOT_HASH];\n\tbatch.push({type:'put',key:iKey,value:value});var mid;if(isRegistration){this.registration(value);return;}if(value[TYPE]===SETTINGS)return this.addSettings(value);var meId=utils.getId(me);db.batch(batch).then(function(){return db.get(iKey);}).then(function(value){self._setItem(iKey,value);if(isMessage){var toId=utils.getId(value.to);if(toId===meId)toId=utils.getId(value.from);var org=list[toId].value.organization;self.addMessagesToChat(utils.getId(org),value);}if(mid)self._setItem(MY_IDENTITIES,mid);else if(!isNew&&iKey===meId){if(me.language||value.language){if(value.language){if(!me.language||utils.getId(me.language)!==utils.getId(value.language))newLanguage=list[utils.getId(value.language)].value;}}extend(true,me,value);self.setMe(me);if(newLanguage){var lang=list[utils.getId(me.language)].value;value.languageCode=lang.code;db.put(iKey,value);me.language=lang;me.languageCode=lang.code;self.setMe(me);var urls=[];if(SERVICE_PROVIDERS){SERVICE_PROVIDERS.forEach(function(sp){if(urls.indexOf(sp.url)===-1)urls.push(sp.url);});return self.getInfo(urls);}}}}).then(function(){var params={action:newLanguage?'languageChange':'addItem',resource:value};// registration or profile editing\n\tif(!noTrigger){self.trigger(params);}if(model.subClassOf===FORM){var mlist=self.searchMessages({modelName:FORM});var olist=self.searchNotMessages({modelName:ORGANIZATION});self.trigger({action:'list',modelName:ORGANIZATION,list:olist,forceUpdate:true});}}).catch(function(err){if(!noTrigger){self.trigger({action:'addItem',error:err.message,resource:value});}err=err;});},addLastMessage:function addLastMessage(value,batch,sharedWith){var model=this.getModel(value[TYPE]).value;if(model.id===CUSTOMER_WAITING||model.id===SELF_INTRODUCTION)return;if(model.id===SIMPLE_MESSAGE&&value.message&&value.message==='[already published](tradle.Identity)')return;var to=list[utils.getId(value.to)].value;var toId=utils.getId(to);if(toId!==meId&&to.bot)to=list[utils.getId(to.organization)].value;var dn=void 0;var messageType=model.id;if(sharedWith){var sharedWithOrg=list[utils.getId(sharedWith.organization)].value;var orgName=utils.getDisplayName(to,this.getModel(ORGANIZATION).value.properties);if(model.subClassOf!==MY_PRODUCT&&model.subClassOf!==FORM)return;dn=translate('sharedForm',translate(model),orgName);sharedWithOrg.lastMessage=dn;sharedWithOrg.lastMessageTime=value.time;sharedWithOrg.lastMessageType=messageType;batch.push({type:'put',key:utils.getId(sharedWithOrg),value:sharedWithOrg});this.trigger({action:'list',list:this.searchNotMessages({modelName:ORGANIZATION}),forceUpdate:true});return;}var from=list[utils.getId(value.from)].value;var fromId=utils.getId(from);var meId=utils.getId(me);var isNew=!value[ROOT_HASH]||!list[utils.getId(value)];if(fromId!==meId&&from.bot)from=list[utils.getId(from.organization)].value;if(model.id===FORM_REQUEST&&value.product){var _m=this.getModel(value.product).value;if(_m.forms.indexOf(value.form)!==0)return;dn=translate('formRequest',translate(this.getModel(value.product).value));messageType=FINANCIAL_PRODUCT;}else if(model.id===VERIFICATION){var docType=utils.getId(value.document).split('_')[0];dn=translate('receivedVerification',translate(this.getModel(docType).value));}else if(model.subClassOf===MY_PRODUCT)dn=translate('receivedProduct',translate(model));else if(model.subClassOf===FORM){if(isNew)dn=translate('submittingForm',translate(model));else if(fromId!==meId)dn=translate('receivedForm',translate(model));else dn=translate('submittingModifiedForm',translate(model));}else{dn=value.message||utils.getDisplayName(value,model.properties);if(!dn)return;}var r=void 0;if(toId!==meId){r=to;to.lastMessage='You: '+dn;}else{r=from;from.lastMessage=dn;}r.lastMessageTime=value.time;r.lastMessageType=messageType;batch.push({type:'put',key:utils.getId(r),value:r});this.trigger({action:'list',list:this.searchNotMessages({modelName:ORGANIZATION}),forceUpdate:true});},registration:function registration(value){var _mid;var self=this;isLoaded=true;me=value;// meDriver = null\n\tvar pKey=utils.getId(me);var batch=[];var publishedIdentity=meDriver.identity;var mid=(_mid={},_defineProperty(_mid,TYPE,MY_IDENTITIES_TYPE),_defineProperty(_mid,'currentIdentity',pKey),_defineProperty(_mid,'allIdentities',[{id:pKey,title:utils.getDisplayName(value,models[me[TYPE]].value.properties),privkeys:me.privkeys,publishedIdentity:publishedIdentity}]),_mid);delete me.privkeys;batch.push({type:'put',key:pKey,value:me});batch.push({type:'put',key:MY_IDENTITIES,value:mid});///\n\tvar identity={};identity[ROOT_HASH]=me[ROOT_HASH];extend(true,identity,publishedIdentity);var iKey=IDENTITY+'_'+identity[ROOT_HASH];if(me.language){me.language=list[utils.getId(me.language)].value;me.languageCode=me.language.code;}batch.push({type:'put',key:iKey,value:identity});return db.batch(batch).then(function(){var params={action:'addItem',resource:value,me:value};self.setMe(me);return self.trigger(params);}).then(function(value){self._setItem(iKey,identity);self._setItem(pKey,me);if(mid)self._setItem(MY_IDENTITIES,mid);self.monitorTim();// return self.initIdentity(me)\n\t}).catch(function(err){err=err;});},addSettings:function addSettings(value){var self=this;var v=value.url;if(v.charAt(v.length-1)==='/')v=v.substring(0,v.length-1);var key=SETTINGS+'_1';var togo;return this.getInfo([v]).then(function(json){var settings=list[key];if(settings){var curVal=list[key].value;self._mergeItem(key,{urls:[].concat(_toConsumableArray(curVal.urls),[v])});}else{value.urls=SERVICE_PROVIDERS_BASE_URL_DEFAULTS.concat(v);self._setItem(key,value);}}).then(function(){// if (me)\n\t//   self.monitorTim()\n\tself.trigger({action:'addItem',resource:value});db.put(key,list[key].value);}).catch(function(err){self.trigger({action:'addItem',error:err.message,resource:value});});},forgetAndReset:function forgetAndReset(){var orgs=this.searchNotMessages({modelName:ORGANIZATION});var togo=orgs.length;var promises=[];var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=orgs[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var org=_step2.value;promises.push(this.onForgetMe(org,true));}}catch(err){_didIteratorError2=true;_iteratorError2=err;}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return();}}finally{if(_didIteratorError2){throw _iteratorError2;}}}return Q.all(promises).then(function(){// debugger\n\t// wait for all ForgotYou messages or timeout before changing the server url\n\tvar defer=Q.defer();setTimeout(function(){return defer.reject('forget me request was timed out');},10000);meDriver.on('message',onMessage);return defer.promise;function onMessage(meta){if(meta[TYPE]===FORGOT_YOU){if(--togo===0){meDriver.removeListener('message',onMessage);defer.resolve();}}}}).then(function(){// debugger\n\treturn meDriver.destroy();});},getFingerprint:function getFingerprint(r){var pubkeys=r.pubkeys;if(!pubkeys){// Choose any employee from the company to send the notification about the customer\n\tif(r[TYPE]===ORGANIZATION){// var secCodes = this.searchNotMessages({modelName: 'tradle.SecurityCode', to: r})\n\tvar employees=this.searchNotMessages({modelName:PROFILE,prop:'organization',to:r});if(employees){// RABOBANK case\n\t// if (secCodes) {\n\t//   var codes = [];\n\t//   secCodes.forEach(function(sc) {\n\t//     codes.push(sc.code)\n\t//   })\n\t//   for (var i=0; i<employees.length  &&  !pubkeys; i++) {\n\t//     if (employees[i].securityCode  && codes.indexOf(employees[i].securityCode) != -1) {\n\t//       pubkeys = list[IDENTITY + '_' + employees[i][ROOT_HASH]].pubkeys\n\t//     }\n\t//   }\n\t// }\n\t// // LLOYDS case\n\t// else\n\tpubkeys=list[IDENTITY+'_'+employees[0][ROOT_HASH]].pubkeys;}}}if(pubkeys){for(var i=0;i<pubkeys.length;i++){var key=pubkeys[i];if(key.purpose==='sign'&&key.type==='ec')return key.fingerprint;}}},// TODO: simplify getDriver to use this\n\tloadIdentityAndKeys:function loadIdentityAndKeys(me){var mePub=me[ROOT_HASH]?list[IDENTITY+'_'+me[ROOT_HASH]].value.pubkeys:me.pubkeys;var mePriv;var identity;var allMyIdentities=list[MY_IDENTITIES];if(allMyIdentities){var all=allMyIdentities.value.allIdentities;var curId=allMyIdentities.value.currentIdentity;all.some(function(id){if(id.id===curId){// currentIdentity = id\n\tmePriv=id.privkeys;identity=id.publishedIdentity;mePub=mePub||identity.pubkeys;return true;}});}if(mePub){var lookupKeys=Keychain?Keychain.lookupKeys(mePub):Q.resolve(mePriv.map(function(k){return tradleUtils.importKey(k);}));return Q.all([lookupKeys,utils.getPassword(ENCRYPTION_KEY)]).spread(function(keys,encryptionKey){return{keys:keys,encryptionKey:encryptionKey,identity:identity};});}return this.createNewIdentity().spread(function(encryptionKey,identityInfo){return _extends({},identityInfo,{encryptionKey:encryptionKey});});},getDriver:function getDriver(me){var _this16=this;if(driverPromise)return driverPromise;// var loadIdentityAndKeys\n\t// var allMyIdentities = list[MY_IDENTITIES]\n\t// var currentIdentity\n\t// var mePub = me[ROOT_HASH] ? list[IDENTITY + '_' + me[ROOT_HASH]].value.pubkeys : me.pubkeys\n\t// var mePriv\n\t// var publishedIdentity\n\t// if (allMyIdentities) {\n\t//   var all = allMyIdentities.value.allIdentities\n\t//   var curId = allMyIdentities.value.currentIdentity\n\t//   all.forEach(function(id) {\n\t//     if (id.id === curId) {\n\t//       currentIdentity = id\n\t//       mePriv = id.privkeys\n\t//       publishedIdentity = id.publishedIdentity\n\t//       mePub = mePub || publishedIdentity.pubkeys\n\t//     }\n\t//   })\n\t// }\n\t// // debugger\n\t// if (!mePub  &&  !mePriv) {\n\t//   // if (__DEV__  &&  !me.securityCode) {\n\t//   //   var profiles = {}\n\t//   //   var identities = {}\n\t//   //   myIdentity.forEach(function(r) {\n\t//   //     if (r[TYPE] == IDENTITY)\n\t//   //       identities[r[ROOT_HASH]] = r\n\t//   //     else\n\t//   //       profiles[r[ROOT_HASH]] = r\n\t//   //   })\n\t//   //   for (var hash in profiles) {\n\t//   //     if (!profiles[hash].securityCode  &&  me.firstName === profiles[hash].firstName) {\n\t//   //       var identity = identities[hash]\n\t//   //       mePub = identity.pubkeys  // hardcoded on device\n\t//   //       mePriv = identity.privkeys\n\t//   //       me[NONCE] = identity[NONCE]\n\t//   //       break\n\t//   //     }\n\t//   //   }\n\t//   // }\n\t//   let encryptionKey\n\t//   loadIdentityAndKeys = this.createNewIdentity()\n\t//   .spread((eKey, identityInfo) => {\n\t//     encryptionKey = eKey\n\t//     publishedIdentity = identityInfo.identity\n\t//     mePub = publishedIdentity.pubkeys\n\t//     mePriv = identityInfo.keys\n\t//     return encryptionKey\n\t//   })\n\t//   // const encryptionKey = crypto.randomBytes(32).toString('hex')\n\t//   // const globalSalt = crypto.randomBytes(32).toString('hex')\n\t//   // const genIdentity = Q.ninvoke(tradleUtils, 'newIdentity', {\n\t//   //     networkName,\n\t//   //     keys: KEY_SET\n\t//   //   })\n\t//   //   .then(identityInfo => {\n\t//   //     publishedIdentity = identityInfo.identity\n\t//   //     mePub = publishedIdentity.pubkeys\n\t//   //     mePriv = identityInfo.keys\n\t//   //   })\n\t//   // loadIdentityAndKeys = Q.all([\n\t//   //   utils.setPassword(ENCRYPTION_KEY, encryptionKey).then(() => encryptionKey),\n\t//   //   genIdentity\n\t//   // ])\n\t//   // .spread(encryptionKey => encryptionKey)\n\t//     // bringing it back!\n\t//     // if (__DEV__  &&  !keys.some((k) => k.type() === 'dsa')) {\n\t//     // if (!keys.some((k) => k.type() === 'dsa')) {\n\t//     //   keys.push(Keys.DSA.gen({\n\t//     //     purpose: 'sign'\n\t//     //   }))\n\t//     // }\n\t// }\n\t// else\n\t//   loadIdentityAndKeys = utils.getPassword(ENCRYPTION_KEY)\n\tif(me.language)language=list[utils.getId(me.language)]&&list[utils.getId(me.language)].value;return driverPromise=this.loadIdentityAndKeys(me).then(function(result){if(!Keychain){(function(){var privkeys=result.keys.map(function(k){return k.toJSON?k.toJSON(true):k;});var myIdentities=list[MY_IDENTITIES];if(myIdentities){(function(){myIdentities=myIdentities.value;var currentIdentity=myIdentities.currentIdentity;myIdentities.allIdentities.forEach(function(r){if(r.id===currentIdentity)r.privkeys=privkeys;});db.put(MY_IDENTITIES,myIdentities);})();}else me.privkeys=privkeys;// me['privkeys'] = result.keys.map(k => {\n\t//   return k.toJSON ? k.toJSON(true) : k\n\t// })\n\t})();}// if (!Keychain) me['privkeys'] = result.keys.map(k => k.toJSON(true))\n\tme[NONCE]=me[NONCE]||_this16.getNonce();// driverInfo.deviceID = result.deviceID\n\treturn _this16.buildDriver({identity:result.identity,keys:result.keys,encryption:{key:new Buffer(result.encryptionKey,'hex')}});}).then(function(node){// no need to wait for this to finish\n\t_push2.default.init({me:me,node:node,Store:_this16});return node;},function(err){debugger;throw err;});// .then(node => {\n\t//   if (!me.registeredForPushNotifications) {\n\t//     return utils.setupPushNotifications({ node })\n\t//       .then(() => Actions.updateMe({ registeredForPushNotifications: true }))\n\t//   } else {\n\t//     return utils.setupPushNotifications({ requestPermissions: false })\n\t//   }\n\t//   return node\n\t// })\n\t},createNewIdentity:function createNewIdentity(){var encryptionKey=crypto.randomBytes(32).toString('hex');// const globalSalt = crypto.randomBytes(32).toString('hex')\n\tvar genIdentity=Keychain?Keychain.generateNewSet({networkName:networkName}).then(function(keys){return Q.ninvoke(tradleUtils,'newIdentityForKeys',keys);}):Q.ninvoke(tradleUtils,'newIdentity',{networkName:networkName});return Q.all([utils.setPassword(ENCRYPTION_KEY,encryptionKey).then(function(){return encryptionKey;}),genIdentity]);},// makePublishingIdentity(me, pubkeys) {\n\t//   var meIdentity = new Identity()\n\t//                       .name({\n\t//                         firstName: me.firstName,\n\t//                         formatted: me.firstName + (me.lastName ? ' ' + me.lastName : '')\n\t//                       })\n\t//                       .set([NONCE], me[NONCE] || this.getNonce())\n\t//   if (me.isEmployee) {\n\t//     var org = this.buildRef(me.organization)\n\t//     meIdentity.set('organization', org)\n\t//   }\n\t//   pubkeys.forEach(meIdentity.addKey, meIdentity)\n\t//   return meIdentity.toJSON()\n\t// },\n\tpublishMyIdentity:function publishMyIdentity(orgRep){var _msg4;var self=this;var msg=(_msg4={},_defineProperty(_msg4,TYPE,IDENTITY_PUBLISHING_REQUEST),_defineProperty(_msg4,NONCE,self.getNonce()),_defineProperty(_msg4,'identity',meDriver.identity),_defineProperty(_msg4,'profile',{firstName:me.firstName}),_msg4);var key=IDENTITY+'_'+orgRep[ROOT_HASH];return meDriver.signAndSend({object:msg,to:{fingerprint:self.getFingerprint(list[key].value)}}).catch(function(err){debugger;});},// loadAddressBook() {\n\t//   return\n\t//   var self = this;\n\t//   return Q.ninvoke(AddressBook, 'checkPermission')\n\t//   .then(function(permission) {\n\t//     // AddressBook.PERMISSION_AUTHORIZED || AddressBook.PERMISSION_UNDEFINED || AddressBook.PERMISSION_DENIED\n\t//     if(permission === AddressBook.PERMISSION_UNDEFINED)\n\t//       return Q.ninvoke(AddressBook, 'requestPermission')\n\t//              .then(function(permission) {\n\t//                if (permission === AddressBook.PERMISSION_AUTHORIZED)\n\t//                  return self.storeContacts.bind(self);\n\t//              });\n\t//     else if (permission === AddressBook.PERMISSION_AUTHORIZED)\n\t//       return self.storeContacts()\n\t//     else if (permission === AddressBook.PERMISSION_DENIED) {\n\t//       //handle permission denied\n\t//       return\n\t//     }\n\t//   })\n\t// },\n\t// storeContacts() {\n\t//   var dfd = Q.defer();\n\t//   var self = this;\n\t//   var batch = [];\n\t//   var props = models[PROFILE].value.properties;\n\t//   AddressBook.getContacts(function(err, contacts) {\n\t//     contacts.forEach(function(contact) {\n\t//       var contactInfo = [];\n\t//       var newIdentity = {\n\t//         firstName: contact.firstName,\n\t//         lastName: contact.lastName,\n\t//         // formatted: contact.firstName + ' ' + contact.lastName,\n\t//         contactInfo: contactInfo\n\t//       };\n\t//       newIdentity[TYPE] = PROFILE;\n\t//       var me = list[MY_IDENTITIES];\n\t//       if (me)  {\n\t//         var currentIdentity = me.value.currentIdentity;\n\t//         newIdentity[constants.OWNER] = {\n\t//           id: currentIdentity,\n\t//           title: utils.getDisplayName(me, props)\n\t//         };\n\t//         // if (me.organization) {\n\t//         //   var photos = list[utils.getId(me.organization.id)].value.photos;\n\t//         //   if (photos)\n\t//         //     me.organization.photo = photos[0].url;\n\t//         // }\n\t//       }\n\t//       if (contact.thumbnailPath  &&  contact.thumbnailPath.length)\n\t//         newIdentity.photos = [{type: 'address book', url: contact.thumbnailPath}];\n\t//       var phoneNumbers = contact.phoneNumbers;\n\t//       if (phoneNumbers) {\n\t//         phoneNumbers.forEach(function(phone) {\n\t//           contactInfo.push({identifier: phone.number, type: phone.label + ' phone'})\n\t//         })\n\t//       }\n\t//       var emailAddresses = contact.emailAddresses;\n\t//       if (emailAddresses)\n\t//         emailAddresses.forEach(function(email) {\n\t//           contactInfo.push({identifier: email.email, type: email.label + ' email'})\n\t//         });\n\t//       newIdentity[ROOT_HASH] = sha(newIdentity);\n\t//       newIdentity[CUR_HASH] = newIdentity[ROOT_HASH];\n\t//       var key = PROFILE + '_' + newIdentity[ROOT_HASH];\n\t//       if (!list[key])\n\t//         batch.push({type: 'put', key: key, value: newIdentity});\n\t//     });\n\t//     if (batch.length)\n\t//       // identityDb.batch(batch, function(err, value) {\n\t//       db.batch(batch, function(err, value) {\n\t//         if (err)\n\t//           dfd.reject(err);\n\t//         else {\n\t//           self.loadMyResources()\n\t//           .then(function() {\n\t//             dfd.resolve();\n\t//           })\n\t//         }\n\t//       });\n\t//     else\n\t//       dfd.resolve();\n\t//   })\n\t//   return dfd.promise;\n\t// },\n\tmonitorTim:function monitorTim(){var self=this;// meDriver.ready()\n\t// .then(function() {\n\t//   console.log(meDriver.name(), 'is ready')\n\t// d.publishMyIdentity()\n\t// meDriver.identities().createReadStream()\n\t// .on('data', function (data) {\n\t//   console.log(data)\n\t// })\n\t//   var key = PROFILE + '_' + data.key\n\t//   var v;\n\t//   if (me  &&  data.key == me[ROOT_HASH])\n\t//     v = me\n\t//   else {\n\t//     if (list[key])\n\t//       v = list[key].value\n\t//     else\n\t//       v = {}\n\t//   }\n\t//   var val = data.value.identity\n\t//   val[ROOT_HASH] = data.value[ROOT_HASH]\n\t//   val[CUR_HASH] = data.value[CUR_HASH]\n\t//   var name = val.name;\n\t//   delete val.name\n\t//   for (var p in name)\n\t//     val[p] = name[p]\n\t//   extend(v, val)\n\t//   db.put(key, v)\n\t//   .then(function() {\n\t//     list[key] = {\n\t//       key: key,\n\t//       value: v\n\t//     }\n\t//     if (v.securityCode)\n\t//       employees[data.value.securityCode] = data.value\n\t//   })\n\t// })\n\t// var ellens = 0\n\t// meDriver.messages().createValueStream()\n\t// .on('data', function (data) {\n\t//   meDriver.lookupObject(data)\n\t//   .then(function (obj) {\n\t//     // return\n\t//     console.log('from msgs.db', obj)\n\t//     // self.putInDb(obj)\n\t//     // console.log('msg', obj)\n\t//   })\n\t// })\n\t// Object was successfully read off chain\n\tmeDriver.on('readseal',function(seal){var link=seal.link;meDriver.objects.get(link).then(function(obj){if(obj.object[TYPE]===IDENTITY&&obj.link===meDriver.link){return;}var wrapper=_extends({},seal,obj);save(wrapper);});function save(wrapper){// return\n\tvar getFromTo=wrapper.type==='tradle.Message'?Q(wrapper):getAuthorForObject(wrapper);return getFromTo.then(function(msgInfo){wrapper.from=_defineProperty({},ROOT_HASH,msgInfo.author);wrapper.to=_defineProperty({},ROOT_HASH,msgInfo.recipient);wrapper=utils.toOldStyleWrapper(wrapper);if(!wrapper.objectinfo){wrapper.objectinfo=tradleUtils.pick(wrapper,'author','type','link','permalink','prevlink');}return self.putInDb(wrapper);}).catch(function(err){console.error('unable to get message for object',wrapper);debugger;});}function getAuthorForObject(wrapper){// objects don't really have a from/to\n\t// so this will need to be redesigned\n\tvar msgStream=meDriver.objects.messagesWithObject({permalink:wrapper.permalink,link:link});return Q.all([meDriver.addressBook.lookupIdentity({permalink:wrapper.author}),Q.nfcall(collect,msgStream)]).spread(function(authorInfo,messages){var match=messages.filter(function(m){return m.author===authorInfo.permalink;})[0];// if (!match) throw new Error('unable to get message for object')\n\tif(!match){console.error('unable to get message for object',wrapper);throw new Error('unable to get message for object');}return match;});}});// meDriver.on('unchained-self', function (info) {\n\t//   console.log('unchained self!')\n\t//   // meDriver.lookupObject(info)\n\t//   // .then(function(obj) {\n\t//   //   // return\n\t//     return self.updateMe()\n\t//   // })\n\t//   // .catch(function (err) {\n\t//   //   debugger\n\t//   // })\n\t// })\n\tmeDriver.on('error',function(err){debugger;console.log(err);});meDriver.on('sent',function(msg){var obj=utils.toOldStyleWrapper(msg);var model=self.getModel(obj[TYPE]).value;var isForm=model.subClassOf===FORM;// if (isForm  ||  model.id === PRODUCT_APPLICATION) {\n\tvar key=obj[TYPE]+'_'+obj[ROOT_HASH]+(isForm?'_'+obj[CUR_HASH]:'');var r=list[key];if(r){r=r.value;self.trigger({action:'updateItem',sendStatus:SENT,resource:r});r._sendStatus=SENT;db.put(key,r);}// var o = {}\n\t// extend(o, obj)\n\t// var from = o.from\n\t// o.from = o.to\n\t// o.to = from\n\t// o.txId = Math.random() + '';\n\t// setTimeout(() => {\n\t//   self.putInDb(o)\n\t// }, 5000);\n\t// }\n\tself.maybeWatchSeal(msg);});meDriver.on('message',function(msg){if(msg.object.object[TYPE]===MESSAGE){return;}var old=utils.toOldStyleWrapper(msg);old.to=_defineProperty({},ROOT_HASH,meDriver.permalink);self.putInDb(old,true).then(function(){self.trigger({action:'receivedMessage',msg:msg});},function(err){console.error(err);debugger;});self.maybeWatchSeal(msg);});// })\n\t// return meDriver.ready()\n\t},maybeWatchSeal:function maybeWatchSeal(msg){var payload=msg.object.object;var type=payload[TYPE];var model=this.getModel(type);if(!model)return;model=model.value;var sup=model.subClassOf;var link=void 0;if(type===IDENTITY_PUBLISHING_REQUEST){link=protocol.linkString(payload.identity);}else{switch(sup){case FORM:case MY_PRODUCT:case VERIFICATION:link=protocol.linkString(payload);break;default:return;}}var otherGuy=msg.author===meDriver.permalink?msg.recipient:msg.author;return meDriver.addressBook.lookupIdentity({permalink:otherGuy}).then(function(identityInfo){var chainPubKey=tradleUtils.chainPubKey(identityInfo.object);return meDriver.watchSeal({link:link,basePubKey:chainPubKey});}).catch(function(err){console.error(err);debugger;});// meDriver.watchSeal({\n\t//   link: msg.link,\n\t//   basePubKey: msg.object.recipientPubKey\n\t// }).done()\n\t},// updateMe() {\n\t//   db.put(utils.getId(me), me)\n\t// },\n\tputInDb:function putInDb(obj,onMessage){return this._putInDb(obj,onMessage)||Q();},_putInDb:function _putInDb(obj,onMessage){var _this17=this;// defensive copy\n\tvar self=this;var val=extend(true,{},obj.parsed.data);if(!val)return;val[ROOT_HASH]=val[ROOT_HASH]||obj[ROOT_HASH];val[CUR_HASH]=obj[CUR_HASH];var fromId=obj.objectinfo?obj.objectinfo.author:obj.txId?obj.from[ROOT_HASH]:null;fromId=PROFILE+'_'+fromId;var from=list[fromId].value;var me=utils.getMe();if(utils.getId(me)===fromId)val.time=val.time||obj.timestamp;else{val.time=new Date().getTime();val.sentTime=val.time||obj.timestamp;}// var from = list[PROFILE + '_' + obj.from[ROOT_HASH]].value\n\tvar type=val[TYPE];if(type===FORGET_ME){// Alert.alert(\"Received ForgetMe from \" + obj.from[ROOT_HASH])\n\tthis.forgetMe(from);return;}if(onMessage&&val[TYPE]===FORGOT_YOU){// this.trigger({action: 'messageList', to: me})\n\tthis.forgotYou(from);return;}var isConfirmation;var model=this.getModel(type)&&this.getModel(type).value;if(!model){if(val.message&&val.message.indexOf('Congratulations! You were approved for: ')!=-1){isMessage=true;type=SIMPLE_MESSAGE;val[TYPE]=type;model=models[SIMPLE_MESSAGE].value;isConfirmation=true;}else return;}if(obj.txId)val.txId=obj.txId;val.permissionKey=obj.permissionKey;var key=utils.getId(val);var batch=[];var representativeAddedTo,noTrigger;// var isServiceMessage\n\tif(model.id===IDENTITY)representativeAddedTo=this.putIdentityInDB(val,batch);else{var isMessage=model.interfaces&&model.interfaces.indexOf(MESSAGE)!=-1;if(isMessage){noTrigger=this.putMessageInDB(val,obj,batch,onMessage);if(type===VERIFICATION)return;}}if(model.subClassOf===MY_PRODUCT)val.sharedWith=[this.createSharedWith(utils.getId(val.from.id),new Date().getTime())];self._mergeItem(key,val);var retParams={action:isMessage?'messageList':'list'};var resultList;if(isMessage){var toId=PROFILE+'_'+obj.to[ROOT_HASH];var meId=PROFILE+'_'+me[ROOT_HASH];var isSelfIntroduction=model.id===SELF_INTRODUCTION;var id=!isSelfIntroduction&&toId===meId?fromId:toId;var to=list[id].value;if(!noTrigger){if(to.organization){var org=list[utils.getId(to.organization)].value;resultList=this.searchMessages({to:org,modelName:MESSAGE});}else resultList=this.searchMessages({to:to,modelName:MESSAGE});retParams.list=resultList;var shareableResources=this.getShareableResources(resultList,to);if(shareableResources)retParams.shareableResources=shareableResources;retParams.resource=to;}// if (to.organization) {\n\t//    if (!to.bot)\n\t//     retParams.isEmployee = true\n\t// }\n\t}else if(!onMessage&&val[TYPE]!=PROFILE){resultList=this.searchNotMessages({modelName:val[TYPE]});retParams.list=resultList;}return db.batch(batch).then(function(){// if (onMessage  &&  val[TYPE] === FORGOT_YOU) {\n\t//   this.forgotYou(from)\n\t// }\n\t// else\n\tif(model.id===PRODUCT_LIST){// var orgList = this.searchNotMessages({modelName: ORGANIZATION})\n\t// this.trigger({action: 'list', list: orgList, forceUpdate: true})\n\t_this17.trigger({action:'getItem',resource:list[utils.getId(from.organization)].value});}if(isConfirmation){var _msg5;var fOrg=from.organization;var org=fOrg?list[utils.getId(fOrg)].value:null;var msg=(_msg5={message:me.firstName+' is waiting for the response'},_defineProperty(_msg5,TYPE,constants.TYPES.CUSTOMER_WAITING),_defineProperty(_msg5,'from',me),_defineProperty(_msg5,'to',org),_defineProperty(_msg5,'time',new Date().getTime()),_msg5);_this17.onAddMessage(msg,true);}else if(isMessage&&!noTrigger)_this17.trigger({action:'addItem',resource:val});else if(representativeAddedTo&&!triggeredOrgs){var orgList=_this17.searchNotMessages({modelName:ORGANIZATION});_this17.trigger({action:'list',list:orgList,forceUpdate:true});}//       else\n\t// this.trigger(retParams)\n\t});},putIdentityInDB:function putIdentityInDB(val,batch){var profile={};// var me = utils.getMe()\n\tif(val.name){for(var p in val.name){profile[p]=val.name[p];}delete val.name;}if(val.location){for(var p in val.location){profile[p]=val.location[p];}delete val.location;}extend(true,profile,val);profile[TYPE]=PROFILE;delete profile.pubkeys;delete profile.v;var key=utils.getId(val);var profileKey=utils.getId(profile);var v=list[key]?list[profileKey].value:null;if(!v&&me&&val[ROOT_HASH]===me[ROOT_HASH])v=me;if(v){var vv={};extend(vv,v);extend(vv,profile);profile=vv;}var org;if(val.organization){// if (val.organization.title === 'Rabobank'  &&  val.securityCode)\n\t//   return\n\torg=list[utils.getId(val.organization)]&&list[utils.getId(val.organization)].value;if(org){profile.organization=val.organization;delete val.organization;}}batch.push({type:'put',key:profileKey,value:profile});this._setItem(profileKey,profile);var representativeAddedTo;batch.push({type:'put',key:key,value:val});if(org){var doAdd;if(!org.contacts)doAdd=true;else{var i=0;for(;i<org.contacts.length;i++){if(org.contacts[i][ROOT_HASH]===key)break;}doAdd=i!==org.contacts.length;}if(doAdd){var representative={id:key,title:val.formatted||val.firstName};var oo={};extend(oo,org);if(!oo.contacts)oo.contacts=[];oo.contacts.push(representative);var orgKey=utils.getId(org);this._setItem(orgKey,oo);batch.push({type:'put',key:orgKey,value:oo});representativeAddedTo=org[ROOT_HASH];}}return representativeAddedTo;},putMessageInDB:function putMessageInDB(val,obj,batch,onMessage){var _this18=this;var fromProfile=PROFILE+'_'+(obj.objectinfo?obj.objectinfo.author:obj.from[ROOT_HASH]);var fromR=list[fromProfile];if(!fromR){var _value;if(val[TYPE]!==SELF_INTRODUCTION)return;var name=val.name||val.identity.name&&val.identity.name.formatted;fromR={key:fromProfile,value:(_value={},_defineProperty(_value,TYPE,PROFILE),_defineProperty(_value,ROOT_HASH,obj.objectinfo.author),_defineProperty(_value,'firstName',name?name.charAt(0).toUpperCase()+name.slice(1):'NewCustomer'+Object.keys(list).length),_value)};}var key=utils.getId(val);var from=fromR.value;// if (me  &&  from[ROOT_HASH] === me[ROOT_HASH])\n\t//   return\n\tvar to=list[PROFILE+'_'+obj.to[ROOT_HASH]].value;var fOrg=me&&from[ROOT_HASH]===me[ROOT_HASH]?to.organization:from.organization;var org=fOrg?list[utils.getId(fOrg)].value:null;if(onMessage){var profileModel=this.getModel(PROFILE).value;val.from={id:utils.getId(from),title:from.formatted||from.firstName};val.to={id:utils.getId(to),title:to.formatted||to.firstName};// self.fillFromAndTo(obj, val)\n\t}else{var inDB=list[key].value;val.from=inDB.from;val.to=inDB.to;}// if (onMessage  &&  val[TYPE] === FORGOT_YOU) {\n\t//   this.forgotYou(from)\n\t//   return\n\t// }\n\tvar isProductList=val[TYPE]===PRODUCT_LIST;var noTrigger;if(isProductList){var pList=val.list;// var fOrg = obj.from.identity.toJSON().organization\n\t// org = list[utils.getId(fOrg)].value\n\torg.products=[];pList.forEach(function(m){_this18.addNameAndTitleProps(m);models[m.id]={key:m.id,value:m};if(m.subClassOf===FINANCIAL_PRODUCT)org.products.push(m.id);_this18.addVerificationsToFormModel(m);if(!m[ROOT_HASH])m[ROOT_HASH]=sha(m);batch.push({type:'put',key:m.id,value:m});});utils.setModels(models);var orgId=utils.getId(org);list[orgId].value=org;batch.push({type:'put',key:utils.getId(org),value:org});noTrigger=this.hasNoTrigger(orgId);}if(!val.time)val.time=obj.timestamp;var type=val[TYPE];var model=this.getModel(type)&&this.getModel(type).value;var isVerification=type===VERIFICATION||model&&model.subClassOf===VERIFICATION;if(isVerification){this.onAddVerification(val,false,true);// if (!val.txId) {\n\t//   var o = {}\n\t//   extend(o, obj)\n\t//   o.txId = Math.random() + '';\n\t//   setTimeout(() => {\n\t//     self.putInDb(o)\n\t//   }, 5000);\n\t// }\n\treturn;}if(!isProductList){//   if (!from.lastMessageTime || (new Date() - from.lastMessageTime) > WELCOME_INTERVAL)\n\t//     batch.push({type: 'put', key: key, value: val})\n\t// }\n\t// else {\n\tif(val[TYPE]===MY_EMPLOYEE_PASS){to.isEmployee=true;to.organization=this.buildRef(org);this.setMe(to);batch.push({type:'put',key:utils.getId(to),value:to});}this.addLastMessage(val,batch);}if(list[key]){var v={};extend(true,v,val);this._setItem(key,v);}this.addMessagesToChat(utils.getId(org?org:from),val);batch.push({type:'put',key:key,value:val});return noTrigger;},// if the last message showing was PRODUCT_LIST. No need to re-render\n\thasNoTrigger:function hasNoTrigger(orgId){var messages=chatMessages[orgId];if(!messages)return false;var i=messages.length-1;var type=void 0;// Skip all SELF_INTRODUCTION messages since they are not showing anyways on customer screen\n\tfor(;i>=0;i--){type=messages[i].id.split('_')[0];if(type!==SELF_INTRODUCTION)break;}if(type===PRODUCT_LIST)return true;// Don't trigger re-rendering the list if the current and previous messages were of PRODUCT_LIST type\n\treturn false;},fillFromAndTo:function fillFromAndTo(obj,val){var whoAmI=obj.parsed.data._i.split(':')[0];var from=list[PROFILE+'_'+obj.objectinfo.author].value;var to=list[PROFILE+'_'+obj.to[ROOT_HASH]].value;if(whoAmI!==from[ROOT_HASH]){var _ref2=[to,from];// swap from and to\n\tfrom=_ref2[0];to=_ref2[1];}val.to={id:utils.getId(to),title:to.formatted||to.firstName};val.from={id:utils.getId(from),title:from.formatted||from.firstName};},addNameAndTitleProps:function addNameAndTitleProps(m,aprops){var mprops=aprops||m.properties;for(var p in mprops){if(p.charAt(0)==='_')continue;if(!mprops[p].name)mprops[p].name=p;if(!mprops[p].title)mprops[p].title=utils.makeLabel(p);if(mprops[p].type==='array'){var aprops=mprops[p].items.properties;if(aprops)this.addNameAndTitleProps(m,aprops);}}},addVerificationsToFormModel:function addVerificationsToFormModel(m){if(m.subClassOf!==FORM||m.verifications)return;m.properties.verifications={type:'array',readOnly:true,title:'Verifications',name:'verifications',items:{backlink:'document',ref:VERIFICATION}};},loadMyResources:function loadMyResources(){var _this19=this;var self=this;var myId=sampleData.getMyId();if(myId)myId=PROFILE+'_'+myId;// console.time('dbStream')\n\tvar orgContacts={};return utils.dangerousReadDB(db).then(function(results){if(!results.length)return self.loadModels();results.forEach(function(data){if(data.value==null)return;if(data.value.type===MODEL){models[data.key]=data;self.setPropertyNames(data.value.properties);return;}isLoaded=true;if(!myId&&data.key===MY_IDENTITIES){myId=data.value.currentIdentity;if(list[myId])me=list[myId].value;}if(!me&&myId&&data.key==myId)me=data.value;if(data.value[TYPE]===PROFILE){if(data.value.securityCode)employees[data.value.securityCode]=data.value;if(data.value.organization){if(!orgContacts[utils.getId(data.value.organization)])orgContacts[utils.getId(data.value.organization)]=[];var c=orgContacts[utils.getId(data.value.organization)];c.push(self.buildRef(data.value));}}self._setItem(data.key,data.value);});var sameContactList={};for(var p in orgContacts){if(!list[p])continue;var org=list[p].value;if(!org.contacts||org.contacts.length!==orgContacts[p].length){org.contacts=orgContacts[p];continue;}var newContact;orgContacts[p].forEach(function(c){var i=0;for(;i<org.contacts.length;i++){var id=utils.getId(org.contacts[i]);if(c[constants.TYPE]+'_'+c[constants.ROOT_HASH]===id)break;}if(i!==org.contacts.length)newContact=true;});if(newContact)org.contacts=orgContacts[p];else sameContactList[p]=p;}_this19.loadStaticData();for(var s in sameContactList){delete orgContacts[s];}if(!utils.isEmpty(orgContacts)){var results=_this19.searchNotMessages({modelName:constants.TYPES.ORGANIZATION});self.trigger({action:'list',list:results});}console.log('Stream ended');// console.timeEnd('dbStream')\n\t// if (me)\n\t//   utils.setMe(me);\n\tvar noModels=utils.isEmpty(models);if(noModels)return self.loadModels();if(me&&(!list[me[TYPE]+'_'+me[ROOT_HASH]]||!list[IDENTITY+'_'+me[ROOT_HASH]]))me=null;console.log('Stream closed');utils.setModels(models);}).then(function(){if(me&&utils.isEmpty(chatMessages))_this19.initChats();_this19._loadedResourcesDefer.resolve();}).catch(function(err){debugger;console.error('err:'+err);});},// Received by employee/bot request from customer. And all the customer resources on FI side gets deleted\n\tforgetMe:function forgetMe(resource){var self=this;var result=this.searchMessages({modelName:MESSAGE,to:resource,isForgetting:true});var batch=[];var ids=[];result.forEach(function(r){var id=utils.getId(r);batch.push({type:'del',key:id});ids.push(id);});var id=utils.getId(resource);ids.push(id);batch.push({type:'del',key:id});return db.batch(batch).then(function(){ids.forEach(function(id){self.deleteMessageFromChat(utils.getId(resource),list[id].value);delete list[id];});self.trigger({action:'messageList',modelName:MESSAGE,forgetMeFromCustomer:true});return meDriver.signAndSend({object:_defineProperty({},TYPE,FORGOT_YOU),to:{permalink:resource[ROOT_HASH]}});}).catch(function(err){debugger;});},// Cleanup and notify customer that FI successfully forgotten him\n\tforgotYou:function forgotYou(resource){var _msg6;var self=this;var org=list[utils.getId(resource.organization)].value;var orgId=utils.getId(org);var msg=(_msg6={},_defineProperty(_msg6,TYPE,FORGOT_YOU),_defineProperty(_msg6,NONCE,this.getNonce()),_defineProperty(_msg6,'message',translate('youAreForgotten')),_defineProperty(_msg6,'from',this.buildRef(org)),_defineProperty(_msg6,'to',this.buildRef(me)),_msg6);msg.id=sha(msg);var reps=this.getRepresentatives(utils.getId(org));var promises=[];reps.forEach(function(r){return promises.push(meDriver.forget(r[ROOT_HASH]));});var batch=[];return Q.allSettled(promises).then(function(result){result.forEach(function(data){if(data.state!=='fulfilled')return;data.value.forEach(function(r){r=utils.toOldStyleWrapper(r);var rId=utils.getId(r);var res=list[rId]&&list[rId].value;if(!res){var idx=r[TYPE].indexOf('Confirmation');if(idx===-1)return;var realProductType=r[TYPE].substring(0,r[TYPE].length-'Confirmation'.length);var _m2=utils.getModel(realProductType);if(!_m2||_m2.value.subClassOf!==FINANCIAL_PRODUCT)return;// This is confirmation for getting the product\n\trId=SIMPLE_MESSAGE+'_'+r[ROOT_HASH];res=list[rId];if(!res)return;res=res.value;r=res;}var isVerification=r[TYPE]===VERIFICATION;var model=self.getModel(r[TYPE]).value;var isForm=!isVerification&&model.subClassOf===FORM;var deleted=!(res.sharedWith&&res.sharedWith.length>1);if(!deleted){var fromId=utils.getId(res.from);var toId=utils.getId(res.to);var sharedWith=res.sharedWith||[];var sharedWithKeys=sharedWith.map(function(r){return r.bankRepresentative;});reps.forEach(function(r){var rId=utils.getId(r);var idx=sharedWithKeys.indexOf(rId);if(idx!==-1)sharedWith.splice(idx,1);});utils.optimizeResource(res);batch.push({type:'put',key:rId,value:res});}if(isVerification){// var myVerifications = me.myVerifications.filter(function(r) {\n\t//   var verification = list[utils.getId(r)]\n\t//   if (!verification)\n\t//     return false\n\t//   verification = verification.value\n\t//   return utils.getId(verification) === rId ? false : true\n\t// })\n\t// if (myVerifications.length != me.myVerifications.length) {\n\t//   me.myVerifications = myVerifications\n\t//   batch.push({type: 'put', key: utils.getId(me), value: me})\n\t// }\n\t// Cleanup form from the deleted verification\n\tif(deleted){var docPair=list[utils.getId(res.document)];if(docPair){var doc=list[utils.getId(res.document)].value;if(doc.verifications){var verifications=doc.verifications.filter(function(r){return utils.getId(r)===rId?false:true;});if(doc.verifications.length!=verifications.length){doc.verifications=verifications;utils.optimizeResource(doc);for(var i=0;i<data.length;i++){if(data[i][ROOT_HASH]===doc[ROOT_HASH]&&!data[i].deleted)batch.push({type:'put',key:utils.getId(doc),value:doc});}}}}}}if(deleted){if(res.sharedWith){res.sharedWith.forEach(function(r){var org=list[r.bankRepresentative].value.organization;// self.deleteMessageFromChat(utils.getId(org), res)\n\t});}delete list[rId];// self.deleteMessageFromChat(orgId, r)\n\tbatch.push({type:'del',key:rId});}});});self.trigger({action:'messageList',list:[msg],resource:org});chatMessages[orgId]=[];return db.batch(batch);}).then(function(){var result=self.searchMessages({to:org,modelName:MESSAGE,isForgetting:true});batch=[];if(result)result.forEach(function(r){var doDelete=r[TYPE]===SELF_INTRODUCTION||r[TYPE]===SIMPLE_MESSAGE&&r.message&&r.message.indexOf('Congratulations')===0;if(doDelete){var id=utils.getId(r);batch.push({type:'del',key:id});delete list[id];}});// resource.numberOfForms = 0\n\t// reps.forEach((r) => {\n\t//   r.lastMessageTime = null\n\t//   r.lastMessage = null\n\t//   delete publishRequestSent[utils.getId(r.organization)]\n\t// })\n\tdelete publishRequestSent[orgId];org.lastMessage=null;org.lastMessageTime=null;org.lastMessageType=null;self.trigger({action:'list',list:self.searchNotMessages({modelName:ORGANIZATION,to:org})});batch.push({type:'put',key:orgId,value:org});if(batch.length)return db.batch(batch);}).catch(function(err){debugger;});},cleanup:function cleanup(result){var self=this;if(!result.length)return Q();var batch=[];var docs=[];result.forEach(function(r){batch.push({type:'del',key:utils.getId(r),value:r});});return db.batch(batch).then(function(){result.forEach(function(r){if(this.getModel(r[TYPE]).value.interfaces){var id=utils.getId(r.from)===meId?utils.getId(r.from):utils.getId(r.to);var rep=list[id].value;var orgId=rep.organization?utils.getId(rep.organization):utils.getId(rep);self.deleteMessageFromChat(orgId,r);}delete list[utils.getId(r)];});}).catch(function(err){err=err;});},onTalkToRepresentative:function onTalkToRepresentative(resource,org){var _msg8;var self=this;var orgRep=resource[TYPE]===ORGANIZATION?this.getRepresentative(utils.getId(resource)):resource;if(!orgRep){var _msg7;var msg=(_msg7={},_defineProperty(_msg7,TYPE,SIMPLE_MESSAGE),_defineProperty(_msg7,NONCE,this.getNonce()),_defineProperty(_msg7,'message','All representatives are currently assisting other customers. Please try again later'),_msg7);msgFrom.from=this.buildRef(resource);msgFrom.to=this.buildRef(me);msg.id=sha(msg);result.push(msg);self.trigger({action:'messageList',list:result,resource:resource});return;}var result=self.searchMessages({to:resource,modelName:MESSAGE});var msg=(_msg8={},_defineProperty(_msg8,TYPE,SIMPLE_MESSAGE),_defineProperty(_msg8,NONCE,this.getNonce()),_defineProperty(_msg8,'message','Representative will be with you shortly. Please tell us how can we help you today?'),_msg8);msgFrom.from=this.buildRef(resource);msgFrom.to=this.buildRef(me);msg.id=sha(msg);result.push(msg);self.trigger({action:'messageList',list:result,resource:resource});var key=IDENTITY+'_'+orgRep[ROOT_HASH];return meDriver.signAndSend({object:msg,to:{fingerprint:self.getFingerprint(list[key].value)}});},onForgetMe:function onForgetMe(resource,noTrigger){var _msg9,_this20=this;// var me = utils.getMe()\n\tvar msg=(_msg9={},_defineProperty(_msg9,TYPE,FORGET_ME),_defineProperty(_msg9,NONCE,this.getNonce()),_msg9);var rId=utils.getId(resource);var orgReps=resource[TYPE]===ORGANIZATION?this.getRepresentatives(rId):[resource];var promises=[];var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=orgReps[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var rep=_step3.value;promises.push(meDriver.signAndSend({object:msg,to:{fingerprint:this.getFingerprint(list[IDENTITY+'_'+rep[ROOT_HASH]].value)}}));}}catch(err){_didIteratorError3=true;_iteratorError3=err;}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return){_iterator3.return();}}finally{if(_didIteratorError3){throw _iteratorError3;}}}return Q.all(promises).then(function(results){if(noTrigger)return;// var result = this.searchMessages({to: resource, modelName: MESSAGE});\n\tmsg[ROOT_HASH]=results[0].object.permalink;msg.message=translate('inProgress');// reverse to and from to display as from assistent\n\tmsg.from=_this20.buildRef(list[PROFILE+'_'+results[0].message.recipient].value);msg.to=_this20.buildRef(me);var mId=utils.getId(msg);list[mId]={key:mId,value:msg};var batch=[];_this20.addMessagesToChat(utils.getId(rId),msg);batch.push({type:'put',key:mId,value:msg});// result.push(msg)\n\t_this20.trigger({action:'addMessage',to:resource,resource:msg});resource.lastMessage=translate('requestedForgetMe');resource.lastMessageTime=new Date().getTime();resource.lastMessageType=FORGET_ME;_this20.trigger({action:'list',list:_this20.searchNotMessages({modelName:ORGANIZATION}),forceUpdate:true});batch.push({type:'put',key:rId,value:resource});db.batch(batch);}).catch(function(err){debugger;});},// Devices one\n\tonGenPairingData:function onGenPairingData(){if(!SERVICE_PROVIDERS){this.trigger({action:'genPairingData',error:'Can\\'t connect to server'});return;}var pairingData={nonce:crypto.randomBytes(32).toString('base64'),identity:meDriver.link,firstName:me.firstName,rendezvous:{url:SERVICE_PROVIDERS[0].url+'/'+SERVICE_PROVIDERS[0].id}};var dbPairingData=utils.clone(pairingData);dbPairingData[TYPE]=PAIRING_DATA;// db.put(PAIRING_DATA + '_1', pairingData)\n\tlist[PAIRING_DATA+'_1']={key:PAIRING_DATA+'_1',value:dbPairingData};this.trigger({action:'genPairingData',pairingData:JSON.stringify(pairingData)});},onSendPairingRequest:function onSendPairingRequest(pairingData){var _this21=this;// device 2 sends pairing request\n\tvar publishedIdentity=void 0;var deviceId=void 0;var myIdentities=list[MY_IDENTITIES];if(myIdentities){myIdentities=myIdentities.value;publishedIdentity=myIdentities.allIdentities[0].publishedIdentity;deviceId=list[IDENTITY+'_'+pairingData.identity].value.deviceId;}var promise=myIdentities?Q():this.createNewIdentity();// : Q.ninvoke(tradleUtils, 'newIdentity', {\n\t//       networkName,\n\t//       keys: KEY_SET\n\t//   })\n\treturn promise.spread(function(encryptionKey,identityInfo){var _myIdentities,_profile3,_identity2;if(!identityInfo)return;publishedIdentity=identityInfo.identity;var mePub=publishedIdentity.pubkeys;var mePriv=identityInfo.keys;var currentIdentity=PROFILE+'_'+pairingData.identity;var myIdentities=(_myIdentities={},_defineProperty(_myIdentities,TYPE,MY_IDENTITIES_TYPE),_defineProperty(_myIdentities,'currentIdentity',currentIdentity),_defineProperty(_myIdentities,'allIdentities',[{id:currentIdentity,// title: utils.getDisplayName(value, models[me[TYPE]].value.properties),\n\tprivkeys:mePriv,publishedIdentity:publishedIdentity}]),_myIdentities);var profile=(_profile3={},_defineProperty(_profile3,TYPE,PROFILE),_defineProperty(_profile3,ROOT_HASH,pairingData.identity),_defineProperty(_profile3,'firstName',pairingData.firstName),_defineProperty(_profile3,'formatted',pairingData.firstName),_profile3);deviceId=identityInfo.link;var identity=(_identity2={},_defineProperty(_identity2,TYPE,IDENTITY),_defineProperty(_identity2,ROOT_HASH,pairingData.identity),_defineProperty(_identity2,'pubkeys',mePub),_defineProperty(_identity2,'deviceId',deviceId),_identity2);var batch=[];list[currentIdentity]={key:currentIdentity,value:profile};var identityId=utils.getId(identity);list[identityId]={key:identityId,value:identity};list[MY_IDENTITIES]={key:MY_IDENTITIES,value:myIdentities};batch.push({type:'put',key:MY_IDENTITIES,value:myIdentities});batch.push({type:'put',key:currentIdentity,value:profile});batch.push({type:'put',key:utils.getId(identity),value:identity});db.batch(batch);}).then(function(){var _pairingReq;var pairingReq=(_pairingReq={},_defineProperty(_pairingReq,TYPE,PAIRING_REQUEST),_defineProperty(_pairingReq,'identity',publishedIdentity),_pairingReq);var hmac=crypto.createHmac('sha256',pairingData.nonce);hmac.update(tradleUtils.stringify(pairingReq));pairingReq.auth=hmac.digest('base64');var url=pairingData.rendezvous.url;var transport=driverInfo.wsClients[url];if(!transport){var wsClient=_this21.getWsClient(url,deviceId);transport=_this21.getTransport(wsClient,deviceId);driverInfo.wsClients[url]=transport;}var self=_this21;transport.on('message',function(msg,from){try{var payload=JSON.parse(msg);if(payload[TYPE]===PAIRING_RESPONSE){transport.destroy();delete driverInfo.wsClients[url];return self.onProcessPairingResponse(list[PAIRING_DATA+'_1'].value,payload).then(function(){debugger;_reactNative.Alert.alert('Pairing was successful');self.trigger({action:'pairingSuccessful'});}).catch(function(err){debugger;_reactNative.Alert.alert(err);});}}catch(err){debugger;}});// if (!transport) {\n\t//   let wsClient = this.getWsClient(url, meDriver.permalink)\n\t//   transport = this.getTransport(wsClient, meDriver.permalink)\n\t//   driverInfo.wsClients[url] = transport\n\t// }\n\tvar pairingReqStr=tradleUtils.stringify(pairingReq);function send(){return Q.ninvoke(transport,'send',pairingData.identity,pairingReqStr).then(function(){// debugger\n\tvar dbPairingData=utils.clone(pairingData);dbPairingData[TYPE]=PAIRING_DATA;// db.put(PAIRING_DATA + '_1', pairingData)\n\tlist[PAIRING_DATA+'_1']={key:PAIRING_DATA+'_1',value:dbPairingData};}).catch(function(err){debugger;});}return utils.tryWithExponentialBackoff(send);});// .then(() => {\n\t//   this.trigger({action: 'sentPairingRequest', pairingData: pairingData})\n\t// })\n\t},onProcessPairingRequest:function onProcessPairingRequest(pairingData,pairingReq){var _this22=this;var myPubKeys=meDriver.identity.pubkeys;var alreadyPaired=pairingReq.identity.pubkeys.some(function(a){return myPubKeys.some(function(b){return a.pub===b.pub;});});var verify=crypto.createHmac('sha256',pairingData.nonce);verify.update(tradleUtils.stringify(tradleUtils.omit(pairingReq,'auth')));if(verify.digest('base64')!==pairingReq.auth){return Promise.reject(new Error('invalidPairingRequest'));}if(alreadyPaired){// won't work because prev is not right\n\treturn sendResponse();}var allPubKeys=meDriver.identity.pubkeys.concat(pairingReq.identity.pubkeys);var pubkeys=allPubKeys.map(function(pk){return tradleUtils.clone(pk);});var identity={keys:meDriver.keys.concat(pairingReq.identity.pubkeys),identity:tradleUtils.clone(meDriver.identity,{pubkeys:pubkeys// allPubKeys.map(pk => tradleUtils.clone(pk))\n\t})};return Q.ninvoke(meDriver,'updateIdentity',identity).then(function(){var batch=[];batch.push({type:'put',key:PAIRING_REQUEST+'_1',value:pairingReq});_this22.updatePubkeys(batch);// let batch = []\n\t// let id = IDENTITY + '_' + utils.getMe()[ROOT_HASH]\n\t// let myIdentity = list[id].value\n\t// myIdentity.pubkeys = allPubKeys.map(pk => tradleUtils.clone(pk))\n\t// updatePubkeys(myIdentity.pubkeys)\n\t// let myIdentities = list[MY_IDENTITIES].value\n\t// let currentIdentity = myIdentities.currentIdentity\n\t// myIdentities.allIdentities.forEach((r) => {\n\t//   if (r.id === currentIdentity)\n\t//     r.publishedIdentity.pubkeys = utils.clone(myIdentity.pubkeys)\n\t// })\n\t// batch.push({type: 'put', key: MY_IDENTITIES, value: myIdentities})\n\t// batch.push({type: 'put', key: id, value: myIdentity})\n\t// batch.push({type: 'put', key: PAIRING_REQUEST + '_1', value: pairingReq})\n\t// // If pairing request was not verified what do we want to do\n\t// db.batch(batch)\n\t}).then(function(){return sendResponse();});function sendResponse(){var getPrev=meDriver.identity[PREV_HASH]?Q.ninvoke(meDriver.keeper,'get',meDriver.identity[PREV_HASH]):Promise.resolve(meDriver.identity);return getPrev.then(function(prev){var _pairingRes;var pairingRes=(_pairingRes={},_defineProperty(_pairingRes,TYPE,PAIRING_RESPONSE),_defineProperty(_pairingRes,'prev',prev),_defineProperty(_pairingRes,'identity',meDriver.identity),_pairingRes);var url=pairingData.rendezvous.url;var transport=driverInfo.wsClients[url];var pairingResStr=tradleUtils.stringify(pairingRes);return utils.tryWithExponentialBackoff(send);function send(){return Q.ninvoke(transport,'send',tradleUtils.hexLink(pairingReq.identity),pairingResStr).then(function(){db.put(PAIRING_RESPONSE+'_1',pairingRes);debugger;}).catch(function(err){debugger;});}});}},updatePubkeys:function updatePubkeys(batch,identity){var myIdentities=list[MY_IDENTITIES].value;var currentIdentity=myIdentities.currentIdentity;var id=currentIdentity.replace(PROFILE,IDENTITY);list[id].value=identity||meDriver.identity;myIdentities.allIdentities.forEach(function(r){if(r.id===currentIdentity)r.publishedIdentity=list[id].value;});batch.push({type:'put',key:MY_IDENTITIES,value:myIdentities});batch.push({type:'put',key:id,value:list[id].value});// If pairing request was not verified what do we want to do\n\tdb.batch(batch);},onProcessPairingResponse:function onProcessPairingResponse(pairingData,pairingRes){var _this23=this;// device 2 validate response\n\tif(tradleUtils.hexLink(pairingRes.prev)!==pairingData.identity)return Promise.reject(new Error('prev identity does not match expected'));var pubkeys=list[IDENTITY+'_'+pairingData.identity].value.pubkeys;var hasMyKeys=pubkeys.every(function(myKey){return pairingRes.identity.pubkeys.some(function(theirKey){return deepEqual(theirKey,myKey);});});// const hasMyKeys = meDriver.identity.pubkeys.every(myKey => {\n\t//   return pairingRes.identity.pubkeys.some(theirKey => {\n\t//     return deepEqual(theirKey, myKey)\n\t//   })\n\t// })\n\tif(!hasMyKeys)return Promise.reject(new Error(translate('deviceDoesNotHaveMyKeys')));var batch=[];this.updatePubkeys(batch,pairingRes.identity);// let myIdentities = list[MY_IDENTITIES].value\n\t// let currentIdentity = myIdentities.currentIdentity\n\t// myIdentities.allIdentities.forEach((r) => {\n\t//   if (r.id === currentIdentity)\n\t//     r.publishedIdentity.pubkeys = pairingRes.identity.pubkeys\n\t// })\n\t// let id = IDENTITY + '_' + pairingData.identity\n\t// list[id].value.pubkeys = utils.clone(pairingRes.identity.pubkeys)\n\t// let batch = []\n\t// batch.push({type: 'put', key: MY_IDENTITIES, value: myIdentities})\n\t// batch.push({type: 'put', key: id, value: list[id].value})\n\t// db.batch(batch)\n\tvar me=list[PROFILE+'_'+pairingData.identity].value;return this.getDriver(me).then(function(){return meDriver.addContact(pairingRes.prev);}).then(function(){Q.ninvoke(meDriver,'setIdentity',{keys:meDriver.keys.concat(pairingRes.identity.pubkeys),identity:pairingRes.identity});}).then(function(){_this23.setMe(me);// let me = utils.getMe()\n\t// let oldId = IDENTITY + '_' + me[ROOT_HASH]\n\t// delete list[oldId]\n\t// let oldProfileId = utils.getId(me)\n\t// let profile = list[oldProfileId].value\n\t// delete list[oldProfileId]\n\t// profile[ROOT_HASH] = pairingRes.identity[ROOT_HASH]\n\t// profile[CUR_HASH] = pairingRes.identity[ROOT_HASH]\n\t// let newId = IDENTITY + '_' + pairingRes.identity[ROOT_HASH]\n\t// list[newId] = {\n\t//   key: newId,\n\t//   value: utils.clone(pairingRes.identity)\n\t// }\n\t// let newProfileId = PROFILE + '_' +  pairingRes.identity[ROOT_HASH]\n\t// list[newProfileId] = {\n\t//   key: newProfileId,\n\t//   value: profile\n\t// }\n\t// let myIdentities = list[MY_IDENTITIES].value\n\t// myIdentities.currentIdentity = newProfileId\n\t// myIdentities.allIdentities.forEach((r) => {\n\t//   if (r.id !== oldProfileId)\n\t//     return\n\t//   r.id = newProfileId,\n\t//   r.publishedIdentity.pubkeys = utils.clone(pairingRes.identity.pubkeys)\n\t// })\n\t// let batch = []\n\t// batch.push({type: 'del', key: oldId})\n\t// batch.push({type: 'del', key: oldProfileId})\n\t// batch.push({type: 'put', key: MY_IDENTITIES, value: list[MY_IDENTITIES].value})\n\t// batch.push({type: 'put', key: newId, value: list[newId].value})\n\t// batch.push({type: 'put', key: newProfileId, value: list[newProfileId].value})\n\t// batch.push({type: 'put', key: PAIRING_RESPONSE + '_1', value: pairingRes})\n\t// db.batch(batch)\n\t});},getModel:function getModel(modelName){return models[modelName];},loadDB:function loadDB(){var _this24=this;if(utils.isEmpty(models)){voc.forEach(function(m){if(!m[ROOT_HASH])m[ROOT_HASH]=sha(m);var key=utils.getId(m);models[key]={key:key,value:m};});}return this.loadStaticDbData(true).then(function(){return _this24.loadMyResources();})// .then(self.loadAddressBook)\n\t.catch(function(err){err=err;});},loadStaticData:function loadStaticData(){var _this25=this;sampleData.getResources().forEach(function(r){_this25.loadStaticItem(r);});},loadStaticDbData:function loadStaticDbData(saveInDB){var _this26=this;var batch=[];var sData=[currencies,nationalities,countries];sData.forEach(function(arr){arr.forEach(function(r){_this26.loadStaticItem(r,saveInDB,batch);});});return batch.length?db.batch(batch):Q();},loadStaticItem:function loadStaticItem(r,saveInDB,batch){if(!r[ROOT_HASH])r[ROOT_HASH]=sha(r);r[CUR_HASH]=r[ROOT_HASH];var id=utils.getId(r);if(!list[id])this._setItem(id,r);if(saveInDB)batch.push({type:'put',key:id,value:r});},loadModels:function loadModels(){var self=this;var batch=[];voc.forEach(function(m){if(!m[ROOT_HASH]){m[ROOT_HASH]=sha(m);self.addNameAndTitleProps(m);}batch.push({type:'put',key:m.id,value:m});});// return Promise.resolve()\n\treturn db.batch(batch).then(function(){return self.loadMyResources();}).catch(function(err){err=err;});},clearDb:function clearDb(){var self=this;return db.createReadStream().on('data',function(data){db.del(data.key,function(err){err=err;});}).on('error',function(err){console.log('Oh my!',err.name+': '+err.message);}).on('close',function(err){console.log('Stream closed');}).on('end',function(){console.log('Stream end');});},onStartTransition:function onStartTransition(){if(PAUSE_ON_TRANSITION){if(meDriver)meDriver.pause(2000);}},onEndTransition:function onEndTransition(){if(PAUSE_ON_TRANSITION){if(meDriver)meDriver.resume();}if(this._transitionCallbacks){// defensive copy\n\tvar cbs=this._transitionCallbacks.slice();this._transitionCallbacks.length=0;cbs.forEach(function(fn){return fn();});}},waitForTransitionToEnd:function waitForTransitionToEnd(fn){if(!this._transitionCallbacks){this._transitionCallbacks=[];}var defer=Q.defer();this._transitionCallbacks.push(defer.resolve);return defer.promise;},buildRef:function buildRef(resource){if(!resource[TYPE]&&resource.id)return resource;var isForm=this.getModel(resource[TYPE]).value.subClassOf===FORM;// let id = utils.getId(resource)\n\t// if (isForm)\n\t//   id += '_' + resource[CUR_HASH]\n\tvar ref={id:utils.getId(resource),title:resource.id?resource.title:utils.getDisplayName(resource,this.getModel(resource[TYPE]).value.properties)};if(resource.time)ref.time=resource.time;return ref;},_setItem:function _setItem(key,value){list[key]={key:key,value:value};},_mergeItem:function _mergeItem(key,value){var current=list[key]||{};list[key]={key:key,value:_extends({},current.value,value)};}});// );\n\tmodule.exports=Store;function getProviderUrl(provider){return provider.id?utils.joinURL(provider.url,provider.id):provider.url;}// searchFormsToShare(params) {\n\t//   var modelName = params.modelName;\n\t//   var meta = this.getModel(modelName).value;\n\t//   var chatFrom = params.from\n\t//   chatFrom = list[utils.getId(chatFrom)].value\n\t//   var foundResources = {};\n\t//   var isAllMessages = meta.isInterface;\n\t//   var props = meta.properties;\n\t//   var implementors = isAllMessages ? utils.getAllSubclasses(modelName) : null;\n\t//   var required = meta.required;\n\t//   var meRootHash = me  &&  me[ROOT_HASH];\n\t//   var meId = PROFILE + '_' + meRootHash;\n\t//   var meOrgId = me.organization ? utils.getId(me.organization) : null;\n\t//   var chatId = chatFrom ? utils.getId(chatFrom) : null;\n\t//   var isChatWithOrg = chatFrom  &&  chatFrom[TYPE] === ORGANIZATION;\n\t//   var fromId\n\t//   var fromOrg\n\t//   if (isChatWithOrg) {\n\t//     var rep = this.getRepresentative(chatId)\n\t//     if (!rep)\n\t//       return\n\t//     chatFrom = rep\n\t//     chatId = utils.getId(chatFrom)\n\t//     // isChatWithOrg = false\n\t//     fromId = utils.getId(params.from)\n\t//     fromOrg = list[fromId].value\n\t//   }\n\t//   else {\n\t//     if (chatFrom  &&  chatFrom.organization) {\n\t//       fromId = utils.getId(chatFrom.organization)\n\t//     }\n\t//   }\n\t//   var lastPL\n\t//   var sharedWithTimePairs = []\n\t//   for (var key in list) {\n\t//     var iMeta = null;\n\t//     if (isAllMessages) {\n\t//       if (implementors) {\n\t//         implementors.some((impl) => {\n\t//           if (impl.id === key.split('_')[0]) {\n\t//             iMeta = impl;\n\t//             return true\n\t//           }\n\t//         })\n\t//         if (!iMeta)\n\t//           continue;\n\t//       }\n\t//     }\n\t//     else if (key.indexOf(modelName + '_') === -1) {\n\t//       var rModel = this.getModel(key.split('_')[0])\n\t//       if (!rModel)\n\t//         continue\n\t//       rModel = rModel.value;\n\t//       if (rModel.subClassOf !== modelName)\n\t//         continue;\n\t//     }\n\t//     if (!iMeta)\n\t//       iMeta = meta;\n\t//     var r = list[key].value;\n\t//     if (r.canceled)\n\t//       continue;\n\t//     // Make sure that the messages that are showing in chat belong to the conversation between these participants\n\t//     // HACK to not show service message in customer stream\n\t//     if (r.message  &&  r.message.length)  {\n\t//       if (r.message === '[already published](tradle.Identity)')\n\t//         continue\n\t//       var m = utils.splitMessage(r.message)\n\t//       if (m.length === 2) {\n\t//         if (m[1] === PROFILE)\n\t//           continue;\n\t//       }\n\t//     }\n\t//     var isSharedWith = false, timeResourcePair = null\n\t//     if (r.sharedWith  &&  fromId) {\n\t//       var sharedWith = r.sharedWith.filter(function(r) {\n\t//         let org = list[r.bankRepresentative].value.organization\n\t//         return (org) ? utils.getId(org) === fromId : false\n\t//       })\n\t//       isSharedWith = sharedWith.length !== 0\n\t//       if (isSharedWith) {\n\t//         timeResourcePair = {\n\t//           time: sharedWith[0].timeShared,\n\t//           resource: r\n\t//         }\n\t//       }\n\t//     }\n\t//     if (chatFrom) {\n\t//       var isForm = this.getModel(r[TYPE]).value.subClassOf === FORM\n\t//       var fromID = utils.getId(r.from);\n\t//       var toID = utils.getId(r.to);\n\t//       if (fromID !== meId  &&  toID !== meId  &&  toID != meOrgId)\n\t//         continue;\n\t//       if (isChatWithOrg) {\n\t//         var msgOrg = list[toID].value.organization\n\t//         if (!msgOrg)\n\t//           msgOrg = list[fromID].value.organization\n\t//         let msgOrgId = utils.getId(msgOrg)\n\t//         if (fromId !== msgOrgId  &&  !isSharedWith) // do not show shared verifications\n\t//           continue\n\t//       }\n\t//       else {\n\t//         if (!isSharedWith  &&  fromID !== chatId  &&  toID != chatId  &&  toID != meOrgId)\n\t//           continue;\n\t//       }\n\t//     }\n\t//     if (r.sharedWith  &&  fromId  &&  !isSharedWith)\n\t//       continue\n\t//     var msg = this.fillMessage(r);\n\t//     if (!msg)\n\t//       msg = r\n\t//     foundResources[key] = msg;\n\t//     if (!timeResourcePair)\n\t//       sharedWithTimePairs.push({\n\t//         time: r.time,\n\t//         resource: msg\n\t//       })\n\t//     else {\n\t//       timeResourcePair.resource = msg\n\t//       sharedWithTimePairs.push(timeResourcePair)\n\t//     }\n\t//     if (params.limit  &&  Object.keys(foundResources).length === params.limit)\n\t//       break;\n\t//   }\n\t//   sharedWithTimePairs.sort(function(a, b) {\n\t//     return a.time - b.time;\n\t//   });\n\t//   var result = []\n\t//   sharedWithTimePairs.forEach((r) => {\n\t//     result.push(r.resource)\n\t//   })\n\t//   if (!params.isForgetting) {\n\t//     result = result.filter((r, i) => {\n\t//       if (r[TYPE] === PRODUCT_LIST) {\n\t//         var next = result[i + 1]\n\t//         if (next && next[TYPE] === PRODUCT_LIST) {\n\t//           return false\n\t//         }\n\t//       }\n\t//       return true\n\t//     })\n\t//   }\n\t//   // not for subreddit\n\t//   result.forEach((r) =>  {\n\t//     r.from.photos = list[utils.getId(r.from)].value.photos;\n\t//     var to = list[utils.getId(r.to)]\n\t//     if (!to) console.log(r.to)\n\t//     r.to.photos = to && to.value.photos;\n\t//   })\n\t//   return result;\n\t// },\n\t/*\n\t     params:\n\t       modelName - type of the resources to search\n\t       to: who am I talking to - usually company representatice.\n\t           In non-strict mode the result will be array that contains resources where\n\t           either 'to' or 'from' properties could be the representative of 'to' organization'\n\t       strict: 'to' exclusively should have the params.to value\n\t  */// parseForm(val, model) {\n\t//   let properties = model.properties\n\t//   for (let p in val) {\n\t//     let prop = properties[p]\n\t//     if (!prop)\n\t//       continue\n\t//     if (prop.type !== 'array')\n\t//       continue\n\t//     let v = JSON.parse(val[p])\n\t//     val[p] = Array.isArray(v) ? v : [v]\n\t//     let iprops = prop.properties\n\t//     if (!iprop)\n\t//       continue\n\t//     for (let item of val[p]) {\n\t//       for (let itemProp in item) {\n\t//         let ip = iprops[itemProp]\n\t//         if (!ip.ref)\n\t//           continue\n\t//         let im = utils.getModel(ip.ref)\n\t//         if (im.subClassOf !== 'ENUM')\n\t//           continue\n\t//         let result = this.searchNotMessages({modelName: im._id})\n\t//         let enumProp\n\t//         for (let ep in im.properties)\n\t//           if (ep.charAt(0) !== '_') {\n\t//             enumProp = ep\n\t//             break\n\t//           }\n\t//         let rValue = result.filter((r) => r[enumProp] === item[enumProp])\n\t//         item[enumProp] = { id: utils.getId(rValue[0]), title: item[enumProp] }\n\t//       }\n\t//     }\n\t//   }\n\t// },\n\t// searchMessagesNew(params) {\n\t//   let bankID = utils.getId(params.to)\n\t//   let messages = chatMessages[bankID]\n\t//   let promise = messages ? Q() : this.getConversation(params)\n\t//   let result = []\n\t//   let self = this\n\t//   return promise\n\t//   .then((data) => {\n\t//     if (data)\n\t//       return data\n\t//     data = Object.keys(messages)\n\t//     var defer = Q.defer()\n\t//     var togo = Object.keys(data).length\n\t//     for (let r of data) {\n\t//       meDriver.lookupObjectsByRootHash(r.split('_')[1])\n\t//       .then(function (objs) {\n\t//         var obj = objs[objs.length - 1]\n\t//         var res = obj.parsed.data\n\t//         var val = extend(true, res)\n\t//         self.fillFromAndTo(obj, val)\n\t//         val[ROOT_HASH] = obj[ROOT_HASH]\n\t//         result.push(val)\n\t//         if (--togo === 0)\n\t//           defer.resolve(result)\n\t//       })\n\t//       .catch((err) => {\n\t//         debugger\n\t//       })\n\t//     }\n\t//     return result\n\t//   })\n\t// },\n\t// getConversation(params) {\n\t//   var self = this\n\t//   var list = {}\n\t//   var hasVerifications\n\t//   var excludeTypes = [\n\t//     CUSTOMER_WAITING,\n\t//     FORGOT_YOU,\n\t//     FORGET_ME,\n\t//     IDENTITY_PUBLISHING_REQUEST\n\t//   ]\n\t//   var bankID = utils.getId(params.to)\n\t//   var reps = params.to[TYPE] === constants.TYPES.ORGANIZATION\n\t//            ? this.getRepresentatives(bankID)\n\t//            : [params.to]\n\t//   var messages = {}\n\t//   chatMessages[bankID] = messages\n\t//   return meDriver.getConversation(reps[0][ROOT_HASH])\n\t//   .then(function(data) {\n\t//     var result = []\n\t//     var defer = Q.defer()\n\t//     var togo = data.length\n\t//     var hasPL\n\t//     for (var i=data.length - 1; i>=0; i--) {\n\t//       var r = data[i]\n\t//       if (excludeTypes.indexOf(r[TYPE]) !== -1 ||\n\t//           !self.getModel(r[TYPE])) {\n\t//         --togo\n\t//         continue\n\t//       }\n\t//       if (r[TYPE] === PRODUCT_LIST) {\n\t//         if (hasPL) {\n\t//           --togo\n\t//           continue\n\t//         }\n\t//         hasPL = true\n\t//       }\n\t//       meDriver.lookupObject(r)\n\t//       .then(function (obj) {\n\t//         var res = obj.parsed.data\n\t//         var val = extend(true, res)\n\t//         self.fillFromAndTo(obj, val)\n\t//         val[ROOT_HASH] = obj[ROOT_HASH]\n\t//         result.push(val)\n\t//         let rid = utils.getId(val)\n\t//         list[rid] = {\n\t//           key: rid,\n\t//           value: {\n\t//             id: rid,\n\t//             title: utils.getDisplayName(val, utils.getModel(obj[TYPE]).value.properties),\n\t//             time: val.time\n\t//           }\n\t//         }\n\t//         if (val.photos)\n\t//           list[rid].value.photos = [val.photos[0]]\n\t//         if (val[TYPE] === VERIFICATION)\n\t//           hasVerifications = true\n\t//         if (--togo === 0)\n\t//           defer.resolve(result)\n\t//       })\n\t//       .catch(function(err) {\n\t//         debugger\n\t//       })\n\t//     }\n\t//     return defer.promise\n\t//   })\n\t//   .then(function(result) {\n\t//     if (hasVerifications) {\n\t//       result.forEach(function(r) {\n\t//         if (r[TYPE] === VERIFICATION)\n\t//           r.document = list[utils.getId(r.document)]\n\t//       })\n\t//     }\n\t//     result.sort(function(a, b) {\n\t//       return a.time - b.time;\n\t//     });\n\t//     result.forEach(function(r) {\n\t//       messages[utils.getId(r)] = r.time\n\t//     })\n\t//     // var shareableResources;\n\t//     // if (!params.isAggregation  &&  params.to)\n\t//     //   shareableResources = self.getShareableResources(result, params.to);\n\t//     // var retParams = {\n\t//     //   action: !params.prop ? 'messageList' : 'list',\n\t//     //   list: result,\n\t//     //   spinner: params.spinner,\n\t//     //   isAggregation: params.isAggregation\n\t//     // }\n\t//     // if (shareableResources)\n\t//     //   retParams.shareableResources = shareableResources;\n\t//     // if (params.prop)\n\t//     //   retParams.prop = params.prop;\n\t//     // self.trigger(retParams);\n\t//     return result\n\t//   })\n\t//   .catch(function(err) {\n\t//     debugger\n\t//   })\n\t// },\n\t// // extractReferences(val) {\n\t// //   let props = utils.getModel(val[TYPE]).value.properties\n\t// //   let r = {_t: val[TYPE]}\n\t// //   for (let p in val) {\n\t// //     if (props[p].ref) {\n\t// //       if (props[p].ref !== constants.TYPE.MONEY)\n\t// //         r[p] = val[p]\n\t// //     }\n\t// //     else if (props[p].type === 'array') {\n\t// //       if\n\t// //     }\n\t// //   }\n\t// // },\n\t// getMessagesBefore(params) {\n\t//   var bankID = utils.getId(params.to)\n\t//   var messages\n\t//   var self = this\n\t//   var promise = chatMessages[bankID] ? Q() : this.searchMessagesNew(params)\n\t//   return promise\n\t//   .then(function(result) {\n\t//     var limit = params.limit\n\t//     var allMessages = chatMessages[bankID]\n\t//     var ids = Object.keys(allMessages)\n\t//     var start = ids.indexOf(utils.getId(params.lastId))\n\t//     var end = Math.max(0, start - limit)\n\t//     var result = []\n\t//     for (var i=start - 1; i > end &&  i >= 0; i--) {\n\t//       var val = list[ids[i]]\n\t//       if (val)\n\t//         result.push(val.value)\n\t//     }\n\t//     self.trigger({action: 'messageList', loadingEarlierMessages: true, list: result})\n\t//   })\n\t// },\n\t/*\n\t  searchMessages1(params) {\n\t    // if (params.loadingEarlierMessages)\n\t    //   return this.getMessagesBefore(params)\n\n\t    var query = params.query;\n\t    var modelName = params.modelName;\n\t    var meta = this.getModel(modelName).value;\n\t    var prop = params.prop;\n\t    if (typeof prop === 'string')\n\t      prop = meta[prop];\n\t    var backlink = prop ? (prop.items ? prop.items.backlink : prop) : null;\n\t    var foundResources = {};\n\t    var props = meta.properties;\n\n\t    // var required = meta.required;\n\t    var meId = utils.getId(me)\n\t    var meOrgId = me.isEmployee ? utils.getId(me.organization) : null;\n\n\t    var chatTo = params.to\n\t    if (chatTo  &&  chatTo.id)\n\t      chatTo = list[utils.getId(chatTo)].value\n\t    var chatId = chatTo ? utils.getId(chatTo) : null;\n\t    var isChatWithOrg = chatTo  &&  chatTo[TYPE] === ORGANIZATION;\n\t    var toId\n\t    var toOrg\n\t    let thisChatMessages\n\t    if (isChatWithOrg) {\n\t      var rep = this.getRepresentative(chatId)\n\t      if (!rep)\n\t        return\n\t      chatTo = rep\n\t      chatId = utils.getId(chatTo)\n\t      // isChatWithOrg = false\n\t      toId = utils.getId(params.to)\n\t      toOrg = list[toId].value\n\t      thisChatMessages = chatMessages[toId]\n\t    }\n\t    else {\n\t      if (chatTo  &&  chatTo.organization  &&  !meOrgId) {\n\t        toId = utils.getId(chatTo.organization)\n\t        thisChatMessages = chatMessages[toId]\n\t      }\n\t      else\n\t        thisChatMessages = chatMessages[chatId]\n\t    }\n\t    if (!thisChatMessages  &&  !params.to) {\n\t      thisChatMessages = []\n\t      Object.keys(list).filter((key) => {\n\t        if (list[key].value[TYPE] === modelName                           ||\n\t           utils.getModel(list[key].value[TYPE]).subClassOf === modelName ||\n\t           modelName === MESSAGE  &&  utils.getModel(list[key].value[TYPE]).interfaces) {\n\t          thisChatMessages.push({id: key, time: list[key].value.time})\n\t          return true\n\t        }\n\t      })\n\t    }\n\t    if (!thisChatMessages)\n\t      return null\n\t    // if (isChatWithOrg  &&  !chatTo.name) {\n\t    //   chatTo = list[chatId].value;\n\t    // }\n\t    var testMe = chatTo ? chatTo.me : null;\n\t    if (testMe) {\n\t      if (testMe === 'me') {\n\t        if (!originalMe)\n\t          originalMe = me;\n\t        testMe = originalMe[ROOT_HASH];\n\t      }\n\n\t      isTest = true;\n\t      var meId = constants.TYPES.PROFILE + '_' + testMe;\n\t      me = list[meId].value;\n\t      this.setMe(me);\n\t      var myIdentities = list[MY_IDENTITIES].value;\n\t      if (myIdentities)\n\t        myIdentities.currentIdentity = meId;\n\t    }\n\t    // var lastPL\n\t    // var sharedWithTimePairs = []\n\t    var from = params.from\n\t    var limit = params.limit ? params.limit + 1 : null\n\t    var isAllMessages = meta.isInterface;\n\t    var implementors = isAllMessages ? utils.getImplementors(modelName) : null;\n\t    var isVerification = modelName === VERIFICATION  ||  meta.subClassOf === VERIFICATION;\n\n\t    // for (var key in list) {\n\t    let lastId = params.lastId\n\t    let lastIdIdx = -1\n\t    for (let i=thisChatMessages.length - 1; i>=0; i--) {\n\t      var key = thisChatMessages[i].id\n\t      if (lastId && lastIdIdx === -1  &&  key === lastId) {\n\t        let result = this.filterResult(foundResources)\n\t        lastIdIdx = result.length\n\t        limit = result.length + limit\n\t        params.limit = limit - 1\n\t        foundResources = this.packResult(result)\n\t//         foundResources = {}\n\t//         result.forEach((fr) => {\n\t//           foundResources[utils.getId(fr)] = fr\n\t//         })\n\t      }\n\t      var iMeta = null;\n\t      if (isAllMessages) {\n\t        if (implementors) {\n\t          implementors.some((impl) => {\n\t            if (impl.id === key.split('_')[0]) {\n\t              iMeta = impl;\n\t              return true\n\t            }\n\t          })\n\t          if (!iMeta)\n\t            continue;\n\t        }\n\t      }\n\t      else if (list[key].value[TYPE] !== modelName) {\n\t        var rModel = this.getModel(list[key].value[TYPE])\n\t        if (!rModel)\n\t          continue\n\t        rModel = rModel.value;\n\t        if (rModel.subClassOf !== modelName)\n\t          continue;\n\t      }\n\t      if (!iMeta)\n\t        iMeta = meta;\n\t      var r = list[key].value;\n\t      if (r.canceled)\n\t        continue;\n\t      var isFormError = isAllMessages && r[TYPE] === FORM_ERROR\n\t      // Make sure that the messages that are showing in chat belong to the conversation between these participants\n\t      if (isVerification) {\n\t        // if (r.organization) {\n\t        //   if (!r.organization.photos) {\n\t        //     var orgPhotos = list[utils.getId(r.organization.id)].value.photos;\n\t        //     if (orgPhotos)\n\t        //       r.organization.photos = [orgPhotos[0]];\n\t        //   }\n\t        // }\n\t        if (r.document) {\n\t          var d = list[utils.getId(r.document)]\n\t          if (!d)\n\t            continue\n\t          if (params.resource  &&  utils.getId(params.resource) !== utils.getId(d.value))\n\t            continue\n\t          r.document = d.value;\n\t        }\n\t      }\n\t      else if (isFormError) {\n\t        r.prefill = list[utils.getId(r.prefill)] ? list[utils.getId(r.prefill)].value : r.prefill\n\t      }\n\t      // HACK to not show service message in customer stream\n\t      else if (r.message  &&  r.message.length)  {\n\t        if (r[TYPE] === SELF_INTRODUCTION  &&  !params.isForgetting && (utils.getId(r.to) !== meId))\n\t          continue\n\t        if (r.message === '[already published](tradle.Identity)')\n\t          continue\n\t        var m = utils.splitMessage(r.message)\n\n\t        if (m.length === 2) {\n\t          if (m[1] === PROFILE)\n\t            continue;\n\t        }\n\t        if (chatTo.organization  &&  r[TYPE] === constants.TYPES.CUSTOMER_WAITING) {\n\t          var rid = utils.getId(chatTo.organization);\n\n\t          // if (rid.indexOf(ORGANIZATION) === 0) {\n\t          var org = list[utils.getId(r.to)].value.organization\n\t          var orgId = utils.getId(org)\n\t          // if (params.isForgetting  &&  orgId === rid) {\n\t          //   // foundResources[key] = r\n\t          //   sharedWithTimePairs.push({\n\t          //      time: r.time,\n\t          //      resource: r\n\t          //   })\n\t          // }\n\t          if (!utils.isEmployee(list[utils.getId(chatTo.organization)].value))\n\t          // if (!me.isEmployee  ||  rid !== utils.getId(me.organization))\n\t            continue;\n\t         // }\n\t        }\n\n\t        // Show only the last 'Choose the product' message\n\t        // else if (r[TYPE] === PRODUCT_LIST) {\n\t          // if (!lastPL  ||  lastPL.time < r.time) {\n\t          //   var id = utils.getId(r.from)\n\t          //   if (utils.getId(list[id].value.organization) === toId)\n\t          //     lastPL = r\n\t          // }\n\t          // continue;\n\t        // }\n\t        // else if (m.length === 2  &&  m[0] === '[application for') {\n\t          // continue\n\t          // var id = utils.getId(r.to)\n\t          // if (id === toId) {\n\t          //   var fr = foundResources[foundResources.length - 1]\n\t          //   if ()\n\t          // }\n\t        // }\n\t      }\n\t      var isSharedWith = false, timeResourcePair = null\n\t      if (r.sharedWith  &&  toId) {\n\t        var sharedWith = r.sharedWith.filter(function(r) {\n\t          let org = list[r.bankRepresentative].value.organization\n\t          return (org) ? utils.getId(org) === toId : false\n\t        })\n\t        isSharedWith = sharedWith.length !== 0\n\t        if (isSharedWith) {\n\t          timeResourcePair = {\n\t            time: sharedWith[0].timeShared,\n\t            resource: r\n\t          }\n\t        }\n\t      }\n\n\t      if (chatTo) {\n\t        if (backlink  &&  r[backlink]) {\n\t          var s = params.resource ? utils.getId(params.resource) : chatId\n\t          if (s === utils.getId(r[backlink])) {\n\t            foundResources[key] = r;\n\t            // if (timeResourcePair)\n\t            //   sharedWithTimePairs.push(timeResourcePair)\n\t            // else\n\t            //   sharedWithTimePairs.push({\n\t            //     time: r.time,\n\t            //     resource: r\n\t            //   })\n\t            // for Loading earlier resources we don't need to check limit untill we get to the lastId\n\t            if (lastId && lastIdIdx === -1)\n\t              continue\n\t            if (limit  &&  Object.keys(foundResources).length === limit) {\n\t              let result = this.filterResult(foundResources)\n\t              if (result.length === limit)\n\t                return result\n\t              else\n\t                foundResources = this.packResult(result)\n\t            }\n\t          }\n\n\t          continue;\n\t        }\n\n\t        var m = this.getModel(r[TYPE]).value\n\t        var isVerificationR = r[TYPE] === VERIFICATION  ||  m.subClassOf === VERIFICATION\n\t        var isForm = m.subClassOf === FORM\n\t        var isMyProduct = m.subClassOf === MY_PRODUCT\n\t        let isProductApplication = m.id === PRODUCT_APPLICATION\n\t        if ((!r.message  ||  r.message.trim().length === 0) && !r.photos &&  !isVerificationR  &&  !isForm  &&  !isMyProduct && !isProductApplication)\n\t          // check if this is verification resource\n\t          continue;\n\t        var fromID = utils.getId(r.from);\n\t        var toID = utils.getId(r.to);\n\n\t        if (params.strict) {\n\t          if (chatId !== toID)\n\t            continue\n\t        }\n\t        if (fromID !== meId  &&  toID !== meId  &&  toID != meOrgId)\n\t          continue;\n\t        if (isChatWithOrg) {\n\t          if (isVerificationR) {\n\t            let org = list[fromID].value.organization\n\t            if (!org)\n\t              org = list[toID].value.organization\n\n\t            let msgOrgId = utils.getId(org)\n\t            if (toId !== msgOrgId) {\n\t              // if (!isSharedWith)\n\t                continue\n\t              // let sharedWithThisOrg = r.sharedWith.filter((s) => {\n\t              //   let rep = list[s.bankRepresentative].value\n\t              //   if (utils.getId(rep.organization) === toId)\n\t              //     return true\n\t              // })\n\t              // if (!sharedWithThisOrg  ||  !sharedWithThisOrg.length)\n\t              //   continue\n\t            }\n\t          }\n\t          else {\n\t            let msgOrg\n\t            if (toID !== meId) {\n\t              msgOrg = list[toID].value.organization\n\t              if (!msgOrg)\n\t                msgOrg = list[fromID].value.organization\n\t            }\n\t            else {\n\t              msgOrg = list[fromID].value.organization\n\t              if (!msgOrg)\n\t                msgOrg = list[toID].value.organization\n\t            }\n\t            let msgOrgId = utils.getId(msgOrg)\n\t            if (toId !== msgOrgId  &&  (!isSharedWith || isVerificationR)) // do not show shared verifications\n\t              continue\n\t           //   let msgOrgTo = list[toID].value.organization\n\t          //   let msgOrgFrom = list[fromID].value.organization\n\t          // // if (toID === meId)\n\t          // //   continue\n\t          //   let msgOrg\n\t          //   if (!msgOrgTo  ||  (msgOrgFrom  &&  toID !== meId))\n\t          //     msgOrg = msgOrgFrom\n\t          //   else\n\t          //     msgOrg = msgOrgTo\n\n\t          //   let msgOrgId = utils.getId(msgOrg)\n\t          //   if (toId !== msgOrgId  &&  !isSharedWith)\n\t          //     continue\n\t          }\n\t        }\n\t        else {\n\t          if (!isSharedWith  &&  fromID !== chatId  &&  toID != chatId  &&  toID != meOrgId)\n\t            continue;\n\t        }\n\t      }\n\t      if (params.strict  &&  chatId !== utils.getId(r.to))\n\t        continue\n\n\t      if (r.sharedWith  &&  toId  &&  !isSharedWith)\n\t        continue\n\t      // if (r.sharedWith  &&  toId) {\n\t      //   var arr = r.sharedWith.filter(function(r) {\n\t      //     return utils.getId(list[r.bankRepresentative].value.organization) === toId\n\t      //   })\n\t      //   if (!arr.length)\n\t      //     continue\n\t      //  }\n\t       if (isVerificationR  ||  r[TYPE] === ADDITIONAL_INFO) {\n\t        // if (!isSharedWith)\n\t        //   continue\n\t        var doc = {};\n\t        var rDoc = list[utils.getId(r.document)]\n\t        if (!rDoc) {\n\t          if (params.isForgetting) {\n\t            foundResources[key] = r\n\t            // if (timeResourcePair)\n\t            //   sharedWithTimePairs.push(timeResourcePair)\n\t            // else\n\t            //   sharedWithTimePairs.push({\n\t            //     time: r.time,\n\t            //     resource: r\n\t            //   })\n\t          }\n\t          continue\n\t        }\n\n\t        // extend(true, doc, rDoc.value);\n\t        // TODO: check if we can copy by reference\n\t        for (var p in rDoc.value) {\n\t          if (p === 'verifications' || p === 'additionalInfo') continue\n\n\t          var val = rDoc.value[p]\n\t          switch (typeof val) {\n\t            case 'object':\n\t              if (val) {\n\t                if (Array.isArray(val))\n\t                  doc[p] = val.slice(0)\n\t                else\n\t                  doc[p] = extend(true, {}, val)\n\t              }\n\t              break\n\t            default:\n\t              doc[p] = val\n\t              break\n\t          }\n\t        }\n\n\t        r.document = doc;\n\t      }\n\n\t      if (!query) {\n\t        var msg = this.fillMessage(r);\n\t        if (!msg)\n\t          msg = r\n\t        foundResources[key] = msg;\n\t        // if (!timeResourcePair)\n\t        //   sharedWithTimePairs.push({\n\t        //     time: r.time,\n\t        //     resource: msg\n\t        //   })\n\t        // else {\n\t        //   timeResourcePair.resource = msg\n\t        //   sharedWithTimePairs.push(timeResourcePair)\n\t        // }\n\t        if (lastId  &&  lastIdIdx === -1)\n\t          continue\n\t        if (limit  &&  Object.keys(foundResources).length === limit) {\n\t          let result = this.filterResult(foundResources)\n\t          if (result.length === limit)\n\t            return result\n\t          foundResources = this.packResult(result)\n\t        }\n\n\t        continue;\n\t      }\n\t       // primitive filtering for this commit\n\t      var combinedValue = '';\n\t      for (var rr in props) {\n\t        if (r[rr] instanceof Array)\n\t         continue;\n\t        combinedValue += combinedValue ? ' ' + r[rr] : r[rr];\n\t      }\n\t      if (!combinedValue  ||  (combinedValue  &&  (!query || combinedValue.toLowerCase().indexOf(query.toLowerCase()) != -1))) {\n\t        foundResources[key] = this.fillMessage(r);\n\t        // if (timeResourcePair)\n\t        //   sharedWithTimePairs.push(timeResourcePair)\n\t        // else\n\t        //   sharedWithTimePairs.push({\n\t        //     time: r.time,\n\t        //     resource: r\n\t        //   })\n\n\t        if (limit  &&  Object.keys(foundResources).length === limit) {\n\t          let result = this.filterResult(foundResources)\n\t          if (result.length === limit)\n\t            return result\n\t          foundResources = this.packResult(result)\n\t        }\n\t      }\n\t    }\n\n\t//     sharedWithTimePairs.sort(function(a, b) {\n\t//       return a.time - b.time;\n\t//     });\n\n\t      let result = this.filterResult(foundResources)\n\t//           if (result.length === limit)\n\t//             break;\n\t//           else {\n\t//             foundResources = {}\n\t//             result.forEach((fr) => {\n\t//               foundResources[utils.getId(fr)] = fr\n\t//             })\n\t//           }\n\n\t//        var result = Object.values(foundResources)\n\t//     var result = []\n\t//     sharedWithTimePairs.forEach((r) => {\n\t//       result.push(r.resource)\n\t//     })\n\n\t    // var result = utils.objectToArray(foundResources);\n\t    // if (lastPL)\n\t    //   result.push(lastPL)\n\n\t    if (params.isForgetting)\n\t      return result\n\t    // let paRequests = {}\n\t    // let formRequests = {}\n\t//     this.filterResult(result)\n\t    // There was a case when FormRequest was following ProductList over and over with the same form\n\t    // let curFormRequest\n\t    // let removeNext\n\t    // result = result.filter((r, i) => {\n\t    //   if (r[TYPE] === PRODUCT_LIST) {\n\t    //     var next = result[i + 1]\n\t    //     if (next) {\n\t    //        if (next[TYPE] === PRODUCT_LIST)\n\t    //         return false\n\t    //       else if (next[TYPE] === FORM_REQUEST  &&  !next.documentCreated) {\n\t    //         if (!curFormRequest)\n\t    //           return true\n\t    //         if (curFormRequest === next.product)\n\t    //           return false\n\t    //       }\n\t    //     }\n\t    //   }\n\t    //   else if (r[TYPE] === FORM_REQUEST) {\n\t    //     if (r.documentCreated)\n\t    //       return true\n\t    //     if (r.product === curFormRequest)\n\t    //      return false\n\t    //     curFormRequest = r.product\n\t    //   }\n\t    //   return true\n\t    // })\n\t    return result //.reverse();\n\t  },\n\n\t  // filterResult(result, lastId, toOrgId) {\n\t  //   if (!result)\n\t  //     return\n\t  //   if (!Array.isArray(result))\n\t  //     result = Object.values(result) //.reverse()\n\t  //   if (!result  ||  !result.length)\n\t  //     return\n\n\t  //   result.sort(function(a, b) {\n\t  //     return a.time - b.time;\n\t  //   });\n\n\t  //   let meId = utils.getId(me)\n\t  //   let newResult = result.filter((rr, i) => {\n\t  //     let time = rr.time\n\t  //     let r = rr.value\n\t  //     if (r[TYPE] === PRODUCT_LIST  &&  i !== result.length - 1) {\n\t  //       var next = result[i + 1].value\n\t  //       if (next && next[TYPE] === PRODUCT_LIST)\n\t  //         return false\n\t  //     }\n\t  //     // if (r[TYPE] === CUSTOMER_WAITING) {\n\t  //     //   let f = list[utils.getId(r.from)].value.organization\n\t  //     //   let t = list[utils.getId(r.to)].value.organization\n\t  //     //   if (utils.getId(f) === utils.getId(t))\n\t  //     //     return false\n\t  //     // }\n\t  //     if (r[TYPE] === SELF_INTRODUCTION) {\n\t  //       // var next = result[i + 1]\n\t  //       // if (next && next[TYPE] === SELF_INTRODUCTION)\n\t  //         return false\n\t  //     }\n\t  //     // Check if there was request for the next form after multy-entry form\n\t  //     if (r[TYPE] === FORM_REQUEST  &&  !r.document && r.documentCreated)\n\t  //       return false\n\t  //     // Gather info about duplicate requests for the same product\n\t  //     // if (r[TYPE] === PRODUCT_APPLICATION)  {\n\t  //     //   if (!paRequests[r.product])\n\t  //     //     paRequests[r.product] = []\n\t  //     //   paRequests[r.product].push(i)\n\t  //     // }\n\t  //     // if (r[TYPE] === SIMPLE_MESSAGE  &&  r.message) {\n\t  //     //   let parts = utils.splitMessage(r.message)\n\t  //     //   if (parts.length === 2) {\n\t  //     //     let formM = utils.getModel(parts[1])\n\t  //     //     if (formM) {\n\t  //     //       if (!formRequests[parts[1]])\n\t  //     //         formRequests[parts[1]] = []\n\t  //     //       formRequests[parts[1]].push(i)\n\t  //     //     }\n\t  //     //   }\n\t  //     // }\n\t  //     let fromId = utils.getId(r.from)\n\n\t  //     if (!me.isEmployee  &&  fromId !== meId  &&  list[fromId]) {\n\t  //       let rFrom = list[fromId].value\n\t  //       if (!rFrom.bot) {\n\t  //         let photos = list[fromId].value.photos\n\t  //         if (photos)\n\t  //           r.from.photo = photos[0]\n\t  //         else\n\t  //           r.from.photo = employee\n\t  //       }\n\t  //     }\n\t  //     let m = this.getModel(r[TYPE]).value\n\t  //     let isMyProduct = m.subClassOf === MY_PRODUCT\n\t  //     let isForm = !isMyProduct && m.subClassOf === FORM\n\t  //     // r.from.photos = list[utils.getId(r.from)].value.photos;\n\t  //     // var to = list[utils.getId(r.to)]\n\t  //     // if (!to) console.log(r.to)\n\t  //     // r.to.photos = to  &&  to.value.photos;\n\t  //     if (isMyProduct)\n\t  //       r.from.organization = list[utils.getId(r.from)].value.organization\n\t  //     else if (isForm) {\n\t  //       // set organization and photos for items properties for better displaying\n\t  //       let form = list[utils.getId(r.to)].value\n\t  //       if (toOrgId  &&  r.sharedWith  &&  r.sharedWith.length > 1) {\n\t  //         // if (utils.getId(r.to.organization) !== toOrgId) {\n\t  //         //   let filteredVerifications = this.getSharedVerificationsAboutThisForm(r, toOrgId)\n\t  //         // }\n\t  //       }\n\t  //       r.to.organization = form.organization\n\t  //       for (var p in r) {\n\t  //         if (!m.properties[p]  ||  m.properties[p].type !== 'array' ||  !m.properties[p].items.ref)\n\t  //           continue\n\t  //         let pModel = this.getModel(m.properties[p].items.ref).value\n\t  //         if (pModel.properties.photos) {\n\t  //           let items = r[p]\n\t  //           items.forEach((ir) => {\n\t  //             let itemPhotos = list[utils.getId(ir)].value.photos\n\t  //             if (itemPhotos)\n\t  //               ir.photo = itemPhotos[0].url\n\t  //           })\n\t  //         }\n\t  //       }\n\t  //     }\n\t  //     return true\n\t  //   })\n\t  //   if (lastId  &&  lastId.split('_')[0] === PRODUCT_LIST) {\n\t  //     let i=newResult.length - 1\n\t  //     for (; i>=0; i--)\n\t  //       if (newResult[i][TYPE] !== PRODUCT_LIST)\n\t  //         break\n\t  //       newResult.splice(i, 1)\n\t  //   }\n\t  //   return newResult\n\t  //   // return newResult.reverse()\n\t  // },\n\t  // getSharedVerificationsAboutThisForm(form, toOrgId) {\n\t  //   let result = this.searchMessages({modelName: VERIFICATION, to: utils.getMe(), strict: true})\n\t  //   // let result = this.searchMessages({modelName: VERIFICATION, to: to, strict: true, filterProps: {from: utils.getMe(), document: utils.getId(form)}})\n\t  //   let formId = utils.getId(form)\n\t  //   return result.filter((r) => {\n\t  //     if (utils.getId(r.document) !== formId)\n\t  //       return false\n\t  //     let fromOrgId = utils.getId(list[utils.getId(r.from)].value.organization)\n\t  //     if (fromOrgId === toOrgId)\n\t  //       return false\n\t  //     return true\n\t  //   })\n\t  // },\n\t  searchMessages(params) {\n\t    var query = params.query;\n\t    var modelName = params.modelName;\n\t    var meta = this.getModel(modelName).value;\n\t    var prop = params.prop;\n\t    if (typeof prop === 'string')\n\t      prop = meta[prop];\n\t    var backlink = prop ? (prop.items ? prop.items.backlink : prop) : null;\n\t    var foundResources = [];\n\t    var props = meta.properties;\n\n\t    // var required = meta.required;\n\t    var meId = utils.getId(me)\n\t    var meOrgId = me.isEmployee ? utils.getId(me.organization) : null;\n\n\t    var chatTo = params.to\n\t    if (chatTo  &&  chatTo.id)\n\t      chatTo = list[utils.getId(chatTo)].value\n\t    var chatId = chatTo ? utils.getId(chatTo) : null;\n\t    var isChatWithOrg = chatTo  &&  chatTo[TYPE] === ORGANIZATION;\n\t    var toOrgId\n\t    var toOrg\n\t    let thisChatMessages\n\n\t    if (isChatWithOrg) {\n\t      var rep = this.getRepresentative(chatId)\n\t      if (!rep)\n\t        return\n\t      chatTo = rep\n\t      chatId = utils.getId(chatTo)\n\t      // isChatWithOrg = false\n\t      toOrgId = utils.getId(params.to)\n\t      toOrg = list[toOrgId].value\n\t      thisChatMessages = chatMessages[toOrgId]\n\t    }\n\t    else {\n\t      if (chatTo) {\n\t        if (chatTo.organization  &&  !meOrgId) {\n\t          toOrgId = utils.getId(chatTo.organization)\n\t          thisChatMessages = chatMessages[toOrgId]\n\t        }\n\t        else\n\t          thisChatMessages = chatMessages[utils.getId(chatTo)]\n\t      }\n\t//       else if (chatId === meId) {\n\t// console.log('What are we doing here!!! chatId: ' + chatId)\n\t//         thisChatMessages = chatMessages[chatId]\n\t//       }\n\t    }\n\t    if (!thisChatMessages  &&  (!params.to  ||  chatId === meId)) {\n\t      thisChatMessages = []\n\t      Object.keys(list).filter((key) => {\n\t        let type = list[key].value[TYPE]\n\t        let m = this.getModel(type)\n\t        if (!m)\n\t          return false\n\t        if (type === modelName                      ||\n\t           m.value.subClassOf === modelName         ||\n\t           (modelName === MESSAGE  &&  m.value.interfaces)) {\n\t          thisChatMessages.push({id: key, time: list[key].value.time})\n\t          return true\n\t        }\n\t      })\n\t    }\n\n\t    if (!thisChatMessages  ||  !thisChatMessages.length)\n\t      return null\n\t    // if (isChatWithOrg  &&  !chatTo.name) {\n\t    //   chatTo = list[chatId].value;\n\t    // }\n\t    var testMe = chatTo ? chatTo.me : null;\n\t    if (testMe) {\n\t      if (testMe === 'me') {\n\t        if (!originalMe)\n\t          originalMe = me;\n\t        testMe = originalMe[ROOT_HASH];\n\t      }\n\n\t      isTest = true;\n\t      var meId = constants.TYPES.PROFILE + '_' + testMe;\n\t      me = list[meId].value;\n\t      this.setMe(me);\n\t      var myIdentities = list[MY_IDENTITIES].value;\n\t      if (myIdentities)\n\t        myIdentities.currentIdentity = meId;\n\t    }\n\t    // var lastPL\n\t    // var sharedWithTimePairs = []\n\t    var from = params.from\n\t    var limit = params.limit ? params.limit + 1 : null\n\t    var isAllMessages = meta.isInterface;\n\t    var implementors = isAllMessages ? utils.getImplementors(modelName) : null;\n\t    var isVerification = modelName === VERIFICATION  ||  meta.subClassOf === VERIFICATION;\n\n\t    // for (var key in list) {\n\t    let lastId = params.lastId\n\t    let ii = thisChatMessages.length - 1\n\t    if (lastId) {\n\t      for (; ii>=0; ii--) {\n\t        if (thisChatMessages[ii].id === lastId) {\n\t          ii--\n\t          break\n\t        }\n\t      }\n\t    }\n\t    let resourceId = params.resource ? utils.getId(params.resource) : null\n\t    for (let i=ii; i>=0; i--) {\n\t      var key = thisChatMessages[i].id\n\t      var iMeta = null;\n\t      if (isAllMessages) {\n\t        iMeta = utils.getModel(key.split('_')[0]).value\n\t        // if (implementors) {\n\t        //   implementors.some((impl) => {\n\t        //     if (impl.id === key.split('_')[0]) {\n\t        //       iMeta = impl;\n\t        //       return true\n\t        //     }\n\t        //   })\n\t        //   if (!iMeta)\n\t        //     continue;\n\t        // }\n\t      }\n\t      else if (list[key].value[TYPE] !== modelName) {\n\t        var rModel = this.getModel(list[key].value[TYPE])\n\t        if (!rModel)\n\t          continue\n\t        rModel = rModel.value;\n\t        // Checks for the first level of subClasses\n\t        if (rModel.subClassOf !== modelName)\n\t          continue;\n\t      }\n\t      if (!iMeta)\n\t        iMeta = meta;\n\t      var r = list[key].value;\n\t      if (r.canceled)\n\t        continue;\n\t      var isFormError = isAllMessages && r[TYPE] === FORM_ERROR\n\t      // Make sure that the messages that are showing in chat belong to the conversation between these participants\n\t      if (isVerification) {\n\t        if (r.document) {\n\t          var d = list[utils.getId(r.document)]\n\t          if (!d)\n\t            continue\n\n\t          if (params.resource  &&  resourceId !== meId  && utils.getId(params.resource) !== utils.getId(d.value))\n\t            continue\n\t          r.document = d.value;\n\t        }\n\t      }\n\t      else if (isFormError)\n\t        r.prefill = list[utils.getId(r.prefill)] ? list[utils.getId(r.prefill)].value : r.prefill\n\n\t      // HACK to not show service message in customer stream\n\t      else if (r.message  &&  r.message.length)  {\n\t        if (r[TYPE] === SELF_INTRODUCTION  &&  !params.isForgetting && (utils.getId(r.to) !== meId))\n\t          continue\n\t        if (r.message === '[already published](tradle.Identity)')\n\t          continue\n\t        var m = utils.splitMessage(r.message)\n\n\t        if (m.length === 2) {\n\t          if (m[1] === PROFILE)\n\t            continue;\n\t        }\n\t        if (chatTo.organization  &&  r[TYPE] === constants.TYPES.CUSTOMER_WAITING) {\n\t          var rid = utils.getId(chatTo.organization);\n\n\t          var org = list[utils.getId(r.to)].value.organization\n\t          var orgId = utils.getId(org)\n\t          if (!utils.isEmployee(list[utils.getId(chatTo.organization)].value))\n\t            continue;\n\t        }\n\n\t      }\n\n\t      var isSharedWith = false, timeResourcePair = null\n\t      if (r.sharedWith  &&  toOrgId) {\n\t        var sharedWith = r.sharedWith.filter(function(r) {\n\t          let org = list[r.bankRepresentative].value.organization\n\t          return (org) ? utils.getId(org) === toOrgId : false\n\t        })\n\t        isSharedWith = sharedWith.length !== 0\n\t        if (isSharedWith) {\n\t          timeResourcePair = {\n\t            time: sharedWith[0].timeShared,\n\t            resource: r\n\t          }\n\t        }\n\t      }\n\n\t      if (chatTo) {\n\t        // backlinks like myVerifications, myDocuments etc. on Profile\n\t        if (backlink  &&  r[backlink]) {\n\t          var s = params.resource ? utils.getId(params.resource) : chatId\n\t          if (s === utils.getId(r[backlink])) {\n\t            foundResources.push(r)\n\t            // for Loading earlier resources we don't need to check limit untill we get to the lastId\n\t            if (limit  &&  foundResources.length === limit)\n\t              return foundResources.reverse()\n\t          }\n\n\t          continue;\n\t        }\n\n\t        var m = this.getModel(r[TYPE]).value\n\t        var isVerificationR = r[TYPE] === VERIFICATION  ||  m.subClassOf === VERIFICATION\n\t        var isForm = m.subClassOf === FORM\n\t        var isMyProduct = m.subClassOf === MY_PRODUCT\n\t        let isProductApplication = m.id === PRODUCT_APPLICATION\n\t        if ((!r.message  ||  r.message.trim().length === 0) && !r.photos &&  !isVerificationR  &&  !isForm  &&  !isMyProduct && !isProductApplication)\n\t          // check if this is verification resource\n\t          continue;\n\t        var fromID = utils.getId(r.from);\n\t        var toID = utils.getId(r.to);\n\n\t        if (params.strict) {\n\t          if (chatId !== toID)\n\t            continue\n\t        }\n\n\t        // if (fromID !== meId  &&  toID !== meId  &&  toID != meOrgId)\n\t        //   continue;\n\t        // if (isChatWithOrg) {\n\t          // if (isVerificationR) {\n\t          //   let org = list[fromID].value.organization\n\t          //   if (!org)\n\t          //     org = list[toID].value.organization\n\n\t          //   let msgOrgId = utils.getId(org)\n\t          //   if (toOrgId !== msgOrgId) {\n\t          //     // if (!isSharedWith)\n\t          //       continue\n\t          //     // let sharedWithThisOrg = r.sharedWith.filter((s) => {\n\t          //     //   let rep = list[s.bankRepresentative].value\n\t          //     //   if (utils.getId(rep.organization) === toOrgId)\n\t          //     //     return true\n\t          //     // })\n\t          //     // if (!sharedWithThisOrg  ||  !sharedWithThisOrg.length)\n\t          //     //   continue\n\t          //   }\n\t          // }\n\t          // else {\n\t          //   let msgOrg\n\t          //   if (toID !== meId) {\n\t          //     msgOrg = list[toID].value.organization\n\t          //     if (!msgOrg)\n\t          //       msgOrg = list[fromID].value.organization\n\t          //   }\n\t          //   else {\n\t          //     msgOrg = list[fromID].value.organization\n\t          //     if (!msgOrg)\n\t          //       msgOrg = list[toID].value.organization\n\t          //   }\n\t          //   let msgOrgId = utils.getId(msgOrg)\n\t          //   if (toOrgId !== msgOrgId  &&  (!isSharedWith || isVerificationR)) // do not show shared verifications\n\t          //     continue\n\t          // }\n\t      //   }\n\t      //   else {\n\t      //     if (!isSharedWith  &&  fromID !== chatId  &&  toID != chatId  &&  toID != meOrgId)\n\t      //       continue;\n\t      //   }\n\t      }\n\t      if (params.strict  &&  chatId !== utils.getId(r.to))\n\t        continue\n\n\t      if (r.sharedWith  &&  toOrgId  &&  !isSharedWith)\n\t        continue\n\t      if (isVerificationR  ||  r[TYPE] === ADDITIONAL_INFO) {\n\t        var doc = {};\n\t        var rDoc = list[utils.getId(r.document)]\n\t        if (!rDoc) {\n\t          if (params.isForgetting)\n\t            foundResources.push(r)\n\t          continue\n\t        }\n\n\t        // TODO: check if we can copy by reference\n\t        for (var p in rDoc.value) {\n\t          if (p === 'verifications' || p === 'additionalInfo') continue\n\n\t          var val = rDoc.value[p]\n\t          switch (typeof val) {\n\t            case 'object':\n\t              if (val) {\n\t                if (Array.isArray(val))\n\t                  doc[p] = val.slice(0)\n\t                else\n\t                  doc[p] = extend(true, {}, val)\n\t              }\n\t              break\n\t            default:\n\t              doc[p] = val\n\t              break\n\t          }\n\t        }\n\n\t        r.document = doc;\n\t      }\n\n\t      if (!query) {\n\t        var msg = this.fillMessage(r);\n\t        if (!msg)\n\t          msg = r\n\t        // foundResources[key] = msg;\n\t        foundResources.push(msg)\n\t        if (limit  &&  foundResources.length === limit)\n\t          return foundResources.reverse()\n\n\t        continue;\n\t      }\n\t       // primitive filtering for this commit\n\t      var combinedValue = '';\n\t      for (var rr in props) {\n\t        if (r[rr] instanceof Array)\n\t         continue;\n\t        combinedValue += combinedValue ? ' ' + r[rr] : r[rr];\n\t      }\n\t      if (!combinedValue  ||  (combinedValue  &&  (!query || combinedValue.toLowerCase().indexOf(query.toLowerCase()) != -1))) {\n\t        // foundResources[key] = this.fillMessage(r);\n\t        foundResources.push(this.fillMessage(r))\n\n\t        if (limit  &&  foundResources.length === limit)\n\t          return foundResources.reverse()\n\t      }\n\t    }\n\t    if (!foundResources.length)\n\t      return\n\t    return foundResources.reverse()// this.filterResult(foundResources, lastId, toOrg ? utils.getId(toOrg) : null)\n\t    // result.sort(function(a, b) {\n\t    //   return a.time - b.time;\n\t    // });\n\t    // return this.getSearchResult(result)\n\n\t    // if (params.isForgetting)\n\t    //   return result\n\t    // return result //.reverse();\n\t  },\n\t  searchMessages(params) {\n\t    var query = params.query;\n\t    var modelName = params.modelName;\n\t    var meta = this.getModel(modelName).value;\n\t    var prop = params.prop;\n\t    if (typeof prop === 'string')\n\t      prop = meta[prop];\n\t    var backlink = prop ? (prop.items ? prop.items.backlink : prop) : null;\n\t    var foundResources = [];\n\t    var props = meta.properties;\n\n\t    // var required = meta.required;\n\t    var meId = utils.getId(me)\n\t    var meOrgId = me.isEmployee ? utils.getId(me.organization) : null;\n\n\t    var chatTo = params.to\n\t    if (chatTo  &&  chatTo.id)\n\t      chatTo = list[utils.getId(chatTo)].value\n\t    var chatId = chatTo ? utils.getId(chatTo) : null;\n\t    var isChatWithOrg = chatTo  &&  chatTo[TYPE] === ORGANIZATION;\n\t    var toOrgId\n\t    var toOrg\n\t    let thisChatMessages\n\n\t    if (isChatWithOrg) {\n\t      var rep = this.getRepresentative(chatId)\n\t      if (!rep)\n\t        return\n\t      chatTo = rep\n\t      chatId = utils.getId(chatTo)\n\t      // isChatWithOrg = false\n\t      toOrgId = utils.getId(params.to)\n\t      toOrg = list[toOrgId].value\n\t      thisChatMessages = chatMessages[toOrgId]\n\t    }\n\t    else {\n\t      if (chatTo) {\n\t        if (chatTo.organization  &&  !meOrgId) {\n\t          toOrgId = utils.getId(chatTo.organization)\n\t          thisChatMessages = chatMessages[toOrgId]\n\t        }\n\t        else\n\t          thisChatMessages = chatMessages[utils.getId(chatTo)]\n\t      }\n\t//       else if (chatId === meId) {\n\t// console.log('What are we doing here!!! chatId: ' + chatId)\n\t//         thisChatMessages = chatMessages[chatId]\n\t//       }\n\t    }\n\t    if (!thisChatMessages  &&  (!params.to  ||  chatId === meId)) {\n\t      thisChatMessages = []\n\t      Object.keys(list).filter((key) => {\n\t        let type = list[key].value[TYPE]\n\t        let m = this.getModel(type)\n\t        if (!m)\n\t          return false\n\t        if (type === modelName                      ||\n\t           m.value.subClassOf === modelName         ||\n\t           (modelName === MESSAGE  &&  m.value.interfaces)) {\n\t          thisChatMessages.push({id: key, time: list[key].value.time})\n\t          return true\n\t        }\n\t      })\n\t    }\n\n\t    if (!thisChatMessages  ||  !thisChatMessages.length)\n\t      return null\n\t    // if (isChatWithOrg  &&  !chatTo.name) {\n\t    //   chatTo = list[chatId].value;\n\t    // }\n\t    var testMe = chatTo ? chatTo.me : null;\n\t    if (testMe) {\n\t      if (testMe === 'me') {\n\t        if (!originalMe)\n\t          originalMe = me;\n\t        testMe = originalMe[ROOT_HASH];\n\t      }\n\n\t      isTest = true;\n\t      var meId = constants.TYPES.PROFILE + '_' + testMe;\n\t      me = list[meId].value;\n\t      this.setMe(me);\n\t      var myIdentities = list[MY_IDENTITIES].value;\n\t      if (myIdentities)\n\t        myIdentities.currentIdentity = meId;\n\t    }\n\t    // var lastPL\n\t    // var sharedWithTimePairs = []\n\t    var from = params.from\n\t    var limit = params.limit ? params.limit + 1 : null\n\t    var isAllMessages = meta.isInterface;\n\t    var implementors = isAllMessages ? utils.getImplementors(modelName) : null;\n\t    var isVerification = modelName === VERIFICATION  ||  meta.subClassOf === VERIFICATION;\n\n\t    // for (var key in list) {\n\t    let lastId = params.lastId\n\t    let ii = thisChatMessages.length - 1\n\t    if (lastId) {\n\t      for (; ii>=0; ii--) {\n\t        if (thisChatMessages[ii].id === lastId) {\n\t          ii--\n\t          break\n\t        }\n\t      }\n\t    }\n\t    let resourceId = params.resource ? utils.getId(params.resource) : null\n\t    for (let i=ii; i>=0; i--) {\n\t      var key = thisChatMessages[i].id\n\t      var iMeta = null;\n\t      if (isAllMessages) {\n\t        iMeta = utils.getModel(key.split('_')[0]).value\n\t        // if (implementors) {\n\t        //   implementors.some((impl) => {\n\t        //     if (impl.id === key.split('_')[0]) {\n\t        //       iMeta = impl;\n\t        //       return true\n\t        //     }\n\t        //   })\n\t        //   if (!iMeta)\n\t        //     continue;\n\t        // }\n\t      }\n\t      else if (list[key].value[TYPE] !== modelName) {\n\t        var rModel = this.getModel(list[key].value[TYPE])\n\t        if (!rModel)\n\t          continue\n\t        rModel = rModel.value;\n\t        // Checks for the first level of subClasses\n\t        if (rModel.subClassOf !== modelName)\n\t          continue;\n\t      }\n\t      if (!iMeta)\n\t        iMeta = meta;\n\t      var r = list[key].value;\n\t      if (r.canceled)\n\t        continue;\n\t      var isFormError = isAllMessages && r[TYPE] === FORM_ERROR\n\t      // Make sure that the messages that are showing in chat belong to the conversation between these participants\n\t      if (isVerification) {\n\t        if (r.document) {\n\t          var d = list[utils.getId(r.document)]\n\t          if (!d)\n\t            continue\n\n\t          if (params.resource  &&  resourceId !== meId  && utils.getId(params.resource) !== utils.getId(d.value))\n\t            continue\n\t          r.document = d.value;\n\t        }\n\t      }\n\t      else if (isFormError)\n\t        r.prefill = list[utils.getId(r.prefill)] ? list[utils.getId(r.prefill)].value : r.prefill\n\n\t      // HACK to not show service message in customer stream\n\t      else if (r.message  &&  r.message.length)  {\n\t        if (r[TYPE] === SELF_INTRODUCTION  &&  !params.isForgetting && (utils.getId(r.to) !== meId))\n\t          continue\n\t        if (r.message === '[already published](tradle.Identity)')\n\t          continue\n\t        var m = utils.splitMessage(r.message)\n\n\t        if (m.length === 2) {\n\t          if (m[1] === PROFILE)\n\t            continue;\n\t        }\n\t        if (chatTo.organization  &&  r[TYPE] === constants.TYPES.CUSTOMER_WAITING) {\n\t          var rid = utils.getId(chatTo.organization);\n\n\t          var org = list[utils.getId(r.to)].value.organization\n\t          var orgId = utils.getId(org)\n\t          if (!utils.isEmployee(list[utils.getId(chatTo.organization)].value))\n\t            continue;\n\t        }\n\n\t      }\n\n\t      var isSharedWith = false, timeResourcePair = null\n\t      if (r.sharedWith  &&  toOrgId) {\n\t        var sharedWith = r.sharedWith.filter(function(r) {\n\t          let org = list[r.bankRepresentative].value.organization\n\t          return (org) ? utils.getId(org) === toOrgId : false\n\t        })\n\t        isSharedWith = sharedWith.length !== 0\n\t        if (isSharedWith) {\n\t          timeResourcePair = {\n\t            time: sharedWith[0].timeShared,\n\t            resource: r\n\t          }\n\t        }\n\t      }\n\n\t      if (chatTo) {\n\t        // backlinks like myVerifications, myDocuments etc. on Profile\n\t        if (backlink  &&  r[backlink]) {\n\t          var s = params.resource ? utils.getId(params.resource) : chatId\n\t          if (s === utils.getId(r[backlink])) {\n\t            foundResources.push(r)\n\t            // for Loading earlier resources we don't need to check limit untill we get to the lastId\n\t            if (limit  &&  foundResources.length === limit)\n\t              return foundResources.reverse()\n\t          }\n\n\t          continue;\n\t        }\n\n\t        var m = this.getModel(r[TYPE]).value\n\t        var isVerificationR = r[TYPE] === VERIFICATION  ||  m.subClassOf === VERIFICATION\n\t        var isForm = m.subClassOf === FORM\n\t        var isMyProduct = m.subClassOf === MY_PRODUCT\n\t        let isProductApplication = m.id === PRODUCT_APPLICATION\n\t        if ((!r.message  ||  r.message.trim().length === 0) && !r.photos &&  !isVerificationR  &&  !isForm  &&  !isMyProduct && !isProductApplication)\n\t          // check if this is verification resource\n\t          continue;\n\t        var fromID = utils.getId(r.from);\n\t        var toID = utils.getId(r.to);\n\n\t        if (params.strict) {\n\t          if (chatId !== toID)\n\t            continue\n\t        }\n\t      }\n\t      if (params.strict  &&  chatId !== utils.getId(r.to))\n\t        continue\n\n\t      if (r.sharedWith  &&  toOrgId  &&  !isSharedWith)\n\t        continue\n\t      if (isVerificationR  ||  r[TYPE] === ADDITIONAL_INFO) {\n\t        var doc = {};\n\t        var rDoc = list[utils.getId(r.document)]\n\t        if (!rDoc) {\n\t          if (params.isForgetting)\n\t            foundResources.push(r)\n\t          continue\n\t        }\n\n\t        // TODO: check if we can copy by reference\n\t        for (var p in rDoc.value) {\n\t          if (p === 'verifications' || p === 'additionalInfo') continue\n\n\t          var val = rDoc.value[p]\n\t          switch (typeof val) {\n\t            case 'object':\n\t              if (val) {\n\t                if (Array.isArray(val))\n\t                  doc[p] = val.slice(0)\n\t                else\n\t                  doc[p] = extend(true, {}, val)\n\t              }\n\t              break\n\t            default:\n\t              doc[p] = val\n\t              break\n\t          }\n\t        }\n\n\t        r.document = doc;\n\t      }\n\n\t      if (!query) {\n\t        var msg = this.fillMessage(r);\n\t        if (!msg)\n\t          msg = r\n\t        // foundResources[key] = msg;\n\t        foundResources.push(msg)\n\t        if (limit  &&  foundResources.length === limit)\n\t          return foundResources.reverse()\n\n\t        continue;\n\t      }\n\t       // primitive filtering for this commit\n\t      var combinedValue = '';\n\t      for (var rr in props) {\n\t        if (r[rr] instanceof Array)\n\t         continue;\n\t        combinedValue += combinedValue ? ' ' + r[rr] : r[rr];\n\t      }\n\t      if (!combinedValue  ||  (combinedValue  &&  (!query || combinedValue.toLowerCase().indexOf(query.toLowerCase()) != -1))) {\n\t        // foundResources[key] = this.fillMessage(r);\n\t        foundResources.push(this.fillMessage(r))\n\n\t        if (limit  &&  foundResources.length === limit)\n\t          return foundResources.reverse()\n\t      }\n\t    }\n\t    if (!foundResources.length)\n\t      return\n\t    return foundResources.reverse()// this.filterResult(foundResources, lastId, toOrg ? utils.getId(toOrg) : null)\n\t    // result.sort(function(a, b) {\n\t    //   return a.time - b.time;\n\t    // });\n\t    // return this.getSearchResult(result)\n\n\t    // if (params.isForgetting)\n\t    //   return result\n\t    // return result //.reverse();\n\t  },\n\t  createFromIdentity(r) {\n\t    var rr = {};\n\t    if (r.name) {\n\t      for (var p in r.name)\n\t        rr[p] = r.name[p];\n\t    }\n\t    if (r.location) {\n\t      for (var p in r.location)\n\t        rr[p] = r.location[p];\n\t    }\n\t    for (var p in r)\n\t      if (p !== 'name' && p !== 'location')\n\t        rr[p] = r[p];\n\t    return rr;\n\t  },\n\t  onAddApp(serverUrl) {\n\t    let parts = serverUrl.split(';')\n\t    // let idx = serverUrl.lastIndexOf('/')\n\t    // let id = parts[parts.length - 1]\n\t    // let url = parts.slice(0, parts.length - 1).join('/')\n\n\t    return this.getInfo([parts[0]], false, parts[1])\n\t    .then(() => {\n\t      this.trigger({action: 'addApp'})\n\t      // let list = self.searchNotMessages({modelName: ORGANIZATION})\n\t      // this.trigger({\n\t      //   action: 'list',\n\t      //   list: list,\n\t      // })\n\t    })\n\t  },\n\n\t  packResult(result) {\n\t    let foundResources = {}\n\t    result.forEach((fr) => {\n\t      foundResources[utils.getId(fr.value)] = fr\n\t    })\n\t    return foundResources\n\t  },\n\t*/\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(798).Buffer))\n\n/***/ },\n\n/***/ 1730:\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"url\": \"data:image/png;base64,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\"\n\t};\n\n/***/ },\n\n/***/ 1731:\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"appName\": \"Tradle-Dev\",\n\t\t\"topLevelProviders\": [\n\t\t\t{\n\t\t\t\t\"name\": \"Tradle\",\n\t\t\t\t\"baseUrl\": \"https://lloyds.tradle.io\"\n\t\t\t}\n\t\t]\n\t};\n\n/***/ },\n\n/***/ 1733:\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"msg\": \"Welcome {firstName}! It is a pleasure to have you here!\"\n\t};\n\n/***/ },\n\n/***/ 1737:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(Buffer) {'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.PASSWORD_ITEM_KEY = undefined;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar lookupSecureEnclaveKey = function () {\n\t  var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(pubKey) {\n\t    var keyPair, uncompressed, key;\n\t    return regeneratorRuntime.wrap(function _callee$(_context) {\n\t      while (1) {\n\t        switch (_context.prev = _context.next) {\n\t          case 0:\n\t            keyPair = getCurve(pubKey.curve).keyFromPublic(new Buffer(pubKey.pub, 'hex'));\n\t            // const compressed = keyPair.getPublic(true, true)\n\t\n\t            uncompressed = keyPair.getPublic(false, true);\n\t            // const tryCompressed = Q.ninvoke(ec, 'lookupKey', new Buffer(compressed))\n\t            // const tryUncompressed = Q.ninvoke(ec, 'lookupKey', new Buffer(uncompressed))\n\t            // let key\n\t            // try {\n\t            //   key = await tryCompressed\n\t            // } catch (err) {\n\t            //   key = await tryUncompressed\n\t            // }\n\t\n\t            _context.next = 4;\n\t            return _q2.default.ninvoke(ec, 'lookupKey', new Buffer(uncompressed));\n\t\n\t          case 4:\n\t            key = _context.sent;\n\t            return _context.abrupt('return', _nkeySe2.default.fromJSON(_extends({}, pubKey, key)));\n\t\n\t          case 6:\n\t          case 'end':\n\t            return _context.stop();\n\t        }\n\t      }\n\t    }, _callee, this);\n\t  }));\n\t\n\t  return function lookupSecureEnclaveKey(_x2) {\n\t    return _ref.apply(this, arguments);\n\t  };\n\t}();\n\t\n\texports.generateNewSet = generateNewSet;\n\texports.saveKey = saveKey;\n\texports.lookupKeys = lookupKeys;\n\t\n\tvar _crypto = __webpack_require__(809);\n\t\n\tvar _typeforce = __webpack_require__(990);\n\t\n\tvar _typeforce2 = _interopRequireDefault(_typeforce);\n\t\n\tvar _q = __webpack_require__(949);\n\t\n\tvar _q2 = _interopRequireDefault(_q);\n\t\n\tvar _reactNativeEcc = __webpack_require__(1738);\n\t\n\tvar ec = _interopRequireWildcard(_reactNativeEcc);\n\t\n\tvar _utils = __webpack_require__(935);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tvar _env = __webpack_require__(942);\n\t\n\tvar _elliptic = __webpack_require__(883);\n\t\n\tvar _engine = __webpack_require__(1085);\n\t\n\tvar _nkeySe = __webpack_require__(1739);\n\t\n\tvar _nkeySe2 = _interopRequireDefault(_nkeySe);\n\t\n\tvar _nkeyEcdsa = __webpack_require__(1264);\n\t\n\tvar _nkeyEcdsa2 = _interopRequireDefault(_nkeyEcdsa);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\tec.setServiceID(_env.serviceID);\n\tif (_env.accessGroup) ec.setAccessGroup(_env.accessGroup);\n\t\n\tif (_utils2.default.isIOS()) {\n\t  _nkeyEcdsa2.default.setImplementationForCurve('p256', _nkeySe2.default);\n\t  _nkeyEcdsa2.default.setImplementationForCurve('prime256v1', _nkeySe2.default);\n\t}\n\t\n\tvar debug = __webpack_require__(766)('tradle:app:keychain');\n\tvar ellipticCurves = {};\n\tvar DEFAULT_KEY_SET = _engine.utils.defaultKeySet();\n\t\n\tvar PASSWORD_ITEM_KEY = exports.PASSWORD_ITEM_KEY = 'app-password';\n\t\n\tfunction generateNewSet() {\n\t  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t  (0, _typeforce2.default)({\n\t    networkName: 'String'\n\t  }, opts);\n\t\n\t  return Promise.all(DEFAULT_KEY_SET.map(function (keyProps) {\n\t    keyProps = _extends({}, keyProps); // defensive copy\n\t    var gen = isKeyInSecureEnclave(keyProps) ? createSecureEnclaveKey(keyProps) : createKeychainKey(keyProps, opts.networkName);\n\t\n\t    return gen.then(function (key) {\n\t      key.set('purpose', keyProps.purpose);\n\t      return key;\n\t    });\n\t  }));\n\t}\n\t\n\tfunction saveKey(pub, priv) {\n\t  (0, _typeforce2.default)('String', pub);\n\t  (0, _typeforce2.default)('String', priv);\n\t  console.log('saving', pub);\n\t  return _utils2.default.setPassword(pub, priv);\n\t}\n\t\n\tfunction lookupKeys(keys) {\n\t  return Promise.all(keys.map(function (key) {\n\t    return lookupKeyUntilFound(key);\n\t  }));\n\t}\n\t\n\tfunction lookupKeyUntilFound(pubKey, delay) {\n\t  delay = delay || 1000;\n\t  return _utils2.default.tryWithExponentialBackoff(function () {\n\t    return lookupKey(pubKey).catch(function (err) {\n\t      debug('key not found, will retry', err);\n\t      throw err;\n\t    });\n\t  }, {\n\t    intialDelay: 1000,\n\t    maxDelay: 20000\n\t  });\n\t}\n\t\n\tfunction lookupKey(pubKey) {\n\t  (0, _typeforce2.default)({\n\t    pub: 'String'\n\t  }, pubKey);\n\t\n\t  if (!isKeyInSecureEnclave(pubKey)) {\n\t    return fromKeychain();\n\t  }\n\t\n\t  return lookupSecureEnclaveKey(pubKey).catch(function (err) {\n\t    if (err.message !== 'NotFound') throw err;\n\t\n\t    return fromKeychain();\n\t  });\n\t\n\t  function fromKeychain() {\n\t    return lookupKeychainKey(pubKey).then(function (priv) {\n\t      var priv = _extends({}, pubKey, { priv: priv });\n\t      return _engine.utils.importKey(priv);\n\t    }).catch(function (err) {\n\t      console.error('key not found', pubKey);\n\t      throw err;\n\t    });\n\t  }\n\t}\n\t\n\tfunction lookupKeychainKey(pubKey) {\n\t  return _utils2.default.getPassword(pubKey.pub);\n\t}\n\t\n\tfunction createKeychainKey(keyProps, networkName) {\n\t  keyProps = _extends({}, keyProps);\n\t  if (keyProps.type === 'bitcoin') {\n\t    keyProps.networkName = networkName;\n\t  }\n\t\n\t  var key = _engine.utils.genKey(keyProps);\n\t  return saveKey(key.pubKeyString, key.toJSON(true).priv).then(function () {\n\t    return key;\n\t  });\n\t}\n\t\n\tfunction createSecureEnclaveKey(keyProps) {\n\t  // { sign, verify, pub }\n\t  return _q2.default.ninvoke(_nkeySe2.default, 'gen', keyProps);\n\t  // return Q.ninvoke(ec, 'keyPair', keyProps.curve)\n\t  //   .then((key) => {\n\t  //     console.log('made', key.pub.toString('hex'))\n\t  //     return extendKey(key, keyProps)\n\t  //   })\n\t}\n\t\n\tfunction rejectNotFound() {\n\t  return Promise.reject(new Error('NotFound'));\n\t}\n\t\n\tfunction getCurve(name) {\n\t  if (!ellipticCurves[name]) ellipticCurves[name] = new _elliptic.ec(name);\n\t\n\t  return ellipticCurves[name];\n\t}\n\t\n\tfunction isKeyInSecureEnclave(key) {\n\t  return _utils2.default.isIOS() && key.type === 'ec' && key.curve in ec.curves; //key.curve === 'p256'\n\t}\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(798).Buffer))\n\n/***/ },\n\n/***/ 1739:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(Buffer) {'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _crypto = __webpack_require__(809);\n\t\n\tvar _crypto2 = _interopRequireDefault(_crypto);\n\t\n\tvar _reactNativeEcc = __webpack_require__(1738);\n\t\n\tvar ec = _interopRequireWildcard(_reactNativeEcc);\n\t\n\tvar _thunky = __webpack_require__(1148);\n\t\n\tvar _thunky2 = _interopRequireDefault(_thunky);\n\t\n\tvar _nkey = __webpack_require__(1302);\n\t\n\tvar _nkey2 = _interopRequireDefault(_nkey);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar type = 'ec';\n\t\n\tmodule.exports = exports = _nkey2.default.wrapAPI({\n\t  gen: gen, fromJSON: fromJSON\n\t});\n\t\n\texports.DEFAULT_ALGORITHM = 'sha256';\n\t\n\tfunction gen(opts, cb) {\n\t  ec.keyPair(opts.curve, function (err, key) {\n\t    if (err) return cb(err);\n\t\n\t    cb(null, fromJSON(_extends({}, opts, key)));\n\t  });\n\t}\n\t\n\tfunction fromJSON(json) {\n\t  var pubKeyString = json.pub.toString('hex');\n\t  var pub = Buffer.isBuffer(json.pub) ? json.pub : new Buffer(json.pub, 'hex');\n\t  var fingerprint = _crypto2.default.createHash('sha256').update(pub).digest('hex');\n\t  var curve = json.curve;\n\t  var doSign = json.sign;\n\t  var doVerify = json.verify;\n\t  if (doSign) {\n\t    return _nkey2.default.wrapInstance(_extends({}, json, {\n\t      type: type,\n\t      pubKeyString: pubKeyString,\n\t      fingerprint: fingerprint,\n\t      toJSON: toJSON,\n\t      sign: sign,\n\t      verify: verify,\n\t      isPrivateKey: true\n\t    }));\n\t  }\n\t\n\t  return fromJSON(_extends({}, json, ec.keyFromPublic(pub)));\n\t\n\t  function sign(data, algorithm, cb) {\n\t    if (typeof algorithm === 'function') {\n\t      cb = algorithm;\n\t      algorithm = exports.DEFAULT_ALGORITHM;\n\t    }\n\t\n\t    doSign({ data: data, algorithm: algorithm }, cb);\n\t  }\n\t\n\t  function verify(data, algorithm, sig, cb) {\n\t    if (typeof sig === 'function') {\n\t      cb = sig;\n\t      sig = algorithm;\n\t      algorithm = exports.DEFAULT_ALGORITHM;\n\t    }\n\t\n\t    doVerify({ data: data, algorithm: algorithm, sig: sig }, cb);\n\t  }\n\t\n\t  function toJSON(exportPrivateKey) {\n\t    if (exportPrivateKey) throw new Error('cannot export private key');\n\t\n\t    return {\n\t      type: type,\n\t      curve: curve,\n\t      pub: pubKeyString,\n\t      fingerprint: fingerprint\n\t    };\n\t  }\n\t}\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(798).Buffer))\n\n/***/ },\n\n/***/ 1743:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _q = __webpack_require__(949);\n\t\n\tvar _q2 = _interopRequireDefault(_q);\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _browser = __webpack_require__(1744);\n\t\n\tvar _browser2 = _interopRequireDefault(_browser);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar async = __webpack_require__(1745);\n\tvar leveldown;\n\tvar levelup = __webpack_require__(1746);\n\t// var updown = require('level-updown')\n\tif (_reactNative.Platform.OS === 'web') {\n\t  console.log('browser', _browser2.default);\n\t  if (_browser2.default.isIE) {\n\t    leveldown = __webpack_require__(1775);\n\t  } else {\n\t    var leveljs = __webpack_require__(1791);\n\t    var dbs = [];\n\t    leveldown = function leveldown() {\n\t      var result = leveljs.apply(this, arguments);\n\t      dbs.push(result);\n\t      return result;\n\t    };\n\t\n\t    leveldown.destroyAll = function () {\n\t      return _q2.default.allSettled(dbs.map(function (db) {\n\t        return _q2.default.ninvoke(db, 'close');\n\t      })).then(function () {\n\t        return _q2.default.all(dbs.map(function (db) {\n\t          return _q2.default.ninvoke(leveljs, 'destroy', db);\n\t        }));\n\t      });\n\t    };\n\t  }\n\t} else {\n\t  var asyncstorageDown = __webpack_require__(1791);\n\t  leveldown = __webpack_require__(1799);\n\t  leveldown.setLeveldown(asyncstorageDown);\n\t}\n\t\n\tmodule.exports = leveldown;\n\n/***/ },\n\n/***/ 1744:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tmodule.exports = {\n\t  isIE: function isIE() {\n\t    if (_reactNative.Platform.OS !== 'web') return false;\n\t\n\t    var ua = global.navigator.userAgent;\n\t    var msie = ua.indexOf(\"MSIE \");\n\t    if (msie > 0) return true;\n\t\n\t    // IE11\n\t    return !global.ActiveXObject && \"ActiveXObject\" in global;\n\t  }()\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n\n/***/ 1763:\n831,\n\n/***/ 1764:\n831,\n\n/***/ 1765:\n831,\n\n/***/ 1805:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar levelup = __webpack_require__(1746);\n\tvar leveldown = __webpack_require__(1743);\n\t\n\tmodule.exports = exports = level;\n\t\n\tfunction level(loc, opts) {\n\t  opts = opts || {};\n\t  opts.db = opts.db || function () {\n\t    var db = leveldown.apply(null, arguments);\n\t    if (db.maxSize) db.maxSize(100); // max cache size\n\t\n\t    return db;\n\t  };\n\t\n\t  return levelup(loc, opts);\n\t}\n\n/***/ },\n\n/***/ 1813:\n831,\n\n/***/ 1861:\n831,\n\n/***/ 1878:\n831,\n\n/***/ 1888:\n831,\n\n/***/ 1899:\n831,\n\n/***/ 1923:\n831,\n\n/***/ 1924:\n831,\n\n/***/ 1925:\n831,\n\n/***/ 1932:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _ActivityIndicator = __webpack_require__(1669);\n\t\n\tvar _ActivityIndicator2 = _interopRequireDefault(_ActivityIndicator);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar extend = __webpack_require__(1074);\n\tvar QRCode = __webpack_require__(1933);\n\tvar DEFAULT_DIM = 370;\n\t\n\tvar QRCodeView = function (_Component) {\n\t  _inherits(QRCodeView, _Component);\n\t\n\t  function QRCodeView(props) {\n\t    _classCallCheck(this, QRCodeView);\n\t\n\t    var _this = _possibleConstructorReturn(this, (QRCodeView.__proto__ || Object.getPrototypeOf(QRCodeView)).call(this, props));\n\t\n\t    _this.state = {\n\t      renderPlaceholderOnly: true\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(QRCodeView, [{\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      var _this2 = this;\n\t\n\t      _reactNative.InteractionManager.runAfterInteractions(function () {\n\t        _this2.setState({\n\t          renderPlaceholderOnly: false\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var code;\n\t      if (this.state.renderPlaceholderOnly) {\n\t        return _react2.default.createElement(_ActivityIndicator2.default, { hidden: 'true', size: 'large', style: this.state.style });\n\t      }\n\t\n\t      var code = _react2.default.createElement(QRCode, {\n\t        value: this.props.content,\n\t        style: this.state.style,\n\t        size: this.props.dimension,\n\t        bgColor: this.props.bgColor,\n\t        fgColor: this.props.fgColor\n\t      });\n\t\n\t      if (!this.props.fullScreen) return code;\n\t\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: styles.container },\n\t        code\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return QRCodeView;\n\t}(_react.Component);\n\t\n\t// function getStyle (dim) {\n\t//   return {\n\t//     alignSelf: 'center',\n\t//     height: dim,\n\t//     width: dim\n\t//   }\n\t// }\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  container: {\n\t    flex: 1,\n\t    justifyContent: 'center',\n\t    alignItems: 'center',\n\t    backgroundColor: 'transparent'\n\t  }\n\t});\n\t\n\t// QRCodeView.PropTypes = {\n\t//   size: PropTypes.number.isRequired,\n\t//   bgColor: PropTypes.string.isRequired,\n\t//   fgColor: PropTypes.string.isRequired,\n\t// }\n\t\n\tmodule.exports = QRCodeView;\n\n/***/ },\n\n/***/ 1946:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _reactNativeActionsheet = __webpack_require__(1686);\n\t\n\tvar _reactNativeActionsheet2 = _interopRequireDefault(_reactNativeActionsheet);\n\t\n\tvar _reactNativeOrient = __webpack_require__(944);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _ActivityIndicator = __webpack_require__(1669);\n\t\n\tvar _ActivityIndicator2 = _interopRequireDefault(_ActivityIndicator);\n\t\n\tvar _platform = __webpack_require__(1674);\n\t\n\tvar _platform2 = _interopRequireDefault(_platform);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar MessageView = __webpack_require__(1947);\n\tvar MessageRow = __webpack_require__(2077);\n\tvar MyProductMessageRow = __webpack_require__(2084);\n\tvar VerificationMessageRow = __webpack_require__(2085);\n\tvar FormMessageRow = __webpack_require__(2086);\n\tvar NoResources = __webpack_require__(1691);\n\tvar NewResource = __webpack_require__(1949);\n\tvar ProductChooser = __webpack_require__(2078);\n\tvar PageView = __webpack_require__(1722);\n\tvar Icon = __webpack_require__(1541);\n\tvar utils = __webpack_require__(935);\n\tvar translate = utils.translate;\n\tvar reactMixin = __webpack_require__(1703);\n\tvar equal = __webpack_require__(721);\n\tvar Store = __webpack_require__(1723);\n\tvar Actions = __webpack_require__(1517);\n\tvar Reflux = __webpack_require__(1518);\n\tvar constants = __webpack_require__(1348);\n\tvar GiftedMessenger = __webpack_require__(2087);\n\tvar NetworkInfoProvider = __webpack_require__(2076);\n\tvar extend = __webpack_require__(1705);\n\t\n\t// var AddNewMessage = require('./AddNewMessage')\n\t// var SearchBar = require('react-native-search-bar')\n\t// var ResourceTypesScreen = require('./ResourceTypesScreen')\n\t\n\tvar LINK_COLOR;\n\tvar LIMIT = 300;\n\tvar NEXT_HASH = '_n';\n\tvar PRODUCT_APPLICATION = 'tradle.ProductApplication';\n\tvar MY_PRODUCT = 'tradle.MyProduct';\n\tvar FORM_REQUEST = 'tradle.FormRequest';\n\t\n\tvar currentMessageTime;\n\t\n\tvar MessageList = function (_Component) {\n\t  _inherits(MessageList, _Component);\n\t\n\t  function MessageList(props) {\n\t    _classCallCheck(this, MessageList);\n\t\n\t    var _this = _possibleConstructorReturn(this, (MessageList.__proto__ || Object.getPrototypeOf(MessageList)).call(this, props));\n\t\n\t    _this.state = {\n\t      isLoading: true,\n\t      selectedAssets: {},\n\t      isConnected: _this.props.navigator.isConnected,\n\t      show: false,\n\t      // dataSource: new ListView.DataSource({\n\t      //   rowHasChanged: (row1, row2) => {\n\t      //     if (row1 !== row2) {\n\t      //       return true\n\t      //     }\n\t      //   }\n\t      // }),\n\t      isEmployee: utils.isEmployee(props.resource),\n\t      filter: _this.props.filter,\n\t      userInput: '',\n\t      progress: 0,\n\t      indeterminate: true,\n\t      allLoaded: false\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(MessageList, [{\n\t    key: 'componentWillMount',\n\t    value: function componentWillMount() {\n\t      var params = {\n\t        modelName: this.props.modelName,\n\t        to: this.props.resource,\n\t        prop: this.props.prop,\n\t        limit: LIMIT\n\t      };\n\t      if (this.props.isAggregation) params.isAggregation = true;\n\t\n\t      utils.onNextTransitionEnd(this.props.navigator, function () {\n\t        return Actions.messageList(params);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      this.listenTo(Store, 'onAction');\n\t      this._watchSubmit();\n\t    }\n\t  }, {\n\t    key: '_watchSubmit',\n\t    value: function _watchSubmit() {\n\t      var _this2 = this;\n\t\n\t      var self = this;\n\t      if (!utils.isWeb() || !this._GiftedMessenger) return;\n\t\n\t      var input = this._GiftedMessenger.refs.textInput.refs.input;\n\t      if (this._watchedInput === input) return;\n\t\n\t      this._watchedInput = input;\n\t      input.addEventListener('keydown', function (e) {\n\t        if (!input.value) return;\n\t\n\t        var code = e.keyCode ? e.keyCode : e.which;\n\t        if (code == 13) {\n\t          //Enter keycode\n\t          _this2.onSubmitEditing(input.value);\n\t          // yuckity yuck\n\t          _this2._GiftedMessenger.setState({ text: '' });\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'onAction',\n\t    value: function onAction(params) {\n\t      if (params.error) return;\n\t      if (params.action === 'connectivity') {\n\t        // if (params.isConnected  &&  !this.state.isForgetting) {\n\t        //   this.state.isConnected = params.isConnected\n\t        //   let me = utils.getMe()\n\t        //   let msg = {\n\t        //     message: me.firstName + ' is waiting for the response',\n\t        //     _t: constants.TYPES.CUSTOMER_WAITING,\n\t        //     from: me,\n\t        //     to: this.props.resource,\n\t        //     time: new Date().getTime()\n\t        //   }\n\t        //   Actions.addMessage(msg, true)\n\t        // }\n\t        // else\n\t        this.setState({ isConnected: params.isConnected });\n\t\n\t        return;\n\t      }\n\t      if (params.action === 'addItem' || params.action === 'addVerification') {\n\t        var actionParams = {\n\t          query: this.state.filter,\n\t          modelName: this.props.modelName,\n\t          to: this.props.resource,\n\t          limit: this.state.list ? this.state.list.length + 1 : LIMIT\n\t        };\n\t\n\t        // if (params.sendStatus) {\n\t        //   this.state.sendStatus = params.sendStatus\n\t        //   this.state.sendResource = params.resource\n\t        // }\n\t        if (params.resource._sendStatus) {\n\t          this.state.sendStatus = params.resource._sendStatus;\n\t          this.state.sendResource = params.resource;\n\t        }\n\t        Actions.messageList(actionParams);\n\t        return;\n\t      }\n\t      this.state.newItem = false;\n\t      if (params.action === 'updateItem') {\n\t        this.setState({\n\t          sendStatus: params.sendStatus,\n\t          sendResource: params.resource\n\t        });\n\t        return;\n\t      }\n\t      if (params.action === 'addMessage') {\n\t        Actions.messageList({ modelName: this.props.modelName, to: this.props.resource, limit: this.state.list ? this.state.list.length + 1 : LIMIT });\n\t        return;\n\t      }\n\t      if (params.action !== 'messageList' || !params.list && !params.forgetMeFromCustomer || params.isAggregation !== this.props.isAggregation) return;\n\t      if (params.forgetMeFromCustomer) {\n\t        Actions.list({ modelName: constants.TYPES.PROFILE });\n\t        var routes = this.props.navigator.getCurrentRoutes();\n\t        if (routes[routes.length - 1].component) this.props.navigator.popToRoute(routes[1]);\n\t        // ComponentUtils.showContacts(this.props.navigator, constants.TYPES.PROFILE)\n\t        return;\n\t      }\n\t      if (params.resource && params.resource[constants.ROOT_HASH] != this.props.resource[constants.ROOT_HASH]) {\n\t        var doUpdate;\n\t        if (this.props.resource[constants.TYPE] === constants.TYPES.ORGANIZATION && params.resource.organization) {\n\t          if (this.props.resource[constants.TYPE] + '_' + this.props.resource[constants.ROOT_HASH] === utils.getId(params.resource.organization)) doUpdate = true;\n\t        }\n\t        if (!doUpdate) return;\n\t      }\n\t      var list = params.list;\n\t      // if (this.state.sendStatus) {\n\t      //   list.forEach((r) => {\n\t      //     if (r[constants.ROOT_HASH] === this.state.sendResource[constants.ROOT_HASH])\n\t      //       r.status = this.state.sendStatus\n\t      //   })\n\t      // }\n\t      if (params.loadEarlierMessages && this.state.postLoad) {\n\t        if (!list || !list.length) {\n\t          this.state.postLoad([], true);\n\t          this.state = _extends({\n\t            allLoaded: true, isLoading: false, noScroll: true, loadEarlierMessages: false\n\t          }, this.state);\n\t          //         this.setState({allLoaded: true, isLoading: false, noScroll: true, loadEarlierMessages: false})\n\t        } else {\n\t          this.state.postLoad(list, false);\n\t          //         this.state.list = list\n\t          var allLoaded = list.length < LIMIT;\n\t          this.state.list.forEach(function (r) {\n\t            list.push(r);\n\t          });\n\t          var productToForms = this.gatherForms(list);\n\t          this.setState({\n\t            list: list,\n\t            noScroll: true,\n\t            allLoaded: allLoaded,\n\t            productToForms: productToForms,\n\t            loadEarlierMessages: !allLoaded\n\t          });\n\t          // this.setState({list: list, noScroll: true, allLoaded: allLoaded, loadEarlierMessages: !allLoaded})\n\t        }\n\t        return;\n\t      }\n\t      LINK_COLOR = this.props.bankStyle.LINK_COLOR;\n\t      var isEmployee = utils.isEmployee(this.props.resource);\n\t      if (list.length || this.state.filter && this.state.filter.length) {\n\t        var _productToForms = this.gatherForms(list);\n\t\n\t        var type = list[0][constants.TYPE];\n\t        if (type !== this.props.modelName) {\n\t          var model = utils.getModel(this.props.modelName).value;\n\t          if (!model.isInterface) return;\n\t\n\t          var rModel = utils.getModel(type).value;\n\t          if (!rModel.interfaces || rModel.interfaces.indexOf(this.props.modelName) === -1) return;\n\t        }\n\t        var me = utils.getMe();\n\t        this.setState({\n\t          // dataSource: this.state.dataSource.cloneWithRows(list),\n\t          isLoading: false,\n\t          list: list,\n\t          shareableResources: params.shareableResources,\n\t          allLoaded: false,\n\t          isEmployee: isEmployee,\n\t          loadEarlierMessages: params.loadEarlierMessages,\n\t          productToForms: _productToForms\n\t        });\n\t      } else this.setState({ isLoading: false, isEmployee: isEmployee });\n\t    }\n\t  }, {\n\t    key: 'gatherForms',\n\t    value: function gatherForms(list) {\n\t      var productToForms = {};\n\t      list.forEach(function (r) {\n\t        if (r[constants.TYPE] === FORM_REQUEST && r.documentCreated && r.document) {\n\t          var l = productToForms[r.product];\n\t          if (!l) {\n\t            l = {};\n\t            productToForms[r.product] = l;\n\t          }\n\t          var forms = l[r.form];\n\t          if (!forms) {\n\t            forms = [];\n\t            l[r.form] = forms;\n\t          }\n\t          forms.push(r.document);\n\t        }\n\t      });\n\t      return productToForms;\n\t    }\n\t  }, {\n\t    key: 'shouldComponentUpdate',\n\t    value: function shouldComponentUpdate(nextProps, nextState) {\n\t      // Eliminating repeated alerts when connection returns after ForgetMe action\n\t      if (!this.state.isConnected && !this.state.list && !nextState.list && this.state.isLoading === nextState.isLoading) return false;\n\t      if (nextState.isConnected !== this.state.isConnected) return true;\n\t      if (this.state.show !== nextState.show) return true;\n\t      if (!this.state.list || !nextState.list || this.props.orientation !== nextProps.orientation || this.state.allLoaded !== nextState.allLoaded || this.state.list.length !== nextState.list.length || this.state.sendStatus !== nextState.sendStatus)\n\t        // this.state.sendResource  &&  this.state.sendResource[constants.ROOT_HASH] === nextState.sendResource[constants.ROOT_HASH]))\n\t        return true;\n\t      for (var i = 0; i < this.state.list.length; i++) {\n\t        var r = this.state.list[i];\n\t        var nr = nextState.list[i];\n\t        if (r[constants.TYPE] !== nr[constants.TYPE] || r[constants.ROOT_HASH] !== nr[constants.ROOT_HASH] || r[constants.CUR_HASH] !== nr[constants.CUR_HASH]) return true;\n\t      }\n\t      return false;\n\t    }\n\t  }, {\n\t    key: 'share',\n\t    value: function share(resource, to, formResource) {\n\t      console.log('Share');\n\t      Actions.share(resource, to, formResource);\n\t    }\n\t  }, {\n\t    key: 'selectResource',\n\t    value: function selectResource(resource, verification) {\n\t      // Case when resource is a model. In this case the form for creating a new resource of this type will be displayed\n\t      if (!resource[constants.TYPE]) return;\n\t      var model = utils.getModel(resource[constants.TYPE]).value;\n\t      var title = model.title; //utils.getDisplayName(resource, model.properties);\n\t      var newTitle = title;\n\t      // if (title.length > 20) {\n\t      //   var t = title.split(' ');\n\t      //   newTitle = '';\n\t      //   t.forEach(function(word) {\n\t      //     if (newTitle.length + word.length > 20)\n\t      //       return;\n\t      //     newTitle += newTitle.length ? ' ' + word : word;\n\t      //   })\n\t      // }\n\t      var me = utils.getMe();\n\t      // Check if I am a customer or a verifier and if I already verified this resource\n\t      var isVerifier = !verification && utils.isVerifier(resource);\n\t      var isEmployee = utils.isEmployee(this.props.resource);\n\t      var route = {\n\t        title: newTitle,\n\t        id: 5,\n\t        backButtonTitle: translate('back'),\n\t        component: MessageView,\n\t        parentMeta: model,\n\t        passProps: {\n\t          bankStyle: this.props.bankStyle,\n\t          resource: resource,\n\t          currency: this.props.currency,\n\t          verification: verification,\n\t          // createFormError: isVerifier && !utils.isMyMessage(resource),\n\t          isVerifier: isVerifier\n\t        }\n\t      };\n\t      // Allow to edit resource that was not previously changed\n\t      if (!isEmployee && !resource[NEXT_HASH] && model.subClassOf !== MY_PRODUCT) {\n\t        route.rightButtonTitle = translate('edit');\n\t        route.onRightButtonPress = {\n\t          title: newTitle, //utils.getDisplayName(resource),\n\t          id: 4,\n\t          component: NewResource,\n\t          // titleTextColor: '#7AAAC3',\n\t          backButtonTitle: translate('back'),\n\t          rightButtonTitle: translate('done'),\n\t          passProps: {\n\t            model: model,\n\t            resource: resource,\n\t            chat: this.props.resource,\n\t            bankStyle: this.props.bankStyle\n\t          }\n\t        };\n\t      }\n\t      if (isVerifier) {\n\t        route.rightButtonTitle = 'Done'; //ribbon-b|ios-close'\n\t        route.help = translate('verifierHelp'); // will show in alert when clicked on help icon in navbar\n\t      }\n\t\n\t      this.props.navigator.push(route);\n\t    }\n\t  }, {\n\t    key: 'onSearchChange',\n\t    value: function onSearchChange(text) {\n\t      var actionParams = {\n\t        query: text,\n\t        modelName: this.props.modelName,\n\t        to: this.props.resource,\n\t        limit: this.state.list ? this.state.list.length + 1 : LIMIT\n\t      };\n\t      this.state.emptySearch = true;\n\t      Actions.messageList(actionParams);\n\t    }\n\t  }, {\n\t    key: 'renderRow',\n\t    value: function renderRow(resource, sectionId, rowId) {\n\t      var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n\t      var isMessage = model.interfaces && model.interfaces.indexOf(constants.TYPES.MESSAGE) != -1;\n\t      var isAggregation = this.props.isAggregation;\n\t      var me = utils.getMe();\n\t      // var MessageRow = require('./MessageRow');\n\t      var previousMessageTime = currentMessageTime;\n\t      currentMessageTime = resource.time;\n\t      var props = {\n\t        onSelect: this.selectResource.bind(this),\n\t        resource: resource,\n\t        bankStyle: this.props.bankStyle,\n\t        to: isAggregation ? resource.to : this.props.resource,\n\t        navigator: this.props.navigator\n\t      };\n\t      if (model.subClassOf === 'tradle.MyProduct') return _react2.default.createElement(MyProductMessageRow, props);\n\t\n\t      // messageNumber: rowId,\n\t      var sendStatus = this.state.sendStatus && this.state.sendResource[constants.ROOT_HASH] === resource[constants.ROOT_HASH] ? this.state.sendStatus : resource._sendStatus === 'Sent' ? null : resource._sendStatus;\n\t      var moreProps = {\n\t        share: this.share.bind(this),\n\t        sendStatus: sendStatus,\n\t        currency: this.props.currency,\n\t        previousMessageTime: previousMessageTime\n\t      };\n\t\n\t      props = extend(props, moreProps);\n\t      if (model.id === constants.TYPES.VERIFICATION) return _react2.default.createElement(VerificationMessageRow, props);\n\t      if (model.subClassOf === constants.TYPES.FORM) return _react2.default.createElement(FormMessageRow, props);\n\t\n\t      props.isLast = rowId === this.state.list.length - 1, props.productToForms = this.state.productToForms;\n\t      props.shareableResources = this.state.shareableResources, props.isAggregation = isAggregation;\n\t\n\t      return _react2.default.createElement(MessageRow, props);\n\t    }\n\t  }, {\n\t    key: 'addedMessage',\n\t    value: function addedMessage(text) {\n\t      Actions.messageList({ modelName: this.props.modelName, to: this.props.resource, limit: this.state.list ? this.state.list.length + 1 : LIMIT });\n\t    }\n\t  }, {\n\t    key: 'componentDidUpdate',\n\t    value: function componentDidUpdate() {\n\t      var _this3 = this;\n\t\n\t      clearTimeout(this._scrollTimeout);\n\t      if (this.state.allLoaded || this.state.noScroll) this.state.noScroll = false;else {\n\t        this._scrollTimeout = setTimeout(function () {\n\t          // inspired by http://stackoverflow.com/a/34838513/1385109\n\t          _this3._GiftedMessenger && _this3._GiftedMessenger.scrollToBottom();\n\t        }, 200);\n\t      }\n\t\n\t      this._watchSubmit();\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this4 = this;\n\t\n\t      currentMessageTime = null;\n\t      var content;\n\t\n\t      var model = utils.getModel(this.props.modelName).value;\n\t      // <Text style={{fontSize: 17, alignSelf: 'center', color: '#ffffff'}}>{'Sending...'}</Text>\n\t      // var isVisible = this.state.sendStatus  &&  this.state.sendStatus !== null\n\t      // var spinner = isVisible\n\t      //             ? <Text style={{alignSelf: 'flex-end', fontSize: 14, color: '#757575', marginHorizontal: 15}}>{thus.state.sendStatus}</Text>\n\t      //             : <View/>\n\t      // var spinner = <LoadingOverlay isVisible={isVisible} onDismiss={() => {this.setState({isVisible:false})}} position=\"bottom\">\n\t      //                 <TouchableOpacity onPress={() => { Alert.alert('Pressed on text!') }}>\n\t      //                   <Text style={styles.bannerText}>{this.state.sendStatus}</Text>\n\t      //                 </TouchableOpacity>\n\t      //               </LoadingOverlay>\n\t\n\t      // var spinner = isVisible\n\t      //             ? <Progress.Bar\n\t      //                 style={styles.progress}\n\t      //                 progress={this.state.progress}\n\t      //                 indeterminate={this.state.indeterminate}\n\t      //               />\n\t      //             : <View/>\n\t      var bgStyle = this.props.bankStyle.BACKGROUND_COLOR ? { backgroundColor: this.props.bankStyle.BACKGROUND_COLOR } : { backgroundColor: '#f7f7f7' };\n\t      var alert = _react2.default.createElement(_reactNative.View, null);\n\t      if (!this.state.list || !this.state.list.length) {\n\t        if (this.props.navigator.isConnected && this.props.resource[constants.TYPE] === constants.TYPES.ORGANIZATION) {\n\t          if (this.state.isLoading) {\n\t            content = _react2.default.createElement(\n\t              _reactNative.View,\n\t              { style: { flex: 1 } },\n\t              _react2.default.createElement(\n\t                _reactNative.View,\n\t                { style: [_platform2.default.container, bgStyle] },\n\t                _react2.default.createElement(\n\t                  _reactNative.Text,\n\t                  { style: { fontSize: 17, alignSelf: 'center', marginTop: 80, color: '#629BCA' } },\n\t                  'Loading...'\n\t                ),\n\t                _react2.default.createElement(_ActivityIndicator2.default, { size: 'large', style: { alignSelf: 'center', marginTop: 20 } })\n\t              ),\n\t              _react2.default.createElement(\n\t                _reactNative.View,\n\t                { style: styles.footer },\n\t                this.paintMenuButton()\n\t              )\n\t            );\n\t          }\n\t        } else {\n\t          if (!this.state.isLoading && !this.props.navigator.isConnected) {\n\t            alert = this.props.resource[constants.TYPE] === constants.TYPES.ORGANIZATION ? _reactNative.Alert.alert(translate('noConnectionForPL', this.props.resource.name)) : _reactNative.Alert.alert(translate('noConnection'));\n\t          }\n\t          // content =  <NoResources\n\t          //             filter={this.state.filter}\n\t          //             model={model}\n\t          //             isLoading={this.state.isLoading}/>\n\t        }\n\t      }\n\t\n\t      if (!content) {\n\t        var isAllMessages = model.isInterface && model.id === constants.TYPES.MESSAGE;\n\t        var maxHeight = utils.dimensions(MessageList).height - (_reactNative.Platform.OS === 'android' ? 77 : 64) - (this.state.isConnected ? 0 : 35);\n\t        // content = <GiftedMessenger style={{paddingHorizontal: 10, marginBottom: Platform.OS === 'android' ? 0 : 20}} //, marginTop: Platform.OS === 'android' ?  0 : -5}}\n\t        content = _react2.default.createElement(GiftedMessenger, { style: { paddingHorizontal: 10 } //, marginTop: Platform.OS === 'android' ?  0 : -5}}\n\t          , ref: function ref(c) {\n\t            return _this4._GiftedMessenger = c;\n\t          },\n\t          loadEarlierMessagesButton: this.state.loadEarlierMessages,\n\t          onLoadEarlierMessages: this.onLoadEarlierMessages.bind(this),\n\t          messages: this.state.list,\n\t          messageSent: this.state.sendResource,\n\t          messageSentStatus: this.state.sendStatus,\n\t          enableEmptySections: true,\n\t          autoFocus: false,\n\t          textRef: 'chat',\n\t          renderCustomMessage: this.renderRow.bind(this),\n\t          handleSend: this.onSubmitEditing.bind(this),\n\t          submitOnReturn: true,\n\t          menu: this.generateMenu.bind(this),\n\t          keyboardShouldPersistTaps: utils.isWeb() ? false : true,\n\t          keyboardDismissMode: utils.isWeb() ? 'none' : 'on-drag',\n\t          maxHeight: maxHeight // 64 for the navBar; 110 - with SearchBar\n\t        });\n\t        // returnKeyType={false}\n\t        // keyboardShouldPersistTaps={false}\n\t        // keyboardDismissMode='none'\n\t      }\n\t\n\t      // var addNew = (model.isInterface)\n\t      //        ? <AddNewMessage navigator={this.props.navigator}\n\t      //                         resource={this.props.resource}\n\t      //                         modelName={this.props.modelName}\n\t      //                         onAddNewPressed={this.onAddNewPressed.bind(this)}\n\t      //                         onMenu={this.showMenu.bind(this)}\n\t      //                         onPhotoSelect={this.onPhotoSelect.bind(this)}\n\t      //                         callback={this.addedMessage.bind(this)} />\n\t      //        : <View/>;\n\t      // onTakePicPressed={this.onTakePicPressed.bind(this)}\n\t      var isOrg = !this.props.isAggregation && this.props.resource && this.props.resource[constants.TYPE] === constants.TYPES.ORGANIZATION;\n\t      var chooser;\n\t      if (isOrg) chooser = _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: { flex: 1, marginTop: 8 } },\n\t        _react2.default.createElement(\n\t          _reactNative.TouchableHighlight,\n\t          { underlayColor: 'transparent', onPress: this.onAddNewPressed.bind(this, true) },\n\t          _react2.default.createElement(Icon, { name: 'ios-arrow-round-down', size: 25, style: styles.imageOutline })\n\t        )\n\t      );else chooser = _react2.default.createElement(_reactNative.View, null);\n\t\n\t      var sepStyle = { height: 1, backgroundColor: LINK_COLOR };\n\t      if (!this.state.allLoaded && !this.props.navigator.isConnected && this.state.isForgetting) _reactNative.Alert.alert(translate('noConnectionWillProcessLater'));\n\t      // <View style={{flex: 10}}>\n\t      //   <SearchBar\n\t      //     onChangeText={this.onSearchChange.bind(this)}\n\t      //     placeholder='Search'\n\t      //     showsCancelButton={false}\n\t      //     hideBackground={true} />\n\t      // </View>\n\t      // if (this.state.isEmployee) {\n\t      // let buttons = {[\n\t      //   {\n\t      //     onPress: this.chooseFormForCustomer.bind(this)\n\t      //     title: translate('formChooser')\n\t      //   }\n\t      // ]}\n\t      var me = utils.getMe();\n\t      var buttons = this.state.isEmployee && this.props.resource[constants.TYPE] !== constants.TYPES.ORGANIZATION ? [translate('formChooser'), translate('cancel')] : [translate('forgetMe'), translate('cancel')];\n\t      return _react2.default.createElement(\n\t        PageView,\n\t        { style: [_platform2.default.container, bgStyle] },\n\t        _react2.default.createElement(NetworkInfoProvider, { connected: this.state.isConnected, resource: this.props.resource }),\n\t        _react2.default.createElement(_reactNative.View, { style: sepStyle }),\n\t        content,\n\t        _react2.default.createElement(_reactNativeActionsheet2.default, {\n\t          ref: function ref(o) {\n\t            _this4.ActionSheet = o;\n\t          },\n\t          options: buttons,\n\t          cancelButtonIndex: 1,\n\t          onPress: function onPress(index) {\n\t            if (index === 0) {\n\t              if (_this4.state.isEmployee) _this4.chooseFormForCustomer();else _this4.forgetMe();\n\t            }\n\t          }\n\t        }),\n\t        alert\n\t      );\n\t      // {addNew}\n\t    }\n\t  }, {\n\t    key: 'generateMenu',\n\t    value: function generateMenu(show) {\n\t      var _this5 = this;\n\t\n\t      if (!show) return _react2.default.createElement(_reactNative.View, null);\n\t      // {\n\t      //   return <TouchableHighlight underlayColor='transparent' onPress={this.onSubmitEditing.bind(this)}>\n\t      //            <View style={[platformStyles.menuButton, {backgroundColor: LINK_COLOR,}]}>\n\t      //              <Icon name='ios-send'  size={33}  color='#ffffff' />\n\t      //            </View>\n\t      //         </TouchableHighlight>\n\t      // }\n\t      return _react2.default.createElement(\n\t        _reactNative.TouchableHighlight,\n\t        { underlayColor: 'transparent', onPress: function onPress() {\n\t            return _this5.ActionSheet.show();\n\t          } },\n\t        this.paintMenuButton()\n\t      );\n\t    }\n\t  }, {\n\t    key: 'paintMenuButton',\n\t    value: function paintMenuButton() {\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: [_platform2.default.menuButtonNarrow, { opacity: 0.5 }] },\n\t        _react2.default.createElement(Icon, { name: _platform.MenuIcon.name, size: 33, color: _platform.MenuIcon.color })\n\t      );\n\t    }\n\t  }, {\n\t    key: 'onLoadEarlierMessages',\n\t    value: function onLoadEarlierMessages() {\n\t      var oldestMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n\t\n\t      this.state.loadEarlierMessages = true;\n\t      // Your logic here\n\t      // Eg: Retrieve old messages from your server\n\t\n\t      // newest messages have to be at the begining of the array\n\t      var list = this.state.list;\n\t      var id = utils.getId(list[0]);\n\t      Actions.messageList({\n\t        lastId: id,\n\t        limit: LIMIT,\n\t        loadEarlierMessages: true,\n\t        modelName: this.props.modelName,\n\t        to: this.props.resource\n\t      });\n\t      // var list = this.state.list\n\t      var earlierMessages = [];\n\t      //   list[list.length - 1],\n\t      //   list[list.length - 2],\n\t      //   list[list.length - 3]\n\t      // ];\n\t      this.state.postLoad = callback;\n\t      // setTimeout(() => {\n\t      //   callback(earlierMessages, false); // when second parameter is true, the \"Load earlier messages\" button will be hidden\n\t      // }, 1000);\n\t    }\n\t  }, {\n\t    key: 'checkStart',\n\t    value: function checkStart(evt) {\n\t      evt = evt;\n\t    }\n\t  }, {\n\t    key: 'chooseFormForCustomer',\n\t    value: function chooseFormForCustomer() {\n\t      var currentRoutes = this.props.navigator.getCurrentRoutes();\n\t      var resource = this.props.resource;\n\t      this.setState({ show: false });\n\t      this.props.navigator.push({\n\t        title: translate(utils.getModel(constants.TYPES.FORM).value),\n\t        id: 15,\n\t        component: ProductChooser,\n\t        sceneConfig: _reactNative.Navigator.SceneConfigs.FloatFromBottom,\n\t        backButtonTitle: translate('cancel'),\n\t        passProps: {\n\t          resource: resource,\n\t          returnRoute: currentRoutes[currentRoutes.length - 1],\n\t          callback: this.props.callback,\n\t          type: constants.TYPES.FORM\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'forgetMe',\n\t    value: function forgetMe() {\n\t      var _this6 = this;\n\t\n\t      var resource = this.props.resource;\n\t      this.setState({ show: false });\n\t      _reactNative.Alert.alert(translate('confirmForgetMe', utils.getDisplayName(resource, utils.getModel(resource[constants.TYPE]).value.properties)), //Are you sure you want \\'' + utils.getDisplayName(resource, utils.getModel(resource[constants.TYPE]).value.properties) + '\\' to forget you',\n\t      translate('testForgetMe'), //'This is a test mechanism to reset all communications with this provider',\n\t      [{ text: translate('cancel'), onPress: function onPress() {\n\t          return console.log('Cancel');\n\t        } }, { text: 'OK', onPress: function onPress() {\n\t          _this6.state.isForgetting = true;\n\t          Actions.forgetMe(resource);\n\t        } }]);\n\t    }\n\t  }, {\n\t    key: 'onPhotoSelect',\n\t    value: function onPhotoSelect(asset) {\n\t      var selectedAssets = this.state.selectedAssets;\n\t      // unselect if was selected before\n\t      if (selectedAssets[asset.node.image.uri]) delete selectedAssets[asset.node.image.uri];else selectedAssets[asset.node.image.uri] = asset;\n\t    }\n\t  }, {\n\t    key: 'onAddNewPressed',\n\t    value: function onAddNewPressed(sendForm) {\n\t      var modelName = this.props.modelName;\n\t      var model = utils.getModel(modelName).value;\n\t      var isInterface = model.isInterface;\n\t      if (!isInterface) return;\n\t\n\t      var self = this;\n\t      var currentRoutes = self.props.navigator.getCurrentRoutes();\n\t      var resource = this.props.resource;\n\t      var currentRoutes = self.props.navigator.getCurrentRoutes();\n\t      this.props.navigator.push({\n\t        title: translate(utils.getModel(constants.TYPES.FINANCIAL_PRODUCT).value),\n\t        id: 15,\n\t        component: ProductChooser,\n\t        sceneConfig: _reactNative.Navigator.SceneConfigs.FloatFromBottom,\n\t        backButtonTitle: translate('cancel'),\n\t        passProps: {\n\t          resource: resource,\n\t          returnRoute: currentRoutes[currentRoutes.length - 1],\n\t          callback: this.props.callback,\n\t          type: PRODUCT_APPLICATION\n\t        },\n\t        rightButtonTitle: 'ion|plus',\n\t        onRightButtonPress: {\n\t          id: 4,\n\t          title: translate('newProduct'),\n\t          component: NewResource,\n\t          backButtonTitle: translate('back'),\n\t          // titleTextColor: '#999999',\n\t          rightButtonTitle: translate('done'),\n\t          passProps: {\n\t            model: utils.getModel('tradle.NewMessageModel').value,\n\t            currency: resource.currency\n\t          }\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'onTakePicPressed',\n\t    value: function onTakePicPressed() {\n\t      var self = this;\n\t      this.props.navigator.push({\n\t        title: 'Take a pic',\n\t        backButtonTitle: 'Cancel',\n\t        id: 12,\n\t        component: CameraView,\n\t        sceneConfig: _reactNative.Navigator.SceneConfigs.FloatFromBottom,\n\t        passProps: {\n\t          onTakePic: self.onTakePic.bind(this)\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'onTakePic',\n\t    value: function onTakePic(data) {\n\t      var msg = {\n\t        from: utils.getMe(),\n\t        to: this.props.resource,\n\t        time: new Date().getTime(),\n\t        photos: [{\n\t          url: data\n\t        }]\n\t      };\n\t      msg[constants.TYPE] = constants.TYPES.SIMPLE_MESSAGE;\n\t      this.props.navigator.pop();\n\t      Actions.addMessage(msg);\n\t    }\n\t  }, {\n\t    key: 'getNextFrom',\n\t    value: function getNextFrom(resource) {\n\t      var _Actions$addMessage;\n\t\n\t      Actions.addMessage((_Actions$addMessage = {\n\t        from: resource.from,\n\t        to: resource.to\n\t      }, _defineProperty(_Actions$addMessage, constants.TYPE, NEW_FORM_REQUEST), _defineProperty(_Actions$addMessage, 'after', resource.form), _Actions$addMessage));\n\t    }\n\t  }, {\n\t    key: 'onSubmitEditing',\n\t    value: function onSubmitEditing(msg) {\n\t      var me = utils.getMe();\n\t      var resource = { from: utils.getMe(), to: this.props.resource };\n\t      var model = utils.getModel(this.props.modelName).value;\n\t\n\t      var toName = utils.getDisplayName(resource.to, utils.getModel(resource.to[constants.TYPE]).value.properties);\n\t      var meta = utils.getModel(me[constants.TYPE]).value.properties;\n\t      var meName = utils.getDisplayName(me, meta);\n\t      var modelName = constants.TYPES.SIMPLE_MESSAGE;\n\t      var value = {\n\t        message: msg ? model.isInterface ? msg : '[' + this.state.userInput + '](' + this.props.modelName + ')' : '',\n\t        from: me,\n\t        to: resource.to,\n\t        time: new Date().getTime()\n\t      };\n\t      value[constants.TYPE] = modelName;\n\t      this.setState({ userInput: '', selectedAssets: {} });\n\t      if (this.state.clearCallback) this.state.clearCallback();\n\t      Actions.addMessage(value); //, this.state.resource, utils.getModel(modelName).value);\n\t    }\n\t  }]);\n\t\n\t  return MessageList;\n\t}(_react.Component);\n\t\n\treactMixin(MessageList.prototype, Reflux.ListenerMixin);\n\tMessageList = (0, _reactNativeOrient.makeResponsive)(MessageList);\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  imageOutline: {\n\t    width: 25,\n\t    height: 25,\n\t    borderRadius: 13,\n\t    borderColor: '#aaaaaa',\n\t    paddingLeft: 6,\n\t    borderWidth: 1,\n\t    color: '#79AAF2'\n\t  },\n\t  footer: {\n\t    flexDirection: 'row',\n\t    flexWrap: 'nowrap',\n\t    justifyContent: 'flex-end',\n\t    height: 45,\n\t    // width: Dimensions.get('window').width,\n\t    backgroundColor: '#eeeeee',\n\t    borderColor: '#eeeeee',\n\t    borderWidth: 1,\n\t    borderTopColor: '#cccccc',\n\t    paddingRight: 10\n\t  }\n\t});\n\tmodule.exports = MessageList;\n\t\n\t/* Adding new model from URL\n\t    this.props.navigator.push({\n\t      title: utils.makeLabel(model.title) + ' type',\n\t      id: 2,\n\t      component: ResourceTypesScreen,\n\t      sceneConfig: Navigator.SceneConfigs.FloatFromBottom,\n\t      backButtonTitle: 'Chat',\n\t      passProps: {\n\t        resource: self.props.resource,\n\t        returnRoute: currentRoutes[currentRoutes.length - 1],\n\t        modelName: modelName,\n\t        sendForm: sendForm,\n\t        callback: this.props.callback\n\t      },\n\t      rightButtonTitle: 'ion|plus',\n\t      onRightButtonPress: {\n\t        id: 4,\n\t        title: 'New model url',\n\t        component: NewResource,\n\t        backButtonTitle: 'Back',\n\t        titleTextColor: '#7AAAC3',\n\t        rightButtonTitle: 'Done',\n\t        passProps: {\n\t          model: utils.getModel('tradle.NewMessageModel').value,\n\t          callback: this.modelAdded.bind(this)\n\t        }\n\t      }\n\t    });\n\n\t  modelAdded(resource) {\n\t    if (resource.url)\n\t      Actions.addModelFromUrl(resource.url);\n\t  }\n\t  // showEmployeeMenu() {\n\t  //   // var buttons = ['Talk to representative', 'Forget me', 'Cancel']\n\t  //   var buttons = [translate('formChooser'), translate('cancel')] // ['Forget me', 'Cancel']\n\t  //   var self = this;\n\n\t  //   ActionSheetIOS.showActionSheetWithOptions({\n\t  //     options: buttons,\n\t  //     cancelButtonIndex: 1\n\t  //   }, function(buttonIndex) {\n\t  //     switch (buttonIndex) {\n\t  //     // case 0:\n\t  //     //   Actions.talkToRepresentative(self.props.resource)\n\t  //     //   break\n\t  //     case 0:\n\t  //       self.chooseFormForCustomer()\n\t  //       break;\n\t  //     default:\n\t  //       return\n\t  //     }\n\t  //   });\n\t  // }\n\t  // showMenu() {\n\t  //   // var buttons = ['Talk to representative', 'Forget me', 'Cancel']\n\t  //   var self = this;\n\t  //   ActionSheetIOS.showActionSheetWithOptions({\n\t  //     options: buttons,\n\t  //     cancelButtonIndex: 1\n\t  //   }, function(buttonIndex) {\n\t  //     switch (buttonIndex) {\n\t  //     // case 0:\n\t  //     //   Actions.talkToRepresentative(self.props.resource)\n\t  //     //   break\n\t  //     case 0:\n\t  //       self.forgetMe()\n\t  //       break;\n\t  //     default:\n\t  //       return\n\t  //     }\n\t  //   });\n\t  // }\n\t      // 'Are you sure you want \\'' + utils.getDisplayName(resource, utils.getModel(resource[constants.TYPE]).value.properties) + '\\' to forget you',\n\t*/\n\n/***/ },\n\n/***/ 1947:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _platform = __webpack_require__(1674);\n\t\n\tvar _platform2 = _interopRequireDefault(_platform);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar utils = __webpack_require__(935);\n\tvar translate = utils.translate;\n\tvar constants = __webpack_require__(1348);\n\tvar ArticleView = __webpack_require__(1668);\n\t// var FromToView = require('./FromToView');\n\tvar PhotoList = __webpack_require__(1711);\n\tvar PhotoView = __webpack_require__(1718);\n\tvar ShowPropertiesView = __webpack_require__(1707);\n\tvar ShowMessageRefList = __webpack_require__(1948);\n\t// var MoreLikeThis = require('./MoreLikeThis');\n\tvar NewResource = __webpack_require__(1949);\n\tvar PageView = __webpack_require__(1722);\n\t\n\t// var VerificationButton = require('./VerificationButton');\n\tvar Actions = __webpack_require__(1517);\n\tvar Reflux = __webpack_require__(1518);\n\tvar Store = __webpack_require__(1723);\n\tvar reactMixin = __webpack_require__(1703);\n\tvar extend = __webpack_require__(1705);\n\tvar ResourceMixin = __webpack_require__(1717);\n\tvar buttonStyles = __webpack_require__(1721);\n\tvar HELP_COLOR = 'blue';\n\tvar NetworkInfoProvider = __webpack_require__(2076);\n\t// import Prompt from 'react-native-prompt'\n\t\n\tvar MessageView = function (_Component) {\n\t  _inherits(MessageView, _Component);\n\t\n\t  function MessageView(props) {\n\t    _classCallCheck(this, MessageView);\n\t\n\t    var _this = _possibleConstructorReturn(this, (MessageView.__proto__ || Object.getPrototypeOf(MessageView)).call(this, props));\n\t\n\t    _this.state = {\n\t      resource: props.resource,\n\t      isConnected: _this.props.navigator.isConnected,\n\t      promptVisible: false\n\t    };\n\t    var currentRoutes = _this.props.navigator.getCurrentRoutes();\n\t    var len = currentRoutes.length;\n\t    if (!currentRoutes[len - 1].onRightButtonPress && currentRoutes[len - 1].rightButtonTitle) currentRoutes[len - 1].onRightButtonPress = _this.verifyOrCreateError.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(MessageView, [{\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      this.listenTo(Store, 'onAction');\n\t    }\n\t  }, {\n\t    key: 'onAction',\n\t    value: function onAction(params) {\n\t      if (params.action === 'addVerification' || params.action === 'addAdditionalInfo') {\n\t        var currentRoutes = this.props.navigator.getCurrentRoutes();\n\t        var len = currentRoutes.length;\n\t        if (currentRoutes[len - 1].id === 5) this.props.navigator.pop();\n\t        Actions.messageList({\n\t          modelName: constants.TYPES.MESSAGE,\n\t          to: params.resource\n\t        });\n\t      } else if (params.action == 'connectivity') {\n\t        this.setState({ isConnected: params.isConnected });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'verifyOrCreateError',\n\t    value: function verifyOrCreateError() {\n\t      var resource = this.props.resource;\n\t      var model = utils.getModel(resource[constants.TYPE]).value;\n\t      if (utils.isEmpty(this.state.errorProps)) {\n\t        _reactNative.Alert.alert('Verify ' + utils.getDisplayName(resource, model.properties), null, [{ text: 'Cancel', onPress: function onPress() {\n\t            return console.log('Canceled!');\n\t          } }, { text: 'Ok', onPress: this.verify.bind(this) }]);\n\t      } else {\n\t        var properties = utils.getModel(this.state.resource[constants.TYPE]).value.properties;\n\t        var msg = '';\n\t        for (var p in this.state.errorProps) {\n\t          msg += msg ? ', ' + properties[p].title : properties[p].title;\n\t        }msg = 'Please correct or fill out the following fields: ' + msg;\n\t\n\t        _reactNative.Alert.alert('Sending message to ' + resource.from.title, msg, [{ text: 'Cancel', onPress: function onPress() {\n\t            return console.log('Canceled!');\n\t          } }, { text: 'Ok', onPress: this.createError.bind(this, msg) }]);\n\t        // AlertIOS.prompt(\n\t        //   'Please write a message to the customer',\n\t        //   null,\n\t        //   [\n\t        //     {text: 'Submit', onPress: this.createError.bind(this)},\n\t        //     {text: 'Cancel', null},\n\t        //   ]\n\t        // )\n\t      }\n\t    }\n\t  }, {\n\t    key: 'createError',\n\t    value: function createError(text) {\n\t      var errors = [];\n\t      for (var p in this.state.errorProps) {\n\t        errors.push({ name: p, error: this.state.errorProps[p] || 'Please correct this property' });\n\t      }\n\t      var resource = this.props.resource;\n\t\n\t      var formError = {\n\t        _t: 'tradle.FormError',\n\t        errors: errors,\n\t        prefill: resource,\n\t        from: resource.to,\n\t        to: resource.from,\n\t        message: text || translate('pleaseCorrectTheErrors')\n\t      };\n\t      Actions.addMessage(formError);\n\t      this.props.navigator.pop();\n\t    }\n\t  }, {\n\t    key: 'onCheck',\n\t    value: function onCheck(prop, message) {\n\t      var errorProps = {};\n\t\n\t      if (this.state.errorProps) extend(errorProps, this.state.errorProps);\n\t      if (this.state.errorProps && this.state.errorProps[prop.name]) delete errorProps[prop.name];else errorProps[prop.name] = message;\n\t      this.setState({ errorProps: errorProps });\n\t    }\n\t  }, {\n\t    key: 'getRefResource',\n\t    value: function getRefResource(resource, prop) {\n\t      var model = utils.getModel(this.props.resource[constants.TYPE]).value;\n\t\n\t      this.state.prop = prop;\n\t      this.state.propValue = utils.getId(resource.id);\n\t      this.showRefResource(resource, prop);\n\t      // Actions.getItem(resource.id);\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var resource = this.state.resource;\n\t      var modelName = resource[constants.TYPE];\n\t      var model = utils.getModel(modelName).value;\n\t      var date = utils.formatDate(new Date(resource.time));\n\t      var inRow = resource.photos ? resource.photos.length : 0;\n\t      if (inRow && inRow > 4) inRow = 5;\n\t      var actionPanel = _react2.default.createElement(ShowMessageRefList, { resource: resource,\n\t        navigator: this.props.navigator,\n\t        additionalInfo: this.additionalInfo.bind(this),\n\t        currency: this.props.currency,\n\t        bankStyle: this.props.bankStyle });\n\t      // <FromToView resource={resource} navigator={this.props.navigator} />\n\t      // <MoreLikeThis resource={resource} navigator={this.props.navigator}/>\n\t      var verificationTxID, separator;\n\t      if (this.props.verification && this.props.verification.txId) {\n\t        verificationTxID = _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: { padding: 10, flex: 1 } },\n\t          _react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: styles.title },\n\t            'Verification Transaction Id'\n\t          ),\n\t          _react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: styles.verification, onPress: this.onPress.bind(this, 'http://tbtc.blockr.io/tx/info/' + this.props.verification.txId) },\n\t            this.props.verification.txId\n\t          )\n\t        );\n\t        separator = _react2.default.createElement(_reactNative.View, { style: styles.separator });\n\t      } else {\n\t        verificationTxID = _react2.default.createElement(_reactNative.View, null);\n\t        separator = _react2.default.createElement(_reactNative.View, null);\n\t      }\n\t\n\t      // let verificationButton = this.props.isVerifier\n\t      //                        ? <VerificationButton resource={resource} verify={this.verify.bind(this)} verificationList={this.showResources.bind(this)} edit={this.edit.bind(this)} />\n\t      //                        : <View />\n\t      // let editButton = this.props.isVerifier\n\t      //                ? <VerificationButton resource={resource} edit={this.edit.bind(this)} />\n\t      //                : <View />\n\t      // let message = <View style={{padding: 10}}>\n\t      //                 <Text style={styles.itemTitle}>click done for verifying or check the properties that should be corrected and click Done button</Text>\n\t      //               </View>\n\t      var msg = resource.message && resource.message.length ? _react2.default.createElement(\n\t        _reactNative.View,\n\t        null,\n\t        _react2.default.createElement(\n\t          _reactNative.Text,\n\t          { style: styles.itemTitle },\n\t          resource.message\n\t        )\n\t      ) : _react2.default.createElement(_reactNative.View, null);\n\t\n\t      return _react2.default.createElement(\n\t        PageView,\n\t        { style: _platform2.default.container },\n\t        _react2.default.createElement(\n\t          _reactNative.ScrollView,\n\t          { ref: 'this' },\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: [styles.band, { borderBottomColor: this.props.bankStyle.PRODUCT_ROW_BG_COLOR, borderTopColor: '#dddddd' }] },\n\t            _react2.default.createElement(\n\t              _reactNative.Text,\n\t              { style: styles.date },\n\t              date\n\t            )\n\t          ),\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: styles.photoBG },\n\t            _react2.default.createElement(PhotoView, { resource: resource, navigator: this.props.navigator })\n\t          ),\n\t          actionPanel,\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: { marginTop: -3 } },\n\t            _react2.default.createElement(\n\t              _reactNative.View,\n\t              { style: styles.photoListStyle },\n\t              _react2.default.createElement(PhotoList, { photos: resource.photos, resource: resource, isView: true, navigator: this.props.navigator, numberInRow: inRow })\n\t            ),\n\t            _react2.default.createElement(\n\t              _reactNative.View,\n\t              { style: styles.rowContainer },\n\t              msg,\n\t              _react2.default.createElement(ShowPropertiesView, { navigator: this.props.navigator,\n\t                resource: resource,\n\t                bankStyle: this.props.bankStyle,\n\t                errorProps: this.state.errorProps,\n\t                currency: this.props.currency,\n\t                checkProperties: this.props.isVerifier ? this.onCheck.bind(this) : null,\n\t                excludedProperties: ['tradle.Message.message', 'time', 'photos'],\n\t                showRefResource: this.getRefResource.bind(this) }),\n\t              separator,\n\t              verificationTxID\n\t            )\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }, {\n\t    key: 'onPress',\n\t    value: function onPress(url) {\n\t      this.props.navigator.push({\n\t        id: 7,\n\t        component: ArticleView,\n\t        backButtonTitle: translate('back'),\n\t        passProps: { url: url }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'additionalInfo',\n\t    value: function additionalInfo(resource, prop, msg) {\n\t      var rmodel = utils.getModel(resource[constants.TYPE]).value;\n\t      msg = msg.length ? msg : 'Please submit more info';\n\t      var r = {\n\t        _t: prop.items.ref,\n\t        from: utils.getMe(),\n\t        to: resource.from,\n\t        time: new Date().getTime(),\n\t        message: msg\n\t      };\n\t      r[prop.items.backlink] = {\n\t        id: utils.getId(resource),\n\t        title: utils.getDisplayName(resource, rmodel.properties)\n\t      };\n\t      Actions.addVerification(r);\n\t    }\n\t  }, {\n\t    key: 'verify',\n\t    value: function verify() {\n\t      var resource = this.props.resource;\n\t      var model = utils.getModel(resource[constants.TYPE]).value;\n\t      // this.props.navigator.pop();\n\t      var me = utils.getMe();\n\t      var from = this.props.resource.from;\n\t      var verificationModel = constants.TYPES.VERIFICATION; // model.properties.verifications.items.ref;\n\t      var verification = {\n\t        document: {\n\t          id: utils.getId(resource),\n\t          title: resource.message ? resource.message : model.title\n\t        },\n\t        to: {\n\t          id: from.id,\n\t          title: from.title\n\t        },\n\t        from: {\n\t          id: utils.getId(me),\n\t          title: utils.getDisplayName(me, utils.getModel(me[constants.TYPE]).value.properties)\n\t        },\n\t        time: new Date().getTime()\n\t      };\n\t      verification[constants.TYPE] = verificationModel;\n\t\n\t      if (verificationModel === constants.TYPES.VERIFICATION) Actions.addVerification(verification);else {\n\t        this.props.navigator.replace({\n\t          title: resource.message,\n\t          id: 4,\n\t          component: NewResource,\n\t          backButtonTitle: resource.firstName,\n\t          rightButtonTitle: 'Done',\n\t          titleTextColor: '#7AAAC3',\n\t          passProps: {\n\t            model: utils.getModel(verificationModel).value,\n\t            resource: verification\n\t          }\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'createVerification',\n\t    value: function createVerification(resource) {\n\t      Actions.addVerification(resource, true);\n\t    }\n\t  }]);\n\t\n\t  return MessageView;\n\t}(_react.Component);\n\t\n\treactMixin(MessageView.prototype, Reflux.ListenerMixin);\n\treactMixin(MessageView.prototype, ResourceMixin);\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  itemTitle: {\n\t    fontSize: 18,\n\t    margin: 5,\n\t    marginBottom: 0,\n\t    color: '#7AAAC3'\n\t  },\n\t  title: {\n\t    fontSize: 18,\n\t    fontFamily: 'Avenir Next',\n\t    marginHorizontal: 7,\n\t    color: '#9b9b9b'\n\t  },\n\t  verification: {\n\t    fontSize: 18,\n\t    marginVertical: 3,\n\t    marginHorizontal: 7,\n\t    color: '#7AAAC3'\n\t  },\n\t  separator: {\n\t    height: 1,\n\t    backgroundColor: '#eeeeee',\n\t    marginHorizontal: 15\n\t  },\n\t  photoBG: {\n\t    backgroundColor: '#f7f7f7',\n\t    alignItems: 'center'\n\t  },\n\t  photoListStyle: {\n\t    flexDirection: 'row'\n\t  },\n\t  band: {\n\t    height: 30,\n\t    backgroundColor: '#f7f7f7',\n\t    borderColor: '#f7f7f7',\n\t    borderWidth: 1,\n\t    alignSelf: 'stretch'\n\t  },\n\t  rowContainer: {\n\t    paddingBottom: 10\n\t  },\n\t  date: {\n\t    fontSize: 14,\n\t    marginTop: 5,\n\t    marginRight: 10,\n\t    alignSelf: 'flex-end',\n\t    color: '#2E3B4E'\n\t    // color: '#b4c3cb'\n\t  }\n\t});\n\t\n\tmodule.exports = MessageView;\n\t// edit() {\n\t//   let rmodel = utils.getModel('tradle.FormError').value\n\t//   let title = translate(rmodel)\n\t//   // let form = this.props.resource\n\t\n\t//   this.props.navigator.push({\n\t//     title: title,\n\t//     id: 4,\n\t//     component: MessageView,\n\t//     // titleTextColor: '#999999',\n\t//     backButtonTitle: translate('back'),\n\t//     rightButtonTitle: translate('done'),\n\t//     passProps: {\n\t//       model: rmodel,\n\t//       createFormError: true,\n\t//       resource: this.props.resource,\n\t//       // resource: {\n\t//       //   to: form.from,\n\t//       //   from: form.to,\n\t//       //   _t: 'tradle.FormError',\n\t//       //   prefill: form,\n\t//       //   message: translate('pleaseCorrectTheErrors', translate(rmodel), form.from.formatted)\n\t//       // },\n\t//     }\n\t//   })\n\t// }\n\n/***/ },\n\n/***/ 1948:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar utils = __webpack_require__(935);\n\tvar translate = utils.translate;\n\tvar ResourceList = __webpack_require__(1685);\n\tvar MessageList = __webpack_require__(1946);\n\tvar Icon = __webpack_require__(1541);\n\tvar buttonStyles = __webpack_require__(1721);\n\tvar constants = __webpack_require__(1348);\n\tvar reactMixin = __webpack_require__(1703);\n\tvar ResourceMixin = __webpack_require__(1717);\n\tvar RowMixin = __webpack_require__(1694);\n\t\n\tvar ShowMessageRefList = function (_Component) {\n\t  _inherits(ShowMessageRefList, _Component);\n\t\n\t  function ShowMessageRefList(props) {\n\t    _classCallCheck(this, ShowMessageRefList);\n\t\n\t    return _possibleConstructorReturn(this, (ShowMessageRefList.__proto__ || Object.getPrototypeOf(ShowMessageRefList)).call(this, props));\n\t  }\n\t\n\t  _createClass(ShowMessageRefList, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this2 = this;\n\t\n\t      var resource = this.props.resource;\n\t      var model = utils.getModel(resource[constants.TYPE]).value;\n\t      var props = model.properties;\n\t\n\t      var refList = [];\n\t      var isIdentity = model.id === constants.TYPES.PROFILE;\n\t      var isMe = isIdentity ? resource[constants.ROOT_HASH] === utils.getMe()[constants.ROOT_HASH] : true;\n\t      var backlinks = [];\n\t      for (var p in props) {\n\t        if (isIdentity && !isMe && props[p].allowRoles && props[p].allowRoles === 'me') continue;\n\t        if (p.charAt(0) === '_' || !props[p].items || !props[p].items.backlink) continue;\n\t        backlinks.push(props[p]);\n\t      }\n\t      backlinks.forEach(function (prop) {\n\t        // if (isIdentity  &&  !isMe  &&  props[p].allowRoles  &&  props[p].allowRoles === 'me')\n\t        //   continue;\n\t        // if (p.charAt(0) === '_'  ||  !props[p].items  ||  !props[p].items.backlink)\n\t        //   continue;\n\t        var icon = props[p].icon || utils.getModel(props[p].items.ref).value.icon;\n\t        if (!icon) icon = 'ios-checkmark';\n\t        var style = backlinks.length === 1 ? [buttonStyles.container, { width: utils.dimensions(ShowMessageRefList).width }] : buttonStyles.container;\n\t        refList.push(_react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: style, key: _this2.getNextKey() },\n\t          _react2.default.createElement(\n\t            _reactNative.TouchableHighlight,\n\t            { onPress: _this2.showResources.bind(_this2, _this2.props.resource, props[p]), underlayColor: 'transparent' },\n\t            _react2.default.createElement(\n\t              _reactNative.View,\n\t              { style: { alignItems: 'center' } },\n\t              _react2.default.createElement(Icon, { name: icon, size: 35, color: '#ffffff' }),\n\t              _react2.default.createElement(\n\t                _reactNative.Text,\n\t                { style: buttonStyles.text },\n\t                translate(props[p], model)\n\t              )\n\t            )\n\t          )\n\t        ));\n\t        // }\n\t      });\n\t\n\t      var backlinksBg = this.props.bankStyle && this.props.bankStyle.PRODUCT_ROW_BG_COLOR ? { backgroundColor: this.props.bankStyle.PRODUCT_ROW_BG_COLOR } : { backgroundColor: '#a0a0a0' };\n\t      return refList.length ? _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: [buttonStyles.buttons, backlinksBg, { flexDirection: 'row' }] },\n\t        refList\n\t      ) : _react2.default.createElement(_reactNative.View, null);\n\t    }\n\t  }, {\n\t    key: 'showMoreLikeThis',\n\t    value: function showMoreLikeThis() {\n\t      var self = this;\n\t      var modelName = this.props.resource[constants.TYPE];\n\t      this.props.navigator.push({\n\t        title: translate(utils.getModel(modelName).value),\n\t        component: MessageList,\n\t        id: 11,\n\t        backButtonTitle: 'Back',\n\t        passProps: {\n\t          resource: utils.getMe(),\n\t          filter: '',\n\t          isAggregation: true,\n\t          modelName: modelName\n\t        }\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return ShowMessageRefList;\n\t}(_react.Component);\n\t\n\treactMixin(ShowMessageRefList.prototype, ResourceMixin);\n\treactMixin(ShowMessageRefList.prototype, RowMixin);\n\t\n\tmodule.exports = ShowMessageRefList;\n\t\n\t// additionalInfo(resource, prop) {\n\t//   var rmodel = utils.getModel(resource[constants.TYPE]).value;\n\t//   var r = {\n\t//     _t: prop.items.ref,\n\t//     from: utils.getMe(),\n\t//     to: resource.from\n\t//   };\n\t//   r[prop.items.backlink] = {\n\t//     id: resource[constants.TYPE] + '_' + resource[constants.ROOT_HASH],\n\t//     title: utils.getDisplayName(resource, rmodel.properties)\n\t//   }\n\t//   var model = utils.getModel(prop.items.ref).value;\n\t//   this.props.navigator.push({\n\t//     title: model.title,\n\t//     id: 4,\n\t//     component: NewResource,\n\t//     titleTextColor: '#7AAAC3',\n\t//     backButtonTitle: 'Back',\n\t//     rightButtonTitle: 'Done',\n\t//     passProps: {\n\t//       model: model,\n\t//       resource: r,\n\t//       callback: () => Actions.list({\n\t//         modelName: prop.items.ref,\n\t//         to: this.props.resource,\n\t//         resource: r\n\t//       }),\n\t//     }\n\t//   })\n\t\n\t// }\n\t\n\t\n\t// if (props[p].items.ref === constants.TYPES.ADDITIONAL_INFO) {\n\t//   if (utils.getMe().organization)\n\t//     refList.push(\n\t//       <View style={buttonStyles.container} key={this.getNextKey()}>\n\t//          <TouchableHighlight onPress={() => {\n\t//             var buttons = [{\n\t//               text: 'Cancel',\n\t//             },\n\t//             {\n\t//               text: 'OK',\n\t//               onPress: this.props.additionalInfo.bind(this, this.props.resource, props[p])\n\t//             }];\n\t//             var to = this.props.resource;\n\t//             AlertIOS.prompt(\n\t//               'Sending ' + resource.title + ' form to ' + utils.getDisplayName(to, utils.getModel(to[constants.TYPE]).value.properties),\n\t//               buttons\n\t//             );\n\t\n\t//            }\n\t//          } underlayColor='transparent'>\n\t//            <View style={{alignItems: 'center'}}>\n\t//              <Icon name={icon}  size={35}  color='#ffffff' />\n\t//              <Text style={buttonStyles.text}>{translate(props[p], model)}</Text>\n\t//            </View>\n\t//          </TouchableHighlight>\n\t//        </View>\n\t//     );\n\t// }\n\t// else {\n\n/***/ },\n\n/***/ 1949:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _reactNativeImagePicker = __webpack_require__(1950);\n\t\n\tvar _reactNativeImagePicker2 = _interopRequireDefault(_reactNativeImagePicker);\n\t\n\tvar _ImageInput = __webpack_require__(1951);\n\t\n\tvar _ImageInput2 = _interopRequireDefault(_ImageInput);\n\t\n\tvar _customicons = __webpack_require__(1695);\n\t\n\tvar _customicons2 = _interopRequireDefault(_customicons);\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _reactNative2 = _interopRequireDefault(_reactNative);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _ActivityIndicator = __webpack_require__(1669);\n\t\n\tvar _ActivityIndicator2 = _interopRequireDefault(_ActivityIndicator);\n\t\n\tvar _platform = __webpack_require__(1674);\n\t\n\tvar _platform2 = _interopRequireDefault(_platform);\n\t\n\tvar _reactNativeOrient = __webpack_require__(944);\n\t\n\tvar _BackgroundImage = __webpack_require__(1953);\n\t\n\tvar _BackgroundImage2 = _interopRequireDefault(_BackgroundImage);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar debug = __webpack_require__(766)('NewResource');\n\tvar utils = __webpack_require__(935);\n\tvar translate = utils.translate;\n\tvar NewItem = __webpack_require__(1954);\n\tvar ResourceList = __webpack_require__(1685);\n\tvar GridItemsList = __webpack_require__(2073);\n\tvar PhotoView = __webpack_require__(1718);\n\tvar ResourceView = __webpack_require__(1706);\n\tvar ResourceMixin = __webpack_require__(1717);\n\tvar PageView = __webpack_require__(1722);\n\tvar t = __webpack_require__(991);\n\tvar extend = __webpack_require__(1705);\n\tvar Actions = __webpack_require__(1517);\n\tvar Store = __webpack_require__(1723);\n\tvar Reflux = __webpack_require__(1518);\n\tvar reactMixin = __webpack_require__(1703);\n\tvar Icon = __webpack_require__(1541);\n\tvar myStyles = __webpack_require__(1955);\n\tvar rStyles = __webpack_require__(2074);\n\tvar NewResourceMixin = __webpack_require__(1956);\n\tvar PageView = __webpack_require__(1722);\n\tvar reactMixin = __webpack_require__(1703);\n\tvar BG_IMAGE = __webpack_require__(1671);\n\tvar equal = __webpack_require__(721);\n\tvar constants = __webpack_require__(1348);\n\tvar termsAndConditions = __webpack_require__(2075);\n\t\n\tvar ENUM = 'tradle.Enum';\n\tvar LINK_COLOR,\n\t    DEFAULT_LINK_COLOR = '#a94442';\n\tvar FORM_ERROR = 'tradle.FormError';\n\t\n\tvar Form = t.form.Form;\n\tvar stylesheet = __webpack_require__(1955);\n\t\n\tvar Keyboard;\n\tif (_reactNative.Platform.OS !== 'web') {\n\t  Keyboard = __webpack_require__(1684);\n\t}\n\t\n\t// DeviceHeight = Dimensions.get('window').height;\n\t// DeviceWidth = Dimensions.get('window').width\n\t\n\tvar NewResource = function (_Component) {\n\t  _inherits(NewResource, _Component);\n\t\n\t  function NewResource(props) {\n\t    _classCallCheck(this, NewResource);\n\t\n\t    var _this = _possibleConstructorReturn(this, (NewResource.__proto__ || Object.getPrototypeOf(NewResource)).call(this, props));\n\t\n\t    if (_this.props.bankStyle) LINK_COLOR = _this.props.bankStyle.LINK_COLOR || DEFAULT_LINK_COLOR;else LINK_COLOR = DEFAULT_LINK_COLOR;\n\t    var r = {};\n\t    if (props.resource) r = utils.clone(props.resource); //extend(true, r, props.resource)\n\t    else r[constants.TYPE] = props.model.id;\n\t    var isRegistration = !utils.getMe() && _this.props.model.id === constants.TYPES.PROFILE && (!_this.props.resource || !_this.props.resource[constants.ROOT_HASH]);\n\t\n\t    _this.state = {\n\t      resource: r,\n\t      // modalVisible: false,\n\t      date: new Date(),\n\t      isUploading: !isRegistration && (!r[constants.ROOT_HASH] || Object.keys(r).length === 2),\n\t      isRegistration: isRegistration,\n\t      isLoadingVideo: false,\n\t      isPrefilled: _this.props.isPrefilled,\n\t      modal: {},\n\t      // offSet: new Animated.Value(Dimensions.get('window').height),\n\t      termsAccepted: isRegistration ? false : true\n\t    };\n\t    var currentRoutes = _this.props.navigator.getCurrentRoutes();\n\t    var currentRoutesLength = currentRoutes.length;\n\t    currentRoutes[currentRoutesLength - 1].onRightButtonPress = _this.onSavePressed.bind(_this);\n\t\n\t    // this._contentOffset = { x: 0, y: 0 }\n\t    _this.scrollviewProps = {\n\t      automaticallyAdjustContentInsets: true,\n\t      scrollEventThrottle: 50,\n\t      onScroll: _this.onScroll.bind(_this)\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(NewResource, [{\n\t    key: 'shouldComponentUpdate',\n\t    value: function shouldComponentUpdate(nextProps, nextState) {\n\t      var isUpdate = nextState.err || this.props.orientation !== nextProps.orientation || nextState.missedRequiredOrErrorValue || this.state.modal !== nextState.modal || this.state.prop !== nextState.prop || this.state.isUploading !== nextState.isUploading || this.state.itemsCount !== nextState.itemsCount || this.state.isLoadingVideo !== nextState.isLoadingVideo || this.state.keyboardSpace !== nextState.keyboardSpace ||\n\t      // this.state.termsAccepted !== nextState.termsAccepted    ||\n\t      !equal(this.state.resource, nextState.resource);\n\t\n\t      if (!isUpdate) utils.compare(this.props.resource, nextProps.resource);\n\t      return isUpdate;\n\t      // nextState.isModalOpen !== this.state.isModalOpen  ||\n\t      // this.state.modalVisible != nextState.modalVisible ||\n\t    }\n\t  }, {\n\t    key: 'componentWillMount',\n\t    value: function componentWillMount() {\n\t      if (this.state.resource[constants.ROOT_HASH] && Object.keys(this.state.resource).length === 2) Actions.getItem(utils.getId(this.state.resource));else if (this.state.isUploading) Actions.getTemporary(this.state.resource[constants.TYPE]);\n\t    }\n\t  }, {\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      var _this2 = this;\n\t\n\t      this.listenTo(Store, 'itemAdded');\n\t      if (!Keyboard) return;\n\t\n\t      Keyboard.addListener('keyboardWillShow', function (e) {\n\t        _this2.updateKeyboardSpace(e);\n\t      });\n\t\n\t      Keyboard.addListener('keyboardWillHide', function (e) {\n\t        _this2.resetKeyboardSpace(e);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'componentDidUpdate',\n\t    value: function componentDidUpdate() {\n\t      if (!this.state.missedRequiredOrErrorValue || utils.isEmpty(this.state.missedRequiredOrErrorValue)) return;\n\t\n\t      var viewCols = this.props.model.viewCols;\n\t      var first = void 0;\n\t      for (var p in this.state.missedRequiredOrErrorValue) {\n\t        if (!viewCols) {\n\t          first = p;\n\t          break;\n\t        }\n\t\n\t        if (!first || viewCols.indexOf(p) < viewCols.indexOf(first)) {\n\t          first = p;\n\t        }\n\t      }\n\t      var ref = this.refs.form.getComponent(first) || this.refs[first];\n\t      if (!ref) return;\n\t\n\t      if (!utils.isEmpty(this.state.missedRequiredOrErrorValue) && !this.state.noScroll) {\n\t        utils.scrollComponentIntoView(this, ref);\n\t        this.state.noScroll = true;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'itemAdded',\n\t    value: function itemAdded(params) {\n\t      var resource = params.resource;\n\t      if (params.action === 'languageChange') {\n\t        this.props.navigator.popToTop();\n\t        return;\n\t      }\n\t      if (params.action === 'noChanges') {\n\t        this.setState({ err: translate('nothingChanged'), submitted: false });\n\t        return;\n\t      }\n\t      if (params.action === 'getItem' && utils.getId(this.state.resource) === utils.getId(params.resource)) {\n\t        this.setState({\n\t          resource: params.resource,\n\t          isUploading: false\n\t        });\n\t        return;\n\t      }\n\t      if (params.action === 'getTemporary') {\n\t        var r = {};\n\t        extend(r, this.state.resource);\n\t        extend(r, params.resource);\n\t        this.setState({\n\t          resource: r,\n\t          isUploading: false\n\t        });\n\t        return;\n\t      }\n\t\n\t      if (params.action === 'runVideo' && this.state.isRegistration) {\n\t        if (this.props.callback) this.setState({ isLoadingVideo: true });\n\t        return;\n\t      }\n\t      if (!resource && params.error && params.action === 'addItem') {\n\t        this.state.submitted = false;\n\t        console.log('addItem: submitted = false');\n\t        _reactNative.Alert.alert(params.error);\n\t        var actionParams = {\n\t          query: this.state.filter,\n\t          modelName: this.props.modelName,\n\t          to: this.props.resource\n\t        };\n\t        return;\n\t      }\n\t      if (!resource || params.action !== 'addItem' && params.action !== 'addMessage') {\n\t        //       console.log('addItem1: submitted = false')\n\t        //       this.state.submitted = false\n\t        return;\n\t      }\n\t      if (this.state.resource[constants.TYPE] !== resource[constants.TYPE]) return;\n\t      if (params.error) {\n\t        if (resource[constants.TYPE] == this.state.resource[constants.TYPE]) this.setState({ err: params.error, resource: resource, isRegistration: this.state.isRegistration });\n\t        console.log('addItem error: submitted = false');\n\t        this.state.submitted = false;\n\t        return;\n\t      }\n\t      if (params.action === 'addItem' && resource.sharedWith && resource.sharedWith.length > 1) {\n\t        this.showSharedWithList(params.resource);\n\t        return;\n\t      }\n\t      if (this.props.callback) {\n\t        this.state.submitted = false;\n\t        console.log('callback: submitted = false');\n\t        this.props.callback(resource);\n\t        return;\n\t      }\n\t\n\t      var self = this;\n\t      var title = utils.getDisplayName(resource, this.props.model.properties);\n\t      var isMessage = this.props.model.interfaces && this.props.model.interfaces.indexOf(constants.TYPES.MESSAGE) != -1;\n\t      // When message created the return page is the chat window,\n\t      // When profile or some contact info changed/added the return page is Profile view page\n\t      if (isMessage) {\n\t        if (this.props.originatingMessage && resource[constants.ROOT_HASH] !== this.props.originatingMessage[constants.ROOT_HASH]) {\n\t          var params = {\n\t            value: { documentCreated: true, document: resource[constants.NONCE] },\n\t            resource: this.props.originatingMessage,\n\t            meta: utils.getModel(this.props.originatingMessage[constants.TYPE]).value\n\t          };\n\t          Actions.addItem(params);\n\t          this.props.navigator.pop();\n\t          return;\n\t        }\n\t      }\n\t      var currentRoutes = self.props.navigator.getCurrentRoutes();\n\t      var currentRoutesLength = currentRoutes.length;\n\t      var navigateTo = currentRoutesLength == 2 ? this.props.navigator.replace : this.props.navigator.replacePrevious;\n\t      // Editing form originated from chat\n\t      if (this.props.chat) {\n\t        var routes = this.props.navigator.getCurrentRoutes();\n\t        this.props.navigator.popToRoute(routes[routes.length - 3]);\n\t        return;\n\t      }\n\t      navigateTo({\n\t        id: 3,\n\t        title: title,\n\t        component: ResourceView,\n\t        titleTextColor: '#7AAAC3',\n\t        rightButtonTitle: translate('edit'),\n\t        backButtonTitle: translate('back'),\n\t        onRightButtonPress: {\n\t          title: title,\n\t          id: 4,\n\t          component: NewResource,\n\t          rightButtonTitle: translate('done'),\n\t          backButtonTitle: translate('back'),\n\t          titleTextColor: '#7AAAC3',\n\t          passProps: {\n\t            model: self.props.model,\n\t            resource: resource,\n\t            currency: this.props.currency,\n\t            bankStyle: this.props.bankStyle\n\t          }\n\t        },\n\t        passProps: {\n\t          resource: resource,\n\t          currency: this.props.currency,\n\t          bankStyle: this.props.bankStyle\n\t        }\n\t      });\n\t      if (currentRoutesLength != 2) this.props.navigator.pop();\n\t      //     console.log('itemAdded: submitted = false')\n\t      //     this.state.submitted = false\n\t    }\n\t  }, {\n\t    key: 'showSharedWithList',\n\t    value: function showSharedWithList(newResource) {\n\t      if (!this.props.resource || !this.props.resource.sharedWith)\n\t        // this.onSavePressed1()\n\t        return;\n\t      this.props.navigator.replace({\n\t        id: 10,\n\t        title: translate('shareChangesWith'),\n\t        backButtonTitle: translate('back'),\n\t        component: ResourceList,\n\t        rightButtonTitle: translate('Done'),\n\t        passProps: {\n\t          message: translate('chooseCompaniesToShareChangesWith'),\n\t          modelName: constants.TYPES.ORGANIZATION,\n\t          to: this.state.resource.to,\n\t          resource: this.props.resource,\n\t          callback: this.shareWith.bind(this, newResource),\n\t          chat: this.props.chat,\n\t          bankStyle: this.props.bankStyle,\n\t          currency: this.props.currency\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'shareWith',\n\t    value: function shareWith(newResource, list) {\n\t      if (list.length) Actions.share(newResource, list);\n\t      this.props.navigator.pop();\n\t    }\n\t  }, {\n\t    key: 'onSavePressed',\n\t    value: function onSavePressed() {\n\t      var _this3 = this;\n\t\n\t      if (this.state.submitted) return;\n\t\n\t      this.state.submitted = true;\n\t      this.state.noScroll = false;\n\t      var resource = this.state.resource;\n\t      var value = this.refs.form.getValue();\n\t      if (!value) {\n\t        value = this.refs.form.refs.input.state.value;\n\t        if (!value) value = {};\n\t      }\n\t      // value is a tcomb Struct\n\t      var json = utils.clone(value);\n\t      this.checkEnums(json, resource);\n\t      if (this.floatingProps) {\n\t        for (var p in this.floatingProps) {\n\t          json[p] = this.floatingProps[p];\n\t        }\n\t      }\n\t      var required = this.props.model.required;\n\t      if (!required) {\n\t        required = [];\n\t        for (var p in this.props.model.properties) {\n\t          if (p.charAt(0) !== '_') required.push(p);\n\t        }\n\t      }\n\t      var missedRequiredOrErrorValue = {};\n\t      required.forEach(function (p) {\n\t        var v = typeof json[p] !== 'undefined' || json[p] ? json[p] : _this3.props.resource ? _this3.props.resource[p] : null; //resource[p];\n\t        if (v) {\n\t          if (typeof v === 'string' && !v.length) {\n\t            v = null;\n\t            delete json[p];\n\t          } else if ((typeof v === 'undefined' ? 'undefined' : _typeof(v)) === 'object') {\n\t            var ref = _this3.props.model.properties[p].ref;\n\t            if (ref) {\n\t              var rModel = utils.getModel(ref).value;\n\t              if (ref === constants.TYPES.MONEY) {\n\t                if (!v.value || !v.value.length) {\n\t                  missedRequiredOrErrorValue[p] = translate('thisFieldIsRequired');\n\t                  return;\n\t                }\n\t              } else if (!rModel.subClassOf || rModel.subClassOf !== ENUM) {\n\t                var units = _this3.props.model.properties[p].units;\n\t                if (units) v = v.value;else {\n\t                  if (v.value === '') v = null;\n\t                  delete json[p];\n\t                }\n\t                return;\n\t              }\n\t            } else if (_this3.props.model.properties[p].type === 'array' && !v.length) {\n\t              missedRequiredOrErrorValue[p] = translate('thisFieldIsRequired');\n\t              return;\n\t            }\n\t          }\n\t        }\n\t        if (_this3.props.model.properties[p].type === 'boolean' && typeof v !== 'undefined') return;\n\t        var isDate = Object.prototype.toString.call(v) === '[object Date]';\n\t        if (!v || isDate && isNaN(v.getTime())) {\n\t          var prop = _this3.props.model.properties[p];\n\t          if (prop.items && prop.items.backlink) return;\n\t          if (prop.ref || isDate || prop.items) {\n\t            if (resource && resource[p]) return;\n\t            missedRequiredOrErrorValue[p] = translate('thisFieldIsRequired'); //'This field is required'\n\t          } else if (!prop.displayAs) missedRequiredOrErrorValue[p] = translate('thisFieldIsRequired');\n\t        }\n\t      });\n\t      // if (this.props.resource                      &&\n\t      //     this.props.resource[constants.ROOT_HASH] &&\n\t      //     this.compare(json, this.props.resource)  &&\n\t      //     this.compare(resource, this.props.resource)) {\n\t      //   this.setState({err: translate('nothingChanged'), submitted: false})\n\t      //   return\n\t      // }\n\t\n\t      var err = this.validateProperties(json);\n\t      for (var p in err) {\n\t        missedRequiredOrErrorValue[p] = err[p];\n\t      }if (!utils.isEmpty(missedRequiredOrErrorValue)) {\n\t        console.log('onSavePressed not all required: submitted = false');\n\t\n\t        this.state.submitted = false;\n\t        var state = {\n\t          missedRequiredOrErrorValue: missedRequiredOrErrorValue\n\t        };\n\t        this.setState(state);\n\t        return;\n\t      }\n\t      // if (msg) {\n\t      //   this.setState({ err: msg });\n\t      //   this.state.submitted = false\n\t      //   return;\n\t      // }\n\t      if (!value) debugger;\n\t      // if (!value) {\n\t      //   var errors = this.refs.form.refs.input.getValue().errors;\n\t      //   var msg = '';\n\t      //   var errMsg = errors.forEach(function(err) {\n\t      //      msg += ' ' + err.message;\n\t      //   });\n\t      //   this.setState({ err: msg });\n\t      //   this.state.submitted = false\n\t      //   return;\n\t      // }\n\t\n\t      // var json = JSON.parse(JSON.stringify(value));\n\t\n\t      if (!resource) {\n\t        resource = {};\n\t        resource[constants.TYPE] = this.props.model.id;\n\t      }\n\t      // var isRegistration = !utils.getMe()  && this.props.model.id === constants.TYPES.PROFILE  &&  (!resource || !resource[constants.ROOT_HASH]);\n\t      // if (isRegistration)\n\t      //   this.state.isRegistration = true;\n\t      // if (this.props.chat) {\n\t      //   let toId = utils.getId(resource.to)\n\t      //   // resource modifications should be related to the chat where it was changed\n\t      //   // Check if the resource modified was originally created in this chat\n\t      //   let chatReps = this.props.chat.contacts\n\t      //   let foundRep = this.props.chat.contacts.filter((rep) => {\n\t      //     return rep.id === toId\n\t      //   })\n\t      //   if (foundRep.length)\n\t      //     foundRep = foundRep[0]\n\t      //   else {\n\t      //     // find the right representative from the sharedWith property of the resource\n\t      //     let sharedWith = resource.sharedWith\n\t      //     sharedWith.forEach(rep => {\n\t      //       let r = chatReps.filter(r => {\n\t      //         return r.id === rep.bankRepresentative\n\t      //       })\n\t      //       if (r.length)\n\t      //         foundRep = r[0]\n\t      //     })\n\t      //   }\n\t      //   json.to = foundRep\n\t      // }\n\t\n\t      var r = {};\n\t      extend(true, r, resource);\n\t      delete r.url;\n\t      var params = {\n\t        value: json,\n\t        resource: r,\n\t        meta: this.props.model,\n\t        isRegistration: this.state.isRegistration\n\t      };\n\t      if (this.props.additionalInfo) params.additionalInfo = additionalInfo;\n\t      if (this.props.chat) params.chat = this.props.chat;\n\t      // if (list)\n\t      //   params.shareWith = list\n\t      Actions.addItem(params);\n\t    }\n\t    // HACK: the value for property of the type that is subClassOf Enum is set on resource\n\t    // and it is different from what tcomb sets in the text field\n\t\n\t  }, {\n\t    key: 'checkEnums',\n\t    value: function checkEnums(json, resource) {\n\t      var props = this.props.model.properties;\n\t      for (var p in json) {\n\t        if (!props[p] || !props[p].ref) continue;\n\t        var m = utils.getModel(props[p].ref).value;\n\t        if (m.subClassOf && m.subClassOf === ENUM) json[p] = resource[p];\n\t      }\n\t    }\n\t  }, {\n\t    key: 'addFormValues',\n\t    value: function addFormValues() {\n\t      var value = this.refs.form.getValue();\n\t      // var json = value ? JSON.parse(JSON.stringify(value)) : this.refs.form.refs.input.state.value;\n\t      var json = value ? value : this.refs.form.refs.input.state.value;\n\t      var resource = this.state.resource;\n\t      if (!resource) {\n\t        resource = {};\n\t        resource[constants.TYPE] = this.props.model.id;\n\t      }\n\t      for (var p in json) {\n\t        if (!resource[p] && json[p]) resource[p] = json[p];\n\t      }return resource;\n\t    }\n\t  }, {\n\t    key: 'onAddItem',\n\t    value: function onAddItem(propName, item) {\n\t      if (!item) return;\n\t      var resource = this.addFormValues();\n\t      var items = resource[propName];\n\t      if (!items) {\n\t        items = [];\n\t        resource[propName] = items;\n\t      }\n\t      items.push(item);\n\t      var itemsCount = this.state.itemsCount ? this.state.itemsCount + 1 : 1;\n\t      if (this.state.missedRequiredOrErrorValue) delete this.state.missedRequiredOrErrorValue[propName];\n\t      this.setState({\n\t        resource: resource,\n\t        itemsCount: itemsCount,\n\t        prop: propName\n\t      });\n\t    }\n\t  }, {\n\t    key: 'onNewPressed',\n\t    value: function onNewPressed(bl) {\n\t      // if (bl.items.backlink) {\n\t      //   var model = utils.getModel(bl.items.ref).value;\n\t      //   var resource = {};\n\t      //   resource[constants.TYPE] = bl.items.ref;\n\t      //   resource[bl.items.backlink] = this.props.resource;\n\t      //   var passProps = {\n\t      //     model: model,\n\t      //     // callback: this.props.navigator.pop,\n\t      //     resource: resource\n\t      //   }\n\t      //   this.props.navigator.push({\n\t      //     id: 4,\n\t      //     title: 'Add new ' + bl.title,\n\t      //     backButtonTitle: 'Back',\n\t      //     component: NewResource,\n\t      //     rightButtonTitle: 'Done',\n\t      //     passProps: passProps,\n\t      //   });\n\t      //   return;\n\t      // }\n\t      var resource = this.addFormValues();\n\t      this.setState({ resource: resource, err: '' });\n\t      // if (bl.name === 'photos') {\n\t      //   this.showChoice(bl);\n\t      //   return;\n\t      // }\n\t      var blmodel = bl.items.ref ? utils.getModel(bl.items.ref).value : this.props.model;\n\t      if (bl.items.ref && bl.allowToAdd) {\n\t        this.props.navigator.push({\n\t          id: 10,\n\t          title: translate(bl, blmodel), // Add new ' + bl.title,\n\t          backButtonTitle: translate('back'),\n\t          component: ResourceList,\n\t          passProps: {\n\t            modelName: bl.items.ref,\n\t            to: this.state.resource.to,\n\t            resource: this.state.resource,\n\t            isChooser: true,\n\t            prop: bl,\n\t            callback: this.setChosenValue.bind(this),\n\t            // onAddItem: this.onAddItem.bind(this),\n\t            bankStyle: this.props.bankStyle,\n\t            currency: this.props.currency\n\t          }\n\t        });\n\t        return;\n\t      }\n\t      this.props.navigator.push({\n\t        id: 6,\n\t        title: translate('addNew', translate(bl, blmodel)), // Add new ' + bl.title,\n\t        backButtonTitle: translate('back'),\n\t        component: NewItem,\n\t        rightButtonTitle: translate('done'),\n\t        // onRightButtonPress: {\n\t        //   stateChange: this.onAddItem.bind(this, bl, ),\n\t        //   before: this.done.bind(this)\n\t        // },\n\t        passProps: {\n\t          metadata: bl,\n\t          resource: this.state.resource,\n\t          parentMeta: this.props.parentMeta,\n\t          onAddItem: this.onAddItem.bind(this),\n\t          currency: this.props.currency\n\t        }\n\t      });\n\t    }\n\t    // showChoice(prop) {\n\t    //   var self = this;\n\t    //   ImagePicker.showImagePicker({\n\t    //     returnIsVertical: true,\n\t    //     chooseFromLibraryButtonTitle: utils.isSimulator() || prop._allowPicturesFromLibrary ? 'Choose from Library' : null,\n\t    //     takePhotoButtonTitle: utils.isSimulator() ? null : 'Take Photo…',\n\t    //     quality: utils.imageQuality\n\t    //   }, (response) => {\n\t    //     if (response.didCancel)\n\t    //       return;\n\t    //     if (response.error) {\n\t    //       console.log('ImagePickerManager Error: ', response.error);\n\t    //       return\n\t    //     }\n\t    //     var item = {\n\t    //       // title: 'photo',\n\t    //       url: 'data:image/jpeg;base64,' + response.data,\n\t    //       isVertical: response.isVertical,\n\t    //       width: response.width,\n\t    //       height: response.height,\n\t    //       chooseFromLibraryButtonTitle: ''\n\t    //     };\n\t    //     self.onAddItem('photos', item);\n\t    //   });\n\t    // }\n\t\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this4 = this;\n\t\n\t      if (this.state.isUploading) return _react2.default.createElement(_reactNative.View, null);\n\t      var props = this.props;\n\t      var parentBG = { backgroundColor: '#7AAAC3' };\n\t      var resource = this.state.resource;\n\t\n\t      var meta = props.model;\n\t      if (this.props.setProperty) this.state.resource[this.props.setProperty.name] = this.props.setProperty.value;\n\t      var data = {};\n\t      var model = {};\n\t      var arrays = [];\n\t      extend(true, data, resource);\n\t      var isMessage = meta.interfaces && meta.interfaces.indexOf(constants.TYPES.MESSAGE) != -1;\n\t      var isFinancialProduct = isMessage && this.props.model.subClassOf && this.props.model.subClassOf === constants.TYPES.FINANCIAL_PRODUCT;\n\t      var showSendVerificationForm = false;\n\t      var formToDisplay;\n\t      if (isMessage) {\n\t        var len = resource.message && utils.splitMessage(resource.message).length;\n\t        if (len < 2) showSendVerificationForm = true;else data.message = '';\n\t      }\n\t      var params = {\n\t        meta: meta,\n\t        data: data,\n\t        model: model,\n\t        items: arrays,\n\t        onEndEditing: this.onEndEditing.bind(this),\n\t        component: NewResource\n\t      };\n\t      if (this.props.editCols) params.editCols = this.props.editCols;\n\t      if (this.state.isRegistration) params.isRegistration = true;\n\t      if (this.props.originatingMessage && this.props.originatingMessage[constants.TYPE] === FORM_ERROR) {\n\t        params.errors = {};\n\t        this.props.originatingMessage.errors.forEach(function (r) {\n\t          params.errors[r.name] = r.error;\n\t        });\n\t      }\n\t\n\t      var options = this.getFormFields(params);\n\t\n\t      var Model = t.struct(model);\n\t\n\t      var itemsMeta;\n\t      if (this.props.editCols) {\n\t        itemsMeta = [];\n\t        this.props.editCols.forEach(function (p) {\n\t          if (meta.properties[p].type === 'array') itemsMeta.push(meta.properties[p]);\n\t        });\n\t      } else itemsMeta = utils.getItemsMeta(meta);\n\t\n\t      var self = this;\n\t      var arrayItems = [];\n\t      var itemsArray;\n\t      for (var p in itemsMeta) {\n\t        var bl = itemsMeta[p];\n\t        if (bl.icon === 'ios-telephone-outline') {\n\t          bl.icon = 'ios-call-outline';\n\t        }\n\t\n\t        if (bl.readOnly || bl.items.backlink) {\n\t          arrayItems.push(_react2.default.createElement(_reactNative.View, { key: this.getNextKey(), ref: bl.name }));\n\t          continue;\n\t        }\n\t        var blmodel = meta;\n\t        var counter,\n\t            count = 0;\n\t        itemsArray = null;\n\t        var count = resource && resource[bl.name] ? resource[bl.name].length : 0;\n\t        if (count && bl.name === 'photos') arrayItems.push(this.getPhotoItem(bl, styles));else arrayItems.push(this.getItem(bl, styles));\n\t      }\n\t      if (this.state.isRegistration) Form.stylesheet = rStyles;else Form.stylesheet = stylesheet;\n\t\n\t      // var style = this.state.isRegistration\n\t      //           ? DeviceHeight < 600 ? {marginTop: 100} : {marginTop: DeviceHeight / 4}\n\t      //           : platformStyles.container\n\t\n\t      var _utils$dimensions = utils.dimensions(NewResource);\n\t\n\t      var width = _utils$dimensions.width;\n\t      var height = _utils$dimensions.height;\n\t      // var style = [platformStyles.container, {backgroundColor: 'transparent', height: DeviceHeight}]\n\t      // var style = [platformStyles.container, {backgroundColor: 'transparent'}, utils.isWeb() &&  !this.state.isRegistration ?  {borderWidth: StyleSheet.hairlineWidth, borderColor: 'transparent', borderTopColor: '#7AAAC3'} : {borderWidth: 0}]\n\t\n\t      var style = { backgroundColor: 'transparent' };\n\t      if (!options) options = {};\n\t      options.auto = 'placeholders';\n\t      options.tintColor = 'red';\n\t      var photoStyle = /*isMessage && !isFinancialProduct ? {marginTop: -35} :*/styles.photoBG;\n\t      var button = this.state.isRegistration ? _react2.default.createElement(\n\t        _reactNative.View,\n\t        null,\n\t        _react2.default.createElement(\n\t          _reactNative.TouchableHighlight,\n\t          { style: styles.thumbButton,\n\t            underlayColor: 'transparent', onPress: function onPress() {\n\t              if (_this4.state.termsAccepted) _this4.onSavePressed();else _this4.showTermsAndConditions();\n\t            } },\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: styles.getStarted },\n\t            _react2.default.createElement(\n\t              _reactNative.Text,\n\t              { style: styles.getStartedText },\n\t              'ENTER'\n\t            )\n\t          )\n\t        ),\n\t        _react2.default.createElement(\n\t          _reactNative.TouchableHighlight,\n\t          { underlayColor: 'transparent', style: { flexDirection: 'row', alignSelf: 'center', paddingTop: 7 }, onPress: this.showTermsAndConditions.bind(this) },\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: { flexDirection: 'row' } },\n\t            _react2.default.createElement(\n\t              _reactNative.Text,\n\t              { style: { fontSize: 16, color: '#A6DBF5' } },\n\t              translate('acceptTermsAndConditions')\n\t            )\n\t          )\n\t        )\n\t      ) : _react2.default.createElement(_reactNative.View, { style: { height: 0 } });\n\t      var formStyle = this.state.isRegistration ? { justifyContent: 'center', height: height - (height > 1000 ? 0 : 100) } : { justifyContent: 'flex-start' };\n\t      var content = _react2.default.createElement(\n\t        _reactNative.ScrollView,\n\t        _extends({ style: { backgroundColor: 'transparent' },\n\t          ref: 'scrollView' }, this.scrollviewProps, {\n\t          keyboardShouldPersistTaps: true,\n\t          keyboardDismissMode: this.state.isRegistration || _reactNative.Platform.OS === 'ios' ? 'on-drag' : 'interactive' }),\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: [styles.container, formStyle] },\n\t          utils.isWeb() ? _react2.default.createElement(_reactNative.View, null) : _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: photoStyle },\n\t            _react2.default.createElement(PhotoView, { resource: resource, navigator: this.props.navigator })\n\t          ),\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: this.state.isRegistration ? { marginHorizontal: height > 1000 ? 50 : 30 } : { marginHorizontal: 10 } },\n\t            _react2.default.createElement(Form, { ref: 'form', type: Model, options: options, value: data, onChange: this.onChange.bind(this) }),\n\t            button,\n\t            _react2.default.createElement(\n\t              _reactNative.View,\n\t              { style: { marginTop: this.state.isRegistration ? 0 : -10 } },\n\t              arrayItems\n\t            ),\n\t            _react2.default.createElement(\n\t              _reactNative.View,\n\t              { style: { alignItems: 'center', marginTop: 50 } },\n\t              this.state.isLoadingVideo ? _react2.default.createElement(_ActivityIndicator2.default, { animating: true, size: 'large', color: '#ffffff' }) : _react2.default.createElement(_reactNative.View, null)\n\t            )\n\t          )\n\t        )\n\t      );\n\t\n\t      // StatusBar.setHidden(true);\n\t      if (!this.state.isRegistration) {\n\t        if (this.state.err) {\n\t          _reactNative.Alert.alert(this.state.err);\n\t          this.state.err = null;\n\t        }\n\t        return _react2.default.createElement(\n\t          PageView,\n\t          { style: _platform2.default.container },\n\t          content\n\t        );\n\t      }\n\t      // return (\n\t      //   <View style={{height: height}}>\n\t      //     <Image source={BG_IMAGE} style={styles.bgImage} />\n\t      //     <View style={{justifyContent: 'center', height: height}}>\n\t      //     {content}\n\t      //     </View>\n\t      //     {this.state.isRegistration\n\t      //       ? <View style={styles.logo}>\n\t      //           <CustomIcon name='tradle' size={40} color='#ffffff' />\n\t      //         </View>\n\t      //       : <View/>\n\t      //     }\n\t      //   </View>\n\t      // )\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: { height: height } },\n\t        _react2.default.createElement(_BackgroundImage2.default, { source: BG_IMAGE, style: styles.bgImage }),\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: { justifyContent: 'center', height: height } },\n\t          this.state.isRegistration ? _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: styles.logo },\n\t            _react2.default.createElement(_customicons2.default, { name: 'tradle', size: 40, color: '#ffffff', style: { padding: 10 } })\n\t          ) : _react2.default.createElement(_reactNative.View, null),\n\t          content,\n\t          _react2.default.createElement(_reactNative.View, null)\n\t        )\n\t      );\n\t    }\n\t  }, {\n\t    key: 'showTermsAndConditions',\n\t    value: function showTermsAndConditions() {\n\t      this.props.navigator.push({\n\t        id: 3,\n\t        component: ResourceView,\n\t        title: translate('termsAndConditions'),\n\t        backButtonTitle: translate('back'),\n\t        rightButtonTitle: translate('Accept'),\n\t        passProps: {\n\t          resource: termsAndConditions,\n\t          action: this.acceptTsAndCs.bind(this)\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'acceptTsAndCs',\n\t    value: function acceptTsAndCs() {\n\t      this.setState({ termsAccepted: true });\n\t      if (this.state.resource.firstName) this.onSavePressed();else this.props.navigator.pop();\n\t    }\n\t  }, {\n\t    key: 'cancelItem',\n\t    value: function cancelItem(pMeta, item) {\n\t      var list = this.state.resource[pMeta.name];\n\t      for (var i = 0; i < list.length; i++) {\n\t        if (equal(list[i], item)) {\n\t          list.splice(i, 1);\n\t          this.setState({\n\t            resource: this.state.resource,\n\t            itemsCount: list.length\n\t          });\n\t          return;\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'showItems',\n\t    value: function showItems(prop, model, event) {\n\t      var resource = this.state.resource;\n\t      var model = this.props.model || this.props.metadata;\n\t      if (!resource) {\n\t        resource = {};\n\t        resource[constants.TYPE] = model.id;\n\t      }\n\t\n\t      var currentRoutes = this.props.navigator.getCurrentRoutes();\n\t      this.props.navigator.push({\n\t        title: translate('tapToRemovePhotos'), //Tap to remove photos',\n\t        titleTintColor: 'red',\n\t        id: 19,\n\t        component: GridItemsList,\n\t        noLeftButton: true,\n\t        rightButtonTitle: translate('done'),\n\t        passProps: {\n\t          prop: prop.name,\n\t          resource: resource,\n\t          onAddItem: this.onAddItem.bind(this),\n\t          list: resource[prop.name],\n\t          returnRoute: currentRoutes[currentRoutes.length - 1],\n\t          callback: this.setChosenValue.bind(this)\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getItem',\n\t    value: function getItem(bl, styles) {\n\t      var _this5 = this;\n\t\n\t      var meta = this.props.model;\n\t      var resource = this.state.resource;\n\t      var blmodel = meta;\n\t      var counter,\n\t          count = 0;\n\t      var itemsArray = null;\n\t      var count = resource && resource[bl.name] ? resource[bl.name].length : 0;\n\t\n\t      if (count) {\n\t        var val = _react2.default.createElement(\n\t          _reactNative.View,\n\t          null,\n\t          this.renderItems(resource[bl.name], bl, this.cancelItem.bind(this))\n\t        );\n\t\n\t        var separator = _react2.default.createElement(_reactNative.View, { style: styles.separator });\n\t        var cstyle = count ? styles.activePropTitle : styles.noItemsText;\n\t        itemsArray = _react2.default.createElement(\n\t          _reactNative.View,\n\t          null,\n\t          _react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: cstyle },\n\t            translate(bl, blmodel)\n\t          ),\n\t          val\n\t        );\n\t\n\t        counter = _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: [styles.itemsCounterEmpty, { paddingBottom: 10, marginTop: 15 }] },\n\t          _react2.default.createElement(Icon, { name: bl.icon || 'md-add', size: bl.icon ? 25 : 20, color: LINK_COLOR })\n\t        );\n\t      } else {\n\t        itemsArray = _react2.default.createElement(\n\t          _reactNative.Text,\n\t          { style: count ? styles.itemsText : styles.noItemsText },\n\t          translate(bl, blmodel)\n\t        );\n\t        counter = _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: [styles.itemsCounterEmpty] },\n\t          bl.name === 'photos' ? _react2.default.createElement(Icon, { name: 'ios-camera-outline', size: 25, color: LINK_COLOR }) : _react2.default.createElement(Icon, { name: bl.icon || 'md-add', size: bl.icon ? 25 : 20, color: LINK_COLOR })\n\t        );\n\t      }\n\t      var title = translate(bl, blmodel); //.title || utils.makeLabel(p)\n\t      var err = this.state.missedRequiredOrErrorValue ? this.state.missedRequiredOrErrorValue[bl.name] : null;\n\t      var errTitle = translate('thisFieldIsRequired');\n\t      var error = err ? _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: styles.error },\n\t        _react2.default.createElement(\n\t          _reactNative.Text,\n\t          { style: styles.errorText },\n\t          errTitle\n\t        )\n\t      ) : _react2.default.createElement(_reactNative.View, null);\n\t\n\t      var aiStyle = [{ flex: 7 }, count ? { paddingTop: 0 } : { paddingTop: 15, paddingBottom: 7 }];\n\t      var actionableItem = bl.name === 'photos' ? _react2.default.createElement(\n\t        _ImageInput2.default,\n\t        { prop: bl, style: aiStyle, onImage: function onImage(item) {\n\t            return _this5.onAddItem(bl.name, item);\n\t          } },\n\t        itemsArray\n\t      ) : _react2.default.createElement(\n\t        _reactNative.TouchableHighlight,\n\t        { style: aiStyle, underlayColor: 'transparent',\n\t          onPress: this.onNewPressed.bind(this, bl, meta) },\n\t        itemsArray\n\t      );\n\t\n\t      var istyle = [styles.itemButton];\n\t      if (err) istyle.push({ marginBottom: 10 });else if (!count) istyle.push({ paddingBottom: 0, height: 70 });else {\n\t        var height = resource[bl.name].photo ? 55 : 45;\n\t        istyle.push({ paddingBottom: 0, height: count * height + 35 });\n\t      }\n\t\n\t      var acStyle = [{ flex: 1, position: 'absolute', right: 0 }, count || utils.isWeb() ? { paddingTop: 0 } : { marginTop: 15, paddingBottom: 7 }];\n\t      var actionableCounter = bl.name === 'photos' ? _react2.default.createElement(\n\t        _ImageInput2.default,\n\t        { prop: bl, style: acStyle, onImage: function onImage(item) {\n\t            return _this5.onAddItem(bl.name, item);\n\t          } },\n\t        counter\n\t      ) : _react2.default.createElement(\n\t        _reactNative.TouchableHighlight,\n\t        { underlayColor: 'transparent', style: acStyle,\n\t          onPress: this.onNewPressed.bind(this, bl, meta) },\n\t        counter\n\t      );\n\t\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { key: this.getNextKey() },\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: [istyle, { marginHorizontal: 10 }], ref: bl.name },\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: styles.items },\n\t            actionableItem,\n\t            actionableCounter\n\t          )\n\t        ),\n\t        error\n\t      );\n\t    }\n\t  }, {\n\t    key: 'getPhotoItem',\n\t    value: function getPhotoItem(bl, styles) {\n\t      var _this6 = this;\n\t\n\t      var meta = this.props.model;\n\t      var resource = this.state.resource;\n\t      var blmodel = meta;\n\t      var counter,\n\t          count = 0;\n\t      var itemsArray = null;\n\t      var count = resource && resource[bl.name] ? resource[bl.name].length : 0;\n\t      if (count) {\n\t        var items = [];\n\t        var arr = resource[bl.name];\n\t        var n = Math.min(arr.length, utils.isWeb() ? utils.dimensions().width - 100 / 40 : 7);\n\t        for (var i = 0; i < n; i++) {\n\t          items.push(_react2.default.createElement(_reactNative.Image, { resizeMode: 'cover', style: styles.thumb, source: { uri: arr[i].url }, key: this.getNextKey(), onPress: function onPress() {\n\t              _this6.openModal(arr[i]);\n\t            } }));\n\t        }\n\t        itemsArray = _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: [styles.photoStrip, count ? { marginTop: -25 } : { marginTop: 0 }] },\n\t          _react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: styles.activePropTitle },\n\t            translate(bl, blmodel)\n\t          ),\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: styles.photoStripItems },\n\t            items\n\t          )\n\t        );\n\t        counter = _react2.default.createElement(\n\t          _reactNative.View,\n\t          null,\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: { marginTop: 25, paddingHorizontal: 5 } },\n\t            _react2.default.createElement(Icon, { name: 'ios-camera-outline', size: 25, color: LINK_COLOR })\n\t          )\n\t        );\n\t      } else {\n\t        itemsArray = _react2.default.createElement(\n\t          _reactNative.Text,\n\t          { style: count ? styles.itemsText : styles.noItemsText },\n\t          translate(bl, blmodel)\n\t        );\n\t        counter = _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: [styles.itemsCounterEmpty] },\n\t          _react2.default.createElement(Icon, { name: 'ios-camera-outline', size: 25, color: LINK_COLOR })\n\t        );\n\t      }\n\t      var title = translate(bl, blmodel); //.title || utils.makeLabel(p)\n\t      var err = this.state.missedRequiredOrErrorValue ? this.state.missedRequiredOrErrorValue[bl.name] : null;\n\t      var errTitle = translate('thisFieldIsRequired');\n\t      var error = err ? _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: styles.error },\n\t        _react2.default.createElement(\n\t          _reactNative.Text,\n\t          { style: styles.errorText },\n\t          errTitle\n\t        )\n\t      ) : _react2.default.createElement(_reactNative.View, null);\n\t      var actionableItem = count ? _react2.default.createElement(\n\t        _reactNative.TouchableHighlight,\n\t        { style: { flex: 7, paddingTop: 15 }, underlayColor: 'transparent',\n\t          onPress: this.showItems.bind(this, bl, meta) },\n\t        itemsArray\n\t      ) : _react2.default.createElement(\n\t        _ImageInput2.default,\n\t        {\n\t          prop: bl,\n\t          style: [{ flex: 7 }, count ? { paddingTop: 0 } : { paddingTop: 15, paddingBottom: 7 }],\n\t          underlayColor: 'transparent',\n\t          onImage: function onImage(item) {\n\t            return _this6.onAddItem(bl.name, item);\n\t          } },\n\t        itemsArray\n\t      );\n\t\n\t      var istyle = count ? styles.photoButton : styles.itemButton;\n\t\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { key: this.getNextKey() },\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: [istyle, { marginHorizontal: 10 }], ref: bl.name },\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: styles.items },\n\t            actionableItem,\n\t            _react2.default.createElement(\n\t              _ImageInput2.default,\n\t              {\n\t                prop: bl,\n\t                underlayColor: 'transparent', style: [{ flex: 1, position: 'absolute', right: 0 }, count ? { marginTop: 15 } : { marginTop: 15, paddingBottom: 7 }],\n\t                onImage: function onImage(item) {\n\t                  return _this6.onAddItem(bl.name, item);\n\t                } },\n\t              counter\n\t            )\n\t          )\n\t        ),\n\t        error\n\t      );\n\t    }\n\t  }, {\n\t    key: 'onEndEditing',\n\t    value: function onEndEditing(prop, event) {\n\t      if (this.state.resource[prop] || event.nativeEvent.text.length) this.state.resource[prop] = event.nativeEvent.text;\n\t    }\n\t  }, {\n\t    key: 'onChange',\n\t    value: function onChange(value, properties) {\n\t      var _this7 = this;\n\t\n\t      if (!properties) return;\n\t      properties.forEach(function (p) {\n\t        _this7.state.resource[p] = value[p];\n\t      });\n\t    }\n\t  }, {\n\t    key: 'onSubmitEditing',\n\t    value: function onSubmitEditing(msg) {\n\t      msg = msg ? msg : this.state.userInput;\n\t      var assets = this.state.selectedAssets;\n\t      var isNoAssets = utils.isEmpty(assets);\n\t      if (!msg && isNoAssets) return;\n\t      var me = utils.getMe();\n\t      var resource = { from: utils.getMe(), to: this.props.resource.to };\n\t      var model = this.props.model;\n\t\n\t      var toName = utils.getDisplayName(resource.to, utils.getModel(resource.to[constants.TYPE]).value.properties);\n\t      var meta = utils.getModel(me[constants.TYPE]).value.properties;\n\t      var meName = utils.getDisplayName(me, meta);\n\t      var modelName = constants.TYPES.SIMPLE_MESSAGE;\n\t      var value = {\n\t        message: msg ? model.isInterface ? msg : '[' + msg + '](' + model.id + ')' : '',\n\t\n\t        from: {\n\t          id: utils.getId(me),\n\t          title: meName\n\t        },\n\t        to: {\n\t          id: utils.getId(resource),\n\t          title: toName\n\t        },\n\t\n\t        time: new Date().getTime()\n\t      };\n\t      value[constants.TYPE] = modelName;\n\t\n\t      if (!isNoAssets) {\n\t        var photos = [];\n\t        for (var assetUri in assets) {\n\t          photos.push({ url: assetUri, title: 'photo' });\n\t        }value.photos = photos;\n\t      }\n\t      this.setState({ userInput: '', selectedAssets: {} });\n\t      // setTimeout(function() {\n\t      //   this.setState({textValue: this.state.userInput, selectedAssets: {}});\n\t      //   this.refs.chat.focus();\n\t      // }.bind(this), 0);\n\t      Actions.addMessage(value); //, this.state.resource, utils.getModel(modelName).value);\n\t    }\n\t  }]);\n\t\n\t  return NewResource;\n\t}(_react.Component);\n\t\n\tNewResource.displayName = 'NewResource';\n\t\n\treactMixin(NewResource.prototype, Reflux.ListenerMixin);\n\treactMixin(NewResource.prototype, NewResourceMixin);\n\treactMixin(NewResource.prototype, ResourceMixin);\n\tNewResource = (0, _reactNativeOrient.makeResponsive)(NewResource);\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  container: {\n\t    flex: 1\n\t  },\n\t  noItemsText: {\n\t    fontSize: 18,\n\t    color: '#AAAAAA'\n\t  },\n\t  itemsText: {\n\t    fontSize: 18,\n\t    color: '#000000',\n\t    // alignSelf: 'center',\n\t    paddingLeft: 10\n\t  },\n\t  itemsCounterEmpty: {\n\t    paddingHorizontal: 5\n\t  },\n\t  itemsCounter: {\n\t    borderColor: '#2E3B4E',\n\t    borderRadius: 10,\n\t    borderWidth: 1,\n\t    alignSelf: 'center',\n\t    paddingHorizontal: 5\n\t  },\n\t  itemButton: {\n\t    height: 60,\n\t    marginLeft: 10,\n\t    // marginLeft: 10,\n\t    borderColor: '#ffffff',\n\t    borderBottomColor: '#cccccc',\n\t    borderBottomWidth: 1,\n\t    paddingBottom: 10,\n\t    justifyContent: 'flex-end'\n\t  },\n\t  photoButton: {\n\t    marginLeft: 10,\n\t    borderColor: '#ffffff',\n\t    borderBottomColor: '#cccccc',\n\t    borderBottomWidth: 1\n\t  },\n\t\n\t  photoBG: {\n\t    // marginTop: -15,\n\t    alignItems: 'center',\n\t    paddingBottom: 10\n\t  },\n\t  err: {\n\t    // paddingVertical: 10,\n\t    flexWrap: 'wrap',\n\t    paddingHorizontal: 25,\n\t    fontSize: 16,\n\t    color: 'darkred'\n\t  },\n\t  getStartedText: {\n\t    // color: '#f0f0f0',\n\t    color: '#eeeeee',\n\t    fontSize: 20,\n\t    fontWeight: '300',\n\t    alignSelf: 'center'\n\t  },\n\t  getStarted: {\n\t    backgroundColor: '#467EAE', //'#2892C6',\n\t    paddingVertical: 10,\n\t    marginHorizontal: 10,\n\t    // paddingHorizontal: 50,\n\t    alignSelf: 'stretch'\n\t  },\n\t  thumbButton: {\n\t    marginTop: 20,\n\t    alignSelf: 'stretch',\n\t    alignItems: 'center',\n\t    justifyContent: 'center'\n\t  },\n\t  thumb: {\n\t    width: 40,\n\t    height: 40,\n\t    marginRight: 2,\n\t    borderRadius: 5\n\t  },\n\t  error: {\n\t    // paddingLeft: 5,\n\t    // position: 'absolute',\n\t    // top: 70,\n\t    // marginBottom: -30,\n\t    marginTop: -10,\n\t    backgroundColor: 'transparent'\n\t  },\n\t  errorText: {\n\t    fontSize: 14,\n\t    marginLeft: 10,\n\t    color: '#a94442'\n\t  },\n\t  items: {\n\t    flexDirection: 'row',\n\t    justifyContent: 'space-between'\n\t  },\n\t  activePropTitle: {\n\t    fontSize: 12,\n\t    marginTop: 20,\n\t    paddingBottom: 5,\n\t    // marginBottom: 5,\n\t    color: '#bbbbbb'\n\t  },\n\t  photoStrip: {\n\t    // marginLeft: 10,\n\t    // marginTop: -30,\n\t    paddingBottom: 5\n\t  },\n\t  photoStripItems: {\n\t    flexDirection: 'row'\n\t  },\n\t  logo: {\n\t    opacity: 0.7,\n\t    alignSelf: 'flex-end'\n\t  }\n\t});\n\t\n\tmodule.exports = (0, _reactNativeOrient.makeResponsive)(NewResource);\n\t\n\tfunction readFile(file, cb) {\n\t  var reader = new FileReader();\n\t  reader.addEventListener('load', function () {\n\t    cb(null, reader.result);\n\t  }, false);\n\t\n\t  reader.addEventListener('error', cb);\n\t  reader.readAsDataURL(file);\n\t}\n\t\n\tfunction readImage(file, cb) {\n\t  readFile(file, function (err, dataUrl) {\n\t    var image = new window.Image();\n\t    image.addEventListener('error', function (err) {\n\t      if (!err) err = new Error('failed to load image');\n\t\n\t      cb(err);\n\t    });\n\t\n\t    image.addEventListener('load', function () {\n\t      cb(null, {\n\t        url: dataUrl,\n\t        width: image.width,\n\t        height: image.height\n\t      });\n\t    });\n\t\n\t    image.src = dataUrl;\n\t  });\n\t}\n\n/***/ },\n\n/***/ 1951:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _reactDom = __webpack_require__(361);\n\t\n\tvar _reactDom2 = _interopRequireDefault(_reactDom);\n\t\n\tvar _utils = __webpack_require__(935);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar FileInput = _reactNative.Platform.OS === 'web' && __webpack_require__(1952);\n\t\n\tvar imageInputPropTypes = _extends({}, _reactNative.TouchableHighlight.propTypes, {\n\t  prop: _react.PropTypes.string.isRequired,\n\t  onImage: _react.PropTypes.func.isRequired\n\t});\n\t\n\tvar ImageInput = function (_Component) {\n\t  _inherits(ImageInput, _Component);\n\t\n\t  function ImageInput(props) {\n\t    _classCallCheck(this, ImageInput);\n\t\n\t    var _this = _possibleConstructorReturn(this, (ImageInput.__proto__ || Object.getPrototypeOf(ImageInput)).call(this, props));\n\t\n\t    _this._onPress = _this._onPress.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(ImageInput, [{\n\t    key: '_onPress',\n\t    value: function _onPress() {\n\t      var _this2 = this;\n\t\n\t      if (this._pressing) return;\n\t\n\t      this._pressing = true;\n\t      setTimeout(function () {\n\t        return _this2._pressing = false;\n\t      }, 100);\n\t      this.showImagePicker();\n\t    }\n\t  }, {\n\t    key: 'showImagePicker',\n\t    value: function showImagePicker() {\n\t      var me = _reactDom2.default.findDOMNode(this);\n\t      var inputs = me.getElementsByTagName('input');\n\t      var fileInput = [].filter.call(inputs, function (i) {\n\t        return i.type === 'file';\n\t      })[0];\n\t      fileInput.click();\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var touchableProps = _extends({}, this.props);\n\t      delete touchableProps.prop;\n\t      delete touchableProps.onImage;\n\t\n\t      // allow override of onPress\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        null,\n\t        _react2.default.createElement(\n\t          _reactNative.TouchableHighlight,\n\t          _extends({\n\t            underlayColor: 'transparent'\n\t          }, touchableProps, {\n\t            onPress: this.props.onPress || this._onPress }),\n\t          this.props.children\n\t        ),\n\t        this.renderImageFileInput()\n\t      );\n\t    }\n\t  }, {\n\t    key: 'renderImageFileInput',\n\t    value: function renderImageFileInput() {\n\t      var _this3 = this;\n\t\n\t      var _props = this.props;\n\t      var prop = _props.prop;\n\t      var onImage = _props.onImage;\n\t\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: { width: 0, height: 0, opacity: 0 } },\n\t        _react2.default.createElement(FileInput, {\n\t          ref: function ref(_ref) {\n\t            return _this3._input = _ref;\n\t          },\n\t          name: prop.name,\n\t          placeholder: prop.title || prop.name,\n\t          onChange: function onChange(e) {\n\t            _utils2.default.readImage(e.target.files[0], function (err, item) {\n\t              if (err) return Alert.alert('Unable to process file', err.message);\n\t\n\t              onImage(_extends({}, item, {\n\t                isVertical: true\n\t              }));\n\t            });\n\t          } })\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return ImageInput;\n\t}(_react.Component);\n\t\n\tmodule.exports = ImageInput;\n\n/***/ },\n\n/***/ 1953:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _reactNativeOrient = __webpack_require__(944);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar BackgroundImage = function (_Component) {\n\t  _inherits(BackgroundImage, _Component);\n\t\n\t  function BackgroundImage() {\n\t    _classCallCheck(this, BackgroundImage);\n\t\n\t    return _possibleConstructorReturn(this, (BackgroundImage.__proto__ || Object.getPrototypeOf(BackgroundImage)).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(BackgroundImage, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      var props = this.props;\n\t\n\t      var _Dimensions$get = _reactNative.Dimensions.get('window');\n\t\n\t      var width = _Dimensions$get.width;\n\t      var height = _Dimensions$get.height;\n\t\n\t      return _react2.default.createElement(_reactNative.View, _extends({}, props, { style: [props.style, {\n\t          background: 'url(' + (props.source.uri || props.source) + ') no-repeat center center fixed',\n\t          backgroundSize: 'cover',\n\t          width: '100%',\n\t          height: '100%',\n\t          position: 'absolute',\n\t          top: 0,\n\t          left: 0\n\t        }] }));\n\t    }\n\t  }]);\n\t\n\t  return BackgroundImage;\n\t}(_react.Component);\n\t\n\tmodule.exports = (0, _reactNativeOrient.makeResponsive)(BackgroundImage);\n\n/***/ },\n\n/***/ 1954:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _platform = __webpack_require__(1674);\n\t\n\tvar _platform2 = _interopRequireDefault(_platform);\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar t = __webpack_require__(991);\n\tvar utils = __webpack_require__(935);\n\tvar translate = utils.translate;\n\tvar extend = __webpack_require__(1705);\n\t// var logError = require('logError');\n\t// var SelectPhotoList = require('./SelectPhotoList');\n\tvar myStyles = __webpack_require__(1955);\n\tvar constants = __webpack_require__(1348);\n\tvar NewResourceMixin = __webpack_require__(1956);\n\tvar reactMixin = __webpack_require__(1703);\n\t\n\t\n\tvar Form = t.form.Form;\n\tForm.stylesheet = myStyles;\n\t\n\tvar NewItem = function (_Component) {\n\t  _inherits(NewItem, _Component);\n\t\n\t  function NewItem(props) {\n\t    _classCallCheck(this, NewItem);\n\t\n\t    var _this = _possibleConstructorReturn(this, (NewItem.__proto__ || Object.getPrototypeOf(NewItem)).call(this, props));\n\t\n\t    _this.state = {\n\t      selectedAssets: {},\n\t      resource: _this.props.resource\n\t    };\n\t\n\t    // if (this.props.resource[this.props.metadata.name])\n\t    //   this.state.data = this.props.resource[this.props.metadata.name]\n\t\n\t    var currentRoutes = _this.props.navigator.getCurrentRoutes();\n\t    var currentRoutesLength = currentRoutes.length;\n\t    // currentRoutes[currentRoutesLength - 1].onRightButtonPress = {\n\t    //   stateChange: this.onSavePressed.bind(this)\n\t    // };\n\t    currentRoutes[currentRoutesLength - 1].onRightButtonPress = _this.onSavePressed.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(NewItem, [{\n\t    key: 'onSavePressed',\n\t    value: function onSavePressed() {\n\t      if (this.state.submitted) return;\n\t      this.state.submitted = true;\n\t      var value = this.refs.form.getValue();\n\t      if (!value) value = this.refs.form.refs.input.state.value;\n\t      if (!value) {\n\t        value = this.state.data;\n\t        if (!value) value = {};\n\t      }\n\t\n\t      if (this.floatingProps) {\n\t        for (var p in this.floatingProps) {\n\t          value[p] = this.floatingProps[p];\n\t        }\n\t      }\n\t      var propName = this.props.metadata.name;\n\t      var resource = this.props.resource;\n\t      // value is a tcomb Struct\n\t      var item = utils.clone(value);\n\t      var missedRequiredOrErrorValue = this.checkRequired(this.props.metadata, item, resource);\n\t      if (!utils.isEmpty(missedRequiredOrErrorValue)) {\n\t        this.state.submitted = false;\n\t        var state = {\n\t          missedRequiredOrErrorValue: missedRequiredOrErrorValue\n\t        };\n\t        this.setState(state);\n\t        return;\n\t      }\n\t\n\t      if (this.props.metadata.items) {\n\t        // HACK ref props of array type props reside on resource for now\n\t        var props = this.props.metadata.items.properties;\n\t        if (props) {\n\t          var rProps = utils.getModel(resource[constants.TYPE]).value.properties;\n\t          for (var p in props) {\n\t            if (p === propName) continue;\n\t            if (props[p].ref && resource[p] && !rProps[p]) {\n\t              item[p] = resource[p];\n\t              delete resource[p];\n\t            }\n\t          }\n\t        }\n\t      }\n\t\n\t      if (!this.validateValues(this.props.metadata, item)) {\n\t        this.state.submitted = false;\n\t        return;\n\t      }\n\t\n\t      // if (this.props.metadata.items.backlink)\n\t      //   item[this.props.metadata.items.backlink] = this.props.resource[constants.TYPE] + '_' + this.props.resource[constants.ROOT_HASH];\n\t\n\t      if (utils.isEmpty(this.state.selectedAssets)) this.props.onAddItem(propName, item);else {\n\t        for (var assetUri in this.state.selectedAssets) {\n\t          var newItem = {};\n\t          extend(newItem, item);\n\t          newItem = { url: assetUri, title: 'photo' };\n\t          this.props.onAddItem(propName, newItem);\n\t        }\n\t      }\n\t      this.props.navigator.pop();\n\t    }\n\t  }, {\n\t    key: 'checkRequired',\n\t    value: function checkRequired(metadata, json, resource) {\n\t      var _this2 = this;\n\t\n\t      var required = metadata.required;\n\t      if (!required) {\n\t        required = [];\n\t        for (var p in metadata.items.properties) {\n\t          if (p.charAt(0) !== '_') required.push(p);\n\t        }\n\t      }\n\t      var missedRequiredOrErrorValue = {};\n\t      required.forEach(function (p) {\n\t        var v = json[p] ? json[p] : _this2.props.resource ? _this2.props.resource[p] : null; //resource[p];\n\t        if (v) {\n\t          if (typeof v === 'string' && !v.length) {\n\t            v = null;\n\t            delete json[p];\n\t          } else if ((typeof v === 'undefined' ? 'undefined' : _typeof(v)) === 'object' && metadata.items.properties[p].ref == constants.TYPES.MONEY) {\n\t            var units = metadata.items.properties[p].units;\n\t            if (units) v = v.value;else {\n\t              if (v.value === '') v = null;\n\t              delete json[p];\n\t            }\n\t          }\n\t        }\n\t        var isDate = Object.prototype.toString.call(v) === '[object Date]';\n\t        if (!v || isDate && isNaN(v.getTime())) {\n\t          var prop = metadata;\n\t          if (prop.items && prop.items.backlink) return;\n\t          if (prop.ref || isDate || prop.items) {\n\t            if (resource && resource[p]) return;\n\t            missedRequiredOrErrorValue[p] = missedRequiredOrErrorValue[p] = translate('thisFieldIsRequired'); //'This field is required'\n\t          } else if (!prop.displayAs) missedRequiredOrErrorValue[p] = missedRequiredOrErrorValue[p] = translate('thisFieldIsRequired'); //'This field is required'\n\t        }\n\t      });\n\t      return missedRequiredOrErrorValue;\n\t    }\n\t  }, {\n\t    key: 'validateValues',\n\t    value: function validateValues(prop, item) {\n\t      var _this3 = this;\n\t\n\t      var required = prop.required;\n\t      var hasError;\n\t      this.state.options = {\n\t        fields: {}\n\t      };\n\t      if (required) {\n\t        required.forEach(function (p) {\n\t          if (!item[p] && prop.name == 'photos') {\n\t            if (!utils.isEmpty(_this3.state.selectedAssets)) return;\n\t            hasError = true;\n\t            _this3.setState({ err: 'Select the photo please' });\n\t          }\n\t        });\n\t      }\n\t      if (!hasError) this.state.options = null;\n\t      return !hasError;\n\t    }\n\t  }, {\n\t    key: 'addItem',\n\t    value: function addItem() {\n\t      var propName = this.props.metadata.name;\n\t      var json = utils.clone(value);\n\t      this.props.onAddItem(propName, json);\n\t      return true;\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var props = this.props;\n\t      var err = props.err || this.state.err || '';\n\t      var errStyle = err ? styles.err : { 'padding': 0, 'height': 0 };\n\t      var error = err ? _react2.default.createElement(\n\t        _reactNative.Text,\n\t        { style: errStyle },\n\t        err\n\t      ) : _react2.default.createElement(_reactNative.View, null);\n\t\n\t      var meta = props.metadata;\n\t      var model = {};\n\t      var params = {\n\t        meta: meta,\n\t        model: model,\n\t        // chooser: this.props.chooser.bind(this),\n\t        // template: this.props.template.bind(this),\n\t        onSubmitEditing: this.onSavePressed.bind(this),\n\t        component: NewItem\n\t      };\n\t      if (this.state.data) params.data = this.state.data[0];\n\t\n\t      var options = this.getFormFields(params);\n\t      options.auto = 'placeholders';\n\t      var Model = t.struct(model);\n\t      if (this.state.options) {\n\t        for (var fieldName in this.state.options.fields) {\n\t          var fields = this.state.options.fields[fieldName];\n\t          for (var f in fields) {\n\t            options.fields[fieldName][f] = fields[f];\n\t          }\n\t        }\n\t      }\n\t\n\t      // <SelectPhotoList style={{marginTop: -40}}\n\t      //   metadata={this.props.metadata}\n\t      //   navigator={this.props.navigator}\n\t      //   onSelect={this.onSelect.bind(this)} />\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: _platform2.default.container },\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: { marginLeft: 10, marginRight: 20, marginBottom: 15 } },\n\t          _react2.default.createElement(Form, { ref: 'form', type: Model, options: options })\n\t        ),\n\t        error\n\t      );\n\t    }\n\t  }, {\n\t    key: 'onSelect',\n\t    value: function onSelect(asset) {\n\t      var selectedAssets = this.state.selectedAssets;\n\t      // unselect if was selected before\n\t      if (selectedAssets[asset.node.image.uri]) delete selectedAssets[asset.node.image.uri];else selectedAssets[asset.node.image.uri] = asset;\n\t    }\n\t  }]);\n\t\n\t  return NewItem;\n\t}(_react.Component);\n\t\n\tNewItem.displayName = 'NewItem';\n\t\n\treactMixin(NewItem.prototype, NewResourceMixin);\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  imageContainer: {\n\t    flex: 1\n\t  },\n\t  row: {\n\t    flexDirection: 'row',\n\t    flex: 1,\n\t    alignSelf: 'center'\n\t  },\n\t  buttons: {\n\t    flex: 1,\n\t    flexDirection: 'row'\n\t  },\n\t  buttonText: {\n\t    fontSize: 16,\n\t    color: 'white',\n\t    alignSelf: 'center'\n\t  },\n\t  button: {\n\t    height: 36,\n\t    width: 100,\n\t    flex: 1,\n\t    backgroundColor: '#ffffff',\n\t    borderColor: '#6093ae',\n\t    borderWidth: 1,\n\t    borderRadius: 8,\n\t    marginBottom: 10,\n\t    justifyContent: 'center',\n\t    alignSelf: 'center'\n\t  },\n\t  err: {\n\t    paddingVertical: 10,\n\t    fontSize: 20,\n\t    color: 'darkred'\n\t  }\n\t\n\t});\n\tmodule.exports = NewItem;\n\t\n\t// tryiing to add custom validation of typed props e.g email\n\t// if (propName == 'contact'  &&  value.type === 'email') {\n\t//    var validated = /(.)+@(.)+/.test(value);\n\t//   if (!validate) {\n\t//      this.setState({\n\t//         options: {\n\t//           fields: {\n\t//             identifier: {\n\t//               hasError: true,\n\t//               error: 'Invalid email'\n\t//             }\n\t//           }\n\t//         }\n\t//     });\n\t//     return;\n\t//   }\n\t\n\t// }\n\n/***/ },\n\n/***/ 1955:\n/***/ function(module, exports) {\n\n\t/*\n\t\n\t  a bootstrap like style\n\t\n\t*/\n\t'use strict';\n\t\n\tvar LABEL_COLOR = '#cccccc';\n\tvar INPUT_COLOR = '#000000';\n\tvar ERROR_COLOR = '#a94442';\n\tvar HELP_COLOR = '#999999';\n\tvar BORDER_COLOR = '#bbbbbb';\n\tvar DISABLED_COLOR = '#777777';\n\tvar DISABLED_BACKGROUND_COLOR = '#eeeeee';\n\tvar FONT_SIZE = 20;\n\tvar HELP_FONT_SIZE = 14;\n\tvar LABEL_FONT_SIZE = 11;\n\t\n\tvar FONT_WEIGHT = '400';\n\t\n\tvar stylesheet = Object.freeze({\n\t  fieldset: {},\n\t  // the style applied to the container of all inputs\n\t  formGroup: {\n\t    normal: {\n\t      marginBottom: 10\n\t    },\n\t    error: {\n\t      marginBottom: 10\n\t    }\n\t  },\n\t  controlLabel: {\n\t    normal: {\n\t      color: LABEL_COLOR,\n\t      fontSize: LABEL_FONT_SIZE,\n\t      marginBottom: 3,\n\t      paddingLeft: 15,\n\t      fontWeight: FONT_WEIGHT\n\t    },\n\t    // the style applied when a validation error occours\n\t    error: {\n\t      color: ERROR_COLOR,\n\t      fontSize: LABEL_FONT_SIZE,\n\t      marginBottom: 7,\n\t      fontWeight: FONT_WEIGHT\n\t    }\n\t  },\n\t  helpBlock: {\n\t    normal: {\n\t      color: HELP_COLOR,\n\t      fontSize: HELP_FONT_SIZE,\n\t      // marginLeft: 10,\n\t      marginTop: 5\n\t    },\n\t    // the style applied when a validation error occours\n\t    error: {\n\t      color: HELP_COLOR,\n\t      fontSize: HELP_FONT_SIZE,\n\t      // marginLeft: 10,\n\t      marginBottom: 2\n\t    }\n\t  },\n\t  errorBlock: {\n\t    fontSize: FONT_SIZE,\n\t    marginBottom: 2,\n\t    color: ERROR_COLOR\n\t  },\n\t  textbox: {\n\t    normal: {\n\t      color: INPUT_COLOR,\n\t      fontSize: FONT_SIZE,\n\t      // fontFamily: 'Helvetica Light',\n\t      height: 46,\n\t      padding: 7,\n\t      borderRadius: 4,\n\t      // textDecorationLine: 'underline',\n\t      // textDecorationStyle: 'solid',\n\t      // textDecorationColor: '#aaaaaa',\n\t      // lineHeight: 5,\n\t      borderColor: BORDER_COLOR,\n\t      borderBottomColor: BORDER_COLOR,\n\t      borderTopColor: '#ffffff',\n\t      borderLeftColor: '#ffffff',\n\t      borderRightColor: '#ffffff',\n\t      borderWidth: 0.5,\n\t      marginBottom: 0\n\t    },\n\t    // the style applied when a validation error occours\n\t    error: {\n\t      color: INPUT_COLOR,\n\t      fontSize: FONT_SIZE,\n\t      height: 36,\n\t      padding: 7,\n\t      borderRadius: 4,\n\t      borderColor: ERROR_COLOR,\n\t      borderWidth: 1,\n\t      marginBottom: 5\n\t    },\n\t    // the style applied when the textbox is not editable\n\t    notEditable: {\n\t      fontSize: FONT_SIZE,\n\t      height: 36,\n\t      padding: 7,\n\t      borderRadius: 4,\n\t      borderColor: BORDER_COLOR,\n\t      borderWidth: 1,\n\t      marginBottom: 5,\n\t      color: DISABLED_COLOR,\n\t      backgroundColor: DISABLED_BACKGROUND_COLOR\n\t    }\n\t  },\n\t  checkbox: {\n\t    normal: {\n\t      color: INPUT_COLOR,\n\t      marginBottom: 4\n\t    },\n\t    // the style applied when a validation error occours\n\t    error: {\n\t      color: INPUT_COLOR,\n\t      marginBottom: 4\n\t    }\n\t  },\n\t  select: {\n\t    normal: {\n\t      marginBottom: 4\n\t    },\n\t    // the style applied when a validation error occours\n\t    error: {\n\t      marginBottom: 4\n\t    }\n\t  },\n\t  datepicker: {\n\t    normal: {\n\t      marginBottom: 4,\n\t      marginLeft: 15\n\t    },\n\t    // the style applied when a validation error occours\n\t    error: {\n\t      marginBottom: 4,\n\t      marginLeft: 15\n\t    }\n\t  }\n\t});\n\t\n\tmodule.exports = stylesheet;\n\n/***/ },\n\n/***/ 1956:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _reactNativeDatepicker = __webpack_require__(1957);\n\t\n\tvar _reactNativeDatepicker2 = _interopRequireDefault(_reactNativeDatepicker);\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\tvar React = __webpack_require__(320);\n\tvar dateformat = __webpack_require__(1061);\n\tvar ResourceList = __webpack_require__(1685);\n\tvar EnumList = __webpack_require__(2068);\n\tvar FloatLabel = __webpack_require__(2070);\n\tvar Icon = __webpack_require__(1541);\n\tvar utils = __webpack_require__(935);\n\tvar CameraView = __webpack_require__(2071);\n\tvar translate = utils.translate;\n\tvar moment = __webpack_require__(1959);\n\t\n\tvar constants = __webpack_require__(1348);\n\tvar t = __webpack_require__(991);\n\tvar Actions = __webpack_require__(1517);\n\tvar extend = __webpack_require__(1705);\n\tvar DEFAULT_CURRENCY_SYMBOL = '£';\n\tvar CURRENCY_SYMBOL;\n\tvar ENUM = 'tradle.Enum';\n\tvar SETTINGS = 'tradle.Settings';\n\tvar YEAR = 3600 * 1000 * 24 * 365;\n\tvar DAY = 3600 * 1000 * 24;\n\tvar HOUR = 3600 * 1000;\n\tvar MINUTE = 60 * 1000;\n\t\n\tvar cnt = 0;\n\tvar propTypesMap = {\n\t  'string': t.Str,\n\t  'boolean': t.Bool,\n\t  'date': t.Dat,\n\t  'number': t.Num\n\t};\n\t\n\t\n\tvar LINK_COLOR,\n\t    DEFAULT_LINK_COLOR = '#a94442';\n\t// import transform from 'tcomb-json-schema'\n\tvar component;\n\t\n\tvar NewResourceMixin = {\n\t  onScroll: function onScroll(e) {\n\t    this._contentOffset = _extends({}, e.nativeEvent.contentOffset);\n\t  },\n\t  getScrollOffset: function getScrollOffset() {\n\t    return _extends({}, this._contentOffset);\n\t  },\n\t  getFormFields: function getFormFields(params) {\n\t    CURRENCY_SYMBOL = this.props.currency ? this.props.currency.symbol || this.props.currency : DEFAULT_CURRENCY_SYMBOL;\n\t    component = params.component;\n\t\n\t    if (this.props.bankStyle) LINK_COLOR = this.props.bankStyle.LINK_COLOR || DEFAULT_LINK_COLOR;else LINK_COLOR = DEFAULT_LINK_COLOR;\n\t\n\t    var meta = this.props.model || this.props.metadata;\n\t    var model = params.model; // For the form\n\t    var isMessage = meta.interfaces;\n\t    var onSubmitEditing = isMessage ? this.onSubmitEditing || params.onSubmitEditing : this.onSavePressed;\n\t    var onEndEditing = this.onEndEditing || params.onEndEditing;\n\t    var chooser = this.chooser || this.props.chooser;\n\t    var models = utils.getModels();\n\t    var data = params.data;\n\t    var options = {};\n\t    options.fields = {};\n\t\n\t    var props, bl;\n\t    if (!meta.items) props = meta.properties;else {\n\t      bl = meta.items.backlink;\n\t      if (!meta.items.ref) props = meta.items.properties;else props = utils.getModel(meta.items.ref).value.properties;\n\t    }\n\t\n\t    var dModel = data && models[data[constants.TYPE]];\n\t    if (!utils.isEmpty(data)) {\n\t      if (!meta.items && data[constants.TYPE] !== meta.id) {\n\t        var interfaces = meta.interfaces;\n\t        if (!interfaces || interfaces.indexOf(data[constants.TYPE]) == -1) return;\n\t\n\t        data[constants.TYPE] = meta.id;\n\t        for (var _p in data) {\n\t          if (_p == constants.TYPE) continue;\n\t          if (props[_p]) continue;\n\t        }\n\t      }\n\t    }\n\t\n\t    var editCols;\n\t    if (this.props.editCols) {\n\t      editCols = {};\n\t      this.props.editCols.forEach(function (r) {\n\t        editCols[r] = props[r];\n\t      });\n\t    } else if (meta.editCols) {\n\t      utils.arrayToObject(meta.editCols);\n\t      editCols = {};\n\t      meta.editCols.forEach(function (p) {\n\t        var idx = p.indexOf('_group');\n\t        if (idx === -1 || !props[p].list || props[p].title.toLowerCase() !== p) editCols[p] = props[p];\n\t\n\t        if (idx !== -1 && props[p].list) props[p].list.forEach(function (p) {\n\t          return editCols[p] = props[p];\n\t        });\n\t      });\n\t    }\n\t\n\t    var eCols;\n\t    if (editCols) eCols = editCols;else if (!meta.viewCols) eCols = props;else {\n\t      eCols = {};\n\t      meta.viewCols.forEach(function (p) {\n\t        eCols[p] = props[p];\n\t      });\n\t      for (var _p2 in props) {\n\t        if (!eCols[_p2] && !props[_p2].readOnly && !props[_p2].hidden) eCols[_p2] = props[_p2];\n\t      }\n\t    }\n\t\n\t    var required = utils.arrayToObject(meta.required);\n\t\n\t    // var TcombType = transform({\n\t    //   \"type\": \"string\",\n\t    //   \"enum\": [\"Street\", \"Avenue\", \"Boulevard\"]\n\t    // });\n\t\n\t    // model['test'] = TcombType\n\t    // options.fields['test'] = {\n\t    //   placeholder: 'Test'\n\t    // }\n\t    // var d = data ? data[i] : null;\n\t    for (var p in eCols) {\n\t      if (p === constants.TYPE || p === bl || props[p].items && props[p].items.backlink) continue;\n\t\n\t      if (meta && meta.hidden && meta.hidden.indexOf(p) !== -1) continue;\n\t\n\t      var maybe = required && !required.hasOwnProperty(p);\n\t\n\t      var type = props[p].type;\n\t      var formType = propTypesMap[type];\n\t      // Don't show readOnly property in edit mode if not set\n\t      var isReadOnly = props[p].readOnly;\n\t      if (isReadOnly) //  &&  (type === 'date'  ||  !data  ||  !data[p]))\n\t        continue;\n\t\n\t      var label = translate(props[p], meta); //props[p].title;\n\t      if (!label) label = utils.makeLabel(p);\n\t      var errMessage = this.props.errs && this.props.errs[p] ? this.props.errs[p] : translate('thisFieldIsRequired');\n\t      options.fields[p] = {\n\t        error: errMessage, //'This field is required',\n\t        bufferDelay: 20 };\n\t      var isRange;\n\t      if (props[p].units) {\n\t        if (props[p].units.charAt(0) === '[') {\n\t          options.fields[p].placeholder = label + ' ' + props[p].units;\n\t          // isRange = type === 'number'  &&  props[p].units == '[min - max]'\n\t          // if (isRange) {\n\t          //   formType = t.Str\n\t          //   var Range = t.refinement(t.Str, function (n) {\n\t          //     var s = s.split(' - ')\n\t          //     if (s.length < 2  ||  s > 3)\n\t          //       return false\n\t\n\t          //     if (!s[0].match(/\\d{1,2}[\\,.]{1}\\d{1,2}/)  ||  !s[1].match(/\\d{1,2}[\\,.]{1}\\d{1,2}/))\n\t          //       return false\n\t          //     return true\n\t          //   });\n\t          //   model[p] = maybe ? t.maybe(Range) : Range;\n\t\n\t          // }\n\t        } else options.fields[p].placeholder = label + ' (' + props[p].units + ')';\n\t      }\n\t      // HACK for registration screen\n\t      // if (this.state.isRegistration  &&  params.editCols.length === 1)\n\t      //   options.fields[p].placeholder = translate('enterYourName')\n\t\n\t      if (props[p].description) options.fields[p].help = props[p].description;\n\t      if (props[p].readOnly || props[p].immutable && data && data[p]) options.fields[p] = { 'editable': false };\n\t      // if (formType  &&   (formType === t.Num  ||  formType === t.Str))\n\t      //   formType = null\n\t\n\t      if (formType) {\n\t        if (props[p].keyboard) options.fields[p].keyboardType = props[p].keyboard;\n\t\n\t        // if (this.onChange)\n\t        //   options.fields[p].onChange = this.onChange.bind(this);\n\t        model[p] = !model[p] && (maybe ? t.maybe(formType) : formType);\n\t        if (data && type == 'date') {\n\t          model[p] = t.Str;\n\t          options.fields[p].template = this.myDateTemplate.bind(this, {\n\t            label: label,\n\t            prop: props[p],\n\t            model: meta,\n\t            value: data[p] ? new Date(data[p]) : data[p]\n\t          });\n\t          // if (!this.state.modal || typeof this.state.modal[p] === 'undefined')\n\t          //   this.state.modal[p] = false\n\t\n\t          if (data[p]) data[p] = new Date(data[p]);\n\t          options.fields[p].mode = 'date';\n\t          options.fields[p].auto = 'labels';\n\t          options.fields[p].label = label;\n\t          options.fields[p].onDateChange = this.onDateChange;\n\t        } else if (type === 'boolean') {\n\t          // HACK for old values\n\t          var v = data && data[p];\n\t          if (v) {\n\t            if (typeof v !== 'boolean') v = v.title === 'No' ? false : true;\n\t          }\n\t\n\t          options.fields[p].template = this.myBooleanTemplate.bind(this, {\n\t            label: label,\n\t            prop: props[p],\n\t            model: meta,\n\t            value: v,\n\t            required: !maybe,\n\t            errors: params.errors\n\t          });\n\t\n\t          options.fields[p].onSubmitEditing = onSubmitEditing.bind(this);\n\t          if (onEndEditing) options.fields[p].onEndEditing = onEndEditing.bind(this, p);\n\t          if (props[p].maxLength) options.fields[p].maxLength = props[p].maxLength;\n\t          if (type === 'number') {\n\t            if (!props[p].keyboard) options.fields[p].keyboardType = 'numeric';\n\t            if (data && data[p] && typeof data[p] != 'number') data[p] = parseFloat(data[p]);\n\t          }\n\t        } else if (type === 'string') {\n\t          if (props[p].maxLength > 100) options.fields[p].multiline = true;\n\t          options.fields[p].autoCorrect = false;\n\t          if (props[p].oneOf) {\n\t            model[p] = t.enums(props[p].oneOf);\n\t            options.fields[p].auto = 'labels';\n\t          }\n\t        }\n\t        if (type === 'string' && p.length > 7 && p.indexOf('_group') === p.length - 6) {\n\t          options.fields[p].template = this.myTextTemplate.bind(this, {\n\t            label: label,\n\t            prop: props[p],\n\t            model: meta\n\t          });\n\t        } else if (!options.fields[p].multiline && (type === 'string' || type === 'number')) {\n\t          options.fields[p].template = this.myTextInputTemplate.bind(this, {\n\t            label: label,\n\t            prop: props[p],\n\t            model: meta,\n\t            value: data && data[p] ? data[p] + '' : null,\n\t            required: !maybe,\n\t            errors: params.errors,\n\t            keyboard: props[p].keyboard || (type === 'number' ? 'numeric' : 'default')\n\t          });\n\t\n\t          options.fields[p].onSubmitEditing = onSubmitEditing.bind(this);\n\t          if (onEndEditing) options.fields[p].onEndEditing = onEndEditing.bind(this, p);\n\t          if (props[p].maxLength) options.fields[p].maxLength = props[p].maxLength;\n\t          if (type === 'number') {\n\t            if (!props[p].keyboard) options.fields[p].keyboardType = 'numeric';\n\t            if (data && data[p] && typeof data[p] != 'number') data[p] = parseFloat(data[p]);\n\t          }\n\t        }\n\t      } else if (props[p].oneOf) {\n\t        model[p] = t.enums(props[p].oneOf);\n\t        options.fields[p].auto = 'labels';\n\t      } else if (type == 'enum') {\n\t        var facet = props[p].facet;\n\t        var values = models.filter(function (mod) {\n\t          return mod.type === facet ? mod.values : null;\n\t        });\n\t        if (values && values.length) {\n\t          var enumValues = {};\n\t          values[0].values.forEach(function (val) {\n\t            enumValues[val.label] = val.displayName;\n\t          });\n\t          // options.fields[p].factory = t.form.radio;\n\t          model[p] = t.enums(enumValues);\n\t        }\n\t        options.fields[p].auto = 'labels';\n\t      } else {\n\t        var ref = props[p].ref;\n\t        if (!ref) {\n\t          if (type === 'number' || type === 'string') ref = constants.TYPES.MONEY;else continue;\n\t        }\n\t        if (ref === constants.TYPES.MONEY) {\n\t          model[p] = maybe ? t.maybe(t.Num) : t.Num;\n\t          // if (data[p]  &&  (typeof data[p] != 'number'))\n\t          //   data[p] = data[p].value\n\t          var units = props[p].units;\n\t          // options.fields[p].onFocus = chooser.bind(this, props[p], p)\n\t          var value = data[p];\n\t          if (value) {\n\t            if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) !== 'object') {\n\t              value = {\n\t                value: value,\n\t                currency: CURRENCY_SYMBOL\n\t              };\n\t            } else if (!value.currency) value.currency = CURRENCY_SYMBOL;\n\t          } else {\n\t            value = {\n\t              currency: CURRENCY_SYMBOL\n\t            };\n\t          }\n\t          options.fields[p].template = this.myMoneyInputTemplate.bind(this, {\n\t            label: label,\n\t            prop: props[p],\n\t            value: value,\n\t            model: meta,\n\t            keyboard: 'numeric',\n\t            required: !maybe,\n\t            errors: params.errors\n\t          });\n\t\n\t          // options.fields[p].template = textTemplate.bind(this, {\n\t          //           label: label,\n\t          //           prop:  props[p],\n\t          //           value: data[p] ? data[p] + '' : null,\n\t          //           keyboard: units  &&  units.charAt(0) === '[' ? 'numbers-and-punctuation' : 'numeric',\n\t          //           required: !maybe,\n\t          //         })\n\t\n\t          // options.fields[p].template = moneyTemplate.bind({}, props[p])\n\t\n\t          options.fields[p].onSubmitEditing = onSubmitEditing.bind(this);\n\t          options.fields[p].onEndEditing = onEndEditing.bind(this, p);\n\t          continue;\n\t        }\n\t        model[p] = maybe ? t.maybe(t.Str) : t.Str;\n\t\n\t        var subModel = models[ref];\n\t        if (data && data[p]) {\n\t          options.fields[p].value = data[p][constants.TYPE] ? utils.getId(data[p]) : data[p].id;\n\t          data[p] = utils.getDisplayName(data[p], subModel.value.properties) || data[p].title;\n\t        }\n\t\n\t        options.fields[p].onFocus = chooser.bind(this, props[p], p);\n\t        options.fields[p].template = this.myCustomTemplate.bind(this, {\n\t          label: label,\n\t          prop: p,\n\t          required: !maybe,\n\t          errors: params.errors,\n\t          chooser: options.fields[p].onFocus\n\t        });\n\t\n\t        options.fields[p].nullOption = { value: '', label: 'Choose your ' + utils.makeLabel(p) };\n\t      }\n\t    }\n\t    /* Setting default server url on registration\n\t    if (this.state.isRegistration) {\n\t      model.url = t.maybe(t.Str)\n\t      var label = 'Server url'\n\t      options.fields.url = {\n\t        error: 'This field is required',\n\t        bufferDelay: 20, // to eliminate missed keystrokes\n\t        autoCorrect: false\n\t      }\n\t      if (onSubmitEditing)\n\t        options.fields.url.onSubmitEditing = onSubmitEditing.bind(this);\n\t      if (onEndEditing)\n\t        options.fields.url.onEndEditing = onEndEditing.bind(this, 'url')\n\t      options.fields.url.template = textTemplate.bind(this, {\n\t                label: label,\n\t                prop:  utils.getModel(SETTINGS).value.properties.url,\n\t                value: this.state.resource.url,\n\t                required: false,\n\t                keyboard: 'url'\n\t              })\n\t    }\n\t    */\n\t    // var order = []\n\t    // for (var p in model)\n\t    //   order.push(p)\n\t\n\t    // HACK for video\n\t    if (eCols.video) {\n\t      var maybe = required && !required.hasOwnProperty('video');\n\t\n\t      model.video = maybe ? t.maybe(t.Str) : t.Str;\n\t\n\t      options.fields.video.template = this.myCustomTemplate.bind(this, {\n\t        label: translate(props.video, meta),\n\t        prop: 'video',\n\t        errors: params.errors,\n\t        required: !maybe\n\t      });\n\t    }\n\t\n\t    return options;\n\t  },\n\t  getNextKey: function getNextKey() {\n\t    return (this.props.model || this.props.metadata).id + '_' + cnt++;\n\t  },\n\t  onChangeText: function onChangeText(prop, value) {\n\t    var r = {};\n\t    extend(true, r, this.state.resource);\n\t    if (prop.type === 'number') {\n\t      var val = Number(value);\n\t      if (value.charAt(value.length - 1) === '.') value = val + .00;else value = val;\n\t    }\n\t    if (!this.floatingProps) this.floatingProps = {};\n\t    if (prop.ref == constants.TYPES.MONEY) {\n\t      if (!this.floatingProps[prop.name]) this.floatingProps[prop.name] = {};\n\t      this.floatingProps[prop.name].value = value;\n\t      if (!r[prop.name]) r[prop.name] = {};\n\t      r[prop.name].value = value;\n\t    } else {\n\t      r[prop.name] = value;\n\t      this.floatingProps[prop.name] = value;\n\t    }\n\t    if (this.state.missedRequiredOrErrorValue) delete this.state.missedRequiredOrErrorValue[prop.name];\n\t    this.setState({ resource: r });\n\t    if (r[constants.TYPE] !== SETTINGS) Actions.saveTemporary(r);\n\t  },\n\t  onChangeTextValue: function onChangeTextValue(prop, value, event) {\n\t    console.log(arguments);\n\t    this.state.resource[prop.name] = value;\n\t    // this.setState({resource: this.state.resource})\n\t    if (!this.floatingProps) this.floatingProps = {};\n\t    this.floatingProps[prop.name] = value;\n\t    // prop.type === 'object' && prop.ref === constants.TYPES.MONEY\n\t    //                                     ? {value: value}\n\t    //                                     : value\n\t    var r = {};\n\t    extend(r, this.state.resource);\n\t    for (var p in this.floatingProps) {\n\t      r[p] = this.floatingProps[p];\n\t    }Actions.saveTemporary(r);\n\t  },\n\t  showCamera: function showCamera(params) {\n\t    var self = this;\n\t    this.props.navigator.push({\n\t      title: 'Take a pic',\n\t      backButtonTitle: 'Cancel',\n\t      id: 12,\n\t      component: CameraView,\n\t      sceneConfig: _reactNative.Navigator.SceneConfigs.FloatFromBottom,\n\t      passProps: {\n\t        onTakePic: this.onTakePic.bind(this, params)\n\t      }\n\t    });\n\t  },\n\t  onTakePic: function onTakePic(params, data) {\n\t    if (!data) return;\n\t    this.props.resource.video = data;\n\t    if (!this.floatingProps) this.floatingProps = {};\n\t\n\t    this.floatingProps.video = data;\n\t    this.props.navigator.pop();\n\t  },\n\t  myTextTemplate: function myTextTemplate(params) {\n\t    var label = translate(params.prop, params.model);\n\t\n\t    return React.createElement(\n\t      _reactNative.View,\n\t      { style: [styles.divider, { backgroundColor: LINK_COLOR }] },\n\t      React.createElement(\n\t        _reactNative.Text,\n\t        { style: styles.dividerText },\n\t        label\n\t      )\n\t    );\n\t  },\n\t  myTextInputTemplate: function myTextInputTemplate(params) {\n\t    var label = translate(params.prop, params.model);\n\t    if (params.prop.units) {\n\t      label += params.prop.units.charAt(0) === '[' ? ' ' + params.prop.units : ' (' + params.prop.units + ')';\n\t    } else label += params.required ? '' : ' (' + translate('optional') + ')';\n\t    // label += (params.prop.ref  &&  params.prop.ref === constants.TYPES.MONEY)\n\t    //        ?  ' (' + CURRENCY_SYMBOL + ')'\n\t    //        : ''\n\t    // let paddingBottom = 20\n\t    var lStyle = styles.labelStyle;\n\t\n\t    if (params.prop.ref && params.prop.ref === constants.TYPES.MONEY && !params.required) {\n\t      var maxChars = (utils.dimensions(component).width - 60) / utils.getFontSize(9);\n\t      // let some space for wrapping\n\t      if (maxChars < label.length) lStyle = [styles.labelStyle, { marginTop: 0 }];\n\t    }\n\t    // else  if (!params.value) {\n\t    //   let maxChars = (utils.dimensions(component).width)/utils.getFontSize(9)\n\t    //   if (maxChars < label.length)\n\t    //     label = label.substring(0, maxChars) + '...'\n\t    // }\n\t\n\t    if (this.state.isRegistration) lStyle = [lStyle, { color: '#eeeeee' }];\n\t    return React.createElement(\n\t      _reactNative.View,\n\t      { style: { flex: 5, paddingBottom: this.hasError(params.errors, params.prop.name) ? 10 : _reactNative.Platform.OS === 'ios' ? 10 : 7 } },\n\t      React.createElement(\n\t        FloatLabel,\n\t        {\n\t          labelStyle: lStyle,\n\t          autoCorrect: false,\n\t          autoCapitalize: this.state.isRegistration || params.prop.name !== 'url' && (!params.prop.keyboard || params.prop.keyboard !== 'email-address') ? 'sentences' : 'none',\n\t          onFocus: this.inputFocused.bind(this, params.prop.name),\n\t          inputStyle: this.state.isRegistration ? styles.regInput : styles.textInput,\n\t          style: styles.formInput,\n\t          value: params.value,\n\t          keyboardShouldPersistTaps: true,\n\t          keyboardType: params.keyboard || 'default',\n\t          onChangeText: this.onChangeText.bind(this, params.prop)\n\t        },\n\t        label\n\t      ),\n\t      this.getErrorView(params)\n\t    );\n\t  },\n\t  getErrorView: function getErrorView(params) {\n\t    var error;\n\t    if (params.noError) error = React.createElement(_reactNative.View, null);else {\n\t      var err = this.state.missedRequiredOrErrorValue ? this.state.missedRequiredOrErrorValue[params.prop.name] : null;\n\t      if (!err && params.errors && params.errors[params.prop.name]) err = params.errors[params.prop.name];\n\t\n\t      error = err ? React.createElement(\n\t        _reactNative.View,\n\t        { style: [styles.err, typeof params.paddingLeft !== 'undefined' ? { paddingLeft: params.paddingLeft } : { paddingLeft: 10 }], key: this.getNextKey() },\n\t        React.createElement(\n\t          _reactNative.Text,\n\t          { style: { fontSize: 14, color: this.state.isRegistration ? '#eeeeee' : '#a94442' } },\n\t          err\n\t        )\n\t      ) : React.createElement(_reactNative.View, { key: this.getNextKey() });\n\t    }\n\t    return error;\n\t  },\n\t  myBooleanTemplate: function myBooleanTemplate(params) {\n\t    var _this = this;\n\t\n\t    var labelStyle = { color: '#aaaaaa', fontSize: 18 };\n\t    var textStyle = { marginTop: 5, color: this.state.isRegistration ? '#ffffff' : '#000000', fontSize: 18 };\n\t\n\t    var prop = params.prop;\n\t    var resource = this.state.resource;\n\t\n\t    var style = resource && typeof resource[params.prop.name] !== 'undefined' ? textStyle : labelStyle;\n\t    // if (Platform.OS === 'ios')\n\t    //   style = [style, {paddingLeft: 10}]\n\t\n\t    var label = translate(params.prop, params.model);\n\t    if (params.prop.units) {\n\t      label += params.prop.units.charAt(0) === '[' ? ' ' + params.prop.units : ' (' + params.prop.units + ')';\n\t    }\n\t    label += params.required ? '' : ' (' + translate('optional') + ')';\n\t\n\t    var value = params.value;\n\t    var doWrap = label.length > 30;\n\t    if (doWrap && _reactNative.Platform.OS === 'android') {\n\t      label = label.substring(0, 27) + '...';\n\t      doWrap = false;\n\t    }\n\t\n\t    // , Platform.OS === 'ios' ? {paddingLeft: 0} : {paddingLeft: 10}\n\t    return React.createElement(\n\t      _reactNative.View,\n\t      { style: { paddingBottom: 10, flex: 5 }, key: this.getNextKey(), ref: prop.name },\n\t      React.createElement(\n\t        _reactNative.TouchableHighlight,\n\t        { underlayColor: 'transparent', onPress: this.onChangeText.bind(this, prop, !value) },\n\t        React.createElement(\n\t          _reactNative.View,\n\t          { style: styles.booleanContainer },\n\t          React.createElement(\n\t            _reactNative.View,\n\t            { style: styles.booleanContentStyle },\n\t            React.createElement(\n\t              _reactNative.Text,\n\t              { style: [style, { width: utils.dimensions(component).width - 100 }] },\n\t              label\n\t            ),\n\t            React.createElement(_reactNative.Switch, { onValueChange: function onValueChange(value) {\n\t                return _this.onChangeText(prop, value);\n\t              }, value: value, onTintColor: LINK_COLOR })\n\t          )\n\t        )\n\t      ),\n\t      this.getErrorView(params)\n\t    );\n\t  },\n\t  myDateTemplate: function myDateTemplate(params) {\n\t    var _this2 = this;\n\t\n\t    var prop = params.prop;\n\t    var resource = this.state.resource;\n\t    var label = void 0,\n\t        style = void 0,\n\t        propLabel = void 0;\n\t    var hasValue = resource && resource[prop.name];\n\t    if (resource && resource[prop.name]) {\n\t      label = resource[prop.name].title;\n\t      var _st = utils.isWeb() ? { paddingBottom: 10, marginLeft: 0, backgroundColor: 'transparent' } : { marginLeft: 10 };\n\t      var color = this.state.isRegistration ? '#eeeeee' : '#B1B1B1';\n\t      propLabel = React.createElement(\n\t        _reactNative.Text,\n\t        { style: [_st, { fontSize: 12, marginTop: 5, color: color }] },\n\t        params.label\n\t      );\n\t    } else {\n\t      label = params.label;\n\t      propLabel = React.createElement(_reactNative.View, { style: { marginTop: 20 } });\n\t    }\n\t\n\t    var valuePadding = 0; //Platform.OS === 'ios' ? 0 : (hasValue ? 10 : 0)\n\t    var format = 'MMMM Do, YYYY';\n\t    var value = params.value && moment(new Date(params.value)).format(format);\n\t    var dateProps = {};\n\t    var date = void 0;\n\t    if (prop.maxDate || prop.minDate) {\n\t      var maxDate = this.getDateRange(prop.maxDate);\n\t      var minDate = this.getDateRange(prop.minDate);\n\t      if (minDate && maxDate) dateProps = { maxDate: new Date(maxDate), minDate: new Date(minDate) };else dataProps = minDate ? { minDate: new Date(minDate) } : { maxDate: new Date(maxDate) };\n\t    }\n\t    if (prop.format) dateProps.format = prop.format;\n\t\n\t    if (!value) value = translate(params.prop);\n\t    var st = utils.isWeb() ? { marginHorizontal: 10, borderWidth: _reactNative.StyleSheet.hairlineWidth, borderColor: 'transparent', borderBottomColor: '#cccccc' } : {};\n\t    return React.createElement(\n\t      _reactNative.View,\n\t      { key: this.getNextKey(), ref: prop.name, style: [st, { paddingBottom: this.hasError(params.errors, prop.name) || utils.isWeb() ? 0 : 10 }] },\n\t      propLabel,\n\t      React.createElement(_reactNativeDatepicker2.default, _extends({\n\t        style: [styles.datePicker, { width: utils.dimensions(component).width - 30 }],\n\t        mode: 'date',\n\t        placeholder: value,\n\t        format: format,\n\t        confirmBtnText: 'Confirm',\n\t        cancelBtnText: 'Cancel',\n\t        date: params.value ? new Date(params.value) : date ? date : null,\n\t        onDateChange: function onDateChange(date) {\n\t          _this2.changeTime(params.prop, new Date(moment(date, format)));\n\t        },\n\t        customStyles: {\n\t          dateInput: styles.dateInput,\n\t          dateText: styles.dateText,\n\t          placeholderText: [styles.placeholderText, {\n\t            color: params.value ? '#000000' : '#aaaaaa',\n\t            paddingLeft: params.value ? 10 : 0\n\t          }],\n\t          dateIconColor: { color: LINK_COLOR },\n\t          dateIcon: styles.dateIcon\n\t        }\n\t      }, dateProps)),\n\t      this.getErrorView(params)\n\t    );\n\t  },\n\t  getDateRange: function getDateRange(dateStr) {\n\t    if (!dateStr) return null;\n\t    var parts = dateStr.split(' ');\n\t    if (parts.length === 1) {\n\t      switch (dateStr) {\n\t        case 'today':\n\t          return new Date().getTime();\n\t        case 'tomorrow':\n\t          return new Date().getTime() + DAY;\n\t      }\n\t    }\n\t    var number = parts[0];\n\t    var measure = parts[1];\n\t    var beforeAfter = parts.length === 3 ? parts[2] : 'before';\n\t    var coef = void 0;\n\t    switch (measure) {\n\t      case 'years':\n\t        coef = YEAR;\n\t        break;\n\t      case 'days':\n\t        coef = DAY;\n\t        break;\n\t      case 'hours':\n\t        coef = HOUR;\n\t        break;\n\t      case 'minutes':\n\t        coef = MINUTE;\n\t        break;\n\t      default:\n\t        coef = 1000;\n\t    }\n\t    switch (beforeAfter) {\n\t      case 'before':\n\t        return new Date().getTime() - number * coef;\n\t      case 'after':\n\t        return new Date().getTime() + number * coef;\n\t    }\n\t  },\n\t  showPicker: function showPicker(prop, stateKey, options) {\n\t    var _this3 = this;\n\t\n\t    return _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n\t      var _ref, action, year, month, day, date, code, message;\n\t\n\t      return regeneratorRuntime.wrap(function _callee$(_context) {\n\t        while (1) {\n\t          switch (_context.prev = _context.next) {\n\t            case 0:\n\t              _context.prev = 0;\n\t              _context.next = 3;\n\t              return _reactNative.DatePickerAndroid.open(options);\n\t\n\t            case 3:\n\t              _ref = _context.sent;\n\t              action = _ref.action;\n\t              year = _ref.year;\n\t              month = _ref.month;\n\t              day = _ref.day;\n\t\n\t              if (action !== _reactNative.DatePickerAndroid.dismissedAction) {\n\t                //   newState[stateKey + 'Text'] = 'dismissed';\n\t                // } else {\n\t                date = new Date(year, month, day);\n\t                // newState[stateKey + 'Text'] = date.toLocaleDateString();\n\t                // newState[stateKey + 'Date'] = date;\n\t              }\n\t              // this.setState(newState);\n\t              _this3.changeTime(prop, date);\n\t              _context.next = 17;\n\t              break;\n\t\n\t            case 12:\n\t              _context.prev = 12;\n\t              _context.t0 = _context['catch'](0);\n\t              code = _context.t0.code;\n\t              message = _context.t0.message;\n\t\n\t              console.warn('Error in example \\'' + stateKey + '\\': ', message);\n\t\n\t            case 17:\n\t            case 'end':\n\t              return _context.stop();\n\t          }\n\t        }\n\t      }, _callee, _this3, [[0, 12]]);\n\t    }))();\n\t  },\n\t\n\t\n\t  changeTime: function changeTime(prop, date) {\n\t    var r = {};\n\t    extend(true, r, this.state.resource);\n\t    r[prop.name] = date.getTime();\n\t    if (!this.floatingProps) this.floatingProps = {};\n\t    this.floatingProps[prop.name] = date;\n\t    this.setState({\n\t      resource: r\n\t    });\n\t  },\n\t\n\t  // myDateTemplate (prop) {\n\t  //   return (<NewDatePicker prop={prop}/>)\n\t  // },\n\t\n\t  inputFocused: function inputFocused(refName) {\n\t    if (!this.state.isRegistration && this.refs && this.refs.scrollView && this.props.model && Object.keys(this.props.model.properties).length > 5) {\n\t      utils.scrollComponentIntoView(this, this.refs.form.getComponent(refName));\n\t    }\n\t  },\n\t\n\t  // scrollDown (){\n\t  //   if (this.refs  &&  this.refs.scrollView) {\n\t  //      this.refs.scrollView.scrollTo(Dimensions.get('window').height * 2/3);\n\t  //   }\n\t  // },\n\t\n\t  myCustomTemplate: function myCustomTemplate(params) {\n\t    var labelStyle = styles.labelClean;\n\t    var textStyle = styles.labelDirty;\n\t    var resource = /*this.props.resource ||*/this.state.resource;\n\t    var label, style;\n\t    var propLabel, propName;\n\t    var isItem = this.props.metadata != null;\n\t    var prop = this.props.model ? this.props.model.properties[params.prop] : this.props.metadata.items.properties[params.prop];\n\t\n\t    var isRequired = this.props.model && this.props.model.required && this.props.model.required.indexOf(params.prop) !== -1;\n\t    if (resource && resource[params.prop]) {\n\t      var rModel = void 0;\n\t      var m = utils.getId(resource[params.prop]).split('_')[0];\n\t      rModel = utils.getModel(m).value;\n\t      label = utils.getDisplayName(resource[params.prop], rModel.properties);\n\t      if (!label) label = resource[params.prop].title;\n\t      if (rModel.subClassOf && rModel.subClassOf === ENUM) label = utils.createAndTranslate(label, true);\n\t      style = textStyle;\n\t      propLabel = React.createElement(\n\t        _reactNative.Text,\n\t        { style: [styles.labelDirty, { color: this.state.isRegistration ? '#eeeeee' : '#B1B1B1' }] },\n\t        params.label\n\t      );\n\t    } else {\n\t      var _color = { color: this.state.isRegistration ? '#eeeeee' : '#B1B1B1' };\n\t      label = params.label;\n\t      style = [labelStyle, _color];\n\t      propLabel = React.createElement(_reactNative.View, null);\n\t    }\n\t    var maxChars = (utils.dimensions(component).width - 20) / 10;\n\t    if (maxChars < label.length) label = label.substring(0, maxChars - 3) + '...';\n\t    if (this.state.isRegistration && prop.ref && prop.ref === 'tradle.Language' && !resource[prop.name]) label += ' (' + utils.translate(utils.getDefaultLanguage()) + ')';\n\t    var isVideo = prop.name === 'video';\n\t    var isPhoto = prop.name === 'photos';\n\t    // <View key={this.getNextKey()} style={this.hasError(params) ? {paddingBottom: 0} : {paddingBottom: 10}} ref={prop.name}>\n\t    var color = this.state.isRegistration ? { color: '#eeeeee' } : { color: resource && resource[params.prop] ? '#000000' : '#AAAAAA' };\n\t    var iconColor = this.state.isRegistration ? '#eeeeee' : LINK_COLOR;\n\t    return React.createElement(\n\t      _reactNative.View,\n\t      { key: this.getNextKey(), style: { paddingBottom: this.hasError(params.errors, prop.name) ? 0 : 10, margin: 0 }, ref: prop.name },\n\t      propLabel,\n\t      React.createElement(\n\t        _reactNative.TouchableHighlight,\n\t        { underlayColor: 'transparent', onPress: isVideo ? this.showCamera.bind(this, params) : this.chooser.bind(this, prop, params.prop) },\n\t        React.createElement(\n\t          _reactNative.View,\n\t          { style: [styles.chooserContainer, { flexDirection: 'row' }] },\n\t          this.state[prop.name + '_photo'] ? React.createElement(\n\t            _reactNative.View,\n\t            { style: { flexDirection: 'row' } },\n\t            React.createElement(_reactNative.Image, { source: { uri: this.state[prop.name + '_photo'].url }, style: styles.thumb }),\n\t            React.createElement(\n\t              _reactNative.Text,\n\t              { style: [styles.input, color] },\n\t              label\n\t            )\n\t          ) : React.createElement(\n\t            _reactNative.Text,\n\t            { style: [styles.input, color] },\n\t            label\n\t          ),\n\t          isVideo ? React.createElement(Icon, { name: 'ios-play-outline', size: 25, color: LINK_COLOR }) : React.createElement(Icon, { name: 'ios-arrow-down', size: 15, color: iconColor, style: [styles.icon1, styles.customIcon] })\n\t        )\n\t      ),\n\t      this.getErrorView({ noError: params.noError, errors: params.errors, prop: prop, paddingBottom: 0 })\n\t    );\n\t  },\n\t  hasError: function hasError(errors, propName) {\n\t    return errors && errors[propName] || this.state.missedRequiredOrErrorValue && this.state.missedRequiredOrErrorValue[propName];\n\t  },\n\t  chooser: function chooser(prop, propName, event) {\n\t    var resource = this.state.resource;\n\t    var model = this.props.model || this.props.metadata;\n\t    if (!resource) {\n\t      resource = {};\n\t      resource[constants.TYPE] = model.id;\n\t    }\n\t\n\t    var isFinancialProduct = model.subClassOf && model.subClassOf == constants.TYPES.FINANCIAL_PRODUCT;\n\t    var value = this.refs.form.input;\n\t\n\t    var filter = event.nativeEvent.text;\n\t    var propRef = prop.ref;\n\t    var m = utils.getModel(propRef).value;\n\t    var currentRoutes = this.props.navigator.getCurrentRoutes();\n\t    this.props.navigator.push({\n\t      title: translate(prop), //m.title,\n\t      titleTextColor: '#7AAAC3',\n\t      id: 10,\n\t      component: ResourceList,\n\t      backButtonTitle: translate('cancel'),\n\t      sceneConfig: isFinancialProduct ? _reactNative.Navigator.SceneConfigs.FloatFromBottom : _reactNative.Navigator.SceneConfigs.FloatFromRight,\n\t      passProps: {\n\t        filter: filter,\n\t        isChooser: true,\n\t        prop: prop,\n\t        modelName: propRef,\n\t        resource: resource,\n\t        isRegistration: this.state.isRegistration,\n\t        returnRoute: currentRoutes[currentRoutes.length - 1],\n\t        callback: this.setChosenValue.bind(this)\n\t      }\n\t    });\n\t  },\n\t\n\t\n\t  // setting chosen from the list property on the resource like for ex. Organization on Contact\n\t  setChosenValue: function setChosenValue(propName, value) {\n\t    var resource = {};\n\t    extend(resource, this.state.resource);\n\t    if ((typeof propName === 'undefined' ? 'undefined' : _typeof(propName)) === 'object') propName = propName.name;\n\t    var setItemCount = void 0;\n\t    // clause for the items properies - need to redesign\n\t    if (this.props.metadata && this.props.metadata.type === 'array') {\n\t      if (!this.floatingProps) this.floatingProps = {};\n\t      this.floatingProps[propName] = value;\n\t      resource[propName] = value;\n\t    } else if (this.props.model.properties[propName].type === 'array') {\n\t      if (this.props.model.properties[propName].items && this.props.model.properties[propName].items.ref) {\n\t        (function () {\n\t          var v = {\n\t            id: utils.getId(value),\n\t            title: utils.getDisplayName(value, utils.getModel(value[constants.TYPE]).properties)\n\t          };\n\t          if (value.photos) v.photo = value.photos[0].url;\n\t          if (!resource[propName]) {\n\t            resource[propName] = [];\n\t            resource[propName].push(v);\n\t          } else {\n\t            var arr = resource[propName].filter(function (r) {\n\t              return r.id === v.id;\n\t            });\n\t            if (!arr.length) resource[propName].push(v);\n\t          }\n\t\n\t          setItemCount = true;\n\t        })();\n\t      } else resource[propName] = value;\n\t    } else {\n\t      var id = utils.getId(value);\n\t      resource[propName] = {\n\t        id: id,\n\t        title: utils.getDisplayName(value, utils.getModel(value[constants.TYPE]).value.properties)\n\t      };\n\t\n\t      if (!this.floatingProps) this.floatingProps = {};\n\t      this.floatingProps[propName] = resource[propName];\n\t\n\t      var data = this.refs.form.refs.input.state.value;\n\t      if (data) {\n\t        for (var p in data) {\n\t          if (!resource[p]) resource[p] = data[p];\n\t        }\n\t      }\n\t    }\n\t    var state = {\n\t      resource: resource,\n\t      prop: propName\n\t    };\n\t    if (this.state.missedRequiredOrErrorValue) delete this.state.missedRequiredOrErrorValue[propName];\n\t    if (setItemCount) state.itemsCount = resource[propName].length;\n\t\n\t    if (value.photos) state[propName + '_photo'] = value.photos[0];\n\t    this.setState(state);\n\t\n\t    var r = {};\n\t    extend(r, this.state.resource);\n\t    for (var p in this.floatingProps) {\n\t      r[p] = this.floatingProps[p];\n\t    }Actions.saveTemporary(r);\n\t  },\n\t\n\t\n\t  // MONEY value and curency template\n\t  myMoneyInputTemplate: function myMoneyInputTemplate(params) {\n\t    var label = params.label;\n\t    label += params.required ? '' : ' (optional)';\n\t    label += params.prop.ref && params.prop.ref === constants.TYPES.MONEY ? ' (' + CURRENCY_SYMBOL + ')' : '';\n\t    return React.createElement(\n\t      _reactNative.View,\n\t      { style: { flexDirection: 'row', justifyContent: 'space-between' } },\n\t      this.myTextInputTemplate({\n\t        label: label,\n\t        prop: params.prop,\n\t        value: params.value.value ? params.value.value + '' : '',\n\t        required: params.required,\n\t        model: params.model,\n\t        errors: params.errors,\n\t        keyboard: 'numeric'\n\t      }),\n\t      this.myEnumTemplate({\n\t        prop: params.prop,\n\t        enumProp: utils.getModel(constants.TYPES.MONEY).value.properties.currency,\n\t        required: params.required,\n\t        value: utils.normalizeCurrencySymbol(params.value.currency),\n\t        errors: params.errors,\n\t        // noError:  params.errors && params.errors[params.prop],\n\t        noError: true\n\t      })\n\t    );\n\t  },\n\t  myEnumTemplate: function myEnumTemplate(params) {\n\t    var label;\n\t    var prop = params.prop;\n\t    var enumProp = params.enumProp;\n\t    var error;\n\t    if (!params.noError) {\n\t      var err = this.state.missedRequiredOrErrorValue ? this.state.missedRequiredOrErrorValue[prop.name] : null;\n\t      if (!err && params.errors && params.errors[prop.name]) err = params.errors[prop.name];\n\t      error = err ? React.createElement(_reactNative.View, { style: styles.enumErrorLabel }) : React.createElement(_reactNative.View, null);\n\t    } else error = React.createElement(_reactNative.View, null);\n\t    var value = prop ? params.value : resource[enumProp.name];\n\t    return React.createElement(\n\t      _reactNative.View,\n\t      { style: [styles.chooserContainer, styles.enumElement], key: this.getNextKey(), ref: enumProp.name },\n\t      React.createElement(\n\t        _reactNative.TouchableHighlight,\n\t        { underlayColor: 'transparent', onPress: this.enumChooser.bind(this, prop, enumProp) },\n\t        React.createElement(\n\t          _reactNative.View,\n\t          null,\n\t          React.createElement(\n\t            _reactNative.View,\n\t            { style: styles.chooserContentStyle },\n\t            React.createElement(\n\t              _reactNative.Text,\n\t              { style: styles.enumText },\n\t              value\n\t            ),\n\t            React.createElement(Icon, { name: 'ios-arrow-down', size: 15, color: LINK_COLOR, style: [styles.icon1, styles.enumProp] })\n\t          ),\n\t          error\n\t        )\n\t      )\n\t    );\n\t  },\n\t  enumChooser: function enumChooser(prop, enumProp, event) {\n\t    var resource = this.state.resource;\n\t    var model = this.props.model || this.props.metadata;\n\t    if (!resource) {\n\t      resource = {};\n\t      resource[constants.TYPE] = model.id;\n\t    }\n\t\n\t    var value = this.refs.form.input;\n\t\n\t    var currentRoutes = this.props.navigator.getCurrentRoutes();\n\t    this.props.navigator.push({\n\t      title: enumProp.title,\n\t      titleTextColor: '#7AAAC3',\n\t      id: 22,\n\t      component: EnumList,\n\t      backButtonTitle: 'Back',\n\t      passProps: {\n\t        prop: prop,\n\t        enumProp: enumProp,\n\t        resource: resource,\n\t        returnRoute: currentRoutes[currentRoutes.length - 1],\n\t        callback: this.setChosenEnumValue.bind(this)\n\t      }\n\t    });\n\t  },\n\t  setChosenEnumValue: function setChosenEnumValue(propName, enumPropName, value) {\n\t    var resource = {};\n\t    extend(true, resource, this.state.resource);\n\t    // clause for the items properies - need to redesign\n\t    // resource[propName][enumPropName] = value\n\t    if (resource[propName]) {\n\t      if (_typeof(resource[propName]) === 'object') resource[propName][enumPropName] = value[Object.keys(value)[0]];else {\n\t        resource[propName] = _defineProperty({\n\t          value: resource[propName]\n\t        }, enumPropName, value[Object.keys(value)[0]]);\n\t      }\n\t    }\n\t    // if no value set only currency\n\t    else {\n\t        resource[propName] = {};\n\t        resource[propName][enumPropName] = value[Object.keys(value)[0]];\n\t        if (!this.floatingProps) this.floatingProps = {};\n\t        if (!this.floatingProps[propName]) this.floatingProps[propName] = {};\n\t        this.floatingProps[propName][enumPropName] = value[Object.keys(value)[0]];\n\t      }\n\t\n\t    // if (this.state.isPrefilled) {\n\t    //   var props = (this.props.model  ||  this.props.metadata).properties\n\t    //   if (props[propName].ref  &&  props[propName].ref === constants.TYPES.MONEY) {\n\t    //     if (this.floatingProps  &&  this.floatingProps[propName]  &&  !this.floatingProps[propName].value  &&  resource[propName]  &&  resource[propName].value)\n\t    //       this.floatingProps[propName].value = resource[propName].value\n\t    //   }\n\t    // }\n\t\n\t    // resource[propame] = value\n\t    var data = this.refs.form.refs.input.state.value;\n\t    if (data) {\n\t      for (var p in data) {\n\t        if (!resource[p]) resource[p] = data[p];\n\t      }\n\t    }\n\t\n\t    this.setState({\n\t      resource: resource,\n\t      prop: propName\n\t    });\n\t  },\n\t  validateProperties: function validateProperties(value) {\n\t    var m = value[constants.TYPE] ? utils.getModel(value[constants.TYPE]).value : this.props.model;\n\t    var properties = m.properties;\n\t    var err = [];\n\t    var deleteProps = [];\n\t    for (var p in value) {\n\t      var prop = properties[p];\n\t      if (!prop) // properties like _t, _r, time\n\t        continue;\n\t      if (typeof value[p] === 'undefined' || value[p] === null) {\n\t        deleteProps.push(p);\n\t        continue;\n\t      }\n\t      if (prop.type === 'number') this.checkNumber(value[p], prop, err);else if (prop.ref === constants.TYPES.MONEY) {\n\t        var error = this.checkNumber(value[p], prop, err);\n\t        if (error && m.required.indexOf(p) === -1) deleteProps.push(p);else if (!value[p].currency) value[p].currency = this.props.currency;\n\t      } else if (prop.units && prop.units === '[min - max]') {\n\t        var v = value[p].split('-').forEach(function (n) {\n\t          return trim(n);\n\t        });\n\t        if (v.length === 1) checkNumber(v, prop, err);else if (v.length === 2) {\n\t          checkNumber(v[0], prop, err);\n\t          if (err[p]) continue;\n\t          checkNumber(v[1], prop, err);\n\t          if (!err[p]) continue;\n\t          if (v[1] < v[0]) err[p] = translate('theMinValueBiggerThenMaxValue'); //'The min value for the range should be smaller then the max value'\n\t        } else err[p] = translate('thePropertyWithMinMaxRangeError'); // The property with [min-max] range can have only two numbers'\n\t      }\n\t      // 'pattern' can be regex pattern or property where the pattern is defined.\n\t      // It is for country specific patterns like 'phone number'\n\t\n\t      else if (prop.pattern) {\n\t          if (!new RegExp(prop.pattern).test(value[p])) err[prop.name] = translate('invalidProperty', prop.title);\n\t        }\n\t      // else if (prop.patterns) {\n\t      //   let cprops = []\n\t      //   for (let pr in properties) {\n\t      //     if (properties[pr].ref && properties[pr].ref === 'tradle.Country')\n\t      //       cprops.push(pr)\n\t      //   }\n\t      //   if (!cprops.length)\n\t      //     continue\n\t\n\t      //   let patternCountry = cprops.map((p) => {\n\t      //     let val = value[p]  ||  this.props.resource[p]\n\t      //     return val ? val : undefined\n\t      //   })\n\t      //   if (!patternCountry)\n\t      //     continue\n\t      //   let pattern = prop.patterns[patternCountry[0]]\n\t      //   if (pattern  &&  !(new RegExp(pattern).test(value[p])))\n\t      //     err[prop.name] = 'Invalid ' + prop.title\n\t      // }\n\t    }\n\t    if (deleteProps) deleteProps.forEach(function (p) {\n\t      delete value[p];\n\t      delete err[p];\n\t    });\n\t    return err;\n\t  },\n\t  checkNumber: function checkNumber(v, prop, err) {\n\t    var p = prop.name;\n\t    var error;\n\t    if (prop.ref === constants.TYPES.MONEY) v = v.value;\n\t    if (isNaN(v)) error = 'Please enter a valid number';else {\n\t      if (prop.max && v > prop.max) error = 'The maximum value for is ' + prop.max;else if (prop.min && v < prop.min) error = 'The minimum value for is ' + prop.min;\n\t    }\n\t    if (error) err[p] = error;\n\t    return error;\n\t  }\n\t};\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  enumProp: {\n\t    marginTop: 15\n\t  },\n\t  enumText: {\n\t    marginTop: 10,\n\t    marginLeft: 20,\n\t    color: '#757575',\n\t    fontSize: 18\n\t  },\n\t  icon1: {\n\t    width: 15,\n\t    height: 15,\n\t    marginVertical: 2\n\t  },\n\t  booleanContainer: {\n\t    height: 60,\n\t    borderColor: '#ffffff',\n\t    borderBottomColor: '#cccccc',\n\t    borderBottomWidth: 1,\n\t    justifyContent: 'center',\n\t    marginHorizontal: 10,\n\t    // marginBottom: 10,\n\t    flex: 1\n\t  },\n\t  booleanContentStyle: {\n\t    justifyContent: 'space-between',\n\t    flexDirection: 'row',\n\t    // paddingVertical: 5,\n\t    // marginRight: 10,\n\t    borderRadius: 4\n\t  },\n\t  datePicker: {\n\t    // width: dimensions.width - 30,\n\t    marginLeft: 10,\n\t    paddingLeft: 10,\n\t    justifyContent: 'flex-start',\n\t    borderColor: '#f7f7f7',\n\t    alignSelf: 'stretch'\n\t  },\n\t  chooserContainer: {\n\t    height: 45,\n\t    marginTop: 20,\n\t    borderColor: '#ffffff',\n\t    borderBottomColor: '#cccccc',\n\t    borderBottomWidth: 1,\n\t    marginHorizontal: 10,\n\t    // justifyContent: 'center',\n\t    position: 'relative',\n\t    // marginBottom: 10,\n\t    // paddingBottom: 10,\n\t    flex: 1\n\t  },\n\t  chooserContentStyle: {\n\t    justifyContent: 'space-between',\n\t    flexDirection: 'row',\n\t    // paddingVertical: 5,\n\t    borderRadius: 4\n\t  },\n\t  enumElement: {\n\t    width: 40,\n\t    marginTop: 20,\n\t    height: 45\n\t  },\n\t  enumErrorLabel: {\n\t    paddingLeft: 5,\n\t    height: 14,\n\t    backgroundColor: 'transparent'\n\t  },\n\t  formInput: {\n\t    borderBottomWidth: 1,\n\t    marginHorizontal: 10,\n\t    borderColor: '#cccccc'\n\t  },\n\t  regInput: {\n\t    borderWidth: 0,\n\t    color: '#eeeeee',\n\t    fontFamily: '\"Helvetica Neue\", STHeiTi, sans-serif'\n\t  },\n\t  textInput: {\n\t    borderWidth: 0,\n\t    fontFamily: '\"Helvetica Neue\", STHeiTi, sans-serif'\n\t  },\n\t  thumb: {\n\t    width: 25,\n\t    height: 25,\n\t    marginRight: 2,\n\t    marginTop: 7,\n\t    borderRadius: 5\n\t  },\n\t  err: {\n\t    paddingLeft: 10\n\t  },\n\t  element: {\n\t    position: 'relative'\n\t  },\n\t  input: {\n\t    backgroundColor: 'transparent',\n\t    color: '#aaaaaa',\n\t    fontSize: 18,\n\t    marginTop: 10\n\t  },\n\t  labelClean: {\n\t    marginTop: 21,\n\t    color: '#AAA',\n\t    position: 'absolute',\n\t    fontSize: 18,\n\t    top: 7\n\t  },\n\t  labelDirty: {\n\t    marginTop: 21,\n\t    marginLeft: 10,\n\t    color: '#AAA',\n\t    position: 'absolute',\n\t    fontSize: 12,\n\t    top: -17\n\t  },\n\t  customIcon: {\n\t    position: 'absolute',\n\t    right: 0,\n\t    marginTop: 15\n\t  },\n\t  dateInput: {\n\t    flex: 1,\n\t    height: 35,\n\t    paddingBottom: 5,\n\t    marginTop: 5,\n\t    borderWidth: 1,\n\t    borderColor: 'transparent',\n\t    borderBottomColor: '#cccccc',\n\t    alignItems: 'flex-start',\n\t    justifyContent: 'center'\n\t  },\n\t  dateText: {\n\t    fontSize: 18,\n\t    color: '#000000',\n\t    backgroundColor: 'transparent',\n\t    marginLeft: 10\n\t  },\n\t  placeholderText: {\n\t    fontSize: 18\n\t  },\n\t  dateIcon: {\n\t    position: 'absolute',\n\t    right: 0,\n\t    top: 5\n\t  },\n\t  divider: {\n\t    justifyContent: 'center',\n\t    marginHorizontal: 10,\n\t    marginBottom: 5\n\t  },\n\t  dividerText: {\n\t    marginVertical: 10,\n\t    fontSize: 18,\n\t    alignSelf: 'center',\n\t    color: '#ffffff'\n\t  }\n\t});\n\tmodule.exports = NewResourceMixin;\n\t// icon: {\n\t//   width: 20,\n\t//   height: 20,\n\t//   marginLeft: -5,\n\t//   marginRight: 5,\n\t// },\n\t// dateContainer: {\n\t//   // height: 60,\n\t//   borderColor: '#ffffff',\n\t//   borderBottomColor: '#cccccc',\n\t//   borderBottomWidth: 1,\n\t//   marginHorizontal: 10,\n\t//   // marginLeft: 10,\n\t//   // marginBottom: 10,\n\t//   flex: 1\n\t// },\n\t// labelInput: {\n\t//   color: '#cccccc',\n\t// },\n\t// preview: {\n\t//   flex: 1,\n\t//   justifyContent: 'flex-end',\n\t//   alignItems: 'center',\n\t//   height: Dimensions.get('window').height,\n\t//   width: Dimensions.get('window').width\n\t// },\n\t// capture: {\n\t//   flex: 0,\n\t//   backgroundColor: '#fff',\n\t//   borderRadius: 5,\n\t//   color: '#000',\n\t//   padding: 10,\n\t//   margin: 40\n\t// },\n\t\n\t// myDateTemplate1(params) {\n\t//   var labelStyle = {color: '#cccccc', fontSize: 17, paddingBottom: 10};\n\t//   var textStyle = {color: this.state.isRegistration ? '#ffffff' : '#000000', fontSize: 17, paddingBottom: 10};\n\t//   var prop = params.prop\n\t//   let resource = this.state.resource\n\t//   let label, style, propLabel\n\t//   let hasValue = resource && resource[prop.name]\n\t//   if (resource && resource[prop.name]) {\n\t//     label = resource[prop.name].title\n\t//     style = textStyle\n\t\n\t//     let vStyle = Platform.OS === 'android'\n\t//                ? {paddingLeft: 10, marginTop: 5}\n\t//                : {marginLeft: 10, marginTop: 5, marginBottom: 5, backgroundColor: 'transparent'}\n\t\n\t//     propLabel = <View style={vStyle}>\n\t//                   <Text style={{fontSize: 12, color: this.state.isRegistration ? '#eeeeee' : '#B1B1B1'}}>{params.label}</Text>\n\t//                 </View>\n\t//   }\n\t//   else {\n\t//     label = params.label\n\t//     style = labelStyle\n\t//     propLabel = <View style={{marginTop: 20}}/>\n\t//   }\n\t\n\t//   var err = this.state.missedRequiredOrErrorValue\n\t//           ? this.state.missedRequiredOrErrorValue[prop.name]\n\t//           : null\n\t//   if (!err  &&  params.errors  &&  params.errors[prop.name])\n\t//     err = params.errors[prop.name]\n\t\n\t//   let valuePadding = 0 //Platform.OS === 'ios' ? 0 : (hasValue ? 10 : 0)\n\t\n\t//   return (\n\t//     <View style={{paddingBottom: 10, flex: 5}} key={this.getNextKey()} ref={prop.name}>\n\t//      {propLabel}\n\t//      <TouchableHighlight underlayColor=\"transparent\" onPress={this.showModal.bind(this, prop, true)}>\n\t//        <View style={[styles.dateContainer, {flexDirection: 'row', justifyContent: 'space-between', paddingLeft: valuePadding}]}>\n\t//          <Text style={style}>{(params.value &&  dateformat(new Date(params.value), 'mmmm dS, yyyy')) || translate(params.prop)}</Text>\n\t//          <Icon name='ios-calendar-outline'  size={17}  color={LINK_COLOR}  style={styles.icon1} />\n\t//        </View>\n\t//      </TouchableHighlight>\n\t//      { Platform.OS === 'ios'\n\t//         ? this.state.modal  &&  this.state.modal[prop.name]\n\t//             ? <Picker closeModal={() => {\n\t//                this.showModal(prop, false)\n\t//             }} offSet={this.state.offSet} value={params.value} prop={params.prop} changeTime={this.changeTime.bind(this, params.prop)}  />\n\t//             : (err ? this.getErrorView(params) : null)\n\t//         : <View />\n\t//       }\n\t//     </View>\n\t//   );\n\t// },\n\t\n\t// showCamera(params) {\n\t\n\t//   return (\n\t//     <View style={styles.container}>\n\t//       <Camera\n\t//         ref={(cam) => {\n\t//           this.camera = cam;\n\t//         }}\n\t//         style={styles.preview}\n\t//         aspect={Camera.constants.Aspect.fill}>\n\t//         <Text style={styles.capture} onPress={this.takePicture.bind(this)}>[CAPTURE]</Text>\n\t//       </Camera>\n\t//     </View>\n\t//   );\n\t// },\n\t// showModal(prop, show) {\n\t//   this.setState({modal: show})\n\t// },\n\t// showModal(prop, show) {\n\t//   if (Platform.OS === 'ios') {\n\t//     let m = {}\n\t//     extend(true, m, this.state.modal)\n\t//     if (show)\n\t//       m[prop.name] = show\n\t//     else {\n\t//       for (let p in m)\n\t//         m[p] = false\n\t//     }\n\t\n\t//     this.setState({modal: m})\n\t//   }\n\t//   else\n\t//     this.showPicker(prop, 'preset', {date: new Date()})\n\t// },\n\n/***/ },\n\n/***/ 1957:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDatepicker = __webpack_require__(1958);\n\t\n\tvar _reactDatepicker2 = _interopRequireDefault(_reactDatepicker);\n\t\n\tvar _moment = __webpack_require__(1959);\n\t\n\tvar _moment2 = _interopRequireDefault(_moment);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t__webpack_require__(2066);\n\t\n\tvar DatePickerAdapter = function (_Component) {\n\t  _inherits(DatePickerAdapter, _Component);\n\t\n\t  function DatePickerAdapter() {\n\t    _classCallCheck(this, DatePickerAdapter);\n\t\n\t    return _possibleConstructorReturn(this, (DatePickerAdapter.__proto__ || Object.getPrototypeOf(DatePickerAdapter)).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(DatePickerAdapter, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      return _react2.default.createElement(_reactDatepicker2.default, {\n\t        showYearDropdown: true,\n\t        selected: this.props.date && (0, _moment2.default)(this.props.date),\n\t        placeholderText: this.props.placeholder,\n\t        style: this.props.style,\n\t        onChange: this.props.onDateChange\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return DatePickerAdapter;\n\t}(_react.Component);\n\t\n\t// dateFormat={this.props.format}\n\t\n\t\n\texports.default = DatePickerAdapter;\n\n/***/ },\n\n/***/ 1960:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar map = {\n\t\t\"./af\": 1961,\n\t\t\"./af.js\": 1961,\n\t\t\"./ar\": 1962,\n\t\t\"./ar-ly\": 1963,\n\t\t\"./ar-ly.js\": 1963,\n\t\t\"./ar-ma\": 1964,\n\t\t\"./ar-ma.js\": 1964,\n\t\t\"./ar-sa\": 1965,\n\t\t\"./ar-sa.js\": 1965,\n\t\t\"./ar-tn\": 1966,\n\t\t\"./ar-tn.js\": 1966,\n\t\t\"./ar.js\": 1962,\n\t\t\"./az\": 1967,\n\t\t\"./az.js\": 1967,\n\t\t\"./be\": 1968,\n\t\t\"./be.js\": 1968,\n\t\t\"./bg\": 1969,\n\t\t\"./bg.js\": 1969,\n\t\t\"./bn\": 1970,\n\t\t\"./bn.js\": 1970,\n\t\t\"./bo\": 1971,\n\t\t\"./bo.js\": 1971,\n\t\t\"./br\": 1972,\n\t\t\"./br.js\": 1972,\n\t\t\"./bs\": 1973,\n\t\t\"./bs.js\": 1973,\n\t\t\"./ca\": 1974,\n\t\t\"./ca.js\": 1974,\n\t\t\"./cs\": 1975,\n\t\t\"./cs.js\": 1975,\n\t\t\"./cv\": 1976,\n\t\t\"./cv.js\": 1976,\n\t\t\"./cy\": 1977,\n\t\t\"./cy.js\": 1977,\n\t\t\"./da\": 1978,\n\t\t\"./da.js\": 1978,\n\t\t\"./de\": 1979,\n\t\t\"./de-at\": 1980,\n\t\t\"./de-at.js\": 1980,\n\t\t\"./de.js\": 1979,\n\t\t\"./dv\": 1981,\n\t\t\"./dv.js\": 1981,\n\t\t\"./el\": 1982,\n\t\t\"./el.js\": 1982,\n\t\t\"./en-au\": 1983,\n\t\t\"./en-au.js\": 1983,\n\t\t\"./en-ca\": 1984,\n\t\t\"./en-ca.js\": 1984,\n\t\t\"./en-gb\": 1985,\n\t\t\"./en-gb.js\": 1985,\n\t\t\"./en-ie\": 1986,\n\t\t\"./en-ie.js\": 1986,\n\t\t\"./en-nz\": 1987,\n\t\t\"./en-nz.js\": 1987,\n\t\t\"./eo\": 1988,\n\t\t\"./eo.js\": 1988,\n\t\t\"./es\": 1989,\n\t\t\"./es-do\": 1990,\n\t\t\"./es-do.js\": 1990,\n\t\t\"./es.js\": 1989,\n\t\t\"./et\": 1991,\n\t\t\"./et.js\": 1991,\n\t\t\"./eu\": 1992,\n\t\t\"./eu.js\": 1992,\n\t\t\"./fa\": 1993,\n\t\t\"./fa.js\": 1993,\n\t\t\"./fi\": 1994,\n\t\t\"./fi.js\": 1994,\n\t\t\"./fo\": 1995,\n\t\t\"./fo.js\": 1995,\n\t\t\"./fr\": 1996,\n\t\t\"./fr-ca\": 1997,\n\t\t\"./fr-ca.js\": 1997,\n\t\t\"./fr-ch\": 1998,\n\t\t\"./fr-ch.js\": 1998,\n\t\t\"./fr.js\": 1996,\n\t\t\"./fy\": 1999,\n\t\t\"./fy.js\": 1999,\n\t\t\"./gd\": 2000,\n\t\t\"./gd.js\": 2000,\n\t\t\"./gl\": 2001,\n\t\t\"./gl.js\": 2001,\n\t\t\"./he\": 2002,\n\t\t\"./he.js\": 2002,\n\t\t\"./hi\": 2003,\n\t\t\"./hi.js\": 2003,\n\t\t\"./hr\": 2004,\n\t\t\"./hr.js\": 2004,\n\t\t\"./hu\": 2005,\n\t\t\"./hu.js\": 2005,\n\t\t\"./hy-am\": 2006,\n\t\t\"./hy-am.js\": 2006,\n\t\t\"./id\": 2007,\n\t\t\"./id.js\": 2007,\n\t\t\"./is\": 2008,\n\t\t\"./is.js\": 2008,\n\t\t\"./it\": 2009,\n\t\t\"./it.js\": 2009,\n\t\t\"./ja\": 2010,\n\t\t\"./ja.js\": 2010,\n\t\t\"./jv\": 2011,\n\t\t\"./jv.js\": 2011,\n\t\t\"./ka\": 2012,\n\t\t\"./ka.js\": 2012,\n\t\t\"./kk\": 2013,\n\t\t\"./kk.js\": 2013,\n\t\t\"./km\": 2014,\n\t\t\"./km.js\": 2014,\n\t\t\"./ko\": 2015,\n\t\t\"./ko.js\": 2015,\n\t\t\"./ky\": 2016,\n\t\t\"./ky.js\": 2016,\n\t\t\"./lb\": 2017,\n\t\t\"./lb.js\": 2017,\n\t\t\"./lo\": 2018,\n\t\t\"./lo.js\": 2018,\n\t\t\"./lt\": 2019,\n\t\t\"./lt.js\": 2019,\n\t\t\"./lv\": 2020,\n\t\t\"./lv.js\": 2020,\n\t\t\"./me\": 2021,\n\t\t\"./me.js\": 2021,\n\t\t\"./mi\": 2022,\n\t\t\"./mi.js\": 2022,\n\t\t\"./mk\": 2023,\n\t\t\"./mk.js\": 2023,\n\t\t\"./ml\": 2024,\n\t\t\"./ml.js\": 2024,\n\t\t\"./mr\": 2025,\n\t\t\"./mr.js\": 2025,\n\t\t\"./ms\": 2026,\n\t\t\"./ms-my\": 2027,\n\t\t\"./ms-my.js\": 2027,\n\t\t\"./ms.js\": 2026,\n\t\t\"./my\": 2028,\n\t\t\"./my.js\": 2028,\n\t\t\"./nb\": 2029,\n\t\t\"./nb.js\": 2029,\n\t\t\"./ne\": 2030,\n\t\t\"./ne.js\": 2030,\n\t\t\"./nl\": 2031,\n\t\t\"./nl.js\": 2031,\n\t\t\"./nn\": 2032,\n\t\t\"./nn.js\": 2032,\n\t\t\"./pa-in\": 2033,\n\t\t\"./pa-in.js\": 2033,\n\t\t\"./pl\": 2034,\n\t\t\"./pl.js\": 2034,\n\t\t\"./pt\": 2035,\n\t\t\"./pt-br\": 2036,\n\t\t\"./pt-br.js\": 2036,\n\t\t\"./pt.js\": 2035,\n\t\t\"./ro\": 2037,\n\t\t\"./ro.js\": 2037,\n\t\t\"./ru\": 2038,\n\t\t\"./ru.js\": 2038,\n\t\t\"./se\": 2039,\n\t\t\"./se.js\": 2039,\n\t\t\"./si\": 2040,\n\t\t\"./si.js\": 2040,\n\t\t\"./sk\": 2041,\n\t\t\"./sk.js\": 2041,\n\t\t\"./sl\": 2042,\n\t\t\"./sl.js\": 2042,\n\t\t\"./sq\": 2043,\n\t\t\"./sq.js\": 2043,\n\t\t\"./sr\": 2044,\n\t\t\"./sr-cyrl\": 2045,\n\t\t\"./sr-cyrl.js\": 2045,\n\t\t\"./sr.js\": 2044,\n\t\t\"./ss\": 2046,\n\t\t\"./ss.js\": 2046,\n\t\t\"./sv\": 2047,\n\t\t\"./sv.js\": 2047,\n\t\t\"./sw\": 2048,\n\t\t\"./sw.js\": 2048,\n\t\t\"./ta\": 2049,\n\t\t\"./ta.js\": 2049,\n\t\t\"./te\": 2050,\n\t\t\"./te.js\": 2050,\n\t\t\"./th\": 2051,\n\t\t\"./th.js\": 2051,\n\t\t\"./tl-ph\": 2052,\n\t\t\"./tl-ph.js\": 2052,\n\t\t\"./tlh\": 2053,\n\t\t\"./tlh.js\": 2053,\n\t\t\"./tr\": 2054,\n\t\t\"./tr.js\": 2054,\n\t\t\"./tzl\": 2055,\n\t\t\"./tzl.js\": 2055,\n\t\t\"./tzm\": 2056,\n\t\t\"./tzm-latn\": 2057,\n\t\t\"./tzm-latn.js\": 2057,\n\t\t\"./tzm.js\": 2056,\n\t\t\"./uk\": 2058,\n\t\t\"./uk.js\": 2058,\n\t\t\"./uz\": 2059,\n\t\t\"./uz.js\": 2059,\n\t\t\"./vi\": 2060,\n\t\t\"./vi.js\": 2060,\n\t\t\"./x-pseudo\": 2061,\n\t\t\"./x-pseudo.js\": 2061,\n\t\t\"./zh-cn\": 2062,\n\t\t\"./zh-cn.js\": 2062,\n\t\t\"./zh-hk\": 2063,\n\t\t\"./zh-hk.js\": 2063,\n\t\t\"./zh-tw\": 2064,\n\t\t\"./zh-tw.js\": 2064\n\t};\n\tfunction webpackContext(req) {\n\t\treturn __webpack_require__(webpackContextResolve(req));\n\t};\n\tfunction webpackContextResolve(req) {\n\t\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n\t};\n\twebpackContext.keys = function webpackContextKeys() {\n\t\treturn Object.keys(map);\n\t};\n\twebpackContext.resolve = webpackContextResolve;\n\tmodule.exports = webpackContext;\n\twebpackContext.id = 1960;\n\n\n/***/ },\n\n/***/ 2068:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t// const SearchBar = Platform.OS === 'android' ? null : require('react-native-search-bar')\n\tvar SearchBar = _reactNative.Platform.OS !== 'ios' ? null : __webpack_require__(2069);\n\tvar translate = __webpack_require__(935).translate;\n\t\n\tvar EnumList = function (_Component) {\n\t  _inherits(EnumList, _Component);\n\t\n\t  function EnumList(props) {\n\t    _classCallCheck(this, EnumList);\n\t\n\t    var _this = _possibleConstructorReturn(this, (EnumList.__proto__ || Object.getPrototypeOf(EnumList)).call(this, props));\n\t\n\t    var dataSource = new _reactNative.ListView.DataSource({\n\t      rowHasChanged: function rowHasChanged(row1, row2) {\n\t        return row1 !== row2;\n\t      }\n\t    });\n\t    _this.state = {\n\t      dataSource: dataSource.cloneWithRows(_this.props.enumProp.oneOf),\n\t      filter: ''\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(EnumList, [{\n\t    key: 'selectResource',\n\t    value: function selectResource(resource) {\n\t      this.props.callback(this.props.prop.name, this.props.enumProp.name, resource); // HACK for now\n\t      this.props.navigator.popToRoute(this.props.returnRoute);\n\t      return;\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var content = _react2.default.createElement(_reactNative.ListView, {\n\t        dataSource: this.state.dataSource,\n\t        renderRow: this.renderRow.bind(this),\n\t        automaticallyAdjustContentInsets: false,\n\t        removeClippedSubviews: false,\n\t        keyboardDismissMode: 'on-drag',\n\t        keyboardShouldPersistTaps: true,\n\t        initialListSize: 10,\n\t        pageSize: 20,\n\t        scrollRenderAhead: 10,\n\t        showsVerticalScrollIndicator: false });\n\t      var searchBar;\n\t      if (SearchBar) {\n\t        searchBar = _react2.default.createElement(SearchBar, {\n\t          onChangeText: this.onSearchChange.bind(this),\n\t          placeholder: translate('search'),\n\t          showsCancelButton: false,\n\t          hideBackground: true\n\t        });\n\t      }\n\t\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: styles.container },\n\t        searchBar,\n\t        _react2.default.createElement(_reactNative.View, { style: styles.separator }),\n\t        content\n\t      );\n\t    }\n\t  }, {\n\t    key: 'onSearchChange',\n\t    value: function onSearchChange(filter) {\n\t      var vals = this.props.enumProp.oneOf;\n\t      var list = vals.filter(function (s) {\n\t        return Object.keys(s)[0].indexOf(filter) === -1 ? false : true;\n\t      });\n\t      this.setState({ filter: filter, dataSource: this.state.dataSource.cloneWithRows(list) });\n\t    }\n\t  }, {\n\t    key: 'renderRow',\n\t    value: function renderRow(value) {\n\t      var label;\n\t      if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n\t        var key = Object.keys(value)[0];\n\t        label = key + ' ' + value[key];\n\t      } else label = value;\n\t\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: { padding: 5 } },\n\t        _react2.default.createElement(\n\t          _reactNative.TouchableHighlight,\n\t          { underlayColor: 'transparent', onPress: this.selectResource.bind(this, value) },\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: styles.row },\n\t            _react2.default.createElement(\n\t              _reactNative.View,\n\t              { style: styles.textContainer },\n\t              _react2.default.createElement(\n\t                _reactNative.Text,\n\t                { style: styles.resourceTitle },\n\t                label\n\t              )\n\t            )\n\t          )\n\t        ),\n\t        _react2.default.createElement(_reactNative.View, { style: styles.separator })\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return EnumList;\n\t}(_react.Component);\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  container: {\n\t    flex: 1,\n\t    backgroundColor: '#ffffff',\n\t    marginTop: 64\n\t  },\n\t  resourceTitle: {\n\t    fontSize: 20\n\t  },\n\t  separator: {\n\t    height: 0.5,\n\t    backgroundColor: '#eeeeee'\n\t  },\n\t  row: {\n\t    flexDirection: 'row',\n\t    padding: 10\n\t  },\n\t  textContainer: {\n\t    flex: 1\n\t  }\n\t});\n\t\n\tmodule.exports = EnumList;\n\n/***/ },\n\n/***/ 2069:\n831,\n\n/***/ 2071:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Camera = __webpack_require__(2072);\n\tvar Icon = __webpack_require__(1541);\n\t\n\tvar CameraView = function (_Component) {\n\t  _inherits(CameraView, _Component);\n\t\n\t  function CameraView(props) {\n\t    _classCallCheck(this, CameraView);\n\t\n\t    var _this = _possibleConstructorReturn(this, (CameraView.__proto__ || Object.getPrototypeOf(CameraView)).call(this, props));\n\t\n\t    _this.state = {\n\t      cameraType: Camera.constants.Type.back\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(CameraView, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: styles.container },\n\t        _react2.default.createElement(\n\t          Camera,\n\t          {\n\t            ref: 'cam',\n\t            captureTarget: Camera.constants.CaptureTarget.cameraRoll,\n\t            captureMode: Camera.constants.CaptureMode.video,\n\t            style: styles.container,\n\t            onBarCodeRead: this._onBarCodeRead.bind(this),\n\t            type: this.state.cameraType },\n\t          _react2.default.createElement(\n\t            _reactNative.TouchableHighlight,\n\t            { onPress: this._switchCamera.bind(this) },\n\t            _react2.default.createElement(Icon, { name: 'ios-reverse-camera', size: 50, color: '#eeeeee' })\n\t          )\n\t        ),\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: { backgroundColor: '#000000', paddingTop: 7, height: 125, alignSelf: 'stretch' } },\n\t          _react2.default.createElement(\n\t            _reactNative.TouchableHighlight,\n\t            { onPress: this._takePicture.bind(this) },\n\t            _react2.default.createElement(Icon, { name: 'ios-radio-button-on', size: 85, color: '#eeeeee', style: styles.icon })\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }, {\n\t    key: '_onBarCodeRead',\n\t    value: function _onBarCodeRead(e) {\n\t      console.log(e);\n\t    }\n\t  }, {\n\t    key: '_switchCamera',\n\t    value: function _switchCamera() {\n\t      var state = this.state;\n\t      state.cameraType = state.cameraType === Camera.constants.Type.back ? Camera.constants.Type.front : Camera.constants.Type.back;\n\t      this.setState(state);\n\t    }\n\t  }, {\n\t    key: '_takePicture',\n\t    value: function _takePicture() {\n\t      var self = this;\n\t      this.refs.cam.capture(function (err, data) {\n\t        console.log(err, data);\n\t        self.props.onTakePic(data);\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return CameraView;\n\t}(_react.Component);\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  container: {\n\t    flex: 1,\n\t    justifyContent: 'center',\n\t    alignItems: 'center',\n\t    alignSelf: 'stretch',\n\t    backgroundColor: 'transparent'\n\t  },\n\t  icon: {\n\t    width: 85,\n\t    height: 85,\n\t    marginTop: 2,\n\t    alignSelf: 'center'\n\t  }\n\t});\n\t\n\tmodule.exports = Camera && CameraView;\n\n/***/ },\n\n/***/ 2072:\n831,\n\n/***/ 2073:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _reactNativeImagePicker = __webpack_require__(1950);\n\t\n\tvar _reactNativeImagePicker2 = _interopRequireDefault(_reactNativeImagePicker);\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _platform = __webpack_require__(1674);\n\t\n\tvar _platform2 = _interopRequireDefault(_platform);\n\t\n\tvar _ImageInput = __webpack_require__(1951);\n\t\n\tvar _ImageInput2 = _interopRequireDefault(_ImageInput);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar PhotoList = __webpack_require__(1711);\n\tvar PageView = __webpack_require__(1722);\n\tvar utils = __webpack_require__(935);\n\tvar translate = utils.translate;\n\t\n\tvar extend = __webpack_require__(1705);\n\tvar equal = __webpack_require__(721);\n\tvar Icon = __webpack_require__(1541);\n\tvar constants = __webpack_require__(1348);\n\t// import ActionSheet from 'react-native-actionsheet'\n\t\n\tvar GridItemsList = function (_Component) {\n\t  _inherits(GridItemsList, _Component);\n\t\n\t  function GridItemsList(props) {\n\t    _classCallCheck(this, GridItemsList);\n\t\n\t    var _this = _possibleConstructorReturn(this, (GridItemsList.__proto__ || Object.getPrototypeOf(GridItemsList)).call(this, props));\n\t\n\t    _this.state = {\n\t      list: _this.props.list,\n\t      show: false\n\t    };\n\t    var currentRoutes = _this.props.navigator.getCurrentRoutes();\n\t    var currentRoutesLength = currentRoutes.length;\n\t    currentRoutes[currentRoutesLength - 1].onRightButtonPress = function () {\n\t      props.callback(props.prop, _this.state.list);\n\t      props.navigator.popToRoute(props.returnRoute);\n\t    };\n\t\n\t    _this._onImage = _this._onImage.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(GridItemsList, [{\n\t    key: 'shouldComponentUpdate',\n\t    value: function shouldComponentUpdate(nextProps, nextState) {\n\t      return nextState.err || nextState.forceUpdate ||\n\t      // nextState.show !== this.state.show    ||\n\t      this.state.list.length != nextState.list.length;\n\t    }\n\t  }, {\n\t    key: 'cancelItem',\n\t    value: function cancelItem(item) {\n\t      var list = [];\n\t      extend(list, this.state.list);\n\t      for (var i = 0; i < list.length; i++) {\n\t        if (equal(list[i], item)) {\n\t          list.splice(i, 1);\n\t          break;\n\t        }\n\t      }\n\t      if (list.length !== 0) this.setState({\n\t        list: list\n\t      });else {\n\t        this.props.callback(this.props.prop, list);\n\t        this.props.navigator.popToRoute(this.props.returnRoute);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this2 = this;\n\t\n\t      var m = utils.getModel(this.props.resource[constants.TYPE]).value;\n\t      var prop = m.properties[this.props.prop];\n\t      // var buttons = [translate('addNew', prop.title), translate('cancel')]\n\t      var icon = _reactNative.Platform.OS === 'ios' ? 'md-add' : 'md-add';\n\t      var color = _reactNative.Platform.OS === 'android' ? 'red' : '#ffffff';\n\t      // let actionSheet = this.renderActionSheet(buttons)\n\t      return _react2.default.createElement(\n\t        PageView,\n\t        { style: _platform2.default.container },\n\t        _react2.default.createElement(\n\t          _reactNative.ScrollView,\n\t          { ref: 'this' },\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: { flex: 1 } },\n\t            _react2.default.createElement(PhotoList, { photos: this.state.list, forceUpdate: this.state.forceUpdate, callback: this.cancelItem.bind(this), navigator: this.props.navigator, resource: this.props.resource })\n\t          )\n\t        ),\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: styles.footer },\n\t          _react2.default.createElement(\n\t            _ImageInput2.default,\n\t            {\n\t              ref: function ref(input) {\n\t                return _this2._imageInput = input;\n\t              },\n\t              prop: prop,\n\t              underlayColor: 'transparent',\n\t              onPress: utils.isWeb() ? null : function () {\n\t                return _this2._imageInput.showImagePicker();\n\t              },\n\t              onImage: this._onImage },\n\t            _react2.default.createElement(\n\t              _reactNative.View,\n\t              { style: _platform2.default.menuButton },\n\t              _react2.default.createElement(Icon, { name: icon, size: 33, color: color })\n\t            )\n\t          )\n\t        )\n\t      );\n\t    }\n\t\n\t    // renderActionSheet(buttons) {\n\t    //   if (utils.isWeb()) return\n\t\n\t    //   return (\n\t    //     <ActionSheet\n\t    //       ref={(o) => {\n\t    //         this.ActionSheet = o\n\t    //       }}\n\t    //       options={buttons}\n\t    //       cancelButtonIndex={buttons.length - 1}\n\t    //       onPress={(index) => {\n\t    //         if (index === 0) this._imageInput.showImagePicker()\n\t    //       }}\n\t    //     />\n\t    //   )\n\t    // }\n\t\n\t    // returnIsVertical: true,\n\t    // chooseFromLibraryButtonTitle: __DEV__ ? 'Choose from Library' : null\n\t\n\t  }, {\n\t    key: '_onImage',\n\t    value: function _onImage(item) {\n\t      var l = [];\n\t      this.state.list.forEach(function (r) {\n\t        var lr = {};\n\t        extend(lr, r);\n\t        l.push(lr);\n\t      });\n\t      l.push(item);\n\t      this.props.onAddItem('photos', item);\n\t      this.setState({ list: l, forceUpdate: true });\n\t      // this.setState({resouce: resource})\n\t    }\n\t  }]);\n\t\n\t  return GridItemsList;\n\t}(_react.Component);\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  container: {\n\t    flex: 1,\n\t    marginTop: 60\n\t  },\n\t  footer: {\n\t    flexDirection: 'row',\n\t    justifyContent: 'flex-end',\n\t    height: 45,\n\t    // paddingTop: 5,\n\t    paddingHorizontal: 10,\n\t    backgroundColor: '#eeeeee',\n\t    borderColor: '#eeeeee',\n\t    borderWidth: 1,\n\t    borderTopColor: '#cccccc'\n\t  },\n\t  icon: {\n\t    marginLeft: -30,\n\t    marginTop: -25,\n\t    color: 'red'\n\t  }\n\t});\n\t\n\tmodule.exports = GridItemsList;\n\t\n\t// showMenu() {\n\t//   var m = utils.getModel(this.props.resource[constants.TYPE]).value\n\t//   var buttons = [translate('addNew', m.properties[this.props.prop].title), translate('cancel')]\n\t//   var self = this;\n\t//   ActionSheetIOS.showActionSheetWithOptions({\n\t//     options: buttons,\n\t//     cancelButtonIndex: 1\n\t//   }, function(buttonIndex) {\n\t//     switch (buttonIndex) {\n\t//     case 0:\n\t//       self.showChoice();\n\t//       break\n\t//     }\n\t//   });\n\t// }\n\n/***/ },\n\n/***/ 2074:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t\n\t  a bootstrap like style\n\t\n\t*/\n\t'use strict';\n\t\n\tvar React = __webpack_require__(319);\n\t\n\tvar LABEL_COLOR = '#000000';\n\tvar INPUT_COLOR = '#000000';\n\tvar ERROR_COLOR = '#EEF2DB';\n\tvar HELP_COLOR = '#999999';\n\tvar BORDER_COLOR = '#356D9D';\n\tvar DISABLED_COLOR = '#777777';\n\tvar DISABLED_BACKGROUND_COLOR = '#eeeeee';\n\tvar FONT_SIZE = 24;\n\tvar HELP_FONT_SIZE = 26;\n\tvar height = React.Dimensions.get('window').height < 600 ? 55 : 66;\n\t\n\tvar FONT_WEIGHT = '400';\n\t\n\tvar stylesheet = Object.freeze({\n\t  fieldset: {},\n\t  // the style applied to the container of all inputs\n\t  formGroup: {\n\t    normal: {\n\t      marginBottom: 10\n\t    },\n\t    error: {\n\t      marginBottom: 10\n\t    }\n\t  },\n\t  controlLabel: {\n\t    normal: {\n\t      color: LABEL_COLOR,\n\t      fontSize: FONT_SIZE,\n\t      marginBottom: 3,\n\t      fontWeight: FONT_WEIGHT\n\t    },\n\t    // the style applied when a validation error occours\n\t    error: {\n\t      color: ERROR_COLOR,\n\t      fontSize: HELP_FONT_SIZE,\n\t      marginBottom: 7,\n\t      fontWeight: FONT_WEIGHT\n\t    }\n\t  },\n\t  helpBlock: {\n\t    normal: {\n\t      color: HELP_COLOR,\n\t      fontSize: HELP_FONT_SIZE,\n\t      marginLeft: 10,\n\t      marginTop: 5\n\t    },\n\t    // the style applied when a validation error occours\n\t    error: {\n\t      color: HELP_COLOR,\n\t      fontSize: HELP_FONT_SIZE,\n\t      marginLeft: 10,\n\t      marginBottom: 2\n\t    }\n\t  },\n\t  errorBlock: {\n\t    fontSize: FONT_SIZE,\n\t    marginBottom: 2,\n\t    color: ERROR_COLOR\n\t  },\n\t  textbox: {\n\t    normal: {\n\t      color: '#467EAE',\n\t      // color: '#eeeeee',\n\t      fontSize: FONT_SIZE,\n\t      backgroundColor: '#ffffff',\n\t      height: height,\n\t      padding: 10,\n\t      // borderColor: BORDER_COLOR,\n\t      // borderBottomColor: BORDER_COLOR,\n\t      // borderWidth: 1,\n\t      marginBottom: 5\n\t    },\n\t    // the style applied when a validation error occours\n\t    error: {\n\t      color: INPUT_COLOR,\n\t      backgroundColor: '#ffffff',\n\t      fontSize: HELP_FONT_SIZE,\n\t      height: height,\n\t      padding: 10,\n\t      borderColor: ERROR_COLOR,\n\t      borderWidth: 1,\n\t      marginBottom: 5\n\t    },\n\t    // the style applied when the textbox is not editable\n\t    notEditable: {\n\t      fontSize: FONT_SIZE,\n\t      height: height,\n\t      padding: 7,\n\t      borderRadius: 4,\n\t      borderColor: BORDER_COLOR,\n\t      borderWidth: 1,\n\t      marginBottom: 5,\n\t      color: DISABLED_COLOR,\n\t      backgroundColor: DISABLED_BACKGROUND_COLOR\n\t    }\n\t  },\n\t  checkbox: {\n\t    normal: {\n\t      color: INPUT_COLOR,\n\t      marginBottom: 4\n\t    },\n\t    // the style applied when a validation error occours\n\t    error: {\n\t      color: INPUT_COLOR,\n\t      marginBottom: 4\n\t    }\n\t  },\n\t  select: {\n\t    normal: {\n\t      marginBottom: 4\n\t    },\n\t    // the style applied when a validation error occours\n\t    error: {\n\t      marginBottom: 4\n\t    }\n\t  },\n\t  datepicker: {\n\t    normal: {\n\t      marginBottom: 4\n\t    },\n\t    // the style applied when a validation error occours\n\t    error: {\n\t      marginBottom: 4\n\t    }\n\t  }\n\t});\n\t\n\tmodule.exports = stylesheet;\n\n/***/ },\n\n/***/ 2075:\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"_t\": \"tradle.TermsAndConditions\",\n\t\t\"introduction\": \"Morbi consectetur sagittis scelerisque. Maecenas vel urna mauris. Quisque laoreet nunc ut rhoncus sagittis. Quisque mattis sapien sit amet enim ultrices, at sodales est vestibulum. Fusce scelerisque odio quis ornare dignissim. Donec at tincidunt arcu. Nulla euismod accumsan ex eu hendrerit. Nam massa nunc, vulputate efficitur urna in, dignissim sodales massa. Nulla non sem consequat, fringilla mauris quis, convallis felis.\",\n\t\t\"intellectualPropertyRights\": \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer et mollis risus. Nunc posuere leo quis risus rutrum luctus. Maecenas sodales varius mauris, sed ullamcorper enim venenatis sed. \",\n\t\t\"restrictions\": [\n\t\t\t{\n\t\t\t\t\"text\": \"You are specifically restricted from all of the following:\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"text\": \"1. Curabitur et dictum ligula.;\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"text\": \"2. In eget dapibus nisi, eget viverra tortor;\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"text\": \"3. Integer non magna et massa posuere pretium at vitae est. \"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"text\": \"4. Consectetur adipiscing elit.;\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"text\": \"5. Quisque mattis sapien sit amet enim ultrices;\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"text\": \"6. Nunc vestibulum ultricies libero quis ultrices;\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"text\": \"7. Fusce ac massa vehicula sem varius tempor et nec erat.;\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"text\": \"8. In eget dapibus nisi, eget viverra tortor.\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"text\": \"Integer non magna et massa posuere pretium at vitae est. Nunc vestibulum ultricies libero quis ultrices. Fusce ac massa vehicula sem varius tempor et nec erat. In eget dapibus nisi, eget viverra tortor. Morbi a risus pellentesque, hendrerit ipsum ut, semper lacus. Curabitur et dictum ligula.\"\n\t\t\t}\n\t\t],\n\t\t\"limitationOfLiability\": \"Donec at felis eros. Morbi lectus dui, molestie quis varius eget, feugiat in purus. Duis lacinia vel turpis ac viverra. Donec nisl augue, egestas ac luctus eget, bibendum quis mi. Nam tincidunt lorem in neque faucibus, a venenatis urna vestibulum.\"\n\t};\n\n/***/ },\n\n/***/ 2076:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _utils = __webpack_require__(935);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar translate = _utils2.default.translate;\n\t\n\tvar NetworkInfoProvider = function (_Component) {\n\t  _inherits(NetworkInfoProvider, _Component);\n\t\n\t  function NetworkInfoProvider(props) {\n\t    _classCallCheck(this, NetworkInfoProvider);\n\t\n\t    return _possibleConstructorReturn(this, (NetworkInfoProvider.__proto__ || Object.getPrototypeOf(NetworkInfoProvider)).call(this, props));\n\t  }\n\t\n\t  _createClass(NetworkInfoProvider, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      var dn = this.props.resource ? translate('learnMoreDescriptionTo', _utils2.default.getDisplayName(this.props.resource)) : translate('learnMoreDescription');\n\t      return this.props.connected ? _react2.default.createElement(_reactNative.View, null) : _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: styles.bar },\n\t        _react2.default.createElement(\n\t          _reactNative.Text,\n\t          { style: styles.text },\n\t          translate('noNetwork')\n\t        ),\n\t        _react2.default.createElement(\n\t          _reactNative.TouchableOpacity,\n\t          { onPress: function onPress() {\n\t              return _reactNative.Alert.alert(translate('offlineMode'), dn, null);\n\t            } },\n\t          _react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: styles.text },\n\t            translate('learnMore')\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return NetworkInfoProvider;\n\t}(_react.Component);\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  bar: {\n\t    backgroundColor: '#FF9B30',\n\t    padding: 7,\n\t    flexDirection: \"row\",\n\t    justifyContent: \"space-between\"\n\t  },\n\t  text: {\n\t    fontSize: 18,\n\t    color: '#ffffff',\n\t    alignSelf: 'center',\n\t    marginHorizontal: 10\n\t  }\n\t});\n\t\n\tmodule.exports = NetworkInfoProvider;\n\n/***/ },\n\n/***/ 2077:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _reactNativeLinearGradient = __webpack_require__(1693);\n\t\n\tvar _reactNativeLinearGradient2 = _interopRequireDefault(_reactNativeLinearGradient);\n\t\n\tvar _reactNativeOrient = __webpack_require__(944);\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar utils = __webpack_require__(935);\n\tvar translate = utils.translate;\n\tvar ArticleView = __webpack_require__(1668);\n\tvar MessageView = __webpack_require__(1947);\n\tvar NewResource = __webpack_require__(1949);\n\tvar ProductChooser = __webpack_require__(2078);\n\tvar PhotoList = __webpack_require__(1711);\n\tvar Icon = __webpack_require__(1541);\n\tvar groupByEveryN = utils.groupByEveryN;\n\tvar constants = __webpack_require__(1348);\n\t\n\tvar RowMixin = __webpack_require__(1694);\n\tvar Accordion = __webpack_require__(1699);\n\tvar extend = __webpack_require__(1705);\n\tvar equal = __webpack_require__(721);\n\tvar formDefaults = __webpack_require__(1350).formDefaults;\n\tvar TradleW = __webpack_require__(2083);\n\tvar Actions = __webpack_require__(1517);\n\t\n\t\n\tvar reactMixin = __webpack_require__(1703);\n\t\n\tvar MY_PRODUCT = 'tradle.MyProduct';\n\tvar FORM_ERROR = 'tradle.FormError';\n\tvar FORM = 'tradle.Form';\n\tvar FORM_REQUEST = 'tradle.FormRequest';\n\tvar ENUM = 'tradle.Enum';\n\tvar NEXT_FORM_REQUEST = 'tradle.NextFormRequest';\n\tvar PRODUCT_APPLICATION = 'tradle.ProductApplication';\n\t\n\tvar CURRENCY_SYMBOL;\n\tvar LINK_COLOR;\n\tvar STRUCTURED_MESSAGE_COLOR;\n\t\n\tvar DEFAULT_CURRENCY_SYMBOL = '£';\n\tvar DEFAULT_LINK_COLOR = '#2892C6';\n\t\n\tvar MessageRow = function (_Component) {\n\t  _inherits(MessageRow, _Component);\n\t\n\t  function MessageRow(props) {\n\t    _classCallCheck(this, MessageRow);\n\t\n\t    var _this = _possibleConstructorReturn(this, (MessageRow.__proto__ || Object.getPrototypeOf(MessageRow)).call(this, props));\n\t\n\t    var resource = _this.props.resource;\n\t    var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n\t    var me = utils.getMe();\n\t    LINK_COLOR = _this.props.bankStyle.LINK_COLOR;\n\t    STRUCTURED_MESSAGE_COLOR = _this.props.bankStyle.STRUCTURED_MESSAGE_COLOR;\n\t    CURRENCY_SYMBOL = props.currency ? props.currency.symbol || props.currency : DEFAULT_CURRENCY_SYMBOL;\n\t    return _this;\n\t  }\n\t\n\t  _createClass(MessageRow, [{\n\t    key: 'shouldComponentUpdate',\n\t    value: function shouldComponentUpdate(nextProps, nextState) {\n\t      return !equal(this.props.resource, nextProps.resource) || !equal(this.props.to, nextProps.to) || this.props.orientation !== nextProps.orientation || this.props.sendStatus !== nextProps.sendStatus;\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var resource = this.props.resource;\n\t      var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n\t\n\t      var me = utils.getMe();\n\t\n\t      var isMyMessage = this.isMyMessage();\n\t      var to = this.props.to;\n\t      var ownerPhoto = this.getOwnerPhoto(isMyMessage);\n\t      var hasOwnerPhoto = !isMyMessage && to && to.photos;\n\t\n\t      var renderedRow = [];\n\t      var ret = this.formatRow(isMyMessage, renderedRow);\n\t      var onPressCall = ret ? ret.onPressCall : null;\n\t      var isConfirmation = ret ? ret.isConfirmation : null;\n\t      var isFormError = resource[constants.TYPE] === FORM_ERROR;\n\t\n\t      var photoUrls = [];\n\t      var photoListStyle = { height: 3 };\n\t      var addStyle, inRow;\n\t\n\t      var isProductApplication = model.id === PRODUCT_APPLICATION;\n\t      var message = isProductApplication ? ret.message : resource.message;\n\t\n\t      var noMessage = !message || !message.length;\n\t      var isSimpleMessage = resource[constants.TYPE] === constants.TYPES.SIMPLE_MESSAGE;\n\t\n\t      var isForgetting = model.id === constants.TYPES.FORGET_ME || model.id === constants.TYPES.FORGOT_YOU;\n\t      if (!renderedRow.length) {\n\t        var vCols = noMessage ? null : utils.getDisplayName(resource, model.properties);\n\t        if (vCols) renderedRow = _react2.default.createElement(\n\t          _reactNative.Text,\n\t          { style: styles.resourceTitle, numberOfLines: 2 },\n\t          vCols\n\t        );\n\t      } else {\n\t        var fromHash = resource.from.id;\n\t        if (isMyMessage) {\n\t          if (model.id === FORM_REQUEST) addStyle = [styles.myCell, { backgroundColor: '#F1FFE7', borderColor: '#D7DACA', borderWidth: 1 }];else if (!noMessage) addStyle = styles.myCell;\n\t        } else if (isForgetting) addStyle = styles.forgetCell;else {\n\t          if (isConfirmation) addStyle = [styles.verificationBody, { borderColor: '#cccccc', backgroundColor: this.props.bankStyle.CONFIRMATION_BG }, styles.myConfCell];else {\n\t            var borderColor = isFormError ? this.props.bankStyle.REQUEST_FULFILLED : '#efefef';\n\t            var mstyle = {\n\t              borderColor: borderColor,\n\t              backgroundColor: '#ffffff',\n\t              borderTopLeftRadius: 0\n\t            };\n\t            addStyle = isSimpleMessage && message.length < 30 ? [styles.verificationBody, mstyle] : [styles.verificationBody, { flex: 1 }, mstyle];\n\t          }\n\t        }\n\t        if (isFormError) addStyle = [addStyle, styles.verificationBody, { backgroundColor: this.props.bankStyle.FORM_ERROR_BG, borderColor: resource.documentCreated ? this.props.bankStyle.REQUEST_FULFILLED : this.props.bankStyle.FORM_ERROR_BORDER }]; //model.style];\n\t        if (isMyMessage && !isSimpleMessage && !isFormError && !model.id === FORM_REQUEST) addStyle = [addStyle, styles.verificationBody, { backgroundColor: STRUCTURED_MESSAGE_COLOR, borderColor: '#C1E3E8' }]; //model.style];\n\t      }\n\t      var properties = model.properties;\n\t      var verPhoto;\n\t      if (properties.photos) {\n\t        if (resource.photos) {\n\t          var len = resource.photos.length;\n\t          inRow = len === 1 ? 1 : len == 2 || len == 4 ? 2 : 3;\n\t          var style;\n\t          if (inRow === 1) style = styles.bigImage;else if (inRow === 2) style = styles.mediumImage;else style = styles.image;\n\t          resource.photos.forEach(function (p) {\n\t            photoUrls.push({ url: utils.getImageUri(p.url) });\n\t          });\n\t\n\t          photoListStyle = {\n\t            flexDirection: 'row',\n\t            alignSelf: isMyMessage ? 'flex-end' : 'flex-start',\n\t            marginLeft: isMyMessage ? 30 : 45, //(hasOwnerPhoto ? 45 : 10),\n\t            borderRadius: 10,\n\t            marginBottom: 3\n\t          };\n\t        } else verPhoto = _react2.default.createElement(_reactNative.View, { style: { height: 0, width: 0 } });\n\t      }\n\t      var rowStyle = [styles.row, { backgroundColor: this.props.bankStyle.BACKGROUND_COLOR }];\n\t      var val = this.getTime(resource);\n\t      var date = val ? _react2.default.createElement(\n\t        _reactNative.Text,\n\t        { style: styles.date, numberOfLines: 1 },\n\t        val\n\t      ) : _react2.default.createElement(_reactNative.View, null);\n\t\n\t      var showMessageBody;\n\t      if (noMessage) {\n\t        if (hasOwnerPhoto) showMessageBody = true;else if (!model.properties['message']) showMessageBody = true;\n\t      } else showMessageBody = true;\n\t      var messageBody;\n\t      var w = utils.dimensions(MessageRow).width;\n\t      var sendStatus = _react2.default.createElement(_reactNative.View, null);\n\t      // HACK that solves the case when the message is short and we don't want it to be displayed\n\t      // in a bigger than needed bubble\n\t      if (message && !isProductApplication) {\n\t        var parts = utils.splitMessage(message);\n\t        if (parts.length == 2) message = parts[0].length > parts[1].length ? parts[0] : parts[1];else message = parts[0];\n\t        var strName = utils.getStringName(message);\n\t        if (strName) message = translate(strName);\n\t        if (resource.form) {\n\t          var formTitle = translate(resource.form);\n\t          if (formTitle.length > message.length) message = formTitle;\n\t        }\n\t      }\n\t      // HACK\n\t      var msgWidth = w * 0.8;\n\t      var numberOfCharsInWidth = msgWidth / utils.getFontSize(10);\n\t\n\t      var longMessage = isSimpleMessage && message ? numberOfCharsInWidth < message.length : false;\n\t      if (showMessageBody) {\n\t        var viewStyle = { flexDirection: 'row', alignSelf: isMyMessage ? 'flex-end' : 'flex-start' };\n\t        if (message) {\n\t          if (message.charAt(0) === '[' || longMessage) viewStyle.width = msgWidth; //isMyMessage || !hasOwnerPhoto ? w - 70 : w - 50;\n\t        }\n\t        if (!isSimpleMessage) viewStyle.width = message ? Math.min(msgWidth, message.length * utils.getFontSize(10) + 40) : msgWidth;\n\t\n\t        if (this.props.sendStatus && this.props.sendStatus !== null) {\n\t          switch (this.props.sendStatus) {\n\t            case 'Sent':\n\t              sendStatus = _react2.default.createElement(\n\t                _reactNative.View,\n\t                { style: styles.sendStatus },\n\t                _react2.default.createElement(\n\t                  _reactNative.Text,\n\t                  { style: styles.sendStatusText },\n\t                  this.props.sendStatus\n\t                ),\n\t                _react2.default.createElement(Icon, { name: 'ios-checkmark-outline', size: 15, color: '#009900' })\n\t              );\n\t              break;\n\t            default:\n\t              sendStatus = _react2.default.createElement(\n\t                _reactNative.View,\n\t                { style: styles.sendStatus },\n\t                _react2.default.createElement(\n\t                  _reactNative.Text,\n\t                  { style: styles.sendStatusDefaultText },\n\t                  this.props.sendStatus\n\t                )\n\t              );\n\t              break;\n\t          }\n\t        }\n\t        var sealedStatus = resource.txId ? _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: styles.sealedStatus },\n\t          _react2.default.createElement(Icon, { name: 'ios-ribbon', size: 30, color: '#316A99', style: { opacity: 0.5 } })\n\t        ) : _react2.default.createElement(_reactNative.View, null);\n\t\n\t        var cellStyle = void 0;\n\t        if (addStyle) {\n\t          if ( /*hasOwnerPhoto  ||  */!isSimpleMessage || longMessage) cellStyle = [styles.textContainer, addStyle];else cellStyle = addStyle;\n\t        } else cellStyle = styles.textContainer;\n\t        messageBody = _react2.default.createElement(\n\t          _reactNative.TouchableHighlight,\n\t          { onPress: onPressCall ? onPressCall : function () {}, underlayColor: 'transparent' },\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: [rowStyle, viewStyle] },\n\t            _react2.default.createElement(\n\t              _reactNative.View,\n\t              { style: { marginTop: 2 } },\n\t              ownerPhoto\n\t            ),\n\t            _react2.default.createElement(\n\t              _reactNative.View,\n\t              { style: cellStyle },\n\t              _react2.default.createElement(\n\t                _reactNative.View,\n\t                { style: styles.container },\n\t                this.isShared() ? _react2.default.createElement(\n\t                  _reactNative.View,\n\t                  { style: [styles.verifiedHeader, { backgroundColor: this.props.bankStyle.SHARED_WITH_BG }] },\n\t                  _react2.default.createElement(\n\t                    _reactNative.Text,\n\t                    { style: { color: '#ffffff', fontSize: 18 } },\n\t                    translate('youShared', resource.to.organization.title)\n\t                  )\n\t                ) : _react2.default.createElement(_reactNative.View, null),\n\t                renderedRow\n\t              ),\n\t              sealedStatus\n\t            )\n\t          )\n\t        );\n\t      } else messageBody = _react2.default.createElement(_reactNative.View, { style: { height: 5 } });\n\t\n\t      var len = photoUrls.length;\n\t      var inRow = len === 1 ? 1 : len == 2 || len == 4 ? 2 : 3;\n\t      var photoStyle = {};\n\t      // var height;\n\t\n\t      if (inRow > 0) {\n\t        if (inRow === 1) {\n\t          var ww = Math.max(240, msgWidth / 2);\n\t          var hh = ww * 280 / 240;\n\t          photoStyle = [styles.bigImage, {\n\t            width: ww,\n\t            height: hh\n\t          }];\n\t        } else if (inRow === 2) photoStyle = styles.mediumImage;else photoStyle = styles.image;\n\t      }\n\t\n\t      var viewStyle = { margin: 1, backgroundColor: '#f7f7f7' };\n\t      var model = utils.getModel(this.props.resource[constants.TYPE]).value;\n\t      var isLicense = model.id.indexOf('License') !== -1 || model.id.indexOf('Passport') !== -1;\n\t      var photoStyle = isLicense && len === 1 ? styles.bigImageH : photoStyle;\n\t      var shareables = resource.documentCreated || model.id !== FORM_REQUEST ? _react2.default.createElement(_reactNative.View, null) : this.showShareableResources(rowStyle, viewStyle, addStyle);\n\t      // <View style={viewStyle} ref={resource[constants.ROOT_HASH]}>\n\t\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: [viewStyle, { backgroundColor: this.props.bankStyle.BACKGROUND_COLOR }] },\n\t        date,\n\t        messageBody,\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: photoListStyle },\n\t          _react2.default.createElement(PhotoList, { photos: photoUrls, resource: this.props.resource, style: [photoStyle, { marginTop: -5 }], navigator: this.props.navigator, numberInRow: inRow })\n\t        ),\n\t        sendStatus,\n\t        shareables\n\t      );\n\t    }\n\t  }, {\n\t    key: 'isShared',\n\t    value: function isShared() {\n\t      var resource = this.props.resource;\n\t      var to = this.props.to;\n\t      var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n\t      if (model.subClassOf !== constants.TYPES.FORM || !resource.to.organization) return false;\n\t      return utils.getId(resource.to.organization) !== utils.getId(to);\n\t    }\n\t  }, {\n\t    key: 'editVerificationRequest',\n\t    value: function editVerificationRequest() {\n\t      var resource = this.props.resource.document;\n\t      var rmodel = utils.getModel(resource[constants.TYPE]).value;\n\t      var title = utils.getDisplayName(resource, rmodel.properties);\n\t      this.props.navigator.push({\n\t        title: title,\n\t        id: 4,\n\t        component: NewResource,\n\t        // titleTextColor: '#999999',\n\t        backButtonTitle: translate('back'),\n\t        rightButtonTitle: translate('done'),\n\t        passProps: {\n\t          model: rmodel,\n\t          resource: resource,\n\t          additionalInfo: this.props.resource,\n\t          editCols: ['photos']\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'showEditResource',\n\t    value: function showEditResource() {\n\t      var errs = {};\n\t      var r = this.props.resource.prefill;\n\t      if (Array.isArray(this.props.resource.errors)) {\n\t        var _iteratorNormalCompletion = true;\n\t        var _didIteratorError = false;\n\t        var _iteratorError = undefined;\n\t\n\t        try {\n\t          for (var _iterator = this.props.resource.errors[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t            var p = _step.value;\n\t\n\t            errs[p.name] = p.error;\n\t          }\n\t        } catch (err) {\n\t          _didIteratorError = true;\n\t          _iteratorError = err;\n\t        } finally {\n\t          try {\n\t            if (!_iteratorNormalCompletion && _iterator.return) {\n\t              _iterator.return();\n\t            }\n\t          } finally {\n\t            if (_didIteratorError) {\n\t              throw _iteratorError;\n\t            }\n\t          }\n\t        }\n\t      } else errs = this.props.resource.errors;\n\t\n\t      var me = utils.getMe();\n\t      r.from = {\n\t        id: utils.getId(me),\n\t        title: utils.getDisplayName(me)\n\t      };\n\t      r.to = this.props.resource.from;\n\t\n\t      // Prefill for testing and demoing\n\t      // var isPrefilled = model.id in formDefaults\n\t      // if (isPrefilled)\n\t      //   extend(true, resource, formDefaults[model.id])\n\t      var type = r[constants.TYPE] || utils.getId(r).split('_')[0];\n\t      var model = utils.getModel(type).value;\n\t      this.props.navigator.push({\n\t        id: 4,\n\t        title: translate(model),\n\t        rightButtonTitle: translate('done'),\n\t        backButtonTitle: translate('back'),\n\t        component: NewResource,\n\t        // titleTextColor: '#7AAAC3',\n\t        passProps: {\n\t          model: model,\n\t          resource: r,\n\t          isPrefilled: true,\n\t          errs: errs,\n\t          currency: this.props.currency,\n\t          bankStyle: this.props.bankStyle,\n\t          originatingMessage: this.props.resource\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'showShareableResources',\n\t    value: function showShareableResources(rowStyle, viewStyle, addStyle) {\n\t      var _this2 = this;\n\t\n\t      if (!this.props.shareableResources) // || !this.props.resource.message)\n\t        return _react2.default.createElement(_reactNative.View, null);\n\t\n\t      var resource = this.props.resource;\n\t      // var msgParts = utils.splitMessage(resource.message);\n\t      // // Case when the needed form was sent along with the message\n\t      // if (msgParts.length != 2)\n\t      //   return <View/>\n\t\n\t      // var msgModel = utils.getModel(msgParts[1]);\n\t      var formModel = utils.getModel(resource.form).value;\n\t      var isMultientryForm = isMultientry(resource);\n\t      var entries = isMultientryForm && this.props.productToForms[resource.product] ? this.props.productToForms[resource.product][resource.form] : null;\n\t      // if (!formModel)\n\t      //   return <View/>;\n\t      // formModel = formModel.value;\n\t      var vtt = [];\n\t      var cnt = 0;\n\t      var chatOrg = this.props.to[constants.TYPE] === constants.TYPES.ORGANIZATION && utils.getId(this.props.to);\n\t      for (var t in this.props.shareableResources) {\n\t        if (t === formModel.id) {\n\t          var ver = this.props.shareableResources[t];\n\t          var r = ver[0];\n\t          var totalShareables = ver.length;\n\t          ver.forEach(function (r) {\n\t            if (entries && (entries.indexOf(utils.getId(r.document)) !== -1 || entries.indexOf(r.document[constants.NONCE]) !== -1)) return;\n\t            // if (chatOrg  &&  utils.getId(r.organization) === chatOrg) {\n\t            //   totalShareables--\n\t            //   return\n\t            // }\n\t            // if (!cnt) {x\n\t            var vModel = utils.getModel(r[constants.TYPE]);\n\t            var doc = _this2.formatDocument(formModel, r, null, totalShareables > 1);\n\t            if (cnt) {\n\t              doc = _react2.default.createElement(\n\t                _reactNative.View,\n\t                { key: _this2.getNextKey() },\n\t                _react2.default.createElement(_reactNative.View, { style: { height: 1, backgroundColor: '#dddddd' } }),\n\t                doc\n\t              );\n\t            }\n\t            // }\n\t            vtt.push(doc);\n\t            cnt++;\n\t          });\n\t        }\n\t      }\n\t      if (!vtt.length) return _react2.default.createElement(_reactNative.View, null);\n\t\n\t      var modelTitle = translate(formModel);\n\t      var idx = modelTitle.indexOf('Verification');\n\t      var docType;\n\t      if (idx === -1) docType = modelTitle;else docType = modelTitle.substring(0, idx) + (modelTitle.length === idx + 12 ? '' : modelTitle.substring(idx + 12));\n\t\n\t      var org = this.props.to.organization ? this.props.to.organization.title + '.' : this.props.to.name;\n\t      var msg = vtt.length === 1 ? formModel.subClassOf === MY_PRODUCT ? translate('shareMyProduct', translate(formModel), org) : translate('shareOne', utils.getMe().firstName, docType, org) : translate('shareOneOfMany', utils.getMe().firstName, docType, org);\n\t\n\t      var w = utils.dimensions(MessageRow).width * 0.8;\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: [rowStyle, viewStyle, { width: w }], key: this.getNextKey() },\n\t        _react2.default.createElement(_reactNative.View, { style: { width: 30 } }),\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: [addStyle ? [styles.textContainer, addStyle] : styles.textContainer] },\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: { flex: 1 } },\n\t            _react2.default.createElement(\n\t              _reactNative.View,\n\t              { style: styles.assistentBox },\n\t              _react2.default.createElement(\n\t                _reactNative.Text,\n\t                { style: styles.assistentText },\n\t                msg\n\t              )\n\t            ),\n\t            vtt\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }, {\n\t    key: 'onPress',\n\t    value: function onPress(event) {\n\t      this.props.navigator.push({\n\t        id: 7,\n\t        component: ArticleView,\n\t        passProps: { url: this.props.resource.message }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'createNewResource',\n\t    value: function createNewResource(model, isMyMessage) {\n\t      var resource = {\n\t        'from': this.props.resource.to,\n\t        'to': this.props.resource.from\n\t      };\n\t      if (this.props.resource[constants.TYPE] !== FORM_REQUEST) resource.message = this.props.resource.message;\n\t      resource[constants.TYPE] = model.id;\n\t\n\t      // Prefill for testing and demoing\n\t      var isPrefilled = (false) && model.id in formDefaults;\n\t      if (isPrefilled) extend(true, resource, formDefaults[model.id]);\n\t\n\t      this.props.navigator.push({\n\t        id: 4,\n\t        title: translate(model),\n\t        rightButtonTitle: isMyMessage ? null : translate('done'),\n\t        backButtonTitle: translate('back'),\n\t        component: NewResource,\n\t        // titleTextColor: '#7AAAC3',\n\t        passProps: {\n\t          model: model,\n\t          resource: resource,\n\t          isPrefilled: isPrefilled,\n\t          currency: this.props.currency,\n\t          bankStyle: this.props.bankStyle,\n\t          originatingMessage: this.props.resource\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'verify',\n\t    value: function verify(event) {\n\t      var resource = this.props.resource;\n\t      var isVerification = resource[constants.TYPE] === constants.TYPES.VERIFICATION;\n\t      var r = isVerification ? resource.document : resource;\n\t\n\t      var passProps = {\n\t        resource: r,\n\t        bankStyle: this.props.bankStyle,\n\t        currency: this.props.currency\n\t      };\n\t      if (!isVerification) passProps.verify = true;else passProps.verification = resource;\n\t\n\t      var model = utils.getModel(r[constants.TYPE]).value;\n\t      var route = {\n\t        id: 5,\n\t        component: MessageView,\n\t        backButtonTitle: translate('back'),\n\t        passProps: passProps,\n\t        title: translate(model)\n\t      };\n\t      if (this.isMyMessage()) {\n\t        route.rightButtonTitle = translate('edit');\n\t        route.onRightButtonPress = {\n\t          title: translate('edit'),\n\t          component: NewResource,\n\t          // titleTextColor: '#7AAAC3',\n\t          id: 4,\n\t          passProps: {\n\t            resource: r,\n\t            metadata: model,\n\t            bankStyle: this.props.bankStyle,\n\t            currency: this.props.currency,\n\t            callback: this.props.onSelect.bind(this, r)\n\t          }\n\t        };\n\t      }\n\t      this.props.navigator.push(route);\n\t    }\n\t  }, {\n\t    key: 'formatRow',\n\t    value: function formatRow(isMyMessage, renderedRow) {\n\t      var resource = this.props.resource;\n\t      var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n\t\n\t      if (model.id === PRODUCT_APPLICATION) {\n\t        var msgModel = utils.getModel(resource.product).value;\n\t        var str = !this.props.navigator.isConnected && this.props.isLast ? translate('noConnectionForNewProduct', utils.getMe().firstName, translate(msgModel)) : translate('newProductMsg', translate(msgModel));\n\t        var color = isMyMessage ? '#ffffff' : '#757575';\n\t        var _msg = !this.props.navigator.isConnected && this.props.isLast ? _react2.default.createElement(\n\t          _reactNative.View,\n\t          { key: this.getNextKey() },\n\t          _react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: [styles.resourceTitle, { color: color }] },\n\t            str\n\t          )\n\t        ) : _react2.default.createElement(\n\t          _reactNative.View,\n\t          { key: this.getNextKey(), style: { flexDirection: 'row' } },\n\t          _react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: [styles.resourceTitle, { color: '#ffffff', marginTop: 3, paddingRight: 10 }] },\n\t            str\n\t          ),\n\t          _react2.default.createElement(Icon, { name: 'ios-folder-open-outline', size: 25, color: '#ffffff', style: { position: 'absolute', right: 0 } })\n\t        );\n\t        renderedRow.push(_msg);\n\t        return { message: str };\n\t      }\n\t      var isProductList = model.id === constants.TYPES.PRODUCT_LIST;\n\t      if (isProductList) {\n\t        // Case when the needed form was sent along with the message\n\t        if (resource.welcome) {\n\t          var _msg2 = _react2.default.createElement(\n\t            _reactNative.View,\n\t            { key: this.getNextKey() },\n\t            _react2.default.createElement(\n\t              _reactNative.Text,\n\t              { style: styles.resourceTitle },\n\t              translate('hello', utils.getMe().firstName)\n\t            ),\n\t            _react2.default.createElement(\n\t              _reactNative.View,\n\t              { style: styles.rowContainer },\n\t              _react2.default.createElement(\n\t                _reactNative.Text,\n\t                { style: [styles.resourceTitle, { color: LINK_COLOR }] },\n\t                translate('listOfProducts'),\n\t                ' '\n\t              ),\n\t              _react2.default.createElement(Icon, { style: { color: LINK_COLOR }, size: 20, name: 'ios-arrow-forward' })\n\t            )\n\t          );\n\t          renderedRow.push(_msg2);\n\t          return { onPressCall: this.onChooseProduct.bind(this, true) };\n\t        }\n\t      }\n\t      var isSelfIntroduction = model.id === constants.TYPES.SELF_INTRODUCTION;\n\t      var isCustomerWaiting = model.id === constants.TYPES.CUSTOMER_WAITING;\n\t      if (isSelfIntroduction || isCustomerWaiting) {\n\t        var _msg3 = _react2.default.createElement(\n\t          _reactNative.View,\n\t          { key: this.getNextKey() },\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: styles.rowContainer },\n\t            _react2.default.createElement(\n\t              _reactNative.Text,\n\t              { style: [styles.resourceTitle, { color: isMyMessage ? '#ffffff' : '#757575' }] },\n\t              resource.message\n\t            ),\n\t            _react2.default.createElement(Icon, { style: { color: LINK_COLOR, backgroundColor: 'transparent', paddingLeft: 5 }, size: 20, name: 'ios-person' })\n\t          )\n\t        );\n\t        renderedRow.push(_msg3);\n\t        return null;\n\t        // return {onPressCall: this.addContact.bind(this)}\n\t      }\n\t      var isForgetting = model.id === constants.TYPES.FORGET_ME || model.id === constants.TYPES.FORGOT_YOU;\n\t      if (isForgetting) {\n\t        var _msg4 = _react2.default.createElement(\n\t          _reactNative.View,\n\t          { key: this.getNextKey() },\n\t          _react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: [styles.resourceTitle, { fontSize: 18, color: '#ffffff' }], key: this.getNextKey() },\n\t            resource.message\n\t          )\n\t        );\n\t        renderedRow.push(_msg4);\n\t        return null;\n\t      }\n\t      if (model.id === FORM_REQUEST) {\n\t        if (!resource.product || utils.getModel(resource.product).value.subClassOf !== MY_PRODUCT) return { onPressCall: this.formRequest(resource, renderedRow) };else return;\n\t      }\n\t\n\t      var viewCols = model.gridCols || model.viewCols;\n\t      if (!viewCols) return;\n\t      var isFormError = model.id === FORM_ERROR;\n\t      var first = true;\n\t      var self = this;\n\t\n\t      var properties = model.properties;\n\t      var noMessage = !resource.message || !resource.message.length;\n\t      var onPressCall;\n\t\n\t      var isMyProduct = model.subClassOf === MY_PRODUCT;\n\t      var isSimpleMessage = model.id === constants.TYPES.SIMPLE_MESSAGE;\n\t      var cnt = 0;\n\t      var isConfirmation;\n\t      var self = this;\n\t\n\t      var vCols = [];\n\t      viewCols.forEach(function (v) {\n\t        if (properties[v].type === 'array' || properties[v].type === 'date') return;\n\t\n\t        if (properties[v].ref) {\n\t          if (resource[v]) {\n\t            vCols.push(self.getPropRow(properties[v], resource, resource[v].title || resource[v]));\n\t            first = false;\n\t          }\n\t          return;\n\t        }\n\t        var style = isSimpleMessage || isFormError ? styles.resourceTitle : styles.description; //resourceTitle; //(first) ? styles.resourceTitle : styles.description;\n\t        if (isMyMessage) style = [style, { justifyContent: 'flex-end', color: isMyProduct ? '#2892C6' : '#ffffff' }];\n\t\n\t        if (resource[v] && properties[v].type === 'string' && (resource[v].indexOf('http://') == 0 || resource[v].indexOf('https://') == 0)) {\n\t          onPressCall = self.onPress.bind(self);\n\t          vCols.push(_react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: style, numberOfLines: first ? 2 : 1, key: self.getNextKey() },\n\t            resource[v]\n\t          ));\n\t        } else if (isFormError) {\n\t          var rtype = resource.prefill[constants.TYPE] ? resource.prefill[constants.TYPE] : utils.getId(resource.prefill).split('_')[0];\n\t          var iconName = resource.documentCreated ? 'ios-done-all' : 'ios-information-circle-outline';\n\t          var iconSize = 30;\n\t          vCols.push(_react2.default.createElement(\n\t            _reactNative.View,\n\t            { key: self.getNextKey() },\n\t            _react2.default.createElement(\n\t              _reactNative.Text,\n\t              { style: [style, { color: '#757575' }] },\n\t              isMyMessage ? translate('errorNotification') : resource[v],\n\t              ' '\n\t            ),\n\t            _react2.default.createElement(\n\t              _reactNative.Text,\n\t              { style: [style, { color: resource.documentCreated ? '#757575' : self.props.bankStyle.FORM_ERROR_COLOR }] },\n\t              translate(utils.getModel(rtype).value)\n\t            ),\n\t            _react2.default.createElement(Icon, { name: iconName, size: iconSize, color: resource.documentCreated ? self.props.bankStyle.REQUEST_FULFILLED : self.props.bankStyle.FORM_ERROR_COLOR, style: styles.errorBadge })\n\t          ));\n\t        } else if (!model.autoCreate) {\n\t          var val = properties[v].displayAs ? utils.templateIt(properties[v], resource) : properties[v].type === 'boolean' ? resource[v] ? 'Yes' : 'No' : resource[v];\n\t\n\t          if (!val) return;\n\t          if (model.properties.verifications && !isMyMessage) onPressCall = self.verify.bind(self);\n\t          if (!isMyMessage) style = [style, { paddingBottom: 10, color: '#2892C6' }];\n\t          vCols.push(self.getPropRow(properties[v], resource, val));\n\t        } else {\n\t          if (!resource[v] || !resource[v].length) return;\n\t          var msgParts = utils.splitMessage(resource[v]);\n\t          // Case when the needed form was sent along with the message\n\t          if (msgParts.length === 2) {\n\t            if (resource.welcome) {\n\t              msg = _react2.default.createElement(\n\t                _reactNative.View,\n\t                { key: self.getNextKey() },\n\t                _react2.default.createElement(\n\t                  _reactNative.Text,\n\t                  { style: style },\n\t                  msgParts[0]\n\t                ),\n\t                _react2.default.createElement(\n\t                  _reactNative.View,\n\t                  { style: styles.rowContainer },\n\t                  _react2.default.createElement(\n\t                    _reactNative.Text,\n\t                    { style: [style, { color: isMyMessage ? STRUCTURED_MESSAGE_COLOR : isMyMessage ? self.props.bankStyle.MY_MESSAGE_LINK_COLOR : LINK_COLOR }] },\n\t                    msgParts[1],\n\t                    ' '\n\t                  ),\n\t                  _react2.default.createElement(Icon, { style: { color: LINK_COLOR }, size: 20, name: 'ios-arrow-forward' })\n\t                )\n\t              );\n\t              vCols.push(msg);\n\t              onPressCall = self.onChooseProduct.bind(self, true);\n\t              return;\n\t            }\n\t            var s = msgParts[1].split('_');\n\t            var msgModel = utils.getModel(s[0]);\n\t            var _color = void 0,\n\t                link = void 0;\n\t            if (msgModel) {\n\t              if (self.props.shareableResources && !isSimpleMessage) style = /*isSimpleMessage ? styles.resourceTitle : */styles.description;\n\t              msgModel = msgModel.value;\n\t              var shareMyProduct = msgModel.subClassOf === MY_PRODUCT;\n\t              if (shareMyProduct) {\n\t                _color = { color: '#aaaaaa' };\n\t                onPressCall = null;\n\t                link = _react2.default.createElement(\n\t                  _reactNative.Text,\n\t                  { style: [style, _color] },\n\t                  translate(msgModel)\n\t                );\n\t              } else {\n\t                if (!msgParts[0].length) msgParts[0] = 'I just sent you a request for '; // + msgModel.title;\n\t                if (s.length === 2) onPressCall = self.editForm.bind(self, msgParts[1], msgParts[0]);else if (!isMyMessage && !resource.documentCreated) onPressCall = self.createNewResource.bind(self, msgModel, isMyMessage);\n\t\n\t                _color = isMyMessage && !isFormError ? { color: self.props.bankStyle.MY_MESSAGE_LINK_COLOR } //{color: STRUCTURED_MESSAGE_COLOR}\n\t                : { color: '#2892C6' };\n\t                if (isMyMessage) link = _react2.default.createElement(\n\t                  _reactNative.Text,\n\t                  { style: [style, _color] },\n\t                  translate(msgModel)\n\t                );else link = _react2.default.createElement(\n\t                  _reactNative.View,\n\t                  { style: styles.rowContainer },\n\t                  _react2.default.createElement(\n\t                    _reactNative.Text,\n\t                    { style: [style, { color: resource.documentCreated ? '#757575' : LINK_COLOR }] },\n\t                    translate(msgModel)\n\t                  ),\n\t                  _react2.default.createElement(Icon, { style: resource.documentCreated ? styles.linkIconGreyed : { color: isMyMessage ? self.props.bankStyle.MY_MESSAGE_LINK_COLOR : LINK_COLOR }, size: 20, name: 'ios-arrow-forward' })\n\t                );\n\t              }\n\t              var strName = isMyProduct ? translate('shareProduct', translate(msgModel)) : utils.getStringName(msgParts[0]);\n\t              var _str = strName ? utils.translate(strName) : msgParts[0];\n\t              var _msg5 = _react2.default.createElement(\n\t                _reactNative.View,\n\t                { key: self.getNextKey() },\n\t                _react2.default.createElement(\n\t                  _reactNative.Text,\n\t                  { style: style },\n\t                  _str\n\t                ),\n\t                link\n\t              );\n\t              vCols.push(_msg5);\n\t              return;\n\t            }\n\t          } else isConfirmation = resource[v].indexOf('Congratulations!') !== -1;\n\t\n\t          if (isConfirmation) {\n\t            style = [style, { color: self.props.bankStyle.CONFIRMATION_COLOR, fontSize: 18 }];\n\t            vCols.push(_react2.default.createElement(\n\t              _reactNative.View,\n\t              { key: self.getNextKey() },\n\t              _react2.default.createElement(\n\t                _reactNative.Text,\n\t                { style: [style] },\n\t                resource[v]\n\t              ),\n\t              _react2.default.createElement(Icon, { style: [{ color: self.props.bankStyle.CONFIRMATION_COLOR, alignSelf: 'flex-end', width: 50, height: 50, marginTop: -30, opacity: 0.2 }], size: 50, name: 'ios-flower' }),\n\t              _react2.default.createElement(Icon, { style: { color: self.props.bankStyle.CONFIRMATION_COLOR, alignSelf: 'flex-end', marginTop: -10 }, size: 30, name: 'ios-done-all' })\n\t            ));\n\t          } else vCols.push(_react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: style, key: self.getNextKey() },\n\t            resource[v]\n\t          ));\n\t        }\n\t        first = false;\n\t      });\n\t      if (!isSimpleMessage && !isFormError && !isMyProduct) {\n\t        var title = translate(model);\n\t        // if (title.length > 30)\n\t        //   title = title.substring(0, 27) + '...'\n\t\n\t        vCols.push(_react2.default.createElement(\n\t          _reactNative.Text,\n\t          { style: [styles.resourceTitle, styles.formType, { color: isMyMessage ? '#EBFCFF' : this.props.bankStyle.STRUCTURED_MESSAGE_BORDER }], key: this.getNextKey() },\n\t          title\n\t        ));\n\t      }\n\t      if (vCols && vCols.length) {\n\t        vCols.forEach(function (v) {\n\t          renderedRow.push(v);\n\t        });\n\t      }\n\t      if (onPressCall) return { onPressCall: onPressCall };\n\t      if (isFormError) {\n\t        if (utils.getId(resource.from) === utils.getId(utils.getMe())) return null;else return { onPressCall: this.showEditResource.bind(this) };\n\t      }\n\t      if (isSimpleMessage) return isConfirmation ? { isConfirmation: true } : null;\n\t      return { onPressCall: this.props.onSelect.bind(this, resource, null) };\n\t    }\n\t  }, {\n\t    key: 'formRequest',\n\t    value: function formRequest(resource, vCols) {\n\t      var _this3 = this;\n\t\n\t      var form = utils.getModel(resource.form).value;\n\t\n\t      // if (this.props.shareableResources)\n\t      //   style = styles.description;\n\t      var message = resource.message;\n\t      var onPressCall = void 0;\n\t      // if (s.length === 2)\n\t      //   onPressCall = this.editForm.bind(self, msgParts[1], msgParts[0])\n\t      var sameFormRequestForm = void 0;\n\t      if (!resource.documentCreated && resource.product && form.subClassOf !== MY_PRODUCT) {\n\t        var multiEntryForms = utils.getModel(resource.product).value.multiEntryForms;\n\t        if (multiEntryForms && multiEntryForms.indexOf(form.id) !== -1) {\n\t          var productToForms = this.props.productToForms;\n\t          if (productToForms) {\n\t            var product = productToForms[resource.product];\n\t            if (product) {\n\t              var formsArray = product[resource.form];\n\t              if (formsArray) sameFormRequestForm = true;\n\t            }\n\t            // onPressCall = this.getNextFormAlert.bind(this)\n\t          }\n\t        }\n\t        if (!sameFormRequestForm) onPressCall = this.createNewResource.bind(this, form, isMyMessage);\n\t      }\n\t      var isMyMessage = this.isMyMessage();\n\t\n\t      var color = isMyMessage ? { color: '#AFBBA8' } //{color: STRUCTURED_MESSAGE_COLOR}\n\t      : { color: '#2892C6' };\n\t      var link = void 0;\n\t      if (sameFormRequestForm && !resource.documentCreated) {\n\t        link = _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: [styles.rowContainer, { paddingVertical: 10, alignSelf: 'center' }] },\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: styles.textContainer },\n\t            _react2.default.createElement(\n\t              _reactNative.TouchableHighlight,\n\t              { underlayColor: 'transparent', style: { paddingRight: 15 }, onPress: function onPress() {\n\t                  _this3.createNewResource(form, isMyMessage);\n\t                } },\n\t              _react2.default.createElement(\n\t                _reactNative.View,\n\t                { style: styles.multiEntryButton },\n\t                _react2.default.createElement(\n\t                  _reactNative.Text,\n\t                  { style: styles.multiEntryText },\n\t                  '   ',\n\t                  translate('addSameForm'),\n\t                  '   '\n\t                )\n\t              )\n\t            ),\n\t            _react2.default.createElement(\n\t              _reactNative.TouchableHighlight,\n\t              { underlayColor: 'transparent', onPress: function onPress() {\n\t                  _reactNative.Alert.alert(translate('areYouSureAboutNextForm', translate(form)), null, [{ text: translate('cancel'), onPress: function onPress() {\n\t                      return console.log('Canceled!');\n\t                    } }, { text: translate('Ok'), onPress: function onPress() {\n\t                      var _Actions$addMessage;\n\t\n\t                      Actions.addMessage((_Actions$addMessage = {\n\t                        from: resource.to,\n\t                        to: resource.from\n\t                      }, _defineProperty(_Actions$addMessage, constants.TYPE, NEXT_FORM_REQUEST), _defineProperty(_Actions$addMessage, 'after', form.id), _Actions$addMessage));\n\t                      var params = {\n\t                        value: { documentCreated: true },\n\t                        resource: resource,\n\t                        meta: utils.getModel(resource[constants.TYPE]).value\n\t                      };\n\t                      Actions.addItem(params);\n\t                    } }]);\n\t                } },\n\t              _react2.default.createElement(\n\t                _reactNative.View,\n\t                { style: styles.multiEntryButton },\n\t                _react2.default.createElement(\n\t                  _reactNative.Text,\n\t                  { style: styles.multiEntryText },\n\t                  '   ',\n\t                  translate('getNextForm'),\n\t                  '   '\n\t                )\n\t              )\n\t            )\n\t          )\n\t        );\n\t      } else if (isMyMessage) link = _react2.default.createElement(\n\t        _reactNative.Text,\n\t        { style: [styles.resourceTitle, color] },\n\t        translate(form)\n\t      );else {\n\t        var view = _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: styles.rowContainer },\n\t          _react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: [styles.resourceTitle, { color: resource.documentCreated ? '#757575' : LINK_COLOR }] },\n\t            translate(form)\n\t          ),\n\t          _react2.default.createElement(Icon, { style: resource.documentCreated ? styles.linkIconGreyed : { color: isMyMessage ? this.props.bankStyle.MY_MESSAGE_LINK_COLOR : LINK_COLOR }, size: 20, name: 'ios-arrow-forward' })\n\t        );\n\t        if (resource.documentCreated) link = view;else link = _react2.default.createElement(\n\t          _reactNative.TouchableHighlight,\n\t          { underlayColor: 'transparent', onPress: function onPress() {\n\t              _this3.createNewResource(form, isMyMessage);\n\t            } },\n\t          view\n\t        );\n\t      }\n\t      var strName = sameFormRequestForm ? translate('addAnotherFormOrGetNext', translate(form)) : utils.getStringName(message);\n\t      var str = strName ? utils.translate(strName) : message;\n\t      var msg = _react2.default.createElement(\n\t        _reactNative.View,\n\t        { key: this.getNextKey() },\n\t        _react2.default.createElement(\n\t          _reactNative.Text,\n\t          { style: styles.resourceTitle },\n\t          str\n\t        ),\n\t        link\n\t      );\n\t      vCols.push(msg);\n\t      return onPressCall;\n\t    }\n\t  }, {\n\t    key: 'onChooseProduct',\n\t    value: function onChooseProduct(sendForm) {\n\t      if (this.props.isAggregation) return;\n\t      var modelName = constants.TYPES.MESSAGE;\n\t      var model = utils.getModel(modelName).value;\n\t      var isInterface = model.isInterface;\n\t      if (!isInterface) return;\n\t\n\t      var resource = this.props.to;\n\t      var currentRoutes = this.props.navigator.getCurrentRoutes();\n\t      this.props.navigator.push({\n\t        title: translate('iNeed'), //I need...',\n\t        id: 15,\n\t        component: ProductChooser,\n\t        sceneConfig: _reactNative.Navigator.SceneConfigs.FloatFromBottom,\n\t        backButtonTitle: translate('cancel'),\n\t        passProps: {\n\t          resource: resource,\n\t          returnRoute: currentRoutes[currentRoutes.length - 1],\n\t          products: this.props.resource.list,\n\t          callback: this.props.callback,\n\t          bankStyle: this.props.bankStyle\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'editForm',\n\t    value: function editForm(rUri, message) {\n\t      var _resource;\n\t\n\t      var s = rUri.split('_');\n\t      var resource = (_resource = {}, _defineProperty(_resource, constants.TYPE, s[0]), _defineProperty(_resource, constants.ROOT_HASH, s[1]), _resource);\n\t\n\t      var rmodel = utils.getModel(s[0]).value;\n\t      var title = translate(rmodel);\n\t      this.props.navigator.push({\n\t        title: title,\n\t        id: 4,\n\t        component: NewResource,\n\t        // titleTextColor: '#999999',\n\t        backButtonTitle: translate('back'),\n\t        rightButtonTitle: translate('done'),\n\t        passProps: {\n\t          model: rmodel,\n\t          resource: resource,\n\t          message: message\n\t        }\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return MessageRow;\n\t}(_react.Component);\n\t\n\tfunction isMultientry(resource) {\n\t  if (!resource.product) return false;\n\t  var form = utils.getModel(resource.form).value;\n\t  var product = utils.getModel(resource.product).value;\n\t  var multiEntryForms = product.multiEntryForms;\n\t  return multiEntryForms && multiEntryForms.indexOf(form.id) !== -1 ? true : false;\n\t}\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  container: {\n\t    flex: 1\n\t  },\n\t  textContainer: {\n\t    flex: 1,\n\t    flexDirection: 'row'\n\t  },\n\t  resourceTitle: {\n\t    // flex: 1,\n\t    fontSize: 18\n\t  },\n\t  date: {\n\t    flex: 1,\n\t    color: '#999999',\n\t    fontSize: 12,\n\t    alignSelf: 'center',\n\t    paddingTop: 10\n\t  },\n\t  row: {\n\t    // alignItems: 'center',\n\t    backgroundColor: '#f7f7f7',\n\t    flexDirection: 'row'\n\t  },\n\t  myCell: {\n\t    paddingVertical: 5,\n\t    paddingHorizontal: 7,\n\t    justifyContent: 'flex-end',\n\t    borderRadius: 10,\n\t    borderTopRightRadius: 0,\n\t    backgroundColor: '#77ADFC' //#569bff',\n\t  },\n\t  forgetCell: {\n\t    paddingVertical: 5,\n\t    paddingHorizontal: 7,\n\t    justifyContent: 'flex-end',\n\t    borderRadius: 10,\n\t    borderTopLeftRadius: 0,\n\t    backgroundColor: 'red'\n\t  },\n\t  myConfCell: {\n\t    paddingVertical: 5,\n\t    paddingHorizontal: 7,\n\t    justifyContent: 'flex-end',\n\t    borderTopLeftRadius: 0,\n\t    borderRadius: 10\n\t  },\n\t  bigImage: {\n\t    width: 240,\n\t    height: 280,\n\t    margin: 1,\n\t    borderRadius: 10\n\t  },\n\t  bigImageH: {\n\t    width: 270,\n\t    height: 200,\n\t    margin: 1,\n\t    borderRadius: 10\n\t  },\n\t  mediumImage: {\n\t    width: 120,\n\t    height: 120,\n\t    margin: 1,\n\t    borderRadius: 10\n\t  },\n\t  image: {\n\t    width: 88,\n\t    height: 88,\n\t    margin: 1,\n\t    borderRadius: 10\n\t  },\n\t  verySmallLetters: {\n\t    fontSize: 18,\n\t    // alignSelf: 'flex-end',\n\t    color: '#757575'\n\t    // color: '#b4c3cb'\n\t  },\n\t  linkIconGreyed: {\n\t    color: '#cccccc'\n\t  },\n\t  description: {\n\t    // flexWrap: 'wrap',\n\t    color: '#757575',\n\t    fontSize: 14\n\t  },\n\t  assistentText: {\n\t    color: '#757575',\n\t    fontStyle: 'italic',\n\t    fontSize: 17\n\t  },\n\t  assistentBox: {\n\t    backgroundColor: '#efefef',\n\t    paddingVertical: 5,\n\t    // borderRadius: 5,\n\t    borderTopRightRadius: 10,\n\t    paddingHorizontal: 7,\n\t    marginTop: -7,\n\t    marginHorizontal: -7\n\t  },\n\t  formType: {\n\t    color: '#EBFCFF',\n\t    fontSize: 18,\n\t    fontWeight: '600',\n\t    opacity: 0.5,\n\t    alignSelf: 'flex-end',\n\t    marginTop: 10\n\t  },\n\t  verifiedHeader: {\n\t    flexDirection: 'row',\n\t    paddingVertical: 5,\n\t    paddingHorizontal: 7,\n\t    marginHorizontal: -8,\n\t    marginTop: -6,\n\t    justifyContent: 'center'\n\t  },\n\t  sendStatus: {\n\t    alignSelf: 'flex-end',\n\t    flexDirection: 'row',\n\t    backgroundColor: 'transparent',\n\t    marginTop: -3\n\t  },\n\t  sendStatusText: {\n\t    fontSize: 14,\n\t    color: '#009900',\n\t    marginRight: 3\n\t  },\n\t  sendStatusDefaultText: {\n\t    fontSize: 14,\n\t    alignSelf: 'flex-end',\n\t    color: '#757575'\n\t  },\n\t  sealedStatus: {\n\t    // alignSelf: 'flex-end',\n\t    // flexDirection: 'row',\n\t    position: 'absolute',\n\t    bottom: 1,\n\t    left: 10\n\t  },\n\t  errorBadge: {\n\t    position: 'absolute',\n\t    opacity: 0.5,\n\t    bottom: -5,\n\t    right: 0\n\t  },\n\t  rowContainer: {\n\t    flexDirection: 'row',\n\t    justifyContent: 'space-between'\n\t  },\n\t  verificationHeaderText: {\n\t    fontSize: 18,\n\t    fontWeight: '500',\n\t    alignSelf: 'center',\n\t    color: '#FBFFE5'\n\t  },\n\t  verificationBody: {\n\t    paddingVertical: 5,\n\t    paddingHorizontal: 7,\n\t    borderRadius: 10,\n\t    borderWidth: 1,\n\t    marginVertical: 2\n\t  },\n\t  multiEntryButton: {\n\t    borderRadius: 10,\n\t    borderColor: '#77ADFC',\n\t    borderWidth: 1,\n\t    padding: 10\n\t  },\n\t  multiEntryText: {\n\t    fontSize: 18\n\t  },\n\t  msgImage: {\n\t    height: 30,\n\t    marginRight: 3,\n\t    marginLeft: 0,\n\t    width: 30,\n\t    borderRadius: 15,\n\t    borderColor: '#cccccc',\n\t    borderWidth: 1\n\t  },\n\t  productAppIcon: {\n\t    alignSelf: 'flex-end',\n\t    marginTop: -30,\n\t    backgroundColor: 'transparent'\n\t  }\n\t  // viewStyle: {\n\t  //   flexDirection: 'row',\n\t  //   alignSelf: 'flex-start',\n\t  //   width: DeviceWidth - 50\n\t  // }\n\t});\n\treactMixin(MessageRow.prototype, RowMixin);\n\tMessageRow = (0, _reactNativeOrient.makeResponsive)(MessageRow);\n\t\n\tmodule.exports = MessageRow;\n\t// employeeImage: {\n\t//   // backgroundColor: '#dddddd',\n\t//   height: 30,\n\t//   marginRight: 3,\n\t//   marginLeft: 0,\n\t//   width: 30,\n\t// },\n\t\n\t// msgImage: {\n\t//   // backgroundColor: '#dddddd',\n\t//   height: 30,\n\t//   marginRight: 3,\n\t//   marginLeft: 0,\n\t//   width: 30,\n\t//   borderRadius: 15,\n\t//   borderColor: '#cccccc',\n\t//   borderWidth: 1\n\t// },\n\t// cellRoundImage: {\n\t//   paddingVertical: 1,\n\t//   borderRadius: 20,\n\t//   height: 40,\n\t//   width: 40,\n\t//   alignSelf: 'center'\n\t// },\n\t// cellText: {\n\t//   marginTop: 8,\n\t//   alignSelf: 'center',\n\t//   color: '#ffffff',\n\t//   fontSize: 18,\n\t//   backgroundColor: 'transparent'\n\t// },\n\t\n\t/*\n\t  renderVerification() {\n\t    var resource = this.props.resource;\n\t    var model = utils.getModel(resource[constants.TYPE]).value;\n\t    var renderedRow = [];\n\n\t    var time = this.getTime(resource);\n\t    var date = time\n\t             ? <Text style={styles.date} numberOfLines={1}>{time}</Text>\n\t             : <View />;\n\n\t    var isMyMessage = this.isMyMessage();\n\t    var msgWidth = isMyMessage ? DeviceWidth - 70 : DeviceWidth - 50;\n\n\t    var msgModel = utils.getModel(resource.document[constants.TYPE]).value;\n\t    var orgName = resource.organization  ? resource.organization.title : ''\n\n\t    let me = utils.getMe()\n\t    let isThirdPartyVerification\n\t    if (me.isEmployee  &&  !this.props.to.organization) {\n\t      // Check if I am the employee of the organization I opened a chat with or the customer\n\t      isThirdPartyVerification = !utils.isEmployee(resource.organization)\n\t      // let orgId = utils.getId(resource.organization)\n\t      // if (orgId !== utils.getId(me.organization))\n\t      //   isThirdPartyVerification = true\n\t    }\n\t    let bgColor =  isThirdPartyVerification ? '#93BEBA' : this.props.bankStyle.VERIFIED_HEADER_COLOR\n\t    renderedRow = <View>\n\t                    <View style={[styles.verifiedHeader, {backgroundColor: bgColor}]}>\n\t                      <Icon style={styles.verificationIcon} size={20} name={'ios-checkmark'} />\n\t                      <Text style={styles.verificationHeaderText}>{translate('verifiedBy', orgName)}</Text>\n\t                    </View>\n\t                    <View style={{paddingTop: 5}}>\n\t                      {this.formatDocument(msgModel, resource, this.verify.bind(this), isThirdPartyVerification)}\n\t                    </View>\n\t                  </View>\n\n\t    var viewStyle = {flexDirection: 'row', alignSelf: isMyMessage ? 'flex-end' : 'flex-start', width: msgWidth, backgroundColor: this.props.bankStyle.BACKGROUND_COLOR}\n\t    let addStyle = [styles.verificationBody, {backgroundColor: this.props.bankStyle.VERIFICATION_BG, borderColor: bgColor}];\n\t    let messageBody =\n\t          <TouchableHighlight onPress={this.verify.bind(this, resource)} underlayColor='transparent'>\n\t            <View style={[styles.row, viewStyle]}>\n\t              {this.getOwnerPhoto(isMyMessage)}\n\t              <View style={[styles.textContainer, addStyle]}>\n\t                <View style={{flex: 1}}>\n\t                  {renderedRow}\n\t               </View>\n\t              </View>\n\t            </View>\n\t          </TouchableHighlight>\n\n\t    var viewStyle = { margin: 1, backgroundColor: this.props.bankStyle.BACKGROUND_COLOR }\n\t    return (\n\t      <View style={viewStyle} key={this.getNextKey()}>\n\t        {date}\n\t        {messageBody}\n\t      </View>\n\t    );\n\t  }\n\n\t  renderMyProduct() {\n\t    var resource = this.props.resource;\n\t    var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n\t    var renderedRow = [];\n\n\t    var ret = this.formatRow(false, renderedRow);\n\t    let onPressCall = ret ? ret.onPressCall : null\n\n\t    let addStyle = [addStyle, styles.verificationBody, {backgroundColor: this.props.bankStyle.PRODUCT_BG_COLOR , borderColor: this.props.bankStyle.CONFIRMATION_COLOR}];\n\t    let rowStyle = [styles.row,  {backgroundColor: this.props.bankStyle.BACKGROUND_COLOR}];\n\t    var val = this.getTime(resource);\n\t    var date = val\n\t             ? <Text style={styles.date} numberOfLines={1}>{val}</Text>\n\t             : <View />;\n\n\t    // var viewStyle = {flexDirection: 'row', alignSelf: 'flex-start', width: DeviceWidth - 50};\n\n\t    var hdrStyle = {backgroundColor: '#289427'} //this.props.bankStyle.PRODUCT_BG_COLOR ? {backgroundColor: this.props.bankStyle.PRODUCT_BG_COLOR} : {backgroundColor: '#289427'}\n\t    var orgName = resource.from.organization  ? resource.from.organization.title : ''\n\t    renderedRow.splice(0, 0, <View  key={this.getNextKey()} style={[styles.verifiedHeader, hdrStyle, {marginHorizontal: -8, marginTop: -7, marginBottom: 7, paddingBottom: 5}]}>\n\t                       <Text style={{fontSize: 18, alignSelf: 'center', color: '#fff'}}>{translate('issuedBy', orgName)}</Text>\n\t                    </View>\n\t                    );\n\t    let title = translate(model)\n\t    if (title.length > 30)\n\t      title = title.substring(0, 27) + '...'\n\n\t    renderedRow.push(<Text  key={this.getNextKey()} style={[styles.formType, {color: '#289427'}]}>{title}</Text>);\n\t    rowStyle = addStyle ? [styles.textContainer, addStyle] : styles.textContainer\n\t    let messageBody =\n\t      <TouchableHighlight onPress={onPressCall ? onPressCall : () => {}} underlayColor='transparent'>\n\t        <View style={styles.viewStyle}>\n\t          {this.getOwnerPhoto()}\n\t          <View style={rowStyle}>\n\t            <View style={{flex: 1}}>\n\t              {renderedRow}\n\t           </View>\n\t          </View>\n\t        </View>\n\t      </TouchableHighlight>\n\n\n\t    var viewStyle = { margin: 1, paddingTop: 7} //, backgroundColor: this.props.bankStyle.BACKGROUND_COLOR }\n\t    return (\n\t      <View style={viewStyle} key={this.getNextKey()}>\n\t        {date}\n\t        {messageBody}\n\t      </View>\n\t    );\n\t  }\n\n\t  getPropRow(prop, resource, val, isVerification) {\n\t    var style = {flexDirection: 'row'}\n\t    if (prop.ref) {\n\t      if (prop.ref === constants.TYPES.MONEY) {\n\t        let c = utils.normalizeCurrencySymbol(val.currency)\n\t        val = (c || CURRENCY_SYMBOL) + val.value\n\t        // val = (val.currency || CURRENCY_SYMBOL) + val.value\n\t      }\n\t      else {\n\t        let m = utils.getModel(prop.ref).value\n\t        if (m.subClassOf === ENUM) {\n\t          if (typeof val === 'string')\n\t            val = utils.createAndTranslate(val)\n\t          else\n\t            val = utils.createAndTranslate(val.title)\n\t        }\n\t      }\n\t    }\n\t    let model = utils.getModel(resource[constants.TYPE]).value\n\n\t    let propTitle = translate(prop, model)\n\t    if (isVerification) {\n\t      if (!this.props.isAggregation)\n\t        style = [style, {borderWidth: 1, paddingVertical: 3, borderColor: VERIFICATION_BG, borderTopColor: '#eeeeee'}]\n\t      return (\n\t        <View style={style} key={this.getNextKey()}>\n\t          <View style={{flex: 1, flexDirection: 'column'}}>\n\t            <Text style={[styles.verySmallLetters, {color: '#333333'}]}>{propTitle}</Text>\n\t          </View>\n\t          <View style={{flex: 1, flexDirection: 'column'}}>\n\t            <Text style={styles.verySmallLetters}>{val + (prop.units &&  prop.units.charAt(0) !== '[' ? ' ' + prop.units : '')}</Text>\n\t          </View>\n\t        </View>\n\t      )\n\t    }\n\t    else {\n\t      let isMyProduct = model.subClassOf === MY_PRODUCT\n\t      let isForm = model.subClassOf === constants.TYPES.FORM\n\t      let isMyMessage = this.isMyMessage()\n\t      if (!this.props.isAggregation  &&  (isMyMessage || isForm) &&  !isMyProduct)\n\t        style = [style, {borderWidth: 1, paddingVertical: 3, borderColor: isMyMessage ? STRUCTURED_MESSAGE_COLOR : '#ffffff', borderBottomColor: this.props.bankStyle.STRUCTURED_MESSAGE_BORDER}]\n\t      let color = this.isMyMessage() && !isMyProduct ? {color: '#FFFFEE'} : {color: '#757575'}\n\t      return (\n\t        <View style={style} key={this.getNextKey()}>\n\t          <View style={{flex: 1, flexDirection: 'column'}}>\n\t            <Text style={[styles.descriptionB, color]}>{propTitle}</Text>\n\t          </View>\n\t          <View style={{flex: 1, flexDirection: 'column'}}>\n\t            <Text style={[styles.descriptionB, color]}>{val + (prop.units &&  prop.units.charAt(0) !== '[' ? ' ' + prop.units : '')}</Text>\n\t          </View>\n\t       </View>\n\t      )\n\t    }\n\n\t  }\n\t  formatDocument(model, verification, onPress, isAccordion) {\n\t    var resource = verification.document;\n\n\t    var docModel = utils.getModel(resource[constants.TYPE]).value;\n\t    var isMyProduct = docModel.subClassOf === MY_PRODUCT\n\t    var docModelTitle = docModel.title;\n\t    var idx = docModelTitle.indexOf('Verification');\n\t    var docTitle = idx === -1 ? docModelTitle : docModelTitle.substring(0, idx);\n\n\t    var msg;\n\t    if (resource.message  &&  docModel.subClassOf !== FORM)\n\t      msg = <View><Text style={styles.description}>{resource.message}</Text></View>\n\t    else {\n\t      var rows = [];\n\t      this.formatDocument1(model, resource, rows);\n\t      msg = <View>{rows}</View>\n\t    }\n\n\n\t    var hasPhotos = resource  &&  resource.photos  &&  resource.photos.length\n\t    var photo = hasPhotos\n\t              ? <Image source={{uri: utils.getImageUri(resource.photos[0].url)}}  style={styles.cellImage} />\n\t              : <View />;\n\t    var headerStyle = {paddingTop: 5, alignSelf: 'center'}\n\t    var header =  <View style={headerStyle}>\n\t                    <Text style={[styles.resourceTitle, {fontSize: 20, color: '#B6C2A7'}]}>{translate(model)}</Text>\n\t                  </View>\n\t    header = hasPhotos\n\t            ?  <View style={[styles.rowContainer, styles.verification]}>\n\t                 {photo}\n\t                 {header}\n\t               </View>\n\t            :  <View style={[{alignSelf: 'stretch'}, styles.verification]}>\n\t                 {header}\n\t               </View>\n\n\n\t    var orgRow = <View/>\n\t    if (verification  && verification.organization) {\n\t      var orgPhoto = verification.organization.photo\n\t                   ? <Image source={{uri: utils.getImageUri(verification.organization.photo)}} style={[styles.orgImage, {marginTop: -5}]} />\n\t                   : <View />\n\t      var shareView = <View style={{flexDirection: 'row', marginLeft: 0, justifyContent: 'space-between', padding: 5, borderRadius: 10, borderWidth: 1, borderColor: '#215A89', backgroundColor: '#4982B1', opacity: this.props.resource.documentCreated ? 0.3 : 1}}>\n\t                        <Image source={TradleW} style={{width: 35, height: 35}}/>\n\t                        <Text style={{color: '#fefefe', fontSize: 20, paddingHorizontal: 3, marginTop: 6}}>{translate('Share')}</Text>\n\t                      </View>\n\t      var orgTitle = this.props.to[constants.TYPE] === constants.TYPES.ORGANIZATION\n\t                   ? this.props.to.name\n\t                   : (this.props.to.organization ? this.props.to.organization.title : null);\n\t      // let o = verification.organization.title.length < 25 ? verification.organization.title : verification.organization.title.substring(0, 27) + '..'\n\t      let verifiedBy\n\t      if (isMyProduct)\n\t        verifiedBy = translate('issuedBy', verification.organization.title)\n\t      // Not verified Form - still shareable\n\t      else if (verification[constants.ROOT_HASH])\n\t        verifiedBy = translate('verifiedBy', verification.organization.title)\n\t      else\n\t        verifiedBy = translate('sentTo', verification.organization.title)\n\n\t      if (verifiedBy.length > 25)\n\t        verifiedBy = verifiedBy.substring(0, 25) + '..'\n\t      var orgView =   <View style={{flexDirection: 'row', justifyContent: 'flex-end', marginTop: 15}}>\n\t                         <Text style={[styles.verySmallLetters, {fontSize: 14}]}>{verifiedBy}</Text>\n\t                      </View>\n\n\t                         // <Text style={[styles.verySmallLetters, {color: '#2E3B4E'}]}>{verification.organization.title.length < 30 ? verification.organization.title : verification.organization.title.substring(0, 27) + '..'}</Text>\n\t      if (onPress) {\n\t        if (!this.props.resource.documentCreated)\n\t            <TouchableHighlight underlayColor='transparent' onPress={onPress ? onPress : () =>\n\t                      Alert.alert(\n\t                        'Sharing ' + docTitle + ' ' + verifiedBy,\n\t                        'with ' + orgTitle,\n\t                        [\n\t                          {text: translate('Share'), onPress: this.props.share.bind(this, verification, this.props.to, this.props.resource)},\n\t                          {text: translate('cancel'), onPress: () => console.log('Canceled!')},\n\t                        ]\n\t                    )}>\n\t              {shareView}\n\t            </TouchableHighlight>\n\n\t      }\n\t      else if (this.props.resource.documentCreated) {\n\t          orgRow = <View style={{flexDirection: 'row', marginTop: 5, paddingBottom: 5, justifyContent:'space-between'}}>\n\t                     {shareView}\n\t                    <TouchableHighlight onPress={this.props.onSelect.bind(this, resource, verification)} underlayColor='transparent'>\n\t                      {orgView}\n\t                    </TouchableHighlight>\n\t                  </View>\n\t      }\n\t      else {\n\t        orgRow = <View style={{flexDirection: 'row', marginTop: 5, paddingBottom: 5, justifyContent:'space-between'}}>\n\t          <TouchableHighlight underlayColor='transparent' onPress={onPress ? onPress : () =>\n\t                    Alert.alert(\n\t                      'Sharing ' + docTitle + ' ' + verifiedBy,\n\t                      'with ' + orgTitle,\n\t                      [\n\t                        {text: translate('Share'), onPress: this.props.share.bind(this, verification, this.props.to, this.props.resource)},\n\t                        {text: translate('cancel'), onPress: () => console.log('Canceled!')},\n\t                      ]\n\t                  )}>\n\t            {shareView}\n\t          </TouchableHighlight>\n\t          <TouchableHighlight onPress={this.props.onSelect.bind(this, resource, verification)} underlayColor='transparent'>\n\t            {orgView}\n\t          </TouchableHighlight>\n\t        </View>\n\t      }\n\t    }\n\t    let content = <View style={{flex:1}}>\n\t                     <TouchableHighlight onPress={this.props.onSelect.bind(this, resource, verification)} underlayColor='transparent'>\n\t                       {msg}\n\t                     </TouchableHighlight>\n\t                     {orgRow}\n\t                   </View>\n\n\t    var verifiedBy = verification && verification.organization ? verification.organization.title : ''\n\t    return isAccordion\n\t        ? ( <View style ={{marginTop: 5}} key={this.getNextKey()}>\n\t             <Accordion\n\t               header={header}\n\t               style={{padding: 5}}\n\t               content={content}\n\t               underlayColor='transparent'\n\t               easing='easeOutCirc' />\n\t            </View>\n\t          )\n\t        : ( <View style={{flex: 1, paddingVertical: 5}} key={this.getNextKey()}>\n\t               {header}\n\t               {content}\n\t             </View>\n\t           );\n\t  }\n\n\t  formatDocument1(model, resource, renderedRow) {\n\t    var viewCols = model.gridCols || model.viewCols;\n\t    if (!viewCols)\n\t      return\n\t    var vCols = [];\n\t    var self = this;\n\n\t    if (resource[constants.TYPE] != model.id)\n\t      return;\n\n\t    var properties = model.properties;\n\t    viewCols.forEach(function(v) {\n\t      if (properties[v].type === 'array'  ||  properties[v].type === 'date')\n\t        return;\n\t      var style = styles.verySmallLetters;\n\t      if (properties[v].ref) {\n\t      // if (properties[v].ref) {\n\t        if (resource[v]) {\n\t          var val\n\t          if (properties[v].type === 'object') {\n\t            if (properties[v].ref) {\n\t              if (properties[v].ref === constants.TYPES.MONEY) {\n\t                val = resource[v] //(resource[v].currency || CURRENCY_SYMBOL) + resource[v].value\n\t                if (typeof val === 'string')\n\t                  val = {value: val, currency: CURRENCY_SYMBOL}\n\t                else {\n\t                  let c = utils.normalizeCurrencySymbol(val.currency)\n\t                  val.currency = c\n\t                }\n\t              }\n\t              else {\n\t                var m = utils.getModel(properties[v].ref).value\n\t                if (m.subClassOf  &&  m.subClassOf == ENUM)\n\t                  val = resource[v].title\n\t              }\n\t            }\n\t          }\n\t          if (!val)\n\t            val = resource[v].title  ||  resource[v]\n\t          vCols.push(self.getPropRow(properties[v], resource, val, true))\n\t        }\n\t        return;\n\t      }\n\t      var row\n\t      if (resource[v]  &&  properties[v].type === 'string'  &&  (resource[v].indexOf('http://') == 0  ||  resource[v].indexOf('https://') == 0))\n\t        row = <Text style={style} key={self.getNextKey()}>{resource[v]}</Text>;\n\t      else if (!model.autoCreate) {\n\t        var val = (properties[v].displayAs)\n\t                ? utils.templateIt(properties[v], resource)\n\t                : properties[v].type === 'boolean' ? (resource[v] ? 'Yes' : 'No') : resource[v];\n\t        if (!val)\n\t          return\n\t        row = self.getPropRow(properties[v], resource, val || resource[v], true)\n\t      }\n\t      else {\n\t        if (!resource[v]  ||  !resource[v].length)\n\t          return;\n\t        var msgParts = utils.splitMessage(resource[v]);\n\t        // Case when the needed form was sent along with the message\n\t        if (msgParts.length === 2) {\n\t          var msgModel = utils.getModel(msgParts[1]);\n\t          if (msgModel) {\n\t            vCols.push(<View key={self.getNextKey()}>\n\t                         <Text style={style}>{msgParts[0]}</Text>\n\t                         <Text style={[style, {color: isMyMessage ? STRUCTURED_MESSAGE_COLOR : LINK_COLOR}]}>{msgModel.value.title}</Text>\n\t                       </View>);\n\t            return;\n\t          }\n\t        }\n\t        row = self.getPropRow(properties[v], resource, resource[v], true)\n\t      }\n\t      vCols.push(row);\n\t    });\n\n\t    if (vCols  &&  vCols.length) {\n\t      vCols.forEach(function(v) {\n\t        renderedRow.push(v);\n\t      });\n\t    }\n\t  }\n\t  addContact() {\n\t    Alert.alert(\n\t      translate('addContact', utils.getDisplayName(this.props.resource.from)),\n\t      null,\n\t      [\n\t        {text: translate('Ok'), onPress: () => console.log('Ok!') },\n\t        {text: translate('cancel'), onPress: () => console.log('Canceled!')},\n\t      ]\n\t    )\n\t  }\n\t  editForm(rUri, message) {\n\t    let s = rUri.split('_')\n\t    let resource = {\n\t      [constants.TYPE]: s[0],\n\t      [constants.ROOT_HASH]: s[1]\n\t    }\n\n\t    let rmodel = utils.getModel(s[0]).value;\n\t    let title = translate(rmodel);\n\t    this.props.navigator.push({\n\t      title: title,\n\t      id: 4,\n\t      component: NewResource,\n\t      // titleTextColor: '#999999',\n\t      backButtonTitle: translate('back'),\n\t      rightButtonTitle: translate('done'),\n\t      passProps: {\n\t        model: rmodel,\n\t        resource: resource,\n\t        message: message\n\t      }\n\t    })\n\t  }\n\t*/\n\n/***/ },\n\n/***/ 2078:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _platform = __webpack_require__(1674);\n\t\n\tvar _platform2 = _interopRequireDefault(_platform);\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar NewResource = __webpack_require__(1949);\n\tvar utils = __webpack_require__(935);\n\tvar translate = utils.translate;\n\tvar equal = __webpack_require__(721);\n\tvar reactMixin = __webpack_require__(1703);\n\tvar Store = __webpack_require__(1723);\n\tvar Actions = __webpack_require__(1517);\n\tvar Reflux = __webpack_require__(1518);\n\tvar constants = __webpack_require__(1348);\n\tvar PageView = __webpack_require__(1722);\n\tvar MessageList = __webpack_require__(1946);\n\tvar PageView = __webpack_require__(1722);\n\t\n\t\n\tvar PRODUCT_APPLICATION = 'tradle.ProductApplication';\n\tvar FORM_REQUEST = 'tradle.FormRequest';\n\t\n\t\n\tvar SearchBar = _reactNative.Platform.OS === 'android' ? null : __webpack_require__(2069);\n\t\n\tvar ProductChooser = function (_Component) {\n\t  _inherits(ProductChooser, _Component);\n\t\n\t  function ProductChooser(props) {\n\t    _classCallCheck(this, ProductChooser);\n\t\n\t    var _this = _possibleConstructorReturn(this, (ProductChooser.__proto__ || Object.getPrototypeOf(ProductChooser)).call(this, props));\n\t\n\t    var products = [];\n\t    var orgProducts = _this.props.resource.products;\n\t    if (orgProducts) {\n\t      orgProducts.forEach(function (m) {\n\t        products.push(utils.getModel(m).value);\n\t      });\n\t    }\n\t\n\t    var dataSource = new _reactNative.ListView.DataSource({\n\t      rowHasChanged: function rowHasChanged(row1, row2) {\n\t        return row1 !== row2;\n\t      }\n\t    });\n\t    _this.state = {\n\t      products: products,\n\t      modelName: constants.TYPES.FINANCIAL_PRODUCT,\n\t      dataSource: dataSource.cloneWithRows(products)\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(ProductChooser, [{\n\t    key: 'componentWillMount',\n\t    value: function componentWillMount() {\n\t      Actions.getItem(utils.getId(this.props.resource));\n\t    }\n\t  }, {\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      this.listenTo(Store, 'onNewProductAdded');\n\t    }\n\t  }, {\n\t    key: 'onNewProductAdded',\n\t    value: function onNewProductAdded(params) {\n\t      var _this2 = this;\n\t\n\t      if (params.action === 'getItem' && this.props.resource[constants.ROOT_HASH] === params.resource[constants.ROOT_HASH]) {\n\t        var _ret = function () {\n\t          var products = void 0;\n\t          if (params.resource.products) {\n\t            if (equal(params.resource.products, _this2.props.resource.products)) return {\n\t                v: void 0\n\t              };\n\t\n\t            products = [];\n\t            params.resource.products.forEach(function (m) {\n\t              products.push(utils.getModel(m).value);\n\t            });\n\t          } else products = utils.getAllSubclasses(constants.TYPES.FORM);\n\t\n\t          _this2.setState({\n\t            products: products,\n\t            dataSource: _this2.state.dataSource.cloneWithRows(products)\n\t          });\n\t          return {\n\t            v: void 0\n\t          };\n\t        }();\n\t\n\t        if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n\t      }\n\t      if (params.action !== 'productList' || params.resource[constants.ROOT_HASH] !== this.props.resource[constants.ROOT_HASH]) return;\n\t      if (params.err) {\n\t        this.setState({ err: params.err });\n\t        return;\n\t      }\n\t      var products = params.productList;\n\t\n\t      this.setState({\n\t        products: products,\n\t        dataSource: this.state.dataSource.cloneWithRows(products)\n\t      });\n\t    }\n\t  }, {\n\t    key: 'onSearchChange',\n\t    value: function onSearchChange(filter) {\n\t      var vals = this.state.products;\n\t      var list = vals.filter(function (s) {\n\t        return s.title.indexOf(filter) === -1 ? false : true;\n\t      });\n\t      this.setState({ filter: filter, dataSource: this.state.dataSource.cloneWithRows(list) });\n\t    }\n\t  }, {\n\t    key: 'selectResource',\n\t    value: function selectResource(model) {\n\t      var route = {\n\t        component: MessageList,\n\t        backButtonTitle: translate('cancel'),\n\t        id: 11,\n\t        title: this.props.resource.name,\n\t        passProps: {\n\t          resource: this.props.resource,\n\t          filter: '',\n\t          modelName: constants.TYPES.MESSAGE\n\t        }\n\t      };\n\t      var msg = {\n\t        from: utils.getMe(),\n\t        to: this.props.resource,\n\t        time: new Date().getTime()\n\t      };\n\t      if (model.subClassOf === constants.TYPES.FINANCIAL_PRODUCT) {\n\t        msg[constants.TYPE] = PRODUCT_APPLICATION;\n\t        msg.product = model.id; // '[application for](' + model.id + ')',\n\t        utils.onNextTransitionEnd(this.props.navigator, function () {\n\t          return Actions.addMessage(msg, false, true);\n\t        });\n\t      } else {\n\t        msg[constants.TYPE] = FORM_REQUEST, msg.message = translate(model.properties.photos ? 'fillTheFormWithAttachments' : 'fillTheForm', translate(model.title)),\n\t        // product: productModel.id,\n\t        msg.form = model.id;\n\t\n\t        // msg._t = constants.TYPES.SIMPLE_MESSAGE\n\t        // msg.message = '[' + (model.properties.photos ? translate('fillTheFormWithAttachments') : translate('fillTheForm')) + '](' + model.id + ')'\n\t        utils.onNextTransitionEnd(this.props.navigator, function () {\n\t          return Actions.addMessage(msg);\n\t        });\n\t      }\n\t\n\t      // var msg = {\n\t      //   product: model.id, // '[application for](' + model.id + ')',\n\t      //   _t:      PRODUCT_APPLICATION, // constants.TYPES.SIMPLE_MESSAGE,\n\t      //   from:    utils.getMe(),\n\t      //   to:      this.props.resource,\n\t      //   time:    new Date().getTime()\n\t      // }\n\t\n\t      this.props.navigator.pop();\n\t    }\n\t  }, {\n\t    key: 'buildSimpleMsg',\n\t    value: function buildSimpleMsg(msg, type) {\n\t      var sMsg = {};\n\t      sMsg[constants.TYPE] = constants.TYPES.SIMPLE_MESSAGE;\n\t      sMsg.message = type ? '[' + msg + ']' + '(' + type + ')' : msg;\n\t\n\t      return sMsg;\n\t    }\n\t  }, {\n\t    key: 'selectResource1',\n\t    value: function selectResource1(resource) {\n\t      // Case when resource is a model. In this case the form for creating a new resource of this type will be displayed\n\t      var model = utils.getModel(this.state.modelName);\n\t\n\t      if (resource[constants.TYPE]) return;\n\t      var page = {\n\t        model: utils.getModel(resource.id).value\n\t      };\n\t      if (this.props.returnRoute) page.returnRoute = this.props.returnRoute;\n\t      if (this.props.callback) page.callback = this.props.callback;\n\t      var me = utils.getMe();\n\t      page.resource = {\n\t        _t: resource.id,\n\t        from: me,\n\t        accountWith: this.props.resource,\n\t        productType: model.value.title\n\t      };\n\t      this.props.navigator.replace({\n\t        id: 4,\n\t        title: resource.title,\n\t        rightButtonTitle: translate('done'),\n\t        backButtonTitle: translate('back'),\n\t        component: NewResource,\n\t        titleTextColor: '#7AAAC3',\n\t        resource: resource,\n\t        passProps: page\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderRow',\n\t    value: function renderRow(resource) {\n\t      var _this3 = this;\n\t\n\t      var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n\t      var MessageTypeRow = __webpack_require__(2079);\n\t\n\t      return _react2.default.createElement(MessageTypeRow, {\n\t        onSelect: function onSelect() {\n\t          return _this3.selectResource(resource);\n\t        },\n\t        resource: resource,\n\t        bankStyle: this.props.bankStyle,\n\t        navigator: this.props.navigator,\n\t        to: this.props.resource });\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var searchBar;\n\t      if (SearchBar && this.props.type === constants.TYPES.FORM) {\n\t        searchBar = _react2.default.createElement(SearchBar, {\n\t          onChangeText: this.onSearchChange.bind(this),\n\t          placeholder: translate('search'),\n\t          showsCancelButton: false,\n\t          hideBackground: true\n\t        });\n\t      }\n\t      var style = [styles.listview];\n\t      if (searchBar) style.push({ marginTop: 20 });\n\t      var content = _react2.default.createElement(_reactNative.ListView, { ref: 'listview', style: style,\n\t        dataSource: this.state.dataSource,\n\t        removeClippedSubviews: true,\n\t        initialListSize: 100,\n\t        renderRow: this.renderRow.bind(this),\n\t        enableEmptySections: true,\n\t        automaticallyAdjustContentInsets: false,\n\t        keyboardDismissMode: 'on-drag',\n\t        keyboardShouldPersistTaps: true,\n\t        showsVerticalScrollIndicator: false });\n\t\n\t      var err = this.state.err ? _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: styles.errContainer },\n\t        _react2.default.createElement(\n\t          _reactNative.Text,\n\t          { style: styles.err },\n\t          this.state.err\n\t        )\n\t      ) : _react2.default.createElement(_reactNative.View, null);\n\t      var bgStyle = this.props.bankStyle && this.props.bankStyle.BACKGROUND_COLOR ? { backgroundColor: this.props.bankStyle.BACKGROUND_COLOR } : { backgroundColor: '#ffffff' };\n\t      // <View style={[styles.container, bgStyle]}>\n\t      return _react2.default.createElement(\n\t        PageView,\n\t        { style: [styles.container, bgStyle] },\n\t        err,\n\t        searchBar,\n\t        content\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return ProductChooser;\n\t}(_react.Component);\n\t\n\treactMixin(ProductChooser.prototype, Reflux.ListenerMixin);\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  container: {\n\t    flex: 1\n\t  },\n\t  listview: {\n\t    marginTop: 64,\n\t    borderWidth: _reactNative.StyleSheet.hairlineWidth,\n\t    borderColor: '#ffffff',\n\t    borderTopColor: '#cccccc'\n\t  },\n\t  centerText: {\n\t    alignItems: 'center'\n\t  },\n\t  err: {\n\t    color: '#D7E6ED'\n\t  },\n\t  errContainer: {\n\t    height: 45,\n\t    paddingTop: 5,\n\t    paddingHorizontal: 10,\n\t    backgroundColor: '#eeeeee'\n\t  }\n\t});\n\t\n\tmodule.exports = ProductChooser;\n\n/***/ },\n\n/***/ 2079:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar utils = __webpack_require__(935);\n\tvar constants = __webpack_require__(1348);\n\tvar translate = utils.translate;\n\tvar bankStyles = __webpack_require__(2080);\n\tvar STRUCTURED_MESSAGE_COLOR = '#F6FFF0';\n\tvar DEFAULT_PRODUCT_ROW_BG_COLOR = '#f7f7f7';\n\tvar DEFAULT_PRODUCT_ROW_TEXT_COLOR = '#757575';\n\tvar PRODUCT_ROW_BG_COLOR, PRODUCT_ROW_TEXT_COLOR;\n\t\n\tvar MessageTypeRow = function (_Component) {\n\t  _inherits(MessageTypeRow, _Component);\n\t\n\t  function MessageTypeRow(props) {\n\t    _classCallCheck(this, MessageTypeRow);\n\t\n\t    var _this = _possibleConstructorReturn(this, (MessageTypeRow.__proto__ || Object.getPrototypeOf(MessageTypeRow)).call(this, props));\n\t\n\t    if (_this.props.bankStyle) {\n\t      PRODUCT_ROW_BG_COLOR = _this.props.bankStyle.PRODUCT_ROW_BG_COLOR || DEFAULT_PRODUCT_ROW_BG_COLOR;\n\t      PRODUCT_ROW_TEXT_COLOR = _this.props.bankStyle.PRODUCT_ROW_TEXT_COLOR || DEFAULT_PRODUCT_ROW_TEXT_COLOR;\n\t    } else {\n\t      PRODUCT_ROW_BG_COLOR = DEFAULT_PRODUCT_ROW_BG_COLOR;\n\t      PRODUCT_ROW_TEXT_COLOR = DEFAULT_PRODUCT_ROW_TEXT_COLOR;\n\t    }\n\t    return _this;\n\t  }\n\t\n\t  _createClass(MessageTypeRow, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      var resource = this.props.resource;\n\t      if (resource.autoCreate) return _react2.default.createElement(_reactNative.View, { style: { height: 0 } });\n\t      var me = utils.getMe();\n\t      var to = this.props.to;\n\t      var ownerPhoto, hasOwnerPhoto;\n\t      if (resource.owner && resource.owner.photos) {\n\t        hasOwnerPhoto = true;\n\t        var uri = utils.getImageUri(resource.owner.photos[0].url);\n\t        ownerPhoto = _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: [styles.cell, { marginVertical: 2 }] },\n\t          _react2.default.createElement(_reactNative.Image, { source: { uri: uri }, style: styles.msgImage })\n\t        );\n\t      } else ownerPhoto = _react2.default.createElement(_reactNative.View, { style: [styles.cell, { marginVertical: 20 }] });\n\t      var renderedRow = [];\n\t      var onPressCall = this.props.onSelect;\n\t\n\t      var addStyle, inRow;\n\t      if (!renderedRow.length) {\n\t        var vCols = translate(resource);\n\t        if (vCols) renderedRow = _react2.default.createElement(\n\t          _reactNative.Text,\n\t          { style: [styles.modelTitle, { color: PRODUCT_ROW_TEXT_COLOR }], numberOfLines: 2 },\n\t          vCols\n\t        );\n\t      }\n\t      var verPhoto;\n\t      if (resource.owner && resource.owner.photos) {\n\t        var ownerImg = resource.owner.photos[0].url;\n\t        var url = utils.getImageUri(ownerImg);\n\t        verPhoto = _react2.default.createElement(_reactNative.Image, { source: { uri: ownerImg }, style: styles.ownerImage });\n\t      }\n\t      var viewStyle = { marginTop: 1, backgroundColor: PRODUCT_ROW_BG_COLOR };\n\t      return _react2.default.createElement(\n\t        _reactNative.TouchableHighlight,\n\t        { style: viewStyle, onPress: onPressCall ? onPressCall : function () {}, underlayColor: 'transparent' },\n\t        renderedRow\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return MessageTypeRow;\n\t}(_react.Component);\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  textContainer: {\n\t    flex: 1,\n\t    flexDirection: 'row'\n\t  },\n\t  modelTitle: {\n\t    flex: 1,\n\t    flexWrap: 'wrap',\n\t    fontSize: 18,\n\t    fontWeight: '400',\n\t    marginVertical: 15,\n\t    marginLeft: 15\n\t  },\n\t  row: {\n\t    alignItems: 'center',\n\t    backgroundColor: '#f7f7f7',\n\t    flexDirection: 'row'\n\t  },\n\t  cell: {\n\t    paddingLeft: 20\n\t  },\n\t  msgImage: {\n\t    backgroundColor: '#dddddd',\n\t    height: 40,\n\t    marginRight: 5,\n\t    width: 40,\n\t    borderRadius: 20,\n\t    borderColor: '#cccccc',\n\t    borderWidth: 1\n\t  },\n\t  ownerImage: {\n\t    backgroundColor: '#dddddd',\n\t    height: 30,\n\t    width: 30,\n\t    marginTop: -5,\n\t    position: 'absolute',\n\t    right: 10,\n\t    borderRadius: 15,\n\t    borderColor: '#cccccc',\n\t    borderWidth: 1\n\t  }\n\t});\n\t\n\tmodule.exports = MessageTypeRow;\n\n/***/ },\n\n/***/ 2080:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// var ENV = require('react-native-env')\n\t// var TOP_LEVEL_PROVIDER = ENV.topLevelProvider\n\t// var ALL_SERVICE_PROVIDERS = require('../data/serviceProviders')\n\t// var SERVICE_PROVIDERS = ALL_SERVICE_PROVIDERS.topLevelProvider[TOP_LEVEL_PROVIDER.name.toLowerCase()] //ENV.providers\n\t\n\tvar styles = {\n\t  easy: __webpack_require__(2081),\n\t  europi: __webpack_require__(2082)\n\t};\n\t\n\t// SERVICE_PROVIDERS.forEach(function(name) {\n\t//   // var bank = ALL_SERVICE_PROVIDERS.providers[name]\n\t//   styles[name] = require('./' + name)\n\t// })\n\t\n\tmodule.exports = styles;\n\n/***/ },\n\n/***/ 2081:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar LINK = '#006A4D';\n\tvar SEPARATOR = '#006A4D';\n\tvar MY_MESSAGE_BG = '#006A4D';\n\tvar STRUCTURED_MESSAGE_COLOR = '#5F9D6E';\n\t\n\tvar EasyBank = Object.freeze({\n\t  LINK_COLOR: '#006A4D',\n\t  // LINK_COLOR: '#42A382',\n\t  PRODUCT_ROW_BG_COLOR: '#5F9D6E',\n\t  PRODUCT_ROW_TEXT_COLOR: '#f7f7f7',\n\t\n\t  SEPARATOR: '#006A4D',\n\t  MY_MESSAGE_BG: '#006A4D',\n\t  STRUCTURED_MESSAGE_COLOR: '#5F9D6E',\n\t  linkIcon: {\n\t    width: 20,\n\t    height: 20,\n\t    color: LINK\n\t  },\n\t  separator: {\n\t    height: 0.5,\n\t    marginTop: 5,\n\t    backgroundColor: LINK,\n\t    flex: 40\n\t  },\n\t  linkIconGreyed: {\n\t    width: 20,\n\t    height: 20,\n\t    opacity: 0.5,\n\t    color: LINK\n\t  },\n\t  shareIcon: {\n\t    height: 20,\n\t    color: MY_MESSAGE_BG,\n\t    width: 20\n\t  }\n\t});\n\t\n\tmodule.exports = EasyBank;\n\n/***/ },\n\n/***/ 2082:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar Rabobank = Object.freeze({\n\t  LINK_COLOR: '#FF6D0D',\n\t  PRODUCT_ROW_BG_COLOR: '#466399',\n\t  PRODUCT_ROW_TEXT_COLOR: '#eeeeee',\n\t\n\t  // BACKGROUND_COLOR: '#3A5280',\n\t  VERIFIED_HEADER_COLOR: '#FF6D0D', //'#3A5280',\n\t  VERIFIED_BORDER_COLOR: '#FFCFB0',\n\t\n\t  // CONFIRMATION_BACKGROUND_COLOR: '#ffffff',\n\t  // CONFIRMATION_COLOR: '#B458ED',\n\t\n\t  NAV_TITLE: '#FF6D0D',\n\t  NAV_BUTTONS: '#F7F7F7',\n\t  NAV_BG: '#223251',\n\t\n\t  SEPARATOR: '#006A4D',\n\t  MY_MESSAGE_BG: '#4884BD',\n\t  STRUCTURED_MESSAGE_COLOR: '#3A5280',\n\t\n\t  BANKLINKS: '#3A5280'\n\t});\n\t\n\tmodule.exports = Rabobank;\n\n/***/ },\n\n/***/ 2083:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"data:image/png;base64,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\"\n\n/***/ },\n\n/***/ 2084:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar utils = __webpack_require__(935);\n\tvar translate = utils.translate;\n\tvar ArticleView = __webpack_require__(1668);\n\tvar NewResource = __webpack_require__(1949);\n\tvar Icon = __webpack_require__(1541);\n\tvar constants = __webpack_require__(1348);\n\tvar RowMixin = __webpack_require__(1694);\n\tvar equal = __webpack_require__(721);\n\t\n\tvar reactMixin = __webpack_require__(1703);\n\t\n\tvar MyProductMessageRow = function (_Component) {\n\t  _inherits(MyProductMessageRow, _Component);\n\t\n\t  function MyProductMessageRow(props) {\n\t    _classCallCheck(this, MyProductMessageRow);\n\t\n\t    return _possibleConstructorReturn(this, (MyProductMessageRow.__proto__ || Object.getPrototypeOf(MyProductMessageRow)).call(this, props));\n\t  }\n\t\n\t  _createClass(MyProductMessageRow, [{\n\t    key: 'shouldComponentUpdate',\n\t    value: function shouldComponentUpdate(nextProps, nextState) {\n\t      return !equal(this.props.resource, nextProps.resource) || !equal(this.props.to, nextProps.to);\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var resource = this.props.resource;\n\t      var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n\t      var renderedRow = [];\n\t\n\t      var ret = this.formatRow(false, renderedRow);\n\t      var onPressCall = ret ? ret.onPressCall : null;\n\t\n\t      var addStyle = [addStyle, styles.verificationBody, { backgroundColor: this.props.bankStyle.PRODUCT_BG_COLOR, borderColor: this.props.bankStyle.CONFIRMATION_COLOR }];\n\t      var rowStyle = [styles.row, { backgroundColor: this.props.bankStyle.BACKGROUND_COLOR }];\n\t      var val = this.getTime(resource);\n\t      var date = val ? _react2.default.createElement(\n\t        _reactNative.Text,\n\t        { style: styles.date, numberOfLines: 1 },\n\t        val\n\t      ) : _react2.default.createElement(_reactNative.View, null);\n\t\n\t      // var viewStyle = {flexDirection: 'row', alignSelf: 'flex-start', width: DeviceWidth - 50};\n\t\n\t      var hdrStyle = { backgroundColor: '#289427' }; //this.props.bankStyle.PRODUCT_BG_COLOR ? {backgroundColor: this.props.bankStyle.PRODUCT_BG_COLOR} : {backgroundColor: '#289427'}\n\t      var orgName = resource.from.organization ? resource.from.organization.title : '';\n\t      renderedRow.splice(0, 0, _react2.default.createElement(\n\t        _reactNative.View,\n\t        { key: this.getNextKey(), style: [styles.verifiedHeader, hdrStyle, { marginHorizontal: -8, marginTop: -7, marginBottom: 7, paddingBottom: 5 }] },\n\t        _react2.default.createElement(\n\t          _reactNative.Text,\n\t          { style: { fontSize: 17, alignSelf: 'center', color: '#fff' } },\n\t          translate('issuedBy', orgName)\n\t        )\n\t      ));\n\t      var title = translate(model);\n\t      if (title.length > 30) title = title.substring(0, 27) + '...';\n\t\n\t      renderedRow.push(_react2.default.createElement(\n\t        _reactNative.Text,\n\t        { key: this.getNextKey(), style: [styles.formType, { color: '#289427' }] },\n\t        title\n\t      ));\n\t      rowStyle = addStyle ? [styles.textContainer, addStyle] : styles.textContainer;\n\t\n\t      var width = utils.dimensions().width * 0.8;\n\t      var messageBody = _react2.default.createElement(\n\t        _reactNative.TouchableHighlight,\n\t        { onPress: onPressCall ? onPressCall : function () {}, underlayColor: 'transparent' },\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: [styles.viewStyle, { width: width }] },\n\t          this.getOwnerPhoto(),\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: rowStyle },\n\t            _react2.default.createElement(\n\t              _reactNative.View,\n\t              { style: { flex: 1 } },\n\t              renderedRow\n\t            )\n\t          )\n\t        )\n\t      );\n\t\n\t      var viewStyle = { margin: 1, paddingTop: 7 }; //, backgroundColor: this.props.bankStyle.BACKGROUND_COLOR }\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: viewStyle, key: this.getNextKey() },\n\t        date,\n\t        messageBody\n\t      );\n\t    }\n\t  }, {\n\t    key: 'onPress',\n\t    value: function onPress(event) {\n\t      this.props.navigator.push({\n\t        id: 7,\n\t        component: ArticleView,\n\t        passProps: { url: this.props.resource.message }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'formatRow',\n\t    value: function formatRow(isMyMessage, renderedRow) {\n\t      var resource = this.props.resource;\n\t      var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n\t\n\t      var viewCols = model.gridCols || model.viewCols;\n\t      if (!viewCols) return;\n\t      var first = true;\n\t      var self = this;\n\t\n\t      var properties = model.properties;\n\t      var noMessage = !resource.message || !resource.message.length;\n\t      var onPressCall;\n\t\n\t      var cnt = 0;\n\t      var self = this;\n\t\n\t      var vCols = [];\n\t      viewCols.forEach(function (v) {\n\t        if (properties[v].type === 'array' || properties[v].type === 'date') return;\n\t\n\t        if (properties[v].ref) {\n\t          if (resource[v]) {\n\t            vCols.push(self.getPropRow(properties[v], resource, resource[v].title || resource[v]));\n\t            first = false;\n\t          }\n\t          return;\n\t        }\n\t        var style = styles.description; //resourceTitle; //(first) ? styles.resourceTitle : styles.description;\n\t        if (isMyMessage) style = [style, { justifyContent: 'flex-end', color: '#2892C6' }];\n\t\n\t        if (resource[v] && properties[v].type === 'string' && (resource[v].indexOf('http://') == 0 || resource[v].indexOf('https://') == 0)) {\n\t          onPressCall = self.onPress.bind(self);\n\t          vCols.push(_react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: style, numberOfLines: first ? 2 : 1, key: self.getNextKey() },\n\t            resource[v]\n\t          ));\n\t        } else if (!model.autoCreate) {\n\t          var val = properties[v].displayAs ? utils.templateIt(properties[v], resource) : properties[v].type === 'boolean' ? resource[v] ? 'Yes' : 'No' : resource[v];\n\t\n\t          if (!val) return;\n\t          if (model.properties.verifications && !isMyMessage) onPressCall = self.verify.bind(self);\n\t          if (!isMyMessage) style = [style, { paddingBottom: 10, color: '#2892C6' }];\n\t          vCols.push(self.getPropRow(properties[v], resource, val));\n\t        } else {\n\t          if (!resource[v] || !resource[v].length) return;\n\t          isConfirmation = resource[v].indexOf('Congratulations!') !== -1;\n\t\n\t          if (isConfirmation) {\n\t            style = [style, { color: self.props.bankStyle.CONFIRMATION_COLOR, fontSize: 17 }];\n\t            vCols.push(_react2.default.createElement(\n\t              _reactNative.View,\n\t              { key: self.getNextKey() },\n\t              _react2.default.createElement(\n\t                _reactNative.Text,\n\t                { style: [style] },\n\t                resource[v]\n\t              ),\n\t              _react2.default.createElement(Icon, { style: [{ color: self.props.bankStyle.CONFIRMATION_COLOR, alignSelf: 'flex-end', width: 50, height: 50, marginTop: -45, opacity: 0.2 }], size: 50, name: 'ios-flower' }),\n\t              _react2.default.createElement(Icon, { style: { color: self.props.bankStyle.CONFIRMATION_COLOR, alignSelf: 'flex-end', marginTop: -10 }, size: 30, name: 'ios-done-all' })\n\t            ));\n\t          } else vCols.push(_react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: style, key: self.getNextKey() },\n\t            resource[v]\n\t          ));\n\t        }\n\t        first = false;\n\t      });\n\t      if (vCols && vCols.length) {\n\t        vCols.forEach(function (v) {\n\t          renderedRow.push(v);\n\t        });\n\t      }\n\t      if (onPressCall) return { onPressCall: onPressCall };\n\t      return { onPressCall: this.props.onSelect.bind(this, resource, null) };\n\t    }\n\t  }]);\n\t\n\t  return MyProductMessageRow;\n\t}(_react.Component);\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  textContainer: {\n\t    flex: 1,\n\t    flexDirection: 'row'\n\t  },\n\t  date: {\n\t    flex: 1,\n\t    color: '#999999',\n\t    fontSize: 12,\n\t    alignSelf: 'center',\n\t    paddingTop: 10\n\t  },\n\t  row: {\n\t    backgroundColor: '#f7f7f7',\n\t    flexDirection: 'row'\n\t  },\n\t  description: {\n\t    // flexWrap: 'wrap',\n\t    color: '#757575',\n\t    fontSize: 14\n\t  },\n\t  formType: {\n\t    color: '#EBFCFF',\n\t    fontSize: 20,\n\t    // fontWeight: '600',\n\t    opacity: 0.5,\n\t    alignSelf: 'flex-end',\n\t    marginTop: 10\n\t  },\n\t  verifiedHeader: {\n\t    flexDirection: 'row',\n\t    paddingVertical: 5,\n\t    paddingHorizontal: 7,\n\t    marginHorizontal: -8,\n\t    marginTop: -6,\n\t    justifyContent: 'center'\n\t  },\n\t  verificationBody: {\n\t    paddingVertical: 5,\n\t    paddingHorizontal: 7,\n\t    borderRadius: 10,\n\t    borderWidth: 1,\n\t    marginVertical: 2\n\t  },\n\t  viewStyle: {\n\t    flexDirection: 'row',\n\t    alignSelf: 'flex-start'\n\t  }\n\t});\n\treactMixin(MyProductMessageRow.prototype, RowMixin);\n\t\n\tmodule.exports = MyProductMessageRow;\n\n/***/ },\n\n/***/ 2085:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _reactNativeOrient = __webpack_require__(944);\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar utils = __webpack_require__(935);\n\tvar translate = utils.translate;\n\tvar ArticleView = __webpack_require__(1668);\n\tvar MessageView = __webpack_require__(1947);\n\tvar NewResource = __webpack_require__(1949);\n\tvar Icon = __webpack_require__(1541);\n\tvar constants = __webpack_require__(1348);\n\tvar RowMixin = __webpack_require__(1694);\n\tvar equal = __webpack_require__(721);\n\t\n\t\n\tvar reactMixin = __webpack_require__(1703);\n\t\n\tvar VerificationMessageRow = function (_Component) {\n\t  _inherits(VerificationMessageRow, _Component);\n\t\n\t  function VerificationMessageRow(props) {\n\t    _classCallCheck(this, VerificationMessageRow);\n\t\n\t    var _this = _possibleConstructorReturn(this, (VerificationMessageRow.__proto__ || Object.getPrototypeOf(VerificationMessageRow)).call(this, props));\n\t\n\t    var resource = _this.props.resource;\n\t    var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n\t    var me = utils.getMe();\n\t    return _this;\n\t  }\n\t\n\t  _createClass(VerificationMessageRow, [{\n\t    key: 'shouldComponentUpdate',\n\t    value: function shouldComponentUpdate(nextProps, nextState) {\n\t      return !equal(this.props.resource, nextProps.resource) || !equal(this.props.to, nextProps.to) || this.props.orientation != nextProps.orientation || this.props.sendStatus !== nextProps.sendStatus;\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var resource = this.props.resource;\n\t      var model = utils.getModel(resource[constants.TYPE]).value;\n\t      var renderedRow = [];\n\t\n\t      var time = this.getTime(resource);\n\t      var date = time ? _react2.default.createElement(\n\t        _reactNative.Text,\n\t        { style: styles.date, numberOfLines: 1 },\n\t        time\n\t      ) : _react2.default.createElement(_reactNative.View, null);\n\t\n\t      var isMyMessage = this.isMyMessage();\n\t      var w = utils.dimensions(VerificationMessageRow).width;\n\t      var msgWidth = Math.floor((w - 300) * 0.8);\n\t      var viewStyle = { width: msgWidth, flexDirection: 'row', alignSelf: isMyMessage ? 'flex-end' : 'flex-start' };\n\t\n\t      var msgModel = utils.getModel(resource.document[constants.TYPE]).value;\n\t      var orgName = resource.organization ? resource.organization.title : '';\n\t\n\t      var me = utils.getMe();\n\t      var isThirdPartyVerification = void 0;\n\t      if (me.isEmployee && !this.props.to.organization) {\n\t        // Check if I am the employee of the organization I opened a chat with or the customer\n\t        isThirdPartyVerification = !utils.isEmployee(resource.organization);\n\t      }\n\t      var isShared = this.isShared();\n\t      var bgColor = isThirdPartyVerification ? '#93BEBA' : this.props.bankStyle.VERIFIED_HEADER_COLOR;\n\t      var verifiedBy = isShared ? translate('youShared', orgName) : translate('verifiedBy', orgName);\n\t      var numberOfCharacters = msgWidth / 12;\n\t      if (verifiedBy.length > numberOfCharacters) verifiedBy = verifiedBy.substring(0, numberOfCharacters) + '..';\n\t\n\t      var headerStyle = [styles.verifiedHeader, { backgroundColor: bgColor, opacity: isShared ? 0.5 : 1 }, isMyMessage ? { borderTopRightRadius: 0, borderTopLeftRadius: 10 } : { borderTopLeftRadius: 0, borderTopRightRadius: 10 }];\n\t\n\t      renderedRow = _react2.default.createElement(\n\t        _reactNative.View,\n\t        null,\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: headerStyle },\n\t          _react2.default.createElement(Icon, { style: styles.verificationIcon, size: 20, name: 'md-checkmark' }),\n\t          _react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: styles.verificationHeaderText },\n\t            verifiedBy\n\t          )\n\t        ),\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          null,\n\t          this.formatDocument(msgModel, resource, this.verify.bind(this), isThirdPartyVerification)\n\t        )\n\t      );\n\t\n\t      var viewStyle = {\n\t        width: msgWidth,\n\t        flexDirection: 'row',\n\t        alignSelf: isMyMessage ? 'flex-end' : 'flex-start',\n\t        backgroundColor: this.props.bankStyle.BACKGROUND_COLOR\n\t      };\n\t      var addStyle = [styles.verificationBody, { backgroundColor: this.props.bankStyle.VERIFICATION_BG, borderColor: bgColor }, isMyMessage ? { borderTopRightRadius: 0 } : { borderTopLeftRadius: 0 }];\n\t      var messageBody = _react2.default.createElement(\n\t        _reactNative.TouchableHighlight,\n\t        { onPress: this.verify.bind(this, resource), underlayColor: 'transparent' },\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: [styles.row, viewStyle] },\n\t          this.getOwnerPhoto(isMyMessage),\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: [styles.textContainer, addStyle] },\n\t            _react2.default.createElement(\n\t              _reactNative.View,\n\t              { style: { flex: 1 } },\n\t              renderedRow\n\t            )\n\t          )\n\t        )\n\t      );\n\t\n\t      var viewStyle = { margin: 1, backgroundColor: this.props.bankStyle.BACKGROUND_COLOR };\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: viewStyle, key: this.getNextKey() },\n\t        date,\n\t        messageBody\n\t      );\n\t    }\n\t  }, {\n\t    key: 'isShared',\n\t    value: function isShared() {\n\t      var resource = this.props.resource;\n\t      // Is resource was originally created in this chat or shared from a different chat\n\t      if (!resource.organization) return false;\n\t      var to = this.props.to;\n\t      if (to[constants.TYPE] === constants.TYPES.PROFILE) return false;\n\t      return utils.getId(resource.organization) !== utils.getId(to);\n\t    }\n\t  }, {\n\t    key: 'verify',\n\t    value: function verify(event) {\n\t      var resource = this.props.resource;\n\t      var isVerification = resource[constants.TYPE] === constants.TYPES.VERIFICATION;\n\t      var r = isVerification ? resource.document : resource;\n\t\n\t      var passProps = {\n\t        resource: r,\n\t        bankStyle: this.props.bankStyle,\n\t        currency: this.props.currency\n\t      };\n\t      if (!isVerification) passProps.verify = true;else passProps.verification = resource;\n\t\n\t      var model = utils.getModel(r[constants.TYPE]).value;\n\t      var route = {\n\t        id: 5,\n\t        component: MessageView,\n\t        backButtonTitle: translate('back'),\n\t        passProps: passProps,\n\t        title: translate(model)\n\t      };\n\t      if (this.isMyMessage()) {\n\t        route.rightButtonTitle = translate('edit');\n\t        route.onRightButtonPress = {\n\t          title: translate('edit'),\n\t          component: NewResource,\n\t          // titleTextColor: '#7AAAC3',\n\t          id: 4,\n\t          passProps: {\n\t            resource: r,\n\t            metadata: model,\n\t            bankStyle: this.props.bankStyle,\n\t            currency: this.props.currency,\n\t            callback: this.props.onSelect.bind(this, r)\n\t          }\n\t        };\n\t      }\n\t      this.props.navigator.push(route);\n\t    }\n\t  }]);\n\t\n\t  return VerificationMessageRow;\n\t}(_react.Component);\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  textContainer: {\n\t    flex: 1,\n\t    flexDirection: 'row'\n\t  },\n\t  date: {\n\t    flex: 1,\n\t    color: '#999999',\n\t    fontSize: 12,\n\t    alignSelf: 'center',\n\t    paddingTop: 10\n\t  },\n\t  row: {\n\t    // alignItems: 'center',\n\t    backgroundColor: '#f7f7f7',\n\t    flexDirection: 'row'\n\t  },\n\t  verifiedHeader: {\n\t    flexDirection: 'row',\n\t    paddingVertical: 5,\n\t    paddingHorizontal: 7,\n\t    marginHorizontal: -8,\n\t    marginTop: -6,\n\t    justifyContent: 'center'\n\t  },\n\t  verificationHeaderText: {\n\t    fontSize: 18,\n\t    fontWeight: '500',\n\t    alignSelf: 'center',\n\t    color: '#FBFFE5',\n\t    paddingLeft: 3\n\t  },\n\t  verificationBody: {\n\t    paddingTop: 5,\n\t    paddingHorizontal: 7,\n\t    borderRadius: 10,\n\t    borderWidth: _reactNative.StyleSheet.hairlineWidth,\n\t    marginVertical: 2\n\t  },\n\t  verificationIcon: {\n\t    width: 20,\n\t    height: 20,\n\t    color: '#ffffff'\n\t  }\n\t});\n\treactMixin(VerificationMessageRow.prototype, RowMixin);\n\tVerificationMessageRow = (0, _reactNativeOrient.makeResponsive)(VerificationMessageRow);\n\t\n\tmodule.exports = VerificationMessageRow;\n\n/***/ },\n\n/***/ 2086:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _reactNativeOrient = __webpack_require__(944);\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar utils = __webpack_require__(935);\n\tvar translate = utils.translate;\n\tvar ArticleView = __webpack_require__(1668);\n\tvar MessageView = __webpack_require__(1947);\n\tvar NewResource = __webpack_require__(1949);\n\tvar PhotoList = __webpack_require__(1711);\n\tvar Icon = __webpack_require__(1541);\n\tvar constants = __webpack_require__(1348);\n\tvar RowMixin = __webpack_require__(1694);\n\tvar equal = __webpack_require__(721);\n\t\n\t\n\tvar reactMixin = __webpack_require__(1703);\n\t\n\tvar STRUCTURED_MESSAGE_COLOR;\n\t\n\tvar FormMessageRow = function (_Component) {\n\t  _inherits(FormMessageRow, _Component);\n\t\n\t  function FormMessageRow(props) {\n\t    _classCallCheck(this, FormMessageRow);\n\t\n\t    var _this = _possibleConstructorReturn(this, (FormMessageRow.__proto__ || Object.getPrototypeOf(FormMessageRow)).call(this, props));\n\t\n\t    var resource = _this.props.resource;\n\t    var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n\t    var me = utils.getMe();\n\t    STRUCTURED_MESSAGE_COLOR = _this.props.bankStyle.STRUCTURED_MESSAGE_COLOR;\n\t    return _this;\n\t  }\n\t\n\t  _createClass(FormMessageRow, [{\n\t    key: 'shouldComponentUpdate',\n\t    value: function shouldComponentUpdate(nextProps, nextState) {\n\t      return !equal(this.props.resource, nextProps.resource) || !equal(this.props.to, nextProps.to) || this.props.orientation != nextProps.orientation || this.props.sendStatus !== nextProps.sendStatus;\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var resource = this.props.resource;\n\t      var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n\t\n\t      var me = utils.getMe();\n\t\n\t      var isMyMessage = this.isMyMessage();\n\t      // var isVerifier = utils.isVerifier(resource)\n\t      var to = this.props.to;\n\t      var ownerPhoto = this.getOwnerPhoto(isMyMessage);\n\t      var hasOwnerPhoto = !isMyMessage && to && to.photos;\n\t\n\t      var renderedRow = [];\n\t      var ret = this.formatRow(isMyMessage, renderedRow);\n\t      var onPressCall = ret ? ret.onPressCall : null;\n\t\n\t      var photoUrls = [];\n\t      var photoListStyle = { height: 3 };\n\t      var addStyle, inRow;\n\t      var noMessage = !resource.message || !resource.message.length;\n\t      if (!renderedRow.length) {\n\t        var vCols = noMessage ? null : utils.getDisplayName(resource, model.properties);\n\t        if (vCols) renderedRow = _react2.default.createElement(\n\t          _reactNative.Text,\n\t          { style: styles.resourceTitle, numberOfLines: 2 },\n\t          vCols\n\t        );\n\t      } else {\n\t        var fromHash = resource.from.id;\n\t        if (isMyMessage) {\n\t          if (!noMessage) addStyle = styles.myCell;\n\t        } else addStyle = [styles.verificationBody, { flex: 1, borderColor: '#efefef', backgroundColor: '#ffffff', borderTopLeftRadius: 0 }];\n\t\n\t        if (isMyMessage) addStyle = [addStyle, styles.verificationBody, { backgroundColor: STRUCTURED_MESSAGE_COLOR, borderColor: '#C1E3E8', borderTopRightRadius: 0 }]; //model.style];\n\t        // }\n\t      }\n\t      var properties = model.properties;\n\t      var photoStyle = {};\n\t      if (properties.photos && resource.photos) {\n\t        var len = resource.photos.length;\n\t        inRow = len === 1 ? 1 : len == 2 || len == 4 ? 2 : 3;\n\t        var style;\n\t        if (inRow === 1) photoStyle = styles.bigImage;else if (inRow === 2) photoStyle = styles.mediumImage;else photoStyle = styles.image;\n\t        resource.photos.forEach(function (p) {\n\t          photoUrls.push({ url: utils.getImageUri(p.url) });\n\t        });\n\t\n\t        photoListStyle = {\n\t          flexDirection: 'row',\n\t          alignSelf: isMyMessage ? 'flex-end' : 'flex-start',\n\t          marginLeft: isMyMessage ? 30 : 45, //(hasOwnerPhoto ? 45 : 10),\n\t          borderRadius: 10,\n\t          marginBottom: 3\n\t        };\n\t      }\n\t      var rowStyle = [styles.row, { backgroundColor: this.props.bankStyle.BACKGROUND_COLOR }];\n\t      var val = this.getTime(resource);\n\t      var date = val ? _react2.default.createElement(\n\t        _reactNative.Text,\n\t        { style: styles.date, numberOfLines: 1 },\n\t        val\n\t      ) : _react2.default.createElement(_reactNative.View, null);\n\t\n\t      var sendStatus = _react2.default.createElement(_reactNative.View, null);\n\t      if (this.props.sendStatus && this.props.sendStatus !== null) {\n\t        switch (this.props.sendStatus) {\n\t          case 'Sent':\n\t            sendStatus = _react2.default.createElement(\n\t              _reactNative.View,\n\t              { style: styles.sendStatus },\n\t              _react2.default.createElement(\n\t                _reactNative.Text,\n\t                { style: styles.sentStatus },\n\t                this.props.sendStatus\n\t              ),\n\t              _react2.default.createElement(Icon, { name: 'ios-checkmark-outline', size: 15, color: '#009900' })\n\t            );\n\t            break;\n\t          default:\n\t            sendStatus = _react2.default.createElement(\n\t              _reactNative.Text,\n\t              { style: styles.otherStatus },\n\t              this.props.sendStatus\n\t            );\n\t            break;\n\t        }\n\t      }\n\t      var sealedStatus = resource.txId ? _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: styles.sealedStatus },\n\t        _react2.default.createElement(Icon, { name: 'ios-ribbon', size: 30, color: '#316A99', style: { opacity: 0.5 } })\n\t      ) : _react2.default.createElement(_reactNative.View, null);\n\t\n\t      var cellStyle = addStyle ? [styles.textContainer, addStyle] : styles.textContainer;\n\t      // HACK that solves the case when the message is short and we don't want it to be displayed\n\t      // in a bigger than needed bubble\n\t      var messageBody;\n\t      var width = utils.dimensions(FormMessageRow).width;\n\t      var msgWidth = Math.floor(width * 0.8);\n\t      var viewStyle = { width: msgWidth, flexDirection: 'row', alignSelf: isMyMessage ? 'flex-end' : 'flex-start' };\n\t\n\t      messageBody = _react2.default.createElement(\n\t        _reactNative.TouchableHighlight,\n\t        { onPress: onPressCall ? onPressCall : function () {}, underlayColor: 'transparent' },\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: [rowStyle, viewStyle] },\n\t          ownerPhoto,\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: cellStyle },\n\t            _react2.default.createElement(\n\t              _reactNative.View,\n\t              { style: { flex: 1 } },\n\t              this.isShared() ? _react2.default.createElement(\n\t                _reactNative.View,\n\t                { style: [styles.verifiedHeader, { backgroundColor: this.props.bankStyle.SHARED_WITH_BG }] },\n\t                _react2.default.createElement(\n\t                  _reactNative.Text,\n\t                  { style: styles.youSharedText },\n\t                  translate('youShared', resource.to.organization.title)\n\t                )\n\t              ) : _react2.default.createElement(_reactNative.View, null),\n\t              renderedRow\n\t            ),\n\t            sealedStatus\n\t          )\n\t        )\n\t      );\n\t\n\t      var len = photoUrls.length;\n\t      var inRow = utils.isWeb() ? Math.floor(msgWidth / 145) : len === 1 ? 1 : len == 2 || len == 4 ? 2 : 3;\n\t      // var photoStyle = {};\n\t      // var height;\n\t\n\t      // if (!utils.isWeb()  &&  inRow > 0) {\n\t      //   if (inRow === 1) {\n\t      //     if (utils.isWeb())\n\t      //       photoStyle = styles.bigImage\n\t      //     else {\n\t      //       var ww = Math.max(240, msgWidth / 2)\n\t      //       var hh = ww * 280 / 240\n\t      //       photoStyle = {\n\t      //         width:  ww,\n\t      //         height: hh,\n\t      //         margin: 1,\n\t      //         borderRadius: 10\n\t      //       }\n\t      //     }\n\t      //   }\n\t      //   else if (inRow === 2)\n\t      //     photoStyle = styles.mediumImage;\n\t      //   else\n\t      //     photoStyle = styles.image;\n\t      //   photoStyle = [photoStyle, {marginTop: '-5'}]\n\t      // }\n\t\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: { margin: 1, backgroundColor: this.props.bankStyle.BACKGROUND_COLOR } },\n\t        date,\n\t        messageBody,\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: photoListStyle },\n\t          _react2.default.createElement(PhotoList, { photos: photoUrls, resource: this.props.resource, style: photoStyle, navigator: this.props.navigator, numberInRow: inRow })\n\t        ),\n\t        sendStatus\n\t      );\n\t    }\n\t  }, {\n\t    key: 'isShared',\n\t    value: function isShared() {\n\t      var resource = this.props.resource;\n\t      if (!resource.to.organization) return false;\n\t      var to = this.props.to;\n\t      if (to[constants.TYPE] === constants.TYPES.PROFILE) return false;\n\t      return utils.getId(resource.to.organization) !== utils.getId(to);\n\t    }\n\t  }, {\n\t    key: 'onPress',\n\t    value: function onPress(event) {\n\t      this.props.navigator.push({\n\t        id: 7,\n\t        component: ArticleView,\n\t        passProps: { url: this.props.resource.message }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'verify',\n\t    value: function verify(event) {\n\t      var resource = this.props.resource;\n\t      var isVerification = resource[constants.TYPE] === constants.TYPES.VERIFICATION;\n\t      var r = isVerification ? resource.document : resource;\n\t\n\t      var passProps = {\n\t        resource: r,\n\t        bankStyle: this.props.bankStyle,\n\t        currency: this.props.currency\n\t      };\n\t      if (!isVerification) passProps.verify = true;else passProps.verification = resource;\n\t\n\t      var model = utils.getModel(r[constants.TYPE]).value;\n\t      var route = {\n\t        id: 5,\n\t        component: MessageView,\n\t        backButtonTitle: translate('back'),\n\t        passProps: passProps,\n\t        title: translate(model)\n\t      };\n\t      if (this.isMyMessage()) {\n\t        route.rightButtonTitle = translate('edit');\n\t        route.onRightButtonPress = {\n\t          title: translate('edit'),\n\t          component: NewResource,\n\t          // titleTextColor: '#7AAAC3',\n\t          id: 4,\n\t          passProps: {\n\t            resource: r,\n\t            metadata: model,\n\t            bankStyle: this.props.bankStyle,\n\t            currency: this.props.currency,\n\t            callback: this.props.onSelect.bind(this, r)\n\t          }\n\t        };\n\t      }\n\t      this.props.navigator.push(route);\n\t    }\n\t  }, {\n\t    key: 'formatRow',\n\t    value: function formatRow(isMyMessage, renderedRow) {\n\t      var resource = this.props.resource;\n\t      var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n\t\n\t      var viewCols = model.gridCols || model.viewCols;\n\t      if (!viewCols) return;\n\t      var first = true;\n\t      var self = this;\n\t\n\t      var properties = model.properties;\n\t      var onPressCall;\n\t\n\t      var self = this;\n\t      var vCols = [];\n\t      viewCols.forEach(function (v) {\n\t        if (properties[v].type === 'array') return;\n\t        if (properties[v].ref) {\n\t          if (resource[v]) {\n\t            vCols.push(self.getPropRow(properties[v], resource, resource[v].title || resource[v]));\n\t            first = false;\n\t          }\n\t          return;\n\t        }\n\t        var style = styles.resourceTitle;\n\t        if (isMyMessage) style = [style, styles.myMsg];\n\t\n\t        if (resource[v] && properties[v].type === 'string' && (resource[v].indexOf('http://') == 0 || resource[v].indexOf('https://') == 0)) {\n\t          onPressCall = self.onPress.bind(self);\n\t          vCols.push(_react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: style, numberOfLines: first ? 2 : 1, key: self.getNextKey() },\n\t            resource[v]\n\t          ));\n\t        } else if (!model.autoCreate) {\n\t          var val = void 0;\n\t          if (properties[v].type === 'date') val = resource[v] ? utils.formatDate(resource[v]) : null;else val = properties[v].displayAs ? utils.templateIt(properties[v], resource) : properties[v].type === 'boolean' ? resource[v] ? 'Yes' : 'No' : resource[v];\n\t\n\t          if (!val) return;\n\t          if (model.properties.verifications && !isMyMessage && !utils.isVerifier(resource)) onPressCall = self.verify.bind(self);\n\t          if (!isMyMessage) style = [style, { paddingBottom: 10, color: '#2892C6' }];\n\t          vCols.push(self.getPropRow(properties[v], resource, val));\n\t        } else {\n\t          if (!resource[v] || !resource[v].length) return;\n\t          vCols.push(_react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: style, key: self.getNextKey() },\n\t            resource[v]\n\t          ));\n\t        }\n\t        first = false;\n\t      });\n\t      var title = translate(model);\n\t      if (title.length > 30) title = title.substring(0, 27) + '...';\n\t\n\t      vCols.push(_react2.default.createElement(\n\t        _reactNative.Text,\n\t        { style: [styles.resourceTitle, styles.formType, { color: isMyMessage ? '#EBFCFF' : this.props.bankStyle.STRUCTURED_MESSAGE_BORDER }], key: this.getNextKey() },\n\t        title\n\t      ));\n\t\n\t      if (vCols && vCols.length) {\n\t        vCols.forEach(function (v) {\n\t          renderedRow.push(v);\n\t        });\n\t      }\n\t      if (onPressCall) return { onPressCall: onPressCall };\n\t      return { onPressCall: this.props.onSelect.bind(this, resource, null) };\n\t    }\n\t  }]);\n\t\n\t  return FormMessageRow;\n\t}(_react.Component);\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  textContainer: {\n\t    flex: 1,\n\t    flexDirection: 'row'\n\t  },\n\t  resourceTitle: {\n\t    // flex: 1,\n\t    fontSize: 18,\n\t    fontWeight: '400',\n\t    marginBottom: 2\n\t  },\n\t  date: {\n\t    flex: 1,\n\t    color: '#999999',\n\t    fontSize: 12,\n\t    alignSelf: 'center',\n\t    paddingTop: 10\n\t  },\n\t  row: {\n\t    // alignItems: 'center',\n\t    backgroundColor: '#f7f7f7',\n\t    flexDirection: 'row'\n\t  },\n\t  myCell: {\n\t    paddingVertical: 5,\n\t    // borderTopRightRadius: 0,\n\t    paddingHorizontal: 7,\n\t    justifyContent: 'flex-end',\n\t    borderRadius: 10,\n\t    backgroundColor: '#77ADFC' //#569bff',\n\t  },\n\t  bigImage: {\n\t    width: 240,\n\t    height: 280,\n\t    margin: 1,\n\t    borderRadius: 10\n\t  },\n\t  bigImageH: {\n\t    width: 270,\n\t    height: 200,\n\t    margin: 1,\n\t    borderRadius: 10\n\t  },\n\t  mediumImage: {\n\t    width: 120,\n\t    height: 120,\n\t    margin: 1,\n\t    borderRadius: 10\n\t  },\n\t  image: {\n\t    width: 88,\n\t    height: 88,\n\t    margin: 1,\n\t    borderRadius: 10\n\t  },\n\t  formType: {\n\t    color: '#EBFCFF',\n\t    fontSize: 18,\n\t    // fontWeight: '600',\n\t    opacity: 0.7,\n\t    alignSelf: 'flex-end',\n\t    marginTop: 10\n\t  },\n\t  verifiedHeader: {\n\t    flexDirection: 'row',\n\t    paddingVertical: 5,\n\t    paddingHorizontal: 7,\n\t    marginHorizontal: -8,\n\t    marginTop: -6,\n\t    justifyContent: 'center'\n\t  },\n\t  sendStatus: {\n\t    alignSelf: 'flex-end',\n\t    flexDirection: 'row',\n\t    marginHorizontal: 5,\n\t    marginTop: -5\n\t  },\n\t  sealedStatus: {\n\t    // alignSelf: 'flex-end',\n\t    // flexDirection: 'row',\n\t    position: 'absolute',\n\t    bottom: 1,\n\t    left: 10\n\t  },\n\t  verificationBody: {\n\t    paddingVertical: 5,\n\t    paddingHorizontal: 7,\n\t    borderRadius: 10,\n\t    borderWidth: 1,\n\t    marginVertical: 2\n\t  },\n\t  myMsg: {\n\t    justifyContent: 'flex-end',\n\t    color: '#ffffff'\n\t  },\n\t  sentStatus: {\n\t    fontSize: 14,\n\t    color: '#009900',\n\t    marginRight: 3\n\t  },\n\t  otherStatus: {\n\t    alignSelf: 'flex-end',\n\t    fontSize: 14,\n\t    color: '#757575',\n\t    marginHorizontal: 5,\n\t    paddingBottom: 20\n\t  },\n\t  youSharedText: {\n\t    color: '#ffffff',\n\t    fontSize: 18\n\t  }\n\t});\n\treactMixin(FormMessageRow.prototype, RowMixin);\n\tFormMessageRow = (0, _reactNativeOrient.makeResponsive)(FormMessageRow);\n\t\n\tmodule.exports = FormMessageRow;\n\n/***/ },\n\n/***/ 2094:\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"LINK_COLOR\": \"#2892C6\",\n\t\t\"PRODUCT_ROW_BG_COLOR\": \"#466399\",\n\t\t\"PRODUCT_ROW_TEXT_COLOR\": \"#eeeeee\",\n\t\t\"SHARED_WITH_BG\": \"#B6D2FC\",\n\t\t\"VERIFIED_HEADER_COLOR\": \"#FF6D0D\",\n\t\t\"VERIFIED_BORDER_COLOR\": \"#FFCFB0\",\n\t\t\"VERIFICATION_BG\": \"#FBFFE5\",\n\t\t\"CONFIRMATION_COLOR\": \"#289427\",\n\t\t\"CONFIRMATION_BG\": \"#ffffff\",\n\t\t\"REQUEST_FULFILLED\": \"#3A5280\",\n\t\t\"BACKGROUND_COLOR\": \"#f7f7f7\",\n\t\t\"PRODUCT_BG_COLOR\": \"#F4FAE8\",\n\t\t\"PRODUCT_TEXT_COLOR\": \"#757575\",\n\t\t\"NAV_TITLE\": \"#F7F7F7\",\n\t\t\"NAV_BUTTONS\": \"#FF6D0D\",\n\t\t\"NAV_BG\": \"#223251\",\n\t\t\"SEPARATOR\": \"#006A4D\",\n\t\t\"MY_MESSAGE_BG\": \"#4884BD\",\n\t\t\"MY_MESSAGE_LINK_COLOR\": \"#C5EFFB\",\n\t\t\"STRUCTURED_MESSAGE_COLOR\": \"#77ADFC\",\n\t\t\"STRUCTURED_MESSAGE_BORDER\": \"#558bda\",\n\t\t\"BANKLINKS\": \"#3A5280\",\n\t\t\"FORM_ERROR_BORDER\": \"#FA0100\",\n\t\t\"FORM_ERROR_COLOR\": \"#FA0100\",\n\t\t\"FORM_ERROR_BG\": \"#ffffff\"\n\t};\n\n/***/ },\n\n/***/ 2095:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar utils = __webpack_require__(935);\n\tvar translate = utils.translate;\n\tvar constants = __webpack_require__(1348);\n\tvar Icon = __webpack_require__(1541);\n\tvar reactMixin = __webpack_require__(1703);\n\tvar RowMixin = __webpack_require__(1694);\n\tvar Accordion = __webpack_require__(1699);\n\tvar Swipeout = __webpack_require__(2096);\n\t\n\tvar DEFAULT_CURRENCY_SYMBOL = '£';\n\tvar CURRENCY_SYMBOL;\n\t\n\tvar VerificationRow = function (_Component) {\n\t  _inherits(VerificationRow, _Component);\n\t\n\t  function VerificationRow(props) {\n\t    _classCallCheck(this, VerificationRow);\n\t\n\t    var _this = _possibleConstructorReturn(this, (VerificationRow.__proto__ || Object.getPrototypeOf(VerificationRow)).call(this, props));\n\t\n\t    CURRENCY_SYMBOL = props.currency ? props.currency.symbol || props.currency : DEFAULT_CURRENCY_SYMBOL;\n\t    return _this;\n\t  }\n\t\n\t  _createClass(VerificationRow, [{\n\t    key: 'shouldComponentUpdate',\n\t    value: function shouldComponentUpdate(nextProps, nextState) {\n\t      return false;\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this2 = this;\n\t\n\t      var resource = this.props.resource;\n\t      var photo;\n\t\n\t      // if (resource.from  &&  resource.from.photos)\n\t      //   photo = <Image source={{uri: utils.getImageUri(resource.from.photos[0].url)}} style={styles.cellImage} />\n\t      var model = utils.getModel(resource[constants.TYPE]).value;\n\t      var isMyProduct = model.subClassOf === 'tradle.MyProduct';\n\t      var isForm = model.subClassOf === 'tradle.Form';\n\t      var isVerification = resource.document;\n\t      var r = isVerification ? resource.document : resource;\n\t      if (r && isMyProduct) {\n\t        var photos = resource.from.organization.photos;\n\t        photo = photos && photos.length ? photos[0] : null;\n\t      } else if (r && r.photos) photo = r.photos[0];\n\t      var hasPhoto = photo !== null;\n\t      if (photo) photo = _react2.default.createElement(_reactNative.Image, { source: { uri: utils.getImageUri(photo.url), position: 'absolute', left: 10 }, style: styles.cellImage });else if (isForm || isVerification) photo = _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: { alignItems: 'center', width: 70 } },\n\t        _react2.default.createElement(Icon, { name: model.icon || 'ios-paper-outline', size: 40, style: { marginTop: 8 }, color: model.iconColor ? model.iconColor : '#cccccc' })\n\t      );else if (isMyProduct) photo = _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: { alignItems: 'center', width: 70 } },\n\t        _react2.default.createElement(Icon, { name: model.icon || 'ios-ribbon-outline', size: 40, style: { marginTop: 8 }, color: model.iconColor ? model.iconColor : '#cccccc' })\n\t      );else photo = _react2.default.createElement(_reactNative.View, { style: { width: 70 } });\n\t\n\t      // else if (resource.organization  &&  resource.organization.photos)\n\t      //   photo = <Image source={{uri: utils.getImageUri(resource.organization.photos[0].url)}} style={styles.cellImage} />\n\t      // else if (resource.from  &&  resource.from.photos)\n\t      //   photo = <Image source={{uri: utils.getImageUri(resource.from.photos[0].url)}} style={styles.cellImage} />\n\t      // else\n\t      //   photo = <View style={styles.cellImage} />\n\t\n\t      var verificationRequest = resource.document ? utils.getModel(resource.document[constants.TYPE]).value : utils.getModel(resource[constants.TYPE]).value;\n\t\n\t      var rows = [];\n\t\n\t      // rows.push(this.addDateProp('time', styles.verySmallLetters));\n\t\n\t      // var val = utils.formatDate(new Date(resource.time));\n\t      // rows.push(<View><Text style={styles.resourceTitle}>{val}</Text></View>);\n\t\n\t      if (r) this.formatDoc(verificationRequest, r, rows);\n\t      var backlink = this.props.prop && this.props.prop.items && this.props.prop.items.backlink;\n\t      if (resource.txId) rows.push(_react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: { flexDirection: 'row' }, key: this.getNextKey() },\n\t        _react2.default.createElement(\n\t          _reactNative.Text,\n\t          { style: styles.resourceTitleL },\n\t          translate('verificationTransactionID')\n\t        ),\n\t        _react2.default.createElement(\n\t          _reactNative.Text,\n\t          { style: [styles.description, { color: '#7AAAc3' }], onPress: this.onPress.bind(this, 'http://tbtc.blockr.io/tx/info/' + resource.txId) },\n\t          resource.txId\n\t        )\n\t      ));\n\t\n\t      // if (!isForm  &&  resource.to  &&  backlink !== 'to') {\n\t      //   var row = <View style={{flexDirection: 'row'}} key={this.getNextKey()}>\n\t      //               <Text style={[styles.description, {color: '#7AAAc3'}]}>submitted by </Text>\n\t      //               <Text style={styles.description}>{resource.to.title}</Text>\n\t      //             </View>;\n\t      // var row = resource.to.photos\n\t      //         ? <View style={{flexDirection: 'row'}}>\n\t      //             <Text style={[styles.description, {color: '#7AAAc3'}]}>submitted by </Text>\n\t      //             <Text style={styles.description}>{resource.to.title}</Text>\n\t      //             <Image source={{uri: resource.to.photos[0].url}} style={styles.icon}/>\n\t      //           </View>\n\t      //         : <View style={{flexDirection: 'row'}}>\n\t      //             <Text style={[styles.description, {color: '#7AAAc3'}]}>submitted by </Text>\n\t      //             <Text style={styles.description}>{resource.to.title}</Text>\n\t      //           </View>;\n\t      //   rows.push(row);\n\t      // }\n\t      var verifiedBy;\n\t      if (!this.props.isChooser && (isVerification || isMyProduct || isForm) && resource.from) {\n\t        var contentRows = [];\n\t        // contentRows.push(<Text style={}>verified by {resource.to.title}></Text>);\n\t        var org = isMyProduct ? resource.from.organization : isForm ? resource.to.organization : resource.organization;\n\t\n\t        var by = void 0;\n\t        if (isMyProduct) by = translate('issuedBy', org.title);else if (isForm) by = translate('sentTo', org.title);else by = translate('verifiedBy', org.title);\n\t\n\t        verifiedBy = _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: contentRows.length == 1 ? { flex: 1 } : { flexDirection: 'row' }, key: this.getNextKey() },\n\t          _react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: styles.description },\n\t            by\n\t          )\n\t        );\n\t      } else verifiedBy = _react2.default.createElement(_reactNative.View, null);\n\t\n\t      var date = r ? this.addDateProp('time', [styles.verySmallLetters, { position: 'absolute', right: 10 }]) : _react2.default.createElement(_reactNative.View, null);\n\t      var header = _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: { borderColor: '#ffffff', backgroundColor: '#ffffff', borderBottomColor: '#cccccc', borderBottomWidth: _reactNative.StyleSheet.hairlineWidth }, key: this.getNextKey() },\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: { flexDirection: 'row', marginHorizontal: 10, marginVertical: 3, paddingBottom: 4 } },\n\t          photo,\n\t          date,\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: { flexDirection: 'column', paddingTop: 10 } },\n\t            _react2.default.createElement(\n\t              _reactNative.Text,\n\t              { style: styles.rTitle },\n\t              this.props.isChooser ? utils.getDisplayName(resource, model.properties) : verificationRequest.title\n\t            ),\n\t            verifiedBy\n\t          )\n\t        )\n\t      );\n\t      // if (isForm  &&  !isMyProduct)\n\t      //   header = <Swipeout right={[{text: 'Revoke', backgroundColor: 'red', onPress: this.revokeDocument.bind(this, resource)}]} autoClose={true} scroll={(event) => this._allowScroll(event)}>\n\t      //              {header}\n\t      //            </Swipeout>\n\t\n\t      var content = _react2.default.createElement(\n\t        _reactNative.View,\n\t        null,\n\t        _react2.default.createElement(\n\t          _reactNative.TouchableHighlight,\n\t          { onPress: this.props.onSelect.bind(this), underlayColor: 'transparent' },\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: styles.row },\n\t            _react2.default.createElement(\n\t              _reactNative.View,\n\t              { style: [styles.textContainer, { margin: -5, paddingLeft: 3, borderBottomWidth: _reactNative.StyleSheet.hairlineWidth, borderColor: 'transparent' }] },\n\t              rows\n\t            )\n\t          )\n\t        )\n\t      );\n\t\n\t      return this.props.isChooser ? _react2.default.createElement(\n\t        _reactNative.View,\n\t        null,\n\t        _react2.default.createElement(\n\t          _reactNative.TouchableHighlight,\n\t          { onPress: this.props.onSelect.bind(this), underlayColor: 'transparent' },\n\t          header\n\t        )\n\t      ) : _react2.default.createElement(\n\t        Swipeout,\n\t        { right: [{ text: 'Revoke', backgroundColor: 'red', onPress: this.revokeDocument.bind(this) }], autoClose: true, scroll: function scroll(event) {\n\t            return _this2._allowScroll(event);\n\t          } },\n\t        _react2.default.createElement(\n\t          _reactNative.TouchableHighlight,\n\t          { onPress: this.props.onSelect.bind(this), underlayColor: 'transparent' },\n\t          header\n\t        )\n\t      );\n\t      // :  !isMyProduct  &&  !isVerification  &&  !this.props.prop\n\t      //    ? <Swipeout right={[{text: 'Revoke', backgroundColor: 'red', onPress: this.revokeDocument.bind(this)}]} autoClose={true} scroll={(event) => this._allowScroll(event)}>\n\t      //        <TouchableHighlight onPress={this.props.onSelect.bind(this)} underlayColor='transparent'>\n\t      //         {header}\n\t      //        </TouchableHighlight>\n\t      //      </Swipeout>\n\t      //    : <View>\n\t      //       <Accordion\n\t      //         header={header}\n\t      //         style={{alignSelf: 'stretch'}}\n\t      //         content={content}\n\t      //         underlayColor='transparent'\n\t      //         easing='easeOutQuad' />\n\t      //      </View>\n\t    }\n\t  }, {\n\t    key: 'revokeDocument',\n\t    value: function revokeDocument() {\n\t      var resource = this.props.resource;\n\t      _reactNative.AlertIOS.alert(translate('confirmRevoke', resource.to.organization.title), null, [{ text: translate('cancel'), onPress: function onPress() {\n\t          return console.log('Cancel');\n\t        } }, { text: 'OK', onPress: function onPress() {\n\t          return _reactNative.AlertIOS.alert(translate('willBeAvailable'));\n\t        } }]);\n\t    }\n\t  }, {\n\t    key: '_allowScroll',\n\t    value: function _allowScroll(scrollEnabled) {\n\t      this.setState({ scrollEnabled: scrollEnabled });\n\t    }\n\t  }, {\n\t    key: 'formatDoc',\n\t    value: function formatDoc(model, resource, renderedRow) {\n\t      var viewCols = model.gridCols || model.viewCols;\n\t      if (!viewCols) return;\n\t      var verPhoto;\n\t      var vCols = [];\n\t      var first = true;\n\t      var self = this;\n\t      var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n\t\n\t      var properties = model.properties;\n\t      var noMessage = !resource.message || !resource.message.length;\n\t      var onPressCall;\n\t\n\t      var isSimpleMessage = model.id === constants.TYPES.SIMPLE_MESSAGE;\n\t      var style = styles.resourceTitle;\n\t      var labelStyle = styles.resourceTitleL;\n\t      viewCols.forEach(function (v) {\n\t        if (properties[v].type === 'array' || properties[v].type === 'date') return;\n\t        if (!resource[v] && !properties[v].displayAs) return;\n\t        //(first) ? styles.resourceTitle : styles.description;\n\t\n\t        var units = properties[v].units && properties[v].units.charAt(0) !== '[' ? ' (' + properties[v].units + ')' : '';\n\t\n\t        if (properties[v].ref) {\n\t          if (resource[v]) {\n\t            var _val = properties[v].ref === constants.TYPES.MONEY ? utils.normalizeCurrencySymbol(resource[v].currency || CURRENCY_SYMBOL) + resource[v].value : resource[v].title || resource[v];\n\t            vCols.push(_react2.default.createElement(\n\t              _reactNative.View,\n\t              { style: { flexDirection: 'row', justifyContent: 'space-between', borderColor: '#F2FAED', borderBottomWidth: _reactNative.StyleSheet.hairlineWidth, borderBottomColor: '#f0f0f0', paddingVertical: 3 }, key: self.getNextKey() },\n\t              _react2.default.createElement(\n\t                _reactNative.Text,\n\t                { style: labelStyle },\n\t                properties[v].title + units\n\t              ),\n\t              _react2.default.createElement(\n\t                _reactNative.Text,\n\t                { style: style },\n\t                _val\n\t              )\n\t            ));\n\t            first = false;\n\t          }\n\t\n\t          return;\n\t        }\n\t        var row = void 0;\n\t        if (resource[v] && properties[v].type === 'string' && (resource[v].indexOf('http://') == 0 || resource[v].indexOf('https://') == 0)) row = _react2.default.createElement(\n\t          _reactNative.Text,\n\t          { style: style, key: self.getNextKey() },\n\t          resource[v]\n\t        );else if (!model.autoCreate) {\n\t          var val = properties[v].displayAs ? utils.templateIt(properties[v], resource) : resource[v];\n\t          row = _react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: style, key: self.getNextKey() },\n\t            val\n\t          );\n\t        } else {\n\t          if (!resource[v] || !resource[v].length) return;\n\t          var msgParts = utils.splitMessage(resource[v]);\n\t          // Case when the needed form was sent along with the message\n\t          if (msgParts.length === 2) {\n\t            var msgModel = utils.getModel(msgParts[1]);\n\t            if (msgModel) {\n\t              vCols.push(_react2.default.createElement(\n\t                _reactNative.View,\n\t                { key: self.getNextKey(), style: { borderColor: '#F2FAED', borderBottomWidth: _reactNative.StyleSheet.hairlineWidth, paddingVertical: 5, borderBottomColor: '#f0f0f0' } },\n\t                _react2.default.createElement(\n\t                  _reactNative.Text,\n\t                  { style: style },\n\t                  msgParts[0]\n\t                ),\n\t                _react2.default.createElement(\n\t                  _reactNative.Text,\n\t                  { style: [style, { color: isMyMessage ? '#efffe5' : '#7AAAC3' }] },\n\t                  msgModel.value.title\n\t                )\n\t              ));\n\t              return;\n\t            }\n\t          }\n\t          row = _react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: style, key: self.getNextKey() },\n\t            resource[v]\n\t          );\n\t        }\n\t        // if (first) {\n\t        //   row = <View style={{flexDirection: 'row', justifyContent: 'space-between'}}>\n\t        //           <View>{row}</View>\n\t        //           <View><Text style={styles.verySmallLetters}>{renderedRow[0]}</Text></View>\n\t        //         </View>\n\t        //   renderedRow.splice(0, 1);\n\t        // }\n\t\n\t        vCols.push(_react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: { flexDirection: 'row', justifyContent: 'space-between', paddingVertical: 5, borderColor: '#F2FAED', borderBottomWidth: _reactNative.StyleSheet.hairlineWidth, borderBottomColor: '#f0f0f0' }, key: self.getNextKey() },\n\t          _react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: labelStyle },\n\t            properties[v].title + units\n\t          ),\n\t          row\n\t        ));\n\t        first = false;\n\t      });\n\t      // if (model.style)\n\t      //   vCols.push(<Text style={styles.verySmallLetters}>{model.title}</Text>);\n\t\n\t      if (vCols && vCols.length) {\n\t        vCols.forEach(function (v) {\n\t          renderedRow.push(v);\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'onPress',\n\t    value: function onPress(url) {\n\t      this.props.navigator.push({\n\t        id: 7,\n\t        component: _reactNative.ArticleView,\n\t        backButtonTitle: 'Back',\n\t        passProps: { url: url }\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return VerificationRow;\n\t}(_react.Component);\n\t\n\treactMixin(VerificationRow.prototype, RowMixin);\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  textContainer: {\n\t    flex: 1,\n\t    borderColor: 'green'\n\t  },\n\t  rTitle: {\n\t    flex: 1,\n\t    fontSize: 18,\n\t    marginVertical: 5,\n\t    color: '#757575'\n\t  },\n\t  resourceTitle: {\n\t    flex: 1,\n\t    fontSize: 16,\n\t    fontWeight: '400'\n\t  },\n\t  resourceTitleL: {\n\t    flex: 1,\n\t    fontSize: 16,\n\t    fontWeight: '400',\n\t    paddingRight: 5,\n\t    color: '#999999'\n\t  },\n\t  description: {\n\t    flex: 1,\n\t    flexWrap: 'wrap',\n\t    color: '#999999',\n\t    fontSize: 14\n\t  },\n\t  row: {\n\t    // backgroundColor: '#FBFFE5',\n\t    flexDirection: 'row',\n\t    marginHorizontal: 10,\n\t    padding: 5\n\t  },\n\t  cellImage: {\n\t    backgroundColor: '#dddddd',\n\t    height: 60,\n\t    marginRight: 10,\n\t    marginVertical: 3,\n\t    width: 60,\n\t    borderColor: '#7AAAc3',\n\t    // borderRadius:10,\n\t    borderBottomWidth: _reactNative.StyleSheet.hairlineWidth\n\t  },\n\t  icon: {\n\t    width: 20,\n\t    height: 20,\n\t    borderWidth: 1,\n\t    borderColor: '#7AAAc3',\n\t    borderRadius: 10,\n\t    marginRight: 10,\n\t    alignSelf: 'center'\n\t  },\n\t  verySmallLetters: {\n\t    fontSize: 12,\n\t    alignSelf: 'flex-end',\n\t    color: '#b4c3cb'\n\t  }\n\t});\n\t\n\tmodule.exports = VerificationRow;\n\n/***/ },\n\n/***/ 2099:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _utils = __webpack_require__(935);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Camera = _utils2.default.isWeb() ? null : __webpack_require__(2072).default;\n\t\n\tvar ICON_BORDER_COLOR = '#D7E6ED';\n\tvar Icon = __webpack_require__(1541);\n\tvar Dir = Camera && Camera.Type;\n\t\n\tvar QRCodeScanner = function (_Component) {\n\t  _inherits(QRCodeScanner, _Component);\n\t\n\t  function QRCodeScanner(props) {\n\t    _classCallCheck(this, QRCodeScanner);\n\t\n\t    var _this = _possibleConstructorReturn(this, (QRCodeScanner.__proto__ || Object.getPrototypeOf(QRCodeScanner)).call(this, props));\n\t\n\t    _this.state = {\n\t      cameraType: Camera.constants.Type.back\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(QRCodeScanner, [{\n\t    key: 'render',\n\t\n\t    // !(element && (typeof element.type === 'function' || typeof element.type === 'string'))\n\t    // ? process.env.NODE_ENV !== 'production'\n\t    //       ? invariant(false, 'Element type is invalid: expected a string (for built-in components) ' + 'or a class/function (for composite components) but got: %s.%s', element.type == null\n\t    //         ? element.type\n\t    //         : typeof element.type, getDeclarationErrorAddendum(element._owner))\n\t    //       : invariant(false)\n\t    // : void 0;\n\t\n\t\n\t    value: function render() {\n\t      var _this2 = this;\n\t\n\t      return _react2.default.createElement(\n\t        Camera,\n\t        {\n\t          style: styles.container,\n\t          onBarCodeRead: this._onBarCodeRead.bind(this),\n\t          ref: function ref(cam) {\n\t            _this2.camera = cam;\n\t          },\n\t          type: this.state.cameraType },\n\t        _react2.default.createElement(\n\t          _reactNative.TouchableHighlight,\n\t          { onPress: this._switchCamera.bind(this), style: styles.flip },\n\t          _react2.default.createElement(Icon, { name: 'ios-reverse-camera', size: 25, color: '#eeeeee', style: styles.icon })\n\t        )\n\t      );\n\t    }\n\t  }, {\n\t    key: '_onBarCodeRead',\n\t    value: function _onBarCodeRead(e) {\n\t      if (this._finished) return;\n\t\n\t      this.props.onread(e);\n\t      this._finished = true;\n\t    }\n\t  }, {\n\t    key: '_switchCamera',\n\t    value: function _switchCamera() {\n\t      var cameraType = this.state.cameraType === Dir.back ? Dir.front : Dir.back;\n\t      this.setState({ cameraType: cameraType });\n\t    }\n\t  }]);\n\t\n\t  return QRCodeScanner;\n\t}(_react.Component);\n\t\n\tvar styles = {\n\t  container: {\n\t    flex: 1,\n\t    justifyContent: 'center',\n\t    alignItems: 'center',\n\t    backgroundColor: '#F5FCFF'\n\t  },\n\t  icon: {\n\t    width: 30,\n\t    height: 30\n\t  },\n\t  flip: {\n\t    position: 'absolute',\n\t    top: 30,\n\t    right: 10\n\t  }\n\t};\n\t\n\tmodule.exports = Camera && QRCodeScanner;\n\n/***/ },\n\n/***/ 2100:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACB0lEQVRYR+1XzVXjMBDWp7yX5EgHsBWwHSxbAXQAuVjWiaUCkgpITpJOMR1ABUAH2QqADjjm5aDZN3qWn+0A+Xn25uK5WdbMfJoZab6B2EPm8/nRarW6JqIrVgeQ9fv92Wg0+tjVHHZRMMacSCmvhRDs+Kimy84z7/1Ma/22rd2tABhjzgBcAggn3iRElEkpZ0mSLDbt/RaAtfZcCPEHwNkmQ5/9J6JnIcQ0TdPHr/TXAOT5PSeiMYCTfRzXdYjoDcBYKXVf/1cAiIXFJ/4kv03gYBtcJ9NywYILC8DttvltCgnXyWAwuIG19rWpUO8KLqTGOcdX5nhX5Yb2v4cUSCm3ul4NOS3MeO+zyi3g+97r9ahpR3V7SZK8xLUCgDHmSko5b9s52/fej7TWWXjGyw6dc3wF7/K1ew5R+b+U8om/iegvEfHeQgBMAZzmDn7X9DjFl/najVJquhYBXuAURCdCiIlSalwDGNPzopSqvI7OOX71fvF+pVT9YGznNoLTWvPeIGs10AHoItBFoItAF4GDRcA5d5G/1z/zhsNEpcLvS+z4g4gqlBsA64VZIWfD5TbCtC8SXNbjPvNQ9IKclLz+j1YcfXjvf/AAUzQja+0ittO2gXA7T9M0RLpCy5fLZVhsW4bD4SLOkUxKuVfzvFef9drGwTPChAG0zgG/O0mMQGArB5DJP4rFuaRdDk8vAAAAAElFTkSuQmCC\"\n\n/***/ },\n\n/***/ 2101:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Video = __webpack_require__(2102);\n\tvar utils = __webpack_require__(935);\n\t\n\tvar VideoPlayer = function (_React$Component) {\n\t  _inherits(VideoPlayer, _React$Component);\n\t\n\t  function VideoPlayer(props) {\n\t    _classCallCheck(this, VideoPlayer);\n\t\n\t    var _this = _possibleConstructorReturn(this, (VideoPlayer.__proto__ || Object.getPrototypeOf(VideoPlayer)).call(this, props));\n\t\n\t    _this.state = {\n\t      rate: 1,\n\t      volume: 1,\n\t      muted: false,\n\t      resizeMode: 'contain',\n\t      duration: 0.0,\n\t      currentTime: 0.0,\n\t      controls: false,\n\t      paused: true,\n\t      skin: 'native'\n\t    };['onLoad', 'onProgress', 'pause', 'play'].forEach(function (method) {\n\t      _this[method] = _this[method].bind(_this);\n\t    });\n\t    return _this;\n\t  }\n\t\n\t  _createClass(VideoPlayer, [{\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      this.play();\n\t    }\n\t  }, {\n\t    key: 'componentWillUnmount',\n\t    value: function componentWillUnmount() {\n\t      this.pause();\n\t    }\n\t  }, {\n\t    key: 'pause',\n\t    value: function pause() {\n\t      this.setState({ paused: true });\n\t    }\n\t  }, {\n\t    key: 'play',\n\t    value: function play() {\n\t      this.setState({ paused: false });\n\t    }\n\t  }, {\n\t    key: 'onLoad',\n\t    value: function onLoad(data) {\n\t      this.setState({ duration: data.duration, loaded: true });\n\t    }\n\t  }, {\n\t    key: 'onProgress',\n\t    value: function onProgress(data) {\n\t      this.setState({ currentTime: data.currentTime });\n\t    }\n\t  }, {\n\t    key: 'getCurrentTimePercentage',\n\t    value: function getCurrentTimePercentage() {\n\t      if (this.state.currentTime > 0) {\n\t        return parseFloat(this.state.currentTime) / parseFloat(this.state.duration);\n\t      } else {\n\t        return 0;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'renderVolumeControl',\n\t    value: function renderVolumeControl(volume) {\n\t      var _this2 = this;\n\t\n\t      var isSelected = this.state.volume == volume;\n\t\n\t      return _react2.default.createElement(\n\t        _reactNative.TouchableOpacity,\n\t        { onPress: function onPress() {\n\t            _this2.setState({ volume: volume });\n\t          } },\n\t        _react2.default.createElement(\n\t          _reactNative.Text,\n\t          { style: [styles.controlOption, { fontWeight: isSelected ? \"bold\" : \"normal\" }] },\n\t          volume * 100,\n\t          '%'\n\t        )\n\t      );\n\t    }\n\t  }, {\n\t    key: 'renderCustomSkin',\n\t    value: function renderCustomSkin() {\n\t      var _this3 = this;\n\t\n\t      var controls; //= this.renderCustomControls()\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: styles.container },\n\t        _react2.default.createElement(\n\t          _reactNative.TouchableOpacity,\n\t          { style: styles.fullScreen, onPress: function onPress() {\n\t              _this3.setState({ paused: !_this3.state.paused });\n\t            } },\n\t          _react2.default.createElement(Video, { source: { uri: this.props.uri },\n\t            style: styles.fullScreen,\n\t            rate: this.state.rate,\n\t            paused: this.state.paused,\n\t            volume: this.state.volume,\n\t            muted: this.state.muted,\n\t            resizeMode: this.state.resizeMode,\n\t            onLoad: this.onLoad,\n\t            onProgress: this.onProgress,\n\t            onEnd: this.props.onEnd,\n\t            onError: this.props.onError,\n\t            repeat: this.props.repeat })\n\t        ),\n\t        controls\n\t      );\n\t    }\n\t  }, {\n\t    key: 'renderCustomControls',\n\t    value: function renderCustomControls() {\n\t      var flexCompleted = this.getCurrentTimePercentage() * 100;\n\t      var flexRemaining = (1 - this.getCurrentTimePercentage()) * 100;\n\t\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: styles.controls },\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: styles.generalControls },\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: styles.volumeControl },\n\t            this.renderVolumeControl(0.5),\n\t            this.renderVolumeControl(1),\n\t            this.renderVolumeControl(1.5)\n\t          )\n\t        ),\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: styles.trackingControls },\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: styles.progress },\n\t            _react2.default.createElement(_reactNative.View, { style: [styles.innerProgressCompleted, { flex: flexCompleted }] }),\n\t            _react2.default.createElement(_reactNative.View, { style: [styles.innerProgressRemaining, { flex: flexRemaining }] })\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }, {\n\t    key: 'renderNativeSkin',\n\t    value: function renderNativeSkin() {\n\t      var nativeControls; // = this.renderNativeControls()\n\t      var videoStyle = this.state.skin == 'embed' ? styles.nativeVideoControls : styles.fullScreen;\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: styles.container },\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: styles.fullScreen },\n\t          _react2.default.createElement(Video, { source: { uri: this.props.uri },\n\t            style: videoStyle,\n\t            rate: this.state.rate,\n\t            paused: this.state.paused,\n\t            volume: this.state.volume,\n\t            muted: this.state.muted,\n\t            resizeMode: this.state.resizeMode,\n\t            onLoad: this.onLoad,\n\t            onProgress: this.onProgress,\n\t            onEnd: this.props.onEnd,\n\t            onError: this.props.onError,\n\t            repeat: this.props.repeat,\n\t            controls: this.state.controls })\n\t        ),\n\t        nativeControls\n\t      );\n\t    }\n\t  }, {\n\t    key: 'renderNativeControls',\n\t    value: function renderNativeControls() {\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: styles.controls },\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: styles.generalControls },\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: styles.skinControl },\n\t            this.renderSkinControl('custom'),\n\t            this.renderSkinControl('native'),\n\t            this.renderSkinControl('embed')\n\t          )\n\t        ),\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: styles.generalControls },\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: styles.rateControl },\n\t            this.renderRateControl(0.5),\n\t            this.renderRateControl(1.0),\n\t            this.renderRateControl(2.0)\n\t          ),\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: styles.volumeControl },\n\t            this.renderVolumeControl(0.5),\n\t            this.renderVolumeControl(1),\n\t            this.renderVolumeControl(1.5)\n\t          ),\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: styles.resizeModeControl },\n\t            this.renderResizeModeControl('cover'),\n\t            this.renderResizeModeControl('contain'),\n\t            this.renderResizeModeControl('stretch')\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return this.state.controls ? this.renderNativeSkin() : this.renderCustomSkin();\n\t    }\n\t  }]);\n\t\n\t  return VideoPlayer;\n\t}(_react2.default.Component);\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  container: {\n\t    flex: 1,\n\t    justifyContent: 'center',\n\t    alignItems: 'center',\n\t    backgroundColor: 'black'\n\t  },\n\t  fullScreen: {\n\t    position: 'absolute',\n\t    top: 0,\n\t    left: 0,\n\t    bottom: 0,\n\t    right: 0\n\t  },\n\t  controls: {\n\t    backgroundColor: \"transparent\",\n\t    borderRadius: 5,\n\t    position: 'absolute',\n\t    bottom: 44,\n\t    left: 4,\n\t    right: 4\n\t  },\n\t  progress: {\n\t    flex: 1,\n\t    flexDirection: 'row',\n\t    borderRadius: 3,\n\t    overflow: 'hidden'\n\t  },\n\t  innerProgressCompleted: {\n\t    height: 20,\n\t    backgroundColor: '#cccccc'\n\t  },\n\t  innerProgressRemaining: {\n\t    height: 20,\n\t    backgroundColor: '#2C2C2C'\n\t  },\n\t  generalControls: {\n\t    flex: 1,\n\t    flexDirection: 'row',\n\t    overflow: 'hidden',\n\t    paddingBottom: 10\n\t  },\n\t  skinControl: {\n\t    flex: 1,\n\t    flexDirection: 'row',\n\t    justifyContent: 'center'\n\t  },\n\t  rateControl: {\n\t    flex: 1,\n\t    flexDirection: 'row',\n\t    justifyContent: 'center'\n\t  },\n\t  volumeControl: {\n\t    flex: 1,\n\t    flexDirection: 'row',\n\t    justifyContent: 'center'\n\t  },\n\t  resizeModeControl: {\n\t    flex: 1,\n\t    flexDirection: 'row',\n\t    alignItems: 'center',\n\t    justifyContent: 'center'\n\t  },\n\t  controlOption: {\n\t    alignSelf: 'center',\n\t    fontSize: 11,\n\t    color: \"white\",\n\t    paddingLeft: 2,\n\t    paddingRight: 2,\n\t    lineHeight: 12\n\t  },\n\t  nativeVideoControls: {\n\t    top: 184,\n\t    height: 300\n\t  }\n\t});\n\t\n\tmodule.exports = VideoPlayer;\n\n/***/ },\n\n/***/ 2102:\n831,\n\n/***/ 2103:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _localAuth = __webpack_require__(1538);\n\t\n\tvar _automaticUpdates = __webpack_require__(934);\n\t\n\tvar _automaticUpdates2 = _interopRequireDefault(_automaticUpdates);\n\t\n\tvar _customicons = __webpack_require__(1695);\n\t\n\tvar _customicons2 = _interopRequireDefault(_customicons);\n\t\n\tvar _BackgroundImage = __webpack_require__(1953);\n\t\n\tvar _BackgroundImage2 = _interopRequireDefault(_BackgroundImage);\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _ActivityIndicator = __webpack_require__(1669);\n\t\n\tvar _ActivityIndicator2 = _interopRequireDefault(_ActivityIndicator);\n\t\n\tvar _StatusBar = __webpack_require__(1690);\n\t\n\tvar _StatusBar2 = _interopRequireDefault(_StatusBar);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _navs = __webpack_require__(1683);\n\t\n\tvar _navs2 = _interopRequireDefault(_navs);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Q = __webpack_require__(949);\n\tvar Keychain = __webpack_require__(941);\n\tvar debounce = __webpack_require__(2104);\n\t// var DashboardView = require('./DashboardView')\n\tvar ResourceList = __webpack_require__(1685);\n\tvar VideoPlayer = __webpack_require__(2101);\n\tvar NewResource = __webpack_require__(1949);\n\tvar ResourceView = __webpack_require__(1706);\n\tvar utils = __webpack_require__(935);\n\tvar translate = utils.translate;\n\tvar Reflux = __webpack_require__(1518);\n\tvar Actions = __webpack_require__(1517);\n\tvar Store = __webpack_require__(1723);\n\tvar reactMixin = __webpack_require__(1703);\n\tvar constants = __webpack_require__(1348);\n\t// var BACKUPS = require('asyncstorage-backup')\n\tvar debug = __webpack_require__(766)('Tradle-Home');\n\tvar BG_IMAGE = __webpack_require__(1671);\n\t// var PasswordCheck = require('./PasswordCheck')\n\tvar FadeInView = __webpack_require__(2106);\n\tvar TouchIDOptIn = __webpack_require__(1667);\n\tvar defaultBankStyle = __webpack_require__(2094);\n\tvar QRCodeScanner = __webpack_require__(2099);\n\t\n\ttry {\n\t  var commitHash = __webpack_require__(2107).commit.slice(0, 7);\n\t} catch (err) {}\n\t// no version info available\n\t\n\t\n\t// var Progress = require('react-native-progress')\n\t\n\t\n\tvar PASSWORD_ITEM_KEY = 'app-password';\n\t\n\tvar isAndroid = utils.isAndroid();\n\tvar isLinkingSupported = utils.isIOS() && _reactNative.Linking;\n\t\n\tvar TimHome = function (_Component) {\n\t  _inherits(TimHome, _Component);\n\t\n\t  function TimHome(props) {\n\t    _classCallCheck(this, TimHome);\n\t\n\t    var _this = _possibleConstructorReturn(this, (TimHome.__proto__ || Object.getPrototypeOf(TimHome)).call(this, props));\n\t\n\t    _this.state = {\n\t      isLoading: true,\n\t      hasMe: utils.getMe()\n\t    };\n\t\n\t    _this._handleConnectivityChange = _this._handleConnectivityChange.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(TimHome, [{\n\t    key: 'componentWillMount',\n\t    value: function componentWillMount() {\n\t      var _this2 = this;\n\t\n\t      this.listenTo(Store, 'handleEvent');\n\t      this._pressHandler = debounce(this._pressHandler, 500, true);\n\t      if (isLinkingSupported) _reactNative.Linking.addEventListener('url', this._handleOpenURL);\n\t\n\t      // var url = LinkingIOS.popInitialURL()\n\t      // if (url)\n\t      //   this._handleOpenURL({url});\n\t      if (_reactNative.NetInfo) {\n\t        _reactNative.NetInfo.isConnected.addEventListener('change', this._handleConnectivityChange.bind(this));\n\t        _reactNative.NetInfo.isConnected.fetch().then(function (isConnected) {\n\t          return _this2._handleConnectivityChange(isConnected);\n\t        });\n\t      }\n\t\n\t      Actions.start();\n\t    }\n\t    // componentDidMount() {\n\t    // AutomaticUpdates.on()\n\t    // LinkingIOS.addEventListener('url', this._handleOpenURL);\n\t    // var url = LinkingIOS.popInitialURL();\n\t    // if (url)\n\t    //   this._handleOpenURL({url});\n\t    // }\n\t\n\t  }, {\n\t    key: '_handleConnectivityChange',\n\t    value: function _handleConnectivityChange(isConnected) {\n\t      this.props.navigator.isConnected = isConnected;\n\t    }\n\t  }, {\n\t    key: 'componentWillUnmount',\n\t    value: function componentWillUnmount() {\n\t      if (isLinkingSupported) _reactNative.Linking.removeEventListener('url', this._handleOpenURL);\n\t\n\t      if (_reactNative.NetInfo) {\n\t        _reactNative.NetInfo.isConnected.removeEventListener('change', this._handleConnectivityChange.bind(this));\n\t      }\n\t    }\n\t  }, {\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      var _this3 = this;\n\t\n\t      _automaticUpdates2.default.on();\n\t      if (!isLinkingSupported) return;\n\t\n\t      _reactNative.Linking.getInitialURL().then(function (url) {\n\t        if (url) _this3._handleOpenURL({ url: url });\n\t\n\t        var checkConnected = _reactNative.NetInfo ? _reactNative.NetInfo.isConnected.fetch() : Q(true);\n\t        checkConnected().then(function (isConnected) {\n\t          var firstRoute = _this3.props.navigator.getCurrentRoutes()[0];\n\t          firstRoute.isConnected = isConnected;\n\t        });\n\t      }).catch(function (e) {\n\t        debugger;\n\t      });\n\t    }\n\t  }, {\n\t    key: 'shouldComponentUpdate',\n\t    value: function shouldComponentUpdate(nextProps, nextState) {\n\t      if (this.state.isLoading !== nextState.isLoading || this.state.message !== nextState.message || this.state.hasMe !== nextState.hasMe) return true;else return false;\n\t    }\n\t  }, {\n\t    key: '_handleOpenURL',\n\t    value: function _handleOpenURL(event) {\n\t      var url = event.url.trim();\n\t      var idx = url.indexOf('://');\n\t      var url = url.substring(idx + 3);\n\t      idx = url.indexOf('/');\n\t\n\t      url = url.replace('/', '://');\n\t      Actions.addItem({\n\t        resource: { _t: constants.TYPES.SETTINGS, url: url },\n\t        value: { _t: constants.TYPES.SETTINGS, url: url },\n\t        meta: utils.getModel(constants.TYPES.SETTINGS).value\n\t      });\n\t    }\n\t  }, {\n\t    key: 'handleEvent',\n\t    value: function () {\n\t      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(params) {\n\t        var _this4 = this;\n\t\n\t        var self, hasUpdate, routes, homeRoute, afterAuthRoute, nav;\n\t        return regeneratorRuntime.wrap(function _callee$(_context) {\n\t          while (1) {\n\t            switch (_context.prev = _context.next) {\n\t              case 0:\n\t                self = this;\n\t                _context.t0 = params.action;\n\t                _context.next = _context.t0 === 'connectivity' ? 4 : _context.t0 === 'reloadDB' ? 6 : _context.t0 === 'start' ? 9 : _context.t0 === 'pairingSuccessful' ? 24 : _context.t0 === 'getMe' ? 42 : 47;\n\t                break;\n\t\n\t              case 4:\n\t                this._handleConnectivityChange(params.isConnected);\n\t                return _context.abrupt('break', 47);\n\t\n\t              case 6:\n\t                this.setState({\n\t                  isLoading: false,\n\t                  message: translate('pleaseRestartTIM') });\n\t                utils.setModels(params.models);\n\t                return _context.abrupt('break', 47);\n\t\n\t              case 9:\n\t                if (utils.getMe()) {\n\t                  _context.next = 17;\n\t                  break;\n\t                }\n\t\n\t                _context.next = 12;\n\t                return _automaticUpdates2.default.sync();\n\t\n\t              case 12:\n\t                _context.next = 14;\n\t                return _automaticUpdates2.default.hasUpdate();\n\t\n\t              case 14:\n\t                hasUpdate = _context.sent;\n\t\n\t                if (!hasUpdate) {\n\t                  _context.next = 17;\n\t                  break;\n\t                }\n\t\n\t                return _context.abrupt('return', _automaticUpdates2.default.install());\n\t\n\t              case 17:\n\t                if (!self.state.message) {\n\t                  _context.next = 20;\n\t                  break;\n\t                }\n\t\n\t                self.restartTiM();\n\t                return _context.abrupt('return');\n\t\n\t              case 20:\n\t\n\t                // utils.setMe(params.me);\n\t                // utils.setModels(params.models);\n\t                self.setState({ isLoading: false });\n\t\n\t                if (utils.getMe()) {\n\t                  _context.next = 24;\n\t                  break;\n\t                }\n\t\n\t                self.setState({ isModalOpen: true });\n\t                // this.register(() => this.showOfficialAccounts())\n\t                return _context.abrupt('return');\n\t\n\t              case 24:\n\t                routes = this.props.navigator.getCurrentRoutes();\n\t                // get the top TimHome in the stack\n\t\n\t                homeRoute = routes.filter(function (r) {\n\t                  return r.component.displayName === TimHome.displayName;\n\t                }).pop();\n\t                afterAuthRoute = utils.getTopNonAuthRoute(this.props.navigator);\n\t                _context.prev = 27;\n\t                _context.next = 30;\n\t                return (0, _localAuth.signIn)(this.props.navigator);\n\t\n\t              case 30:\n\t                _context.next = 39;\n\t                break;\n\t\n\t              case 32:\n\t                _context.prev = 32;\n\t                _context.t1 = _context['catch'](27);\n\t\n\t                if (!(afterAuthRoute.component.displayName === TimHome.displayName)) {\n\t                  _context.next = 36;\n\t                  break;\n\t                }\n\t\n\t                return _context.abrupt('return');\n\t\n\t              case 36:\n\t                if (!homeRoute) {\n\t                  _context.next = 38;\n\t                  break;\n\t                }\n\t\n\t                return _context.abrupt('return', this.props.navigator.popToRoute(homeRoute));\n\t\n\t              case 38:\n\t                return _context.abrupt('return', this.props.navigator.resetTo({\n\t                  id: 1,\n\t                  component: TimHome,\n\t                  passProps: {}\n\t                }));\n\t\n\t              case 39:\n\t                if (!(afterAuthRoute.component.displayName !== TimHome.displayName)) {\n\t                  _context.next = 41;\n\t                  break;\n\t                }\n\t\n\t                return _context.abrupt('return', this.props.navigator.popToRoute(afterAuthRoute));\n\t\n\t              case 41:\n\t                return _context.abrupt('return', this.showOfficialAccounts());\n\t\n\t              case 42:\n\t                utils.setMe(params.me);\n\t                this.setState({ hasMe: params.me });\n\t                nav = this.props.navigator;\n\t\n\t                (0, _localAuth.signIn)(this.props.navigator).then(function () {\n\t                  return _this4.showOfficialAccounts();\n\t                });\n\t                return _context.abrupt('break', 47);\n\t\n\t              case 47:\n\t              case 'end':\n\t                return _context.stop();\n\t            }\n\t          }\n\t        }, _callee, this, [[27, 32]]);\n\t      }));\n\t\n\t      function handleEvent(_x) {\n\t        return _ref.apply(this, arguments);\n\t      }\n\t\n\t      return handleEvent;\n\t    }()\n\t  }, {\n\t    key: 'showContacts',\n\t    value: function showContacts() {\n\t      var passProps = {\n\t        filter: '',\n\t        modelName: this.props.modelName,\n\t        sortProperty: 'lastMessageTime',\n\t        bankStyle: defaultBankStyle\n\t      };\n\t      var me = utils.getMe();\n\t      this.props.navigator.push({\n\t        // sceneConfig: Navigator.SceneConfigs.FloatFromBottom,\n\t        id: 10,\n\t        title: translate('Accounts'),\n\t        // titleTextColor: '#7AAAC3',\n\t        backButtonTitle: translate('back'),\n\t        component: ResourceList,\n\t        rightButtonTitle: translate('profile'),\n\t        passProps: passProps,\n\t        onRightButtonPress: {\n\t          title: utils.getDisplayName(me, utils.getModel(me[constants.TYPE]).value.properties),\n\t          id: 3,\n\t          component: ResourceView,\n\t          backButtonTitle: translate('back'),\n\t          // titleTextColor: '#7AAAC3',\n\t          rightButtonTitle: translate('edit'),\n\t          onRightButtonPress: {\n\t            title: me.firstName,\n\t            id: 4,\n\t            component: NewResource,\n\t            // titleTextColor: '#7AAAC3',\n\t            backButtonTitle: translate('back'),\n\t            rightButtonTitle: translate('done'),\n\t            passProps: {\n\t              model: utils.getModel(me[constants.TYPE]).value,\n\t              resource: me,\n\t              bankStyle: defaultBankStyle\n\t            }\n\t          },\n\t          passProps: {\n\t            bankStyle: defaultBankStyle,\n\t            resource: me\n\t          }\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'showOfficialAccounts',\n\t    value: function showOfficialAccounts(doReplace) {\n\t      var nav = this.props.navigator;\n\t      if (!utils.isWeb()) {\n\t        nav.immediatelyResetRouteStack(nav.getCurrentRoutes().slice(0, 1));\n\t      }\n\t\n\t      var me = utils.getMe();\n\t      if (me.isEmployee) {\n\t        this.showContacts();\n\t        return;\n\t      }\n\t      // let route = {\n\t      //   id: 23,\n\t      //   component: DashboardView,\n\t      //   title: translate('profile'),\n\t      //   backButtonTitle: translate('back'),\n\t      //   rightButtonTitle: translate('edit'),\n\t      //   onRightButtonPress: {\n\t      //     title: translate('profile'),\n\t      //     id: 23,\n\t      //     component: DashboardView,\n\t      //     menu: ResourceList,\n\t      //     menuProps: {\n\t      //       modelName: constants.TYPES.ORGANIZATION,\n\t      //       bankStyle: this.props.bankStyle || defaultBankStyle\n\t      //     },\n\t      //     mainComponent: NewResource,\n\t      //     titleTextColor: '#7AAAC3',\n\t      //     backButtonTitle: translate('back'),\n\t      //     rightButtonTitle: translate('done'),\n\t      //     mainComponentProps: {\n\t      //       model: utils.getModel(constants.TYPES.PROFILE).value,\n\t      //       resource: me,\n\t      //       bankStyle: this.props.bankStyle || defaultBankStyle\n\t      //     }\n\t      //   },\n\t      //   passProps: {\n\t      //     bankStyle: defaultBankStyle,\n\t      //     menu: ResourceList,\n\t      //     menuProps: {\n\t      //       modelName: constants.TYPES.ORGANIZATION,\n\t      //       bankStyle: this.props.bankStyle || defaultBankStyle\n\t      //     },\n\t      //     mainComponent: ResourceView,\n\t      //     mainComponentProps: {\n\t      //       bankStyle: this.props.bankStyle || defaultBankStyle,\n\t      //       resource: me\n\t      //     }\n\t      //   }\n\t      // }\n\t      var title = me.firstName;\n\t      var route = {\n\t        title: translate('officialAccounts'),\n\t        id: 10,\n\t        component: ResourceList,\n\t        backButtonTitle: translate('back'),\n\t        passProps: {\n\t          modelName: constants.TYPES.ORGANIZATION,\n\t          isConnected: this.state.isConnected,\n\t          officialAccounts: true,\n\t          bankStyle: defaultBankStyle\n\t        },\n\t        rightButtonTitle: translate('profile'),\n\t        onRightButtonPress: {\n\t          title: title,\n\t          id: 3,\n\t          component: ResourceView,\n\t          backButtonTitle: translate('back'),\n\t          rightButtonTitle: translate('edit'),\n\t          onRightButtonPress: {\n\t            title: title,\n\t            id: 4,\n\t            component: NewResource,\n\t            backButtonTitle: translate('back'),\n\t            rightButtonTitle: translate('done'),\n\t            passProps: {\n\t              model: utils.getModel(me[constants.TYPE]).value,\n\t              resource: me,\n\t              bankStyle: defaultBankStyle\n\t            }\n\t          },\n\t          passProps: {\n\t            resource: me,\n\t            bankStyle: defaultBankStyle\n\t          }\n\t        }\n\t      };\n\t\n\t      if (utils.isWeb() && !doReplace) {\n\t        if (_navs2.default.getCurrentRoute(nav).component.displayName !== 'TimHome') {\n\t          doReplace = true;\n\t        }\n\t      }\n\t\n\t      if (doReplace) nav.replace(route);else nav.push(route);\n\t    }\n\t  }, {\n\t    key: 'register',\n\t    value: function register(cb) {\n\t      var _this5 = this;\n\t\n\t      var modelName = this.props.modelName;\n\t      if (!utils.getModel(modelName)) {\n\t        this.setState({ err: 'Can find model: ' + modelName });\n\t        return;\n\t      }\n\t\n\t      var model = utils.getModel(modelName).value;\n\t      var route = {\n\t        component: NewResource,\n\t        titleTextColor: '#BCD3E6',\n\t        id: 4,\n\t        passProps: {\n\t          model: model,\n\t          bankStyle: defaultBankStyle,\n\t          isConnected: this.state.isConnected\n\t        }\n\t      };\n\t\n\t      var self = this;\n\t      route.passProps.callback = function () {\n\t        (0, _localAuth.setPassword)(_this5.props.navigator).then(function () {\n\t          return _this5.optInTouchID();\n\t        }).then(function () {\n\t          _this5.setState({ hasMe: true });\n\t          Actions.setAuthenticated(true);\n\t          _this5.showOfficialAccounts(true);\n\t          // cb()\n\t        });\n\t      };\n\t      // let nav = self.props.navigator\n\t      // route.passProps.callback = (me) => {\n\t      //   this.showVideoTour(() => {\n\t      //     Actions.getMe()\n\t      //     nav.immediatelyResetRouteStack(nav.getCurrentRoutes().slice(0,1));\n\t      //   })\n\t      // }\n\t\n\t      route.passProps.editCols = ['firstName', 'lastName', 'language'];\n\t      route.titleTintColor = '#ffffff';\n\t      this.props.navigator.push(route);\n\t    }\n\t  }, {\n\t    key: 'optInTouchID',\n\t    value: function optInTouchID() {\n\t      var _this6 = this;\n\t\n\t      return (0, _localAuth.hasTouchID)().then(function (has) {\n\t        if (!has) return;\n\t\n\t        return new Promise(function (resolve) {\n\t          _this6.props.navigator.replace({\n\t            component: TouchIDOptIn,\n\t            id: 21,\n\t            rightButtonTitle: 'Skip',\n\t            noLeftButton: true,\n\t            passProps: {\n\t              optIn: function optIn() {\n\t                Actions.updateMe({ useTouchId: true });\n\t                resolve();\n\t              }\n\t            },\n\t            onRightButtonPress: resolve\n\t          });\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'pairDevices',\n\t    value: function pairDevices(cb) {\n\t      var _this7 = this;\n\t\n\t      var modelName = this.props.modelName;\n\t      if (!utils.getModel(modelName)) {\n\t        this.setState({ err: 'Can find model: ' + modelName });\n\t        return;\n\t      }\n\t\n\t      var model = utils.getModel(modelName).value;\n\t      var route = {\n\t        component: NewResource,\n\t        titleTextColor: '#BCD3E6',\n\t        id: 4,\n\t        passProps: {\n\t          model: model,\n\t          bankStyle: defaultBankStyle,\n\t          isConnected: this.state.isConnected\n\t        }\n\t      };\n\t\n\t      var self = this;\n\t      route.passProps.callback = function () {\n\t        (0, _localAuth.setPassword)(_this7.props.navigator).then(function () {\n\t          _this7.setState({ hasMe: true });\n\t          Actions.setAuthenticated(true);\n\t          _this7.showOfficialAccounts(true);\n\t          // cb()\n\t        });\n\t      };\n\t      // let nav = self.props.navigator\n\t      // route.passProps.callback = (me) => {\n\t      //   this.showVideoTour(() => {\n\t      //     Actions.getMe()\n\t      //     nav.immediatelyResetRouteStack(nav.getCurrentRoutes().slice(0,1));\n\t      //   })\n\t      // }\n\t\n\t      route.passProps.editCols = ['firstName', 'lastName', 'language'];\n\t      route.titleTintColor = '#ffffff';\n\t      this.props.navigator.push(route);\n\t    }\n\t  }, {\n\t    key: 'showVideoTour',\n\t    value: function showVideoTour(cb) {\n\t      var onEnd = function onEnd(err) {\n\t        if (err) debug('failed to load video', err);\n\t        cb();\n\t      };\n\t\n\t      this.props.navigator.replace({\n\t        // sceneConfig: Navigator.SceneConfigs.FloatFromBottom,\n\t        id: 18,\n\t        //      title: 'Tradle',\n\t        //      titleTintColor: '#eeeeee',\n\t        component: VideoPlayer,\n\t        rightButtonTitle:  false ? 'Skip' : undefined,\n\t        passProps: {\n\t          uri: 'videotour',\n\t          onEnd: onEnd,\n\t          onError: onEnd,\n\t          navigator: this.props.navigator\n\t        },\n\t        onRightButtonPress: onEnd\n\t      });\n\t    }\n\t  }, {\n\t    key: 'onReloadDBPressed',\n\t    value: function onReloadDBPressed() {\n\t      utils.setMe(null);\n\t      utils.setModels(null);\n\t      Actions.reloadDB();\n\t    }\n\t  }, {\n\t    key: 'onReloadModels',\n\t    value: function onReloadModels() {\n\t      utils.setModels(null);\n\t      Actions.reloadModels();\n\t    }\n\t  }, {\n\t    key: 'onBackupPressed',\n\t    value: function () {\n\t      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n\t        var backupNumber;\n\t        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n\t          while (1) {\n\t            switch (_context2.prev = _context2.next) {\n\t              case 0:\n\t                _context2.next = 2;\n\t                return BACKUPS.backup();\n\t\n\t              case 2:\n\t                backupNumber = _context2.sent;\n\t\n\t                _reactNative.Alert.alert('Backed up to #' + backupNumber);\n\t\n\t              case 4:\n\t              case 'end':\n\t                return _context2.stop();\n\t            }\n\t          }\n\t        }, _callee2, this);\n\t      }));\n\t\n\t      function onBackupPressed() {\n\t        return _ref2.apply(this, arguments);\n\t      }\n\t\n\t      return onBackupPressed;\n\t    }()\n\t  }, {\n\t    key: 'onLoadFromBackupPressed',\n\t    value: function () {\n\t      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n\t        var backupNumber;\n\t        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n\t          while (1) {\n\t            switch (_context3.prev = _context3.next) {\n\t              case 0:\n\t                _context3.prev = 0;\n\t                _context3.next = 3;\n\t                return BACKUPS.loadFromBackup();\n\t\n\t              case 3:\n\t                backupNumber = _context3.sent;\n\t\n\t                _reactNative.Alert.alert('Loaded from backup #' + backupNumber + '. Please refresh');\n\t                _context3.next = 10;\n\t                break;\n\t\n\t              case 7:\n\t                _context3.prev = 7;\n\t                _context3.t0 = _context3['catch'](0);\n\t\n\t                _reactNative.Alert.alert('' + _context3.t0.message);\n\t\n\t              case 10:\n\t              case 'end':\n\t                return _context3.stop();\n\t            }\n\t          }\n\t        }, _callee3, this, [[0, 7]]);\n\t      }));\n\t\n\t      function onLoadFromBackupPressed() {\n\t        return _ref3.apply(this, arguments);\n\t      }\n\t\n\t      return onLoadFromBackupPressed;\n\t    }()\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this8 = this;\n\t\n\t      _StatusBar2.default.setHidden(true);\n\t      if (this.state.message) {\n\t        this.restartTiM();\n\t        return;\n\t      }\n\t\n\t      // var url = Linking.getInitialURL();\n\t\n\t      var _utils$dimensions = utils.dimensions(TimHome);\n\t\n\t      var width = _utils$dimensions.width;\n\t      var height = _utils$dimensions.height;\n\t\n\t      var h = height > 800 ? height - 220 : height - 180;\n\t\n\t      if (this.state.isLoading) return this.getSplashScreen(h);\n\t\n\t      var err = this.state.err || '';\n\t      var errStyle = err ? styles.err : { 'padding': 0, 'height': 0 };\n\t      var me = utils.getMe();\n\t      var settings = _react2.default.createElement(_reactNative.View, null);\n\t\n\t      var version = !(false) && _react2.default.createElement(\n\t        _reactNative.View,\n\t        null,\n\t        _react2.default.createElement(\n\t          _reactNative.Text,\n\t          { style: styles.version },\n\t          'git: ',\n\t          commitHash\n\t        )\n\t      );\n\t\n\t      var dev =  false ? _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: styles.dev },\n\t        _react2.default.createElement(\n\t          _reactNative.TouchableOpacity,\n\t          {\n\t            underlayColor: 'transparent', onPress: this.onReloadDBPressed.bind(this) },\n\t          _react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: styles.text },\n\t            'Reload DB'\n\t          )\n\t        ),\n\t        _react2.default.createElement(\n\t          _reactNative.TouchableOpacity,\n\t          {\n\t            underlayColor: 'transparent', onPress: this.onReloadModels.bind(this) },\n\t          _react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: styles.text },\n\t            'Reload Models'\n\t          )\n\t        ),\n\t        settings\n\t      ) : _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: [styles.dev, { flexDirection: 'column' }] },\n\t        settings,\n\t        version\n\t      );\n\t\n\t      var logo = _react2.default.createElement(\n\t        _reactNative.TouchableOpacity,\n\t        { onPress: function onPress() {\n\t            return _this8._pressHandler();\n\t          } },\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: [styles.container] },\n\t          _react2.default.createElement(_customicons2.default, { color: '#ffffff', name: 'tradle', size: getIconSize() }),\n\t          _react2.default.createElement(\n\t            _reactNative.Text,\n\t            { style: styles.tradle },\n\t            'Tradle'\n\t          )\n\t        )\n\t      );\n\t\n\t      // <Image style={{position: 'absolute', left: 0, opacity: 0.5, width: 100, height: 100}} source={TradleWhite}></Image>\n\t      var regView = _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: { alignSelf: 'center' } },\n\t        _react2.default.createElement(\n\t          FadeInView,\n\t          null,\n\t          _react2.default.createElement(\n\t            _reactNative.TouchableOpacity,\n\t            { onPress: function onPress() {\n\t                _this8.register(_this8.showOfficialAccounts.bind(_this8));\n\t              }, underlayColor: 'transparent' },\n\t            _react2.default.createElement(\n\t              _reactNative.View,\n\t              { style: styles.signIn },\n\t              _react2.default.createElement(\n\t                _reactNative.Text,\n\t                { style: styles.signInText },\n\t                translate('This is my first Tradle device')\n\t              )\n\t            )\n\t          )\n\t        )\n\t      );\n\t\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: [{ height: height }] },\n\t        _react2.default.createElement(_BackgroundImage2.default, { source: BG_IMAGE }),\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: styles.layout },\n\t          _react2.default.createElement(_reactNative.View, null),\n\t          logo,\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            null,\n\t            utils.getMe() ? _react2.default.createElement(\n\t              _reactNative.TouchableOpacity,\n\t              { style: [styles.thumbButton, { justifyContent: 'flex-end', opacity: me ? 1 : 0 }],\n\t                underlayColor: 'transparent', onPress: function onPress() {\n\t                  return _this8._pressHandler();\n\t                } },\n\t              _react2.default.createElement(\n\t                _reactNative.View,\n\t                { style: styles.getStarted },\n\t                _react2.default.createElement(\n\t                  _reactNative.Text,\n\t                  { style: styles.getStartedText },\n\t                  'Get started'\n\t                )\n\t              )\n\t            ) : regView,\n\t            _react2.default.createElement(\n\t              _reactNative.Text,\n\t              { style: errStyle },\n\t              err\n\t            ),\n\t            dev\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }, {\n\t    key: 'getSplashScreen',\n\t    value: function getSplashScreen() {\n\t      var _utils$dimensions2 = utils.dimensions(TimHome);\n\t\n\t      var width = _utils$dimensions2.width;\n\t      var height = _utils$dimensions2.height;\n\t\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: styles.container },\n\t        _react2.default.createElement(_BackgroundImage2.default, { source: BG_IMAGE }),\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: styles.splashLayout },\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            null,\n\t            _react2.default.createElement(_customicons2.default, { name: 'tradle', color: '#ffffff', size: getIconSize() }),\n\t            _react2.default.createElement(\n\t              _reactNative.Text,\n\t              { style: styles.tradle },\n\t              'Tradle'\n\t            )\n\t          ),\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: { paddingTop: 20, alignSelf: 'center' } },\n\t            _react2.default.createElement(_ActivityIndicator2.default, { hidden: 'true', size: 'large', color: '#ffffff' })\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }, {\n\t    key: 'pairDevices',\n\t    value: function pairDevices() {\n\t      var _this9 = this;\n\t\n\t      this.props.navigator.push({\n\t        title: 'Scan QR Code',\n\t        id: 16,\n\t        component: QRCodeScanner,\n\t        titleTintColor: '#eeeeee',\n\t        backButtonTitle: 'Cancel',\n\t        // rightButtonTitle: 'ion|ios-reverse-camera',\n\t        passProps: {\n\t          onread: function onread(result) {\n\t            Actions.sendPairingRequest(JSON.parse(result.data));\n\t            _this9.props.navigator.pop();\n\t          }\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderSplashscreen',\n\t    value: function renderSplashscreen(_ref4) {\n\t      var thumb = _ref4.thumb;\n\t      var width = _ref4.width;\n\t      var height = _ref4.height;\n\t\n\t      var splashscreen = _react2.default.createElement(\n\t        _reactNative.View,\n\t        null,\n\t        _react2.default.createElement(_reactNative.Image, { source: BG_IMAGE, style: { position: 'absolute', left: 0, top: 0, width: width, height: height } }),\n\t        _react2.default.createElement(\n\t          _reactNative.ScrollView,\n\t          {\n\t            scrollEnabled: false,\n\t            style: { height: height } },\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: [styles.container] },\n\t            _react2.default.createElement(_reactNative.Image, { style: thumb, source: TradleWhite }),\n\t            _react2.default.createElement(\n\t              _reactNative.Text,\n\t              { style: styles.tradle },\n\t              'Tradle'\n\t            )\n\t          ),\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: { alignItems: 'center' } },\n\t            _react2.default.createElement(_ActivityIndicator2.default, { hidden: 'true', size: 'large', color: '#ffffff' })\n\t          )\n\t        )\n\t      );\n\t\n\t      return splashscreen;\n\t    }\n\t  }, {\n\t    key: 'onSettingsPressed',\n\t    value: function () {\n\t      var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n\t        var model, route;\n\t        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n\t          while (1) {\n\t            switch (_context4.prev = _context4.next) {\n\t              case 0:\n\t                _context4.prev = 0;\n\t                _context4.next = 3;\n\t                return (0, _localAuth.authenticateUser)();\n\t\n\t              case 3:\n\t                _context4.next = 8;\n\t                break;\n\t\n\t              case 5:\n\t                _context4.prev = 5;\n\t                _context4.t0 = _context4['catch'](0);\n\t                return _context4.abrupt('return');\n\t\n\t              case 8:\n\t                model = utils.getModel(constants.TYPES.SETTINGS).value;\n\t                route = {\n\t                  component: NewResource,\n\t                  title: translate('settings'),\n\t                  backButtonTitle: translate('back'),\n\t                  rightButtonTitle: translate('done'),\n\t                  id: 4,\n\t                  titleTextColor: '#7AAAC3',\n\t                  passProps: {\n\t                    model: model,\n\t                    isConnected: this.state.isConnected,\n\t                    callback: this.props.navigator.pop,\n\t                    bankStyle: defaultBankStyle\n\t\n\t                    // callback: this.register.bind(this)\n\t                  }\n\t                };\n\t\n\t\n\t                this.props.navigator.push(route);\n\t\n\t              case 11:\n\t              case 'end':\n\t                return _context4.stop();\n\t            }\n\t          }\n\t        }, _callee4, this, [[0, 5]]);\n\t      }));\n\t\n\t      function onSettingsPressed() {\n\t        return _ref5.apply(this, arguments);\n\t      }\n\t\n\t      return onSettingsPressed;\n\t    }()\n\t  }, {\n\t    key: 'restartTiM',\n\t    value: function restartTiM() {\n\t      _reactNative.Alert.alert('Please restart TiM');\n\t    }\n\t  }, {\n\t    key: '_pressHandler',\n\t    value: function _pressHandler() {\n\t      var _this10 = this;\n\t\n\t      if (utils.getMe()) (0, _localAuth.signIn)(this.props.navigator).then(function () {\n\t        return _this10.showOfficialAccounts();\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return TimHome;\n\t}(_react.Component);\n\t\n\tTimHome.displayName = 'TimHome';\n\tTimHome.orientation = _reactNative.Platform.OS === 'web' ? 'LANDSCAPE' : 'PORTRAIT';\n\t\n\t\n\treactMixin(TimHome.prototype, Reflux.ListenerMixin);\n\t\n\tvar styles = function () {\n\t  var dimensions = utils.dimensions(TimHome);\n\t  var width = dimensions.width;\n\t  var height = dimensions.height;\n\t\n\t  var thumb = width > 1000 ? 250 : Math.floor(width > 400 ? width / 2.5 : 170);\n\t  return _reactNative.StyleSheet.create({\n\t    container: {\n\t      // padding: 30,\n\t      // marginTop: height / 4,\n\t      alignItems: 'center'\n\t    },\n\t    tradle: {\n\t      // color: '#7AAAC3',\n\t      color: '#eeeeee',\n\t      fontSize: height > 450 ? 35 : 25,\n\t      alignSelf: 'center'\n\t    },\n\t    text: {\n\t      color: '#7AAAC3',\n\t      paddingHorizontal: 5,\n\t      fontSize: 14\n\t    },\n\t    thumbButton: {\n\t      // marginBottom: 10,\n\t      alignSelf: 'center'\n\t    },\n\t    thumb: {\n\t      width: thumb,\n\t      height: thumb,\n\t      paddingBottom: 30,\n\t      marginTop: _reactNative.Platform.OS === 'web' ? -50 : 0\n\t    },\n\t    dev: {\n\t      paddingVertical: 10,\n\t      flexDirection: 'row',\n\t      // marginBottom: 500,\n\t      alignSelf: 'center',\n\t      alignItems: 'center',\n\t      justifyContent: 'center'\n\t    },\n\t    getStartedText: {\n\t      color: '#f0f0f0',\n\t      fontSize: width > 450 ? 30 : 20,\n\t      fontWeight: '400'\n\t    },\n\t    getStarted: {\n\t      backgroundColor: '#568FBE', //'#2892C6',\n\t      paddingVertical: 10,\n\t      paddingHorizontal: 30\n\t    },\n\t    signIn: {\n\t      flexDirection: 'row',\n\t      width: 300,\n\t      height: _reactNative.Platform.OS === 'ios' ? 80 : 50,\n\t      marginTop: 10,\n\t      justifyContent: 'center',\n\t      backgroundColor: '#467EAE',\n\t      // shadowOpacity: 0.5,\n\t      shadowColor: 'lightblue',\n\t      shadowRadius: 10,\n\t      shadowOffset: { width: 0.5, height: 0.5 },\n\t      shadowOpacity: 0.7\n\t    },\n\t    version: {\n\t      color: '#ffffff',\n\t      fontSize: 10\n\t    },\n\t    pairDivicesText: {\n\t      backgroundColor: 'transparent',\n\t      color: '#467EAE',\n\t      fontSize: 18,\n\t      alignSelf: 'center'\n\t    },\n\t    signInText: {\n\t      backgroundColor: 'transparent',\n\t      color: 'lightblue',\n\t      fontSize: 18,\n\t      alignSelf: 'center'\n\t    },\n\t    splashLayout: {\n\t      alignItems: 'center',\n\t      justifyContent: 'center',\n\t      height: height\n\t    },\n\t    layout: {\n\t      justifyContent: 'space-between',\n\t      height: height\n\t    }\n\t  });\n\t}();\n\t\n\tfunction getIconSize(dimensions) {\n\t  dimensions = dimensions || utils.dimensions(TimHome);\n\t  var _dimensions = dimensions;\n\t  var width = _dimensions.width;\n\t\n\t  var size = width > 400 ? Math.floor(width / 2.5) : 170;\n\t  return Math.min(size, 250);\n\t}\n\t\n\tmodule.exports = TimHome;\n\t// signIn(cb) {\n\t//   let self = this\n\t//   if (this.state.message) {\n\t//     this.restartTiM()\n\t//     return\n\t//   }\n\t\n\t//   let me = utils.getMe()\n\t//   if (!me) return this.register()\n\t\n\t//   if (isAuthenticated()) {\n\t//     return cb()\n\t//   }\n\t\n\t//   let doneWaiting\n\t//   let authPromise = isAuthenticated() ? Q()\n\t//     : me.useTouchId ? touchIDWithFallback()\n\t//     : passwordAuth()\n\t\n\t//   return authPromise\n\t//     .then(() => {\n\t//       setAuthenticated(true)\n\t//       cb()\n\t//     })\n\t//     .catch(err => {\n\t//       if (err.name == 'LAErrorUserCancel' || err.name === 'LAErrorSystemCancel') {\n\t//         self.props.navigator.popToTop()\n\t//       } else {\n\t//         lockUp(err.message || 'Authentication failed')\n\t//       }\n\t//     })\n\t\n\t//   function touchIDWithFallback() {\n\t//     return authenticateUser()\n\t//     .catch((err) => {\n\t//       if (err.name === 'LAErrorUserFallback' || err.name.indexOf('TouchID') !== -1) {\n\t//         return passwordAuth()\n\t//       }\n\t\n\t//       throw err\n\t//     })\n\t//   }\n\t\n\t//   function passwordAuth () {\n\t//     return Keychain.getGenericPassword(PASSWORD_ITEM_KEY)\n\t//       .catch(err => {\n\t//         // registration must have been aborted.\n\t//         // ask user to set a password\n\t//         return Q.ninvoke(self, 'setPassword')\n\t//       })\n\t//       .then(() => {\n\t//         return Q.ninvoke(self, 'checkPassword')\n\t//       })\n\t//   }\n\t\n\t//   function lockUp (err) {\n\t//     self.setState({isModalOpen: true})\n\t//     loopAlert(err)\n\t//     setTimeout(() => {\n\t//       doneWaiting = true\n\t//       // let the user try again\n\t//       self.signIn(cb)\n\t//     }, __DEV__ ? 5000 : 5 * 60 * 1000)\n\t//   }\n\t\n\t//   function loopAlert (err) {\n\t//     Alert.alert(err, null, [\n\t//       {\n\t//         text: 'OK',\n\t//         onPress: () => !doneWaiting && loopAlert(err)\n\t//       }\n\t//     ])\n\t//   }\n\t// }\n\t// async _localAuth() {\n\t// if (this.state.authenticating) return\n\t\n\t// if (!this.state.authenticated) {\n\t//   this.setState({ authenticating: true })\n\t//   try {\n\t//     await authenticateUser()\n\t//   } catch (err)  {\n\t//     this.setState({ authenticating: false })\n\t//     throw err\n\t//   }\n\t// }\n\t\n\t// this.showOfficialAccounts()\n\t// if (this.state.authenticating) {\n\t//   this.setState({ authenticating: false })\n\t// }\n\t// }\n\t//////////////////////// LAST CHANGE - 07/12/2016\n\t// signUp(cb) {\n\t//   var nav = this.props.navigator\n\t//   nav.immediatelyResetRouteStack(nav.getCurrentRoutes().slice(0,1));\n\t//   let self = this\n\t//   this.setPassword(function(err) {\n\t//     if (err)\n\t//       debug('failed to set password', err)\n\t//     else {\n\t//       cb()\n\t//     }\n\t//   })\n\t//   // this.showOfficialAccounts(true);\n\t//   // this.props.navigator.popToTop();\n\t// }\n\t// signIn(cb) {\n\t//   let me = utils.getMe()\n\t//   if (!me)\n\t//     return this.register(cb)\n\t\n\t//   if (me.isAuthenticated  &&  !this.state.newMe)\n\t//     return cb()\n\t\n\t//   let doneWaiting\n\t//   let authPromise\n\t//   if (me.useTouchId  &&  me.useGesturePassword) {\n\t//     if (this.state.newMe) {\n\t//       if (!newMe.useTouchId)\n\t//         authPromise = touchIDWithFallback()\n\t//       else\n\t//         authPromise = passwordAuth()\n\t//     }\n\t//     else\n\t//       authPromise = touchIDAndPasswordAuth()\n\t//   }\n\t//   else if (me.useTouchId)\n\t//     authPromise = touchIDWithFallback()\n\t//   else\n\t//     authPromise = passwordAuth()\n\t//   let self = this\n\t//   return authPromise\n\t//     .then(() => {\n\t//       Actions.setAuthenticated(true)\n\t//       cb()\n\t//     })\n\t//     .catch(err => {\n\t//       if (err.name == 'LAErrorUserCancel' || err.name === 'LAErrorSystemCancel') {\n\t//         self.props.navigator.popToTop()\n\t//       } else {\n\t//         lockUp(err.message || 'Authentication failed')\n\t//       }\n\t//     })\n\t\n\t//   function touchIDAndPasswordAuth() {\n\t//     if (isAndroid) return passwordAuth()\n\t\n\t//     return authenticateUser()\n\t//     .then(() => {\n\t//       return passwordAuth()\n\t//     })\n\t//     .catch((err) => {\n\t//       debugger\n\t//       throw err\n\t//     })\n\t//   }\n\t\n\t//   function touchIDWithFallback() {\n\t//     if (isAndroid) return passwordAuth()\n\t\n\t//     return authenticateUser()\n\t//     .catch((err) => {\n\t//       if (err.name === 'LAErrorUserFallback' || err.name.indexOf('TouchID') !== -1) {\n\t//         return passwordAuth()\n\t//       }\n\t\n\t//       throw err\n\t//     })\n\t//   }\n\t\n\t//   function passwordAuth () {\n\t//     return Keychain.getGenericPassword(PASSWORD_ITEM_KEY)\n\t//       .then(\n\t//         () =>  Q.ninvoke(self, 'checkPassword'),\n\t//         // registration must have been aborted.\n\t//         // ask user to set a password\n\t//         (err) => Q.ninvoke(self, 'setPassword')\n\t//       )\n\t//   }\n\t\n\t//   function lockUp (err) {\n\t//     self.setState({isModalOpen: true})\n\t//     loopAlert(err)\n\t//     setTimeout(() => {\n\t//       doneWaiting = true\n\t//       // let the user try again\n\t//       signIn(cb, this.props.navigator)\n\t//     }, __DEV__ ? 5000 : 5 * 60 * 1000)\n\t//   }\n\t\n\t//   function loopAlert (err) {\n\t//     Alert.alert(err, null, [\n\t//       {\n\t//         text: 'OK',\n\t//         onPress: () => !doneWaiting && loopAlert(err)\n\t//       }\n\t//     ])\n\t//   }\n\t// }\n\t// setPassword(cb) {\n\t//   let self = this\n\t//   this.props.navigator.push({\n\t//     component: PasswordCheck,\n\t//     id: 20,\n\t//     passProps: {\n\t//       mode: PasswordCheck.Modes.set,\n\t//       validate: (pass) => { return pass.length > 4 },\n\t//       promptSet: translate('pleaseDrawPassword'),\n\t//       promptInvalidSet: translate('passwordLimitations'),\n\t//       onSuccess: (pass) => {\n\t//         Keychain.setGenericPassword(PASSWORD_ITEM_KEY, utils.hashPassword(pass))\n\t//         .then(() => {\n\t//           Actions.updateMe({ isRegistered: true })\n\t//           return hasTouchID()\n\t//         })\n\t//         .then((askTouchID) => {\n\t//           if (askTouchID) {\n\t//             return self.props.navigator.replace({\n\t//               component: TouchIDOptIn,\n\t//               id: 21,\n\t//               rightButtonTitle: 'Skip',\n\t//               passProps: {\n\t//                 optIn: () => {\n\t//                   Actions.updateMe({ useTouchId: true })\n\t//                   cb()\n\t//                 }\n\t//               },\n\t//               onRightButtonPress: cb.bind(this)\n\t//             })\n\t//           }\n\t\n\t//           cb()\n\t//         })\n\t//         .catch(err => {\n\t//           debugger\n\t//         })\n\t//       },\n\t//       onFail: () => {\n\t//         debugger\n\t//         Alert.alert('Oops!')\n\t//       }\n\t//     }\n\t//   })\n\t// }\n\t// checkPassword(cb, doReplace) {\n\t//   let nav = this.props.navigator\n\t//   // HACK\n\t//   let routes = nav.getCurrentRoutes()\n\t//   if (routes[routes.length - 1].id === 20)\n\t//     return\n\t\n\t//   let route = {\n\t//     component: PasswordCheck,\n\t//     id: 20,\n\t//     passProps: {\n\t//       mode: PasswordCheck.Modes.check,\n\t//       maxAttempts: 3,\n\t//       promptCheck: translate('drawYourPassword'), //Draw your gesture password',\n\t//       promptRetryCheck: translate('gestureNotRecognized'), //Gesture not recognized, please try again',\n\t//       isCorrect: (pass) => {\n\t//         return Keychain.getGenericPassword(PASSWORD_ITEM_KEY)\n\t//           .then((stored) => {\n\t//             return stored === utils.hashPassword(pass)\n\t//           })\n\t//           .catch(err => {\n\t//             return false\n\t//           })\n\t//       },\n\t//       onSuccess: () => {\n\t//         cb()\n\t//       },\n\t//       onFail: (err) => {\n\t//         cb(err || new Error('For the safety of your data, ' +\n\t//           'this application has been temporarily locked. ' +\n\t//           'Please try in 5 minutes.'))\n\t//         // lock up the app for 10 mins? idk\n\t//       }\n\t//     }\n\t//   }\n\t\n\t//   nav.push(route)\n\t// }\n\n/***/ },\n\n/***/ 2106:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _utils = __webpack_require__(935);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar FadeInView = function (_React$Component) {\n\t  _inherits(FadeInView, _React$Component);\n\t\n\t  function FadeInView(props) {\n\t    _classCallCheck(this, FadeInView);\n\t\n\t    var _this = _possibleConstructorReturn(this, (FadeInView.__proto__ || Object.getPrototypeOf(FadeInView)).call(this, props));\n\t\n\t    _this.state = {\n\t      fadeAnim: new _reactNative.Animated.Value(0) };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(FadeInView, [{\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      _reactNative.Animated.timing( // Uses easing functions\n\t      this.state.fadeAnim, // The value to drive\n\t      {\n\t        toValue: 1, // Target\n\t        duration: 2000 }).start(); // Don't forget start!\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      this.anim = this.anim || new _reactNative.Animated.Value(0);\n\t      return _react2.default.createElement(\n\t        _reactNative.Animated.View,\n\t        { // Special animatable View\n\t          style: {\n\t            opacity: this.state.fadeAnim, // Binds\n\t            justifyContent: 'center',\n\t            alignSelf: 'center'\n\t          } },\n\t        this.props.children\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return FadeInView;\n\t}(_react2.default.Component);\n\t\n\tmodule.exports = FadeInView;\n\n/***/ },\n\n/***/ 2107:\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"commit\": \"46809cd959bb55d48cb833417450cce7c89c30cc\"\n\t};\n\n/***/ },\n\n/***/ 2108:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar NewResource = __webpack_require__(1949);\n\tvar utils = __webpack_require__(935);\n\tvar reactMixin = __webpack_require__(1703);\n\tvar Store = __webpack_require__(1723);\n\tvar Actions = __webpack_require__(1517);\n\tvar Reflux = __webpack_require__(1518);\n\tvar constants = __webpack_require__(1348);\n\t\n\tvar ResourceTypesScreen = function (_Component) {\n\t  _inherits(ResourceTypesScreen, _Component);\n\t\n\t  function ResourceTypesScreen(props) {\n\t    _classCallCheck(this, ResourceTypesScreen);\n\t\n\t    var _this = _possibleConstructorReturn(this, (ResourceTypesScreen.__proto__ || Object.getPrototypeOf(ResourceTypesScreen)).call(this, props));\n\t\n\t    var implementors = utils.getImplementors(_this.props.modelName, [constants.TYPES.FINANCIAL_PRODUCT, constants.TYPES.FORM, constants.TYPES.ADDITIONAL_INFO]);\n\t\n\t    // delete implementors[constants.TYPES.ADDITIONAL_INFO]\n\t\n\t    var dataSource = new _reactNative.ListView.DataSource({\n\t      rowHasChanged: function rowHasChanged(row1, row2) {\n\t        return row1 !== row2;\n\t      }\n\t    });\n\t    _this.state = {\n\t      implementors: implementors,\n\t      dataSource: dataSource.cloneWithRows(implementors),\n\t      newModelAdded: false\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(ResourceTypesScreen, [{\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      this.listenTo(Store, 'onNewModelAdded');\n\t    }\n\t  }, {\n\t    key: 'onNewModelAdded',\n\t    value: function onNewModelAdded(params) {\n\t      if (params.action !== 'newModelAdded') return;\n\t      if (params.err) this.setState({ err: params.err });else {\n\t        var implementors = this.state.implementors;\n\t        implementors.push(params.newModel);\n\t        this.setState({\n\t          implementors: implementors,\n\t          dataSource: this.state.dataSource.cloneWithRows(this.state.implementors)\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'selectResource',\n\t    value: function selectResource(resource) {\n\t      // Case when resource is a model. In this case the form for creating a new resource of this type will be displayed\n\t      var model = utils.getModel(this.props.modelName);\n\t\n\t      if (resource[constants.TYPE]) return;\n\t      if (this.props.sendForm) {\n\t        var buttons = [{\n\t          text: 'Cancel'\n\t        }, {\n\t          text: 'OK',\n\t          onPress: this.sendFormTo.bind(this, resource)\n\t        }];\n\t        var to = this.props.resource;\n\t        _reactNative.AlertIOS.prompt('Sending ' + resource.title + ' form to ' + utils.getDisplayName(to, utils.getModel(to[constants.TYPE]).value.properties), buttons);\n\t        return;\n\t      }\n\t      var page = {\n\t        model: utils.getModel(resource.id).value,\n\t        resource: {\n\t          'from': utils.getMe(),\n\t          'to': this.props.resource\n\t        }\n\t      };\n\t      page.resource[constants.TYPE] = this.props.modelName;\n\t\n\t      if (this.props.returnRoute) page.returnRoute = this.props.returnRoute;\n\t      if (this.props.callback) page.callback = this.props.callback;\n\t      this.props.navigator.replace({\n\t        id: 4,\n\t        title: resource.title,\n\t        rightButtonTitle: 'Done',\n\t        backButtonTitle: 'Back',\n\t        component: NewResource,\n\t        titleTextColor: '#7AAAC3',\n\t        passProps: page\n\t      });\n\t    }\n\t  }, {\n\t    key: 'sendFormTo',\n\t    value: function sendFormTo(model, msg) {\n\t      var me = utils.getMe();\n\t      var resource = { from: utils.getMe(), to: this.props.resource };\n\t      // var model = utils.getModel(this.props.modelName).value;\n\t\n\t      var toName = utils.getDisplayName(resource.to, utils.getModel(resource.to[constants.TYPE]).value.properties);\n\t      var meta = utils.getModel(me[constants.TYPE]).value.properties;\n\t      var meName = utils.getDisplayName(me, meta);\n\t      var modelName = constants.TYPES.SIMPLE_MESSAGE;\n\t      var value = {\n\t        message: '[' + msg + '](' + model.id + ')',\n\t        from: me,\n\t        to: resource.to,\n\t        time: new Date().getTime()\n\t      };\n\t      value[constants.TYPE] = modelName;\n\t      Actions.addMessage(value);\n\t      this.props.navigator.pop();\n\t    }\n\t  }, {\n\t    key: 'renderRow',\n\t    value: function renderRow(resource) {\n\t      var _this2 = this;\n\t\n\t      var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n\t      var isMessage = model.interfaces && model.interfaces.indexOf(constants.TYPES.MESSAGE) != -1;\n\t      var MessageTypeRow = __webpack_require__(2079);\n\t\n\t      return _react2.default.createElement(MessageTypeRow, {\n\t        onSelect: function onSelect() {\n\t          return _this2.selectResource(resource);\n\t        },\n\t        resource: resource,\n\t        navigator: this.props.navigator,\n\t        to: this.props.resource });\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var content = _react2.default.createElement(_reactNative.ListView, { ref: 'listview', style: styles.listview,\n\t        dataSource: this.state.dataSource,\n\t        removeClippedSubviews: false,\n\t        renderRow: this.renderRow.bind(this),\n\t        automaticallyAdjustContentInsets: false,\n\t        keyboardDismissMode: 'on-drag',\n\t        keyboardShouldPersistTaps: true,\n\t        showsVerticalScrollIndicator: false });\n\t\n\t      var err = this.state.err ? _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: styles.errContainer },\n\t        _react2.default.createElement(\n\t          _reactNative.Text,\n\t          { style: styles.err },\n\t          this.state.err\n\t        )\n\t      ) : _react2.default.createElement(_reactNative.View, null);\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: styles.container },\n\t        err,\n\t        content\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return ResourceTypesScreen;\n\t}(_react.Component);\n\t\n\treactMixin(ResourceTypesScreen.prototype, Reflux.ListenerMixin);\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  container: {\n\t    flex: 1,\n\t    backgroundColor: 'white'\n\t  },\n\t  listview: {\n\t    marginTop: 64\n\t  },\n\t  centerText: {\n\t    alignItems: 'center'\n\t  },\n\t  err: {\n\t    color: '#D7E6ED'\n\t  },\n\t  errContainer: {\n\t    height: 45,\n\t    paddingTop: 5,\n\t    paddingHorizontal: 10,\n\t    backgroundColor: '#eeeeee'\n\t  }\n\t});\n\t\n\tmodule.exports = ResourceTypesScreen;\n\n/***/ },\n\n/***/ 2109:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar reactMixin = __webpack_require__(1703);\n\tvar utils = __webpack_require__(935);\n\tvar RowMixin = __webpack_require__(1694);\n\tvar reactMixin = __webpack_require__(1703);\n\tvar extend = __webpack_require__(1705);\n\tvar equal = __webpack_require__(721);\n\tvar constants = __webpack_require__(1348);\n\tvar Icon = __webpack_require__(1541);\n\t\n\tvar ItemsList = function (_Component) {\n\t  _inherits(ItemsList, _Component);\n\t\n\t  function ItemsList(props) {\n\t    _classCallCheck(this, ItemsList);\n\t\n\t    var _this = _possibleConstructorReturn(this, (ItemsList.__proto__ || Object.getPrototypeOf(ItemsList)).call(this, props));\n\t\n\t    var dataSource = new _reactNative.ListView.DataSource({\n\t      rowHasChanged: function rowHasChanged(row1, row2) {\n\t        return row1 !== row2;\n\t      }\n\t    });\n\t    _this.state = {\n\t      isLoading: utils.getModels() ? false : true,\n\t      list: _this.props.list,\n\t      dataSource: dataSource.cloneWithRows(_this.props.list),\n\t      filter: _this.props.filter,\n\t      userInput: ''\n\t    };\n\t    var currentRoutes = _this.props.navigator.getCurrentRoutes();\n\t    var currentRoutesLength = currentRoutes.length;\n\t    currentRoutes[currentRoutesLength - 1].onRightButtonPress = function () {\n\t      props.callback(props.prop, _this.state.list);\n\t      props.navigator.popToRoute(props.returnRoute);\n\t    };\n\t\n\t    return _this;\n\t  }\n\t\n\t  _createClass(ItemsList, [{\n\t    key: 'cancelItem',\n\t    value: function cancelItem(item) {\n\t      var list = [];\n\t      extend(list, this.state.list);\n\t      for (var i = 0; i < list.length; i++) {\n\t        if (equal(list[i], item)) {\n\t          list.splice(i, 1);\n\t          break;\n\t        }\n\t      }\n\t      this.setState({\n\t        list: list,\n\t        dataSource: this.state.dataSource.cloneWithRows(list)\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderRow',\n\t    value: function renderRow(resource) {\n\t      var counter = this.props.resource[this.props.prop].length;\n\t      if (this.props.prop === 'photos') return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: styles.row },\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: styles.textContainer, key: this.getNextKey() },\n\t          _react2.default.createElement(_reactNative.Image, { source: { uri: resource.url }, style: styles.cellImage, key: this.getNextKey() }),\n\t          _react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: { marginTop: 15 } },\n\t            _react2.default.createElement(\n\t              _reactNative.TouchableHighlight,\n\t              { underlayColor: 'transparent', onPress: this.cancelItem.bind(this, resource) },\n\t              _react2.default.createElement(Icon, { name: 'android-close', size: 30, color: '#D20000' })\n\t            )\n\t          )\n\t        ),\n\t        _react2.default.createElement(_reactNative.View, { style: styles.separator })\n\t      );\n\t      return;\n\t      renderItem([resource], prop);\n\t    }\n\t  }, {\n\t    key: 'renderItem',\n\t    value: function renderItem(val, pMeta) {\n\t      var itemsMeta = pMeta.items.properties;\n\t      if (!itemsMeta) {\n\t        var ref = pMeta.items.ref;\n\t        if (ref) {\n\t          pMeta = utils.getModel(ref).value;\n\t          itemsMeta = pMeta.properties;\n\t        }\n\t      }\n\t      var counter = 0;\n\t      var vCols = pMeta.viewCols;\n\t      if (!vCols) {\n\t        vCols = [];\n\t        for (var p in itemsMeta) {\n\t          vCols.push(p);\n\t        }\n\t      }\n\t      var cnt = val.length;\n\t      var self = this;\n\t      return val.map(function (v) {\n\t        var ret = [];\n\t        counter++;\n\t        vCols.forEach(function (p) {\n\t          var itemMeta = itemsMeta[p];\n\t          if (!v[p] && !itemMeta.displayAs) return;\n\t          if (itemMeta.displayName) return;\n\t          var value;\n\t          if (itemMeta.displayAs) value = utils.templateIt(itemMeta, v);else if (itemMeta.type === 'date') value = utils.formatDate(v[p]);else if (itemMeta.type !== 'object') {\n\t            if (p == 'photos') {\n\t              var photos = [];\n\t              ret.push(_react2.default.createElement(PhotoList, { photos: v.photos, navigator: self.props.navigator, numberInRow: 4, resource: resource }));\n\t              return;\n\t            } else value = v[p];\n\t          } else if (itemMeta.ref) value = v[p].title || utils.getDisplayName(v[p], utils.getModel(itemMeta.ref).value.properties);else value = v[p].title;\n\t\n\t          if (!value) return;\n\t\n\t          ret.push(_react2.default.createElement(\n\t            _reactNative.View,\n\t            { style: { padding: 10 }, key: self.getNextKey() },\n\t            _react2.default.createElement(\n\t              _reactNative.View,\n\t              { style: styles.itemColContainer, key: self.getNextKey() },\n\t              _react2.default.createElement(\n\t                _reactNative.Text,\n\t                { style: itemMeta.skipLabel ? { height: 0 } : styles.title, key: self.getNextKey() },\n\t                itemMeta.skipLabel ? '' : itemMeta.title || utils.makeLabel(p)\n\t              ),\n\t              _react2.default.createElement(\n\t                _reactNative.Text,\n\t                { style: styles.description, key: self.getNextKey() },\n\t                value\n\t              )\n\t            )\n\t          ));\n\t        });\n\t        return _react2.default.createElement(\n\t          _reactNative.View,\n\t          { key: self.getNextKey() },\n\t          ret,\n\t          counter == cnt ? _react2.default.createElement(_reactNative.View, null) : _react2.default.createElement(_reactNative.View, { style: styles.itemSeparator })\n\t        );\n\t      });\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      if (this.state.isLoading) return _react2.default.createElement(_reactNative.View, null);\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: styles.container },\n\t        _react2.default.createElement(_reactNative.ListView, { ref: 'listview',\n\t          dataSource: this.state.dataSource,\n\t          renderRow: this.renderRow.bind(this),\n\t          removeClippedSubviews: false,\n\t          automaticallyAdjustContentInsets: false,\n\t          keyboardDismissMode: 'on-drag',\n\t          keyboardShouldPersistTaps: true,\n\t          showsVerticalScrollIndicator: false })\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return ItemsList;\n\t}(_react.Component);\n\t\n\treactMixin(ItemsList.prototype, RowMixin);\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  container: {\n\t    flex: 1,\n\t    marginTop: 64,\n\t    marginHorizontal: 10,\n\t    backgroundColor: 'white'\n\t  },\n\t  row: {\n\t    backgroundColor: 'white',\n\t    padding: 5\n\t  },\n\t  textContainer: {\n\t    flex: 1,\n\t    padding: 5,\n\t    // alignSelf: 'center',\n\t    flexDirection: 'row',\n\t    justifyContent: 'space-between'\n\t  },\n\t  separator: {\n\t    height: 0.5,\n\t    backgroundColor: '#cccccc',\n\t    // flex: 40,\n\t    marginTop: 5\n\t\n\t  },\n\t  cellImage: {\n\t    backgroundColor: '#dddddd',\n\t    height: 60,\n\t    marginRight: 10,\n\t    width: 60,\n\t    borderColor: '#7AAAc3',\n\t    borderRadius: 30,\n\t    borderWidth: 1\n\t  }\n\t});\n\t\n\tmodule.exports = ItemsList;\n\n/***/ },\n\n/***/ 2110:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar reactMixin = __webpack_require__(1703);\n\tvar SearchBar = __webpack_require__(2111);\n\tvar ResourceRow = __webpack_require__(1692);\n\tvar ResourceView = __webpack_require__(1706);\n\tvar NewResource = __webpack_require__(1949);\n\tvar ResourceList = __webpack_require__(1685);\n\tvar utils = __webpack_require__(935);\n\tvar Reflux = __webpack_require__(1518);\n\tvar Store = __webpack_require__(1723);\n\tvar Actions = __webpack_require__(1517);\n\tvar reactMixin = __webpack_require__(1703);\n\tvar extend = __webpack_require__(1705);\n\tvar constants = __webpack_require__(1348);\n\t\n\tvar IdentitiesList = function (_Component) {\n\t  _inherits(IdentitiesList, _Component);\n\t\n\t  function IdentitiesList(props) {\n\t    _classCallCheck(this, IdentitiesList);\n\t\n\t    var _this = _possibleConstructorReturn(this, (IdentitiesList.__proto__ || Object.getPrototypeOf(IdentitiesList)).call(this, props));\n\t\n\t    var dataSource = new _reactNative.ListView.DataSource({\n\t      rowHasChanged: function rowHasChanged(row1, row2) {\n\t        return row1 !== row2;\n\t      }\n\t    });\n\t    _this.state = {\n\t      isLoading: utils.getModels() ? false : true,\n\t      list: _this.props.list,\n\t      dataSource: dataSource.cloneWithRows(_this.props.list),\n\t      filter: _this.props.filter,\n\t      userInput: ''\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(IdentitiesList, [{\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      this.listenTo(Store, 'onChangeIdentity');\n\t    }\n\t  }, {\n\t    key: 'selectResource',\n\t    value: function selectResource(resource) {\n\t      Actions.changeIdentity(resource);\n\t    }\n\t  }, {\n\t    key: 'onRemoveIdentity',\n\t    value: function onRemoveIdentity(params) {\n\t      var list = [];\n\t      extend(list, this.state.list);\n\t      for (var i = 0; i < list.length; i++) {\n\t        if (list[i][constants.ROOT_HASH] == params.resource[constants.ROOT_HASH]) {\n\t          list.splice(i, 1);\n\t          break;\n\t        }\n\t      }\n\t      this.setState({\n\t        list: list,\n\t        dataSource: this.state.dataSource.cloneWithRows(list)\n\t      });\n\t    }\n\t  }, {\n\t    key: 'onChangeIdentity',\n\t    value: function onChangeIdentity(params) {\n\t      if (params.action === 'removeIdentity') {\n\t        this.onRemoveIdentity(params);\n\t        return;\n\t      }\n\t\n\t      if (params.action !== 'changeIdentity') return;\n\t      var me = params.me;\n\t      var modelName = me[constants.TYPE];\n\t      var model = utils.getModel(modelName).value;\n\t      var meName = utils.getDisplayName(me, model.properties);\n\t      var self = this;\n\t      var route = {\n\t        title: model.title,\n\t        component: ResourceList,\n\t        id: 10,\n\t        passProps: {\n\t          filter: '',\n\t          modelName: modelName\n\t        },\n\t        rightButtonTitle: 'Profile', //'fontawesome|user',\n\t        onRightButtonPress: {\n\t          title: meName,\n\t          id: 3,\n\t          component: ResourceView,\n\t          backButtonTitle: 'Back',\n\t          titleTextColor: '#7AAAC3',\n\t          rightButtonTitle: 'Edit',\n\t          onRightButtonPress: {\n\t            title: meName,\n\t            id: 4,\n\t            component: NewResource,\n\t            titleTextColor: '#7AAAC3',\n\t            backButtonTitle: 'Back',\n\t            rightButtonTitle: 'Done',\n\t            passProps: {\n\t              model: model,\n\t              resource: me\n\t            }\n\t          },\n\t\n\t          passProps: { resource: me }\n\t        }\n\t      };\n\t      this.props.navigator.replace(route);\n\t    }\n\t\n\t    // onSearchChange(event) {\n\t    //   var filter = event.nativeEvent.text.toLowerCase();\n\t    //   Actions.list(filter, this.props.list[0][constants.TYPE]);\n\t    // }\n\t\n\t  }, {\n\t    key: 'renderRow',\n\t    value: function renderRow(resource) {\n\t      var _this2 = this;\n\t\n\t      var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n\t      var me = utils.getMe();\n\t      return _react2.default.createElement(ResourceRow, {\n\t        onSelect: function onSelect() {\n\t          return _this2.selectResource(resource);\n\t        },\n\t        resource: resource,\n\t        onCancel: function onCancel() {\n\t          return Actions.removeIdentity(resource);\n\t        } });\n\t    }\n\t  }, {\n\t    key: 'removeIdentity',\n\t    value: function removeIdentity(resource) {\n\t      Actions.removeIdentity(resource);\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      if (this.state.isLoading) return _react2.default.createElement(_reactNative.View, null);\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: styles.container },\n\t        _react2.default.createElement(_reactNative.ListView, { ref: 'listview',\n\t          dataSource: this.state.dataSource,\n\t          renderRow: this.renderRow.bind(this),\n\t          removeClippedSubviews: false,\n\t          automaticallyAdjustContentInsets: false,\n\t          keyboardDismissMode: 'on-drag',\n\t          keyboardShouldPersistTaps: true,\n\t          showsVerticalScrollIndicator: false })\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return IdentitiesList;\n\t}(_react.Component);\n\t\n\treactMixin(IdentitiesList.prototype, Reflux.ListenerMixin);\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  container: {\n\t    flex: 1,\n\t    marginTop: 64,\n\t    backgroundColor: 'white'\n\t  },\n\t  centerText: {\n\t    alignItems: 'center'\n\t  },\n\t  NoResourcesText: {\n\t    marginTop: 80,\n\t    color: '#888888'\n\t  },\n\t  separator: {\n\t    height: 1,\n\t    backgroundColor: '#cccccc'\n\t  },\n\t  spinner: {\n\t    width: 30,\n\t    alignSelf: 'center',\n\t    marginTop: 150\n\t  }\n\t});\n\t\n\tmodule.exports = IdentitiesList;\n\n/***/ },\n\n/***/ 2111:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(320);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactNative = __webpack_require__(319);\n\t\n\tvar _ActivityIndicator = __webpack_require__(1669);\n\t\n\tvar _ActivityIndicator2 = _interopRequireDefault(_ActivityIndicator);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar SearchBar = function (_Component) {\n\t  _inherits(SearchBar, _Component);\n\t\n\t  function SearchBar() {\n\t    _classCallCheck(this, SearchBar);\n\t\n\t    return _possibleConstructorReturn(this, (SearchBar.__proto__ || Object.getPrototypeOf(SearchBar)).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(SearchBar, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      var filter = this.props.filter;\n\t      var value = !filter || filter.length === 0 ? '' : filter;\n\t      return _react2.default.createElement(\n\t        _reactNative.View,\n\t        { style: styles.searchBar },\n\t        _react2.default.createElement(\n\t          _reactNative.View,\n\t          { style: styles.searchBarBG },\n\t          _react2.default.createElement(_reactNative.TextInput, {\n\t            autoCapitalize: 'none',\n\t            autoCorrect: false,\n\t            onChange: this.props.onSearchChange.bind(this),\n\t            onFocus: this.props.onFocus.bind(this),\n\t            placeholder: 'Search',\n\t            placeholderTextColor: '#bbbbbb',\n\t            style: styles.searchBarInput,\n\t            value: value\n\t          }),\n\t          _react2.default.createElement(_ActivityIndicator2.default, {\n\t            animating: this.props.isLoading,\n\t            style: styles.spinner\n\t          })\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return SearchBar;\n\t}(_react.Component);\n\t\n\tvar styles = _reactNative.StyleSheet.create({\n\t  searchBar: {\n\t    marginTop: 64,\n\t    paddingTop: 3,\n\t    height: 42,\n\t    paddingBottom: 3,\n\t    flexDirection: 'row',\n\t    alignItems: 'center',\n\t    backgroundColor: '#eeeeee'\n\t  },\n\t  searchBarBG: {\n\t    marginTop: 20,\n\t    // padding: 10,\n\t    flex: 1,\n\t    alignSelf: 'center',\n\t    backgroundColor: '#eeeeee',\n\t    borderTopColor: '#eeeeee',\n\t    borderRightColor: '#eeeeee',\n\t    borderLeftColor: '#eeeeee',\n\t    borderWidth: 2,\n\t    borderBottomColor: '#2E3B4E'\n\t  },\n\t  searchBarInput: {\n\t    height: 32,\n\t    fontSize: 18,\n\t    paddingLeft: 10,\n\t    // opacity: 1,\n\t    fontWeight: 'bold',\n\t    // backgroundColor: '#D7E6ED',\n\t    borderRadius: 5,\n\t    borderWidth: 1,\n\t    borderColor: '#eeeeee'\n\t  },\n\t  separator: {\n\t    height: 1,\n\t    backgroundColor: '#eeeeee'\n\t  },\n\t  spinner: {\n\t    width: 30\n\t  },\n\t  scrollSpinner: {\n\t    marginVertical: 20\n\t  }\n\t});\n\t\n\tmodule.exports = SearchBar;\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** main.3f281ba332c1a93b97dc.js\n **/","// if (window.history && !localStorage._tradleTimeTraveled) {\n//   if (history.length > 2) {\n//     localStorage.setItem('_tradleTimeTraveled', 'y')\n//     history.go(-(history.length - 2))\n//   }\n// }\n\n// localStorage.removeItem('_tradleTimeTraveled')\n\n// if we wake up on a non-zero route, go back to route 0\n//\n// will not be necessary when we switch to redux and save all state including history\n// and get our bearings from the url\n\nif (global.history && global.history.length) {\n  const historyIndex = parseInt(location.hash.replace('#/scene_', ''))\n  if (historyIndex) {\n    history.go(-historyIndex)\n  }\n}\n\nrequire('./css/customicons.css')\nrequire('./css/ionicons.min.css')\nrequire('./css/styles.css')\nrequire('whatwg-fetch')\n// if (!global.EventSource) {\n//   require('event-source-polyfill/eventsource.min.js')\n// }\n\nif (!console.table) console.table = console.log\n\nrequire('./web/shims/deviceEventEmitter')\nrequire('./web/shims/orientation')\nrequire('./index.common')\n\nconst AppRegistry = require('react-native').AppRegistry\n\nconst app = document.createElement('div')\ndocument.body.appendChild(app)\nAppRegistry.runApplication('Tradle', {\n  rootTag: app\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./index.web.js\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./customicons.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./customicons.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./customicons.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./css/customicons.css\n ** module id = 300\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"@font-face{font-family:tradle;src:url(\" + require(\"../fonts/tradle.eot?9ux8nu\") + \");src:url(\" + require(\"../fonts/tradle.eot?9ux8nu\") + \"#iefix) format('embedded-opentype'),url(\" + require(\"../fonts/tradle.ttf?9ux8nu\") + \") format('truetype'),url(\" + require(\"../fonts/tradle.woff?9ux8nu\") + \") format('woff'),url(\" + require(\"../fonts/tradle.svg?9ux8nu\") + \"#tradle) format('svg');font-weight:400;font-style:normal}[class*=\\\" ui-icon-\\\"],[class^=ui-icon-]{font-family:tradle!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.ui-icon-tradle:before{content:\\\"\\\\E610\\\"}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./css/customicons.css\n ** module id = 301\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"0b8ad9efdc0d32eb107c34ca354af3d2.eot\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./fonts/tradle.eot?9ux8nu\n ** module id = 303\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"6bfbf98096204fb2a9d726fb60b9dc05.ttf\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./fonts/tradle.ttf?9ux8nu\n ** module id = 304\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"a67d2970134237faa1ca9dfcfd321a7e.woff\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./fonts/tradle.woff?9ux8nu\n ** module id = 305\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"697bab732db1c0ed4e1c5c48e932ff0e.svg\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./fonts/tradle.svg?9ux8nu\n ** module id = 306\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./ionicons.min.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./ionicons.min.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./ionicons.min.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./css/ionicons.min.css\n ** module id = 308\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/*!\\n  Ionicons, v3.0.0-alpha.3\\n  Created by Ben Sperry for the Ionic Framework, http://ionicons.com/\\n  https://twitter.com/benjsperry  https://twitter.com/ionicframework\\n  MIT License: https://github.com/driftyco/ionicons\\n\\n  Android-style icons originally built by Google’s\\n  Material Design Icons: https://github.com/google/material-design-icons\\n  used under CC BY http://creativecommons.org/licenses/by/4.0/\\n  Modified icons to fit ionicon’s grid from original.\\n*/@font-face{font-family:Ionicons;src:url(\" + require(\"../fonts/ionicons.eot?v=3.0.0-alpha.3\") + \");src:url(\" + require(\"../fonts/ionicons.eot?v=3.0.0-alpha.3\") + \"#iefix) format(\\\"embedded-opentype\\\"),url(\" + require(\"../fonts/ionicons.woff2?v=3.0.0-alpha.3\") + \") format(\\\"woff2\\\"),url(\" + require(\"../fonts/ionicons.woff?v=3.0.0-alpha.3\") + \") format(\\\"woff\\\"),url(\" + require(\"../fonts/ionicons.ttf?v=3.0.0-alpha.3\") + \") format(\\\"truetype\\\"),url(\" + require(\"../fonts/ionicons.svg?v=3.0.0-alpha.3\") + \"#Ionicons) format(\\\"svg\\\");font-weight:400;font-style:normal}.ion,.ion-ios-add-circle-outline:before,.ion-ios-add-circle:before,.ion-ios-add-outline:before,.ion-ios-add:before,.ion-ios-alarm-outline:before,.ion-ios-alarm:before,.ion-ios-albums-outline:before,.ion-ios-albums:before,.ion-ios-alert-outline:before,.ion-ios-alert:before,.ion-ios-american-football-outline:before,.ion-ios-american-football:before,.ion-ios-analytics-outline:before,.ion-ios-analytics:before,.ion-ios-aperture-outline:before,.ion-ios-aperture:before,.ion-ios-apps-outline:before,.ion-ios-apps:before,.ion-ios-appstore-outline:before,.ion-ios-appstore:before,.ion-ios-archive-outline:before,.ion-ios-archive:before,.ion-ios-arrow-back-outline:before,.ion-ios-arrow-back:before,.ion-ios-arrow-down-outline:before,.ion-ios-arrow-down:before,.ion-ios-arrow-dropdown-circle-outline:before,.ion-ios-arrow-dropdown-circle:before,.ion-ios-arrow-dropdown-outline:before,.ion-ios-arrow-dropdown:before,.ion-ios-arrow-dropleft-circle-outline:before,.ion-ios-arrow-dropleft-circle:before,.ion-ios-arrow-dropleft-outline:before,.ion-ios-arrow-dropleft:before,.ion-ios-arrow-dropright-circle-outline:before,.ion-ios-arrow-dropright-circle:before,.ion-ios-arrow-dropright-outline:before,.ion-ios-arrow-dropright:before,.ion-ios-arrow-dropup-circle-outline:before,.ion-ios-arrow-dropup-circle:before,.ion-ios-arrow-dropup-outline:before,.ion-ios-arrow-dropup:before,.ion-ios-arrow-forward-outline:before,.ion-ios-arrow-forward:before,.ion-ios-arrow-round-back-outline:before,.ion-ios-arrow-round-back:before,.ion-ios-arrow-round-down-outline:before,.ion-ios-arrow-round-down:before,.ion-ios-arrow-round-forward-outline:before,.ion-ios-arrow-round-forward:before,.ion-ios-arrow-round-up-outline:before,.ion-ios-arrow-round-up:before,.ion-ios-arrow-up-outline:before,.ion-ios-arrow-up:before,.ion-ios-at-outline:before,.ion-ios-at:before,.ion-ios-attach-outline:before,.ion-ios-attach:before,.ion-ios-backspace-outline:before,.ion-ios-backspace:before,.ion-ios-barcode-outline:before,.ion-ios-barcode:before,.ion-ios-baseball-outline:before,.ion-ios-baseball:before,.ion-ios-basket-outline:before,.ion-ios-basket:before,.ion-ios-basketball-outline:before,.ion-ios-basketball:before,.ion-ios-battery-charging-outline:before,.ion-ios-battery-charging:before,.ion-ios-battery-dead-outline:before,.ion-ios-battery-dead:before,.ion-ios-battery-full-outline:before,.ion-ios-battery-full:before,.ion-ios-beaker-outline:before,.ion-ios-beaker:before,.ion-ios-beer-outline:before,.ion-ios-beer:before,.ion-ios-bicycle-outline:before,.ion-ios-bicycle:before,.ion-ios-bluetooth-outline:before,.ion-ios-bluetooth:before,.ion-ios-boat-outline:before,.ion-ios-boat:before,.ion-ios-body-outline:before,.ion-ios-body:before,.ion-ios-bonfire-outline:before,.ion-ios-bonfire:before,.ion-ios-book-outline:before,.ion-ios-book:before,.ion-ios-bookmark-outline:before,.ion-ios-bookmark:before,.ion-ios-bookmarks-outline:before,.ion-ios-bookmarks:before,.ion-ios-bowtie-outline:before,.ion-ios-bowtie:before,.ion-ios-briefcase-outline:before,.ion-ios-briefcase:before,.ion-ios-browsers-outline:before,.ion-ios-browsers:before,.ion-ios-brush-outline:before,.ion-ios-brush:before,.ion-ios-bug-outline:before,.ion-ios-bug:before,.ion-ios-build-outline:before,.ion-ios-build:before,.ion-ios-bulb-outline:before,.ion-ios-bulb:before,.ion-ios-bus-outline:before,.ion-ios-bus:before,.ion-ios-cafe-outline:before,.ion-ios-cafe:before,.ion-ios-calculator-outline:before,.ion-ios-calculator:before,.ion-ios-calendar-outline:before,.ion-ios-calendar:before,.ion-ios-call-outline:before,.ion-ios-call:before,.ion-ios-camera-outline:before,.ion-ios-camera:before,.ion-ios-car-outline:before,.ion-ios-car:before,.ion-ios-card-outline:before,.ion-ios-card:before,.ion-ios-cart-outline:before,.ion-ios-cart:before,.ion-ios-cash-outline:before,.ion-ios-cash:before,.ion-ios-chatboxes-outline:before,.ion-ios-chatboxes:before,.ion-ios-chatbubbles-outline:before,.ion-ios-chatbubbles:before,.ion-ios-checkbox-outline:before,.ion-ios-checkbox:before,.ion-ios-checkmark-circle-outline:before,.ion-ios-checkmark-circle:before,.ion-ios-checkmark-outline:before,.ion-ios-checkmark:before,.ion-ios-clipboard-outline:before,.ion-ios-clipboard:before,.ion-ios-clock-outline:before,.ion-ios-clock:before,.ion-ios-close-circle-outline:before,.ion-ios-close-circle:before,.ion-ios-close-outline:before,.ion-ios-close:before,.ion-ios-closed-captioning-outline:before,.ion-ios-closed-captioning:before,.ion-ios-cloud-circle-outline:before,.ion-ios-cloud-circle:before,.ion-ios-cloud-done-outline:before,.ion-ios-cloud-done:before,.ion-ios-cloud-download-outline:before,.ion-ios-cloud-download:before,.ion-ios-cloud-outline:before,.ion-ios-cloud-upload-outline:before,.ion-ios-cloud-upload:before,.ion-ios-cloud:before,.ion-ios-cloudy-night-outline:before,.ion-ios-cloudy-night:before,.ion-ios-cloudy-outline:before,.ion-ios-cloudy:before,.ion-ios-code-download-outline:before,.ion-ios-code-download:before,.ion-ios-code-outline:before,.ion-ios-code-working-outline:before,.ion-ios-code-working:before,.ion-ios-code:before,.ion-ios-cog-outline:before,.ion-ios-cog:before,.ion-ios-color-fill-outline:before,.ion-ios-color-fill:before,.ion-ios-color-filter-outline:before,.ion-ios-color-filter:before,.ion-ios-color-palette-outline:before,.ion-ios-color-palette:before,.ion-ios-color-wand-outline:before,.ion-ios-color-wand:before,.ion-ios-compass-outline:before,.ion-ios-compass:before,.ion-ios-construct-outline:before,.ion-ios-construct:before,.ion-ios-contact-outline:before,.ion-ios-contact:before,.ion-ios-contacts-outline:before,.ion-ios-contacts:before,.ion-ios-contract-outline:before,.ion-ios-contract:before,.ion-ios-contrast-outline:before,.ion-ios-contrast:before,.ion-ios-copy-outline:before,.ion-ios-copy:before,.ion-ios-create-outline:before,.ion-ios-create:before,.ion-ios-crop-outline:before,.ion-ios-crop:before,.ion-ios-cube-outline:before,.ion-ios-cube:before,.ion-ios-cut-outline:before,.ion-ios-cut:before,.ion-ios-desktop-outline:before,.ion-ios-desktop:before,.ion-ios-disc-outline:before,.ion-ios-disc:before,.ion-ios-document-outline:before,.ion-ios-document:before,.ion-ios-done-all-outline:before,.ion-ios-done-all:before,.ion-ios-download-outline:before,.ion-ios-download:before,.ion-ios-easel-outline:before,.ion-ios-easel:before,.ion-ios-egg-outline:before,.ion-ios-egg:before,.ion-ios-exit-outline:before,.ion-ios-exit:before,.ion-ios-expand-outline:before,.ion-ios-expand:before,.ion-ios-eye-off-outline:before,.ion-ios-eye-off:before,.ion-ios-eye-outline:before,.ion-ios-eye:before,.ion-ios-fastforward-outline:before,.ion-ios-fastforward:before,.ion-ios-female-outline:before,.ion-ios-female:before,.ion-ios-filing-outline:before,.ion-ios-filing:before,.ion-ios-film-outline:before,.ion-ios-film:before,.ion-ios-finger-print-outline:before,.ion-ios-finger-print:before,.ion-ios-flag-outline:before,.ion-ios-flag:before,.ion-ios-flame-outline:before,.ion-ios-flame:before,.ion-ios-flash-outline:before,.ion-ios-flash:before,.ion-ios-flask-outline:before,.ion-ios-flask:before,.ion-ios-flower-outline:before,.ion-ios-flower:before,.ion-ios-folder-open-outline:before,.ion-ios-folder-open:before,.ion-ios-folder-outline:before,.ion-ios-folder:before,.ion-ios-football-outline:before,.ion-ios-football:before,.ion-ios-funnel-outline:before,.ion-ios-funnel:before,.ion-ios-game-controller-a-outline:before,.ion-ios-game-controller-a:before,.ion-ios-game-controller-b-outline:before,.ion-ios-game-controller-b:before,.ion-ios-git-branch-outline:before,.ion-ios-git-branch:before,.ion-ios-git-commit-outline:before,.ion-ios-git-commit:before,.ion-ios-git-compare-outline:before,.ion-ios-git-compare:before,.ion-ios-git-merge-outline:before,.ion-ios-git-merge:before,.ion-ios-git-network-outline:before,.ion-ios-git-network:before,.ion-ios-git-pull-request-outline:before,.ion-ios-git-pull-request:before,.ion-ios-glasses-outline:before,.ion-ios-glasses:before,.ion-ios-globe-outline:before,.ion-ios-globe:before,.ion-ios-grid-outline:before,.ion-ios-grid:before,.ion-ios-hammer-outline:before,.ion-ios-hammer:before,.ion-ios-hand-outline:before,.ion-ios-hand:before,.ion-ios-happy-outline:before,.ion-ios-happy:before,.ion-ios-headset-outline:before,.ion-ios-headset:before,.ion-ios-heart-outline:before,.ion-ios-heart:before,.ion-ios-help-buoy-outline:before,.ion-ios-help-buoy:before,.ion-ios-help-circle-outline:before,.ion-ios-help-circle:before,.ion-ios-help-outline:before,.ion-ios-help:before,.ion-ios-home-outline:before,.ion-ios-home:before,.ion-ios-ice-cream-outline:before,.ion-ios-ice-cream:before,.ion-ios-image-outline:before,.ion-ios-image:before,.ion-ios-images-outline:before,.ion-ios-images:before,.ion-ios-infinite-outline:before,.ion-ios-infinite:before,.ion-ios-information-circle-outline:before,.ion-ios-information-circle:before,.ion-ios-information-outline:before,.ion-ios-information:before,.ion-ios-ionic-outline:before,.ion-ios-ionic:before,.ion-ios-ionitron-outline:before,.ion-ios-ionitron:before,.ion-ios-jet-outline:before,.ion-ios-jet:before,.ion-ios-key-outline:before,.ion-ios-key:before,.ion-ios-keypad-outline:before,.ion-ios-keypad:before,.ion-ios-laptop-outline:before,.ion-ios-laptop:before,.ion-ios-leaf-outline:before,.ion-ios-leaf:before,.ion-ios-link-outline:before,.ion-ios-link:before,.ion-ios-list-box-outline:before,.ion-ios-list-box:before,.ion-ios-list-outline:before,.ion-ios-list:before,.ion-ios-locate-outline:before,.ion-ios-locate:before,.ion-ios-lock-outline:before,.ion-ios-lock:before,.ion-ios-log-in-outline:before,.ion-ios-log-in:before,.ion-ios-log-out-outline:before,.ion-ios-log-out:before,.ion-ios-magnet-outline:before,.ion-ios-magnet:before,.ion-ios-mail-open-outline:before,.ion-ios-mail-open:before,.ion-ios-mail-outline:before,.ion-ios-mail:before,.ion-ios-male-outline:before,.ion-ios-male:before,.ion-ios-man-outline:before,.ion-ios-man:before,.ion-ios-map-outline:before,.ion-ios-map:before,.ion-ios-medal-outline:before,.ion-ios-medal:before,.ion-ios-medical-outline:before,.ion-ios-medical:before,.ion-ios-medkit-outline:before,.ion-ios-medkit:before,.ion-ios-megaphone-outline:before,.ion-ios-megaphone:before,.ion-ios-menu-outline:before,.ion-ios-menu:before,.ion-ios-mic-off-outline:before,.ion-ios-mic-off:before,.ion-ios-mic-outline:before,.ion-ios-mic:before,.ion-ios-microphone-outline:before,.ion-ios-microphone:before,.ion-ios-moon-outline:before,.ion-ios-moon:before,.ion-ios-more-outline:before,.ion-ios-more:before,.ion-ios-move-outline:before,.ion-ios-move:before,.ion-ios-musical-note-outline:before,.ion-ios-musical-note:before,.ion-ios-musical-notes-outline:before,.ion-ios-musical-notes:before,.ion-ios-navigate-outline:before,.ion-ios-navigate:before,.ion-ios-no-smoking-outline:before,.ion-ios-no-smoking:before,.ion-ios-notifications-off-outline:before,.ion-ios-notifications-off:before,.ion-ios-notifications-outline:before,.ion-ios-notifications:before,.ion-ios-nuclear-outline:before,.ion-ios-nuclear:before,.ion-ios-nutrition-outline:before,.ion-ios-nutrition:before,.ion-ios-open-outline:before,.ion-ios-open:before,.ion-ios-options-outline:before,.ion-ios-options:before,.ion-ios-outlet-outline:before,.ion-ios-outlet:before,.ion-ios-paper-outline:before,.ion-ios-paper-plane-outline:before,.ion-ios-paper-plane:before,.ion-ios-paper:before,.ion-ios-partly-sunny-outline:before,.ion-ios-partly-sunny:before,.ion-ios-pause-outline:before,.ion-ios-pause:before,.ion-ios-paw-outline:before,.ion-ios-paw:before,.ion-ios-people-outline:before,.ion-ios-people:before,.ion-ios-person-add-outline:before,.ion-ios-person-add:before,.ion-ios-person-outline:before,.ion-ios-person:before,.ion-ios-phone-landscape-outline:before,.ion-ios-phone-landscape:before,.ion-ios-phone-portrait-outline:before,.ion-ios-phone-portrait:before,.ion-ios-photos-outline:before,.ion-ios-photos:before,.ion-ios-pie-outline:before,.ion-ios-pie:before,.ion-ios-pin-outline:before,.ion-ios-pin:before,.ion-ios-pint-outline:before,.ion-ios-pint:before,.ion-ios-pizza-outline:before,.ion-ios-pizza:before,.ion-ios-plane-outline:before,.ion-ios-plane:before,.ion-ios-planet-outline:before,.ion-ios-planet:before,.ion-ios-play-outline:before,.ion-ios-play:before,.ion-ios-podium-outline:before,.ion-ios-podium:before,.ion-ios-power-outline:before,.ion-ios-power:before,.ion-ios-pricetag-outline:before,.ion-ios-pricetag:before,.ion-ios-pricetags-outline:before,.ion-ios-pricetags:before,.ion-ios-print-outline:before,.ion-ios-print:before,.ion-ios-pulse-outline:before,.ion-ios-pulse:before,.ion-ios-qr-scanner-outline:before,.ion-ios-qr-scanner:before,.ion-ios-quote-outline:before,.ion-ios-quote:before,.ion-ios-radio-button-off-outline:before,.ion-ios-radio-button-off:before,.ion-ios-radio-button-on-outline:before,.ion-ios-radio-button-on:before,.ion-ios-radio-outline:before,.ion-ios-radio:before,.ion-ios-rainy-outline:before,.ion-ios-rainy:before,.ion-ios-recording-outline:before,.ion-ios-recording:before,.ion-ios-redo-outline:before,.ion-ios-redo:before,.ion-ios-refresh-circle-outline:before,.ion-ios-refresh-circle:before,.ion-ios-refresh-outline:before,.ion-ios-refresh:before,.ion-ios-remove-circle-outline:before,.ion-ios-remove-circle:before,.ion-ios-remove-outline:before,.ion-ios-remove:before,.ion-ios-reorder-outline:before,.ion-ios-reorder:before,.ion-ios-repeat-outline:before,.ion-ios-repeat:before,.ion-ios-resize-outline:before,.ion-ios-resize:before,.ion-ios-restaurant-outline:before,.ion-ios-restaurant:before,.ion-ios-return-left-outline:before,.ion-ios-return-left:before,.ion-ios-return-right-outline:before,.ion-ios-return-right:before,.ion-ios-reverse-camera-outline:before,.ion-ios-reverse-camera:before,.ion-ios-rewind-outline:before,.ion-ios-rewind:before,.ion-ios-ribbon-outline:before,.ion-ios-ribbon:before,.ion-ios-rose-outline:before,.ion-ios-rose:before,.ion-ios-sad-outline:before,.ion-ios-sad:before,.ion-ios-school-outline:before,.ion-ios-school:before,.ion-ios-search-outline:before,.ion-ios-search:before,.ion-ios-send-outline:before,.ion-ios-send:before,.ion-ios-settings-outline:before,.ion-ios-settings:before,.ion-ios-share-alt-outline:before,.ion-ios-share-alt:before,.ion-ios-share-outline:before,.ion-ios-share:before,.ion-ios-shirt-outline:before,.ion-ios-shirt:before,.ion-ios-shuffle-outline:before,.ion-ios-shuffle:before,.ion-ios-skip-backward-outline:before,.ion-ios-skip-backward:before,.ion-ios-skip-forward-outline:before,.ion-ios-skip-forward:before,.ion-ios-snow-outline:before,.ion-ios-snow:before,.ion-ios-speedometer-outline:before,.ion-ios-speedometer:before,.ion-ios-square-outline:before,.ion-ios-square:before,.ion-ios-star-half-outline:before,.ion-ios-star-half:before,.ion-ios-star-outline:before,.ion-ios-star:before,.ion-ios-stats-outline:before,.ion-ios-stats:before,.ion-ios-stopwatch-outline:before,.ion-ios-stopwatch:before,.ion-ios-subway-outline:before,.ion-ios-subway:before,.ion-ios-sunny-outline:before,.ion-ios-sunny:before,.ion-ios-swap-outline:before,.ion-ios-swap:before,.ion-ios-switch-outline:before,.ion-ios-switch:before,.ion-ios-sync-outline:before,.ion-ios-sync:before,.ion-ios-tablet-landscape-outline:before,.ion-ios-tablet-landscape:before,.ion-ios-tablet-portrait-outline:before,.ion-ios-tablet-portrait:before,.ion-ios-tennisball-outline:before,.ion-ios-tennisball:before,.ion-ios-text-outline:before,.ion-ios-text:before,.ion-ios-thermometer-outline:before,.ion-ios-thermometer:before,.ion-ios-thumbs-down-outline:before,.ion-ios-thumbs-down:before,.ion-ios-thumbs-up-outline:before,.ion-ios-thumbs-up:before,.ion-ios-thunderstorm-outline:before,.ion-ios-thunderstorm:before,.ion-ios-time-outline:before,.ion-ios-time:before,.ion-ios-timer-outline:before,.ion-ios-timer:before,.ion-ios-train-outline:before,.ion-ios-train:before,.ion-ios-transgender-outline:before,.ion-ios-transgender:before,.ion-ios-trash-outline:before,.ion-ios-trash:before,.ion-ios-trending-down-outline:before,.ion-ios-trending-down:before,.ion-ios-trending-up-outline:before,.ion-ios-trending-up:before,.ion-ios-trophy-outline:before,.ion-ios-trophy:before,.ion-ios-umbrella-outline:before,.ion-ios-umbrella:before,.ion-ios-undo-outline:before,.ion-ios-undo:before,.ion-ios-unlock-outline:before,.ion-ios-unlock:before,.ion-ios-videocam-outline:before,.ion-ios-videocam:before,.ion-ios-volume-down-outline:before,.ion-ios-volume-down:before,.ion-ios-volume-mute-outline:before,.ion-ios-volume-mute:before,.ion-ios-volume-off-outline:before,.ion-ios-volume-off:before,.ion-ios-volume-up-outline:before,.ion-ios-volume-up:before,.ion-ios-walk-outline:before,.ion-ios-walk:before,.ion-ios-warning-outline:before,.ion-ios-warning:before,.ion-ios-watch-outline:before,.ion-ios-watch:before,.ion-ios-water-outline:before,.ion-ios-water:before,.ion-ios-wifi-outline:before,.ion-ios-wifi:before,.ion-ios-wine-outline:before,.ion-ios-wine:before,.ion-ios-woman-outline:before,.ion-ios-woman:before,.ion-logo-android:before,.ion-logo-angular:before,.ion-logo-apple:before,.ion-logo-bitcoin:before,.ion-logo-buffer:before,.ion-logo-chrome:before,.ion-logo-codepen:before,.ion-logo-css3:before,.ion-logo-designernews:before,.ion-logo-dribbble:before,.ion-logo-dropbox:before,.ion-logo-euro:before,.ion-logo-facebook:before,.ion-logo-foursquare:before,.ion-logo-freebsd-devil:before,.ion-logo-github:before,.ion-logo-google:before,.ion-logo-googleplus:before,.ion-logo-hackernews:before,.ion-logo-html5:before,.ion-logo-instagram:before,.ion-logo-javascript:before,.ion-logo-linkedin:before,.ion-logo-markdown:before,.ion-logo-nodejs:before,.ion-logo-octocat:before,.ion-logo-pinterest:before,.ion-logo-playstation:before,.ion-logo-python:before,.ion-logo-reddit:before,.ion-logo-rss:before,.ion-logo-sass:before,.ion-logo-skype:before,.ion-logo-snapchat:before,.ion-logo-steam:before,.ion-logo-tumblr:before,.ion-logo-tux:before,.ion-logo-twitch:before,.ion-logo-twitter:before,.ion-logo-usd:before,.ion-logo-vimeo:before,.ion-logo-whatsapp:before,.ion-logo-windows:before,.ion-logo-wordpress:before,.ion-logo-xbox:before,.ion-logo-yahoo:before,.ion-logo-yen:before,.ion-logo-youtube:before,.ion-md-add-circle:before,.ion-md-add:before,.ion-md-alarm:before,.ion-md-albums:before,.ion-md-alert:before,.ion-md-american-football:before,.ion-md-analytics:before,.ion-md-aperture:before,.ion-md-apps:before,.ion-md-appstore:before,.ion-md-archive:before,.ion-md-arrow-back:before,.ion-md-arrow-down:before,.ion-md-arrow-dropdown-circle:before,.ion-md-arrow-dropdown:before,.ion-md-arrow-dropleft-circle:before,.ion-md-arrow-dropleft:before,.ion-md-arrow-dropright-circle:before,.ion-md-arrow-dropright:before,.ion-md-arrow-dropup-circle:before,.ion-md-arrow-dropup:before,.ion-md-arrow-forward:before,.ion-md-arrow-round-back:before,.ion-md-arrow-round-down:before,.ion-md-arrow-round-forward:before,.ion-md-arrow-round-up:before,.ion-md-arrow-up:before,.ion-md-at:before,.ion-md-attach:before,.ion-md-backspace:before,.ion-md-barcode:before,.ion-md-baseball:before,.ion-md-basket:before,.ion-md-basketball:before,.ion-md-battery-charging:before,.ion-md-battery-dead:before,.ion-md-battery-full:before,.ion-md-beaker:before,.ion-md-beer:before,.ion-md-bicycle:before,.ion-md-bluetooth:before,.ion-md-boat:before,.ion-md-body:before,.ion-md-bonfire:before,.ion-md-book:before,.ion-md-bookmark:before,.ion-md-bookmarks:before,.ion-md-bowtie:before,.ion-md-briefcase:before,.ion-md-browsers:before,.ion-md-brush:before,.ion-md-bug:before,.ion-md-build:before,.ion-md-bulb:before,.ion-md-bus:before,.ion-md-cafe:before,.ion-md-calculator:before,.ion-md-calendar:before,.ion-md-call:before,.ion-md-camera:before,.ion-md-car:before,.ion-md-card:before,.ion-md-cart:before,.ion-md-cash:before,.ion-md-chatboxes:before,.ion-md-chatbubbles:before,.ion-md-checkbox-outline:before,.ion-md-checkbox:before,.ion-md-checkmark-circle-outline:before,.ion-md-checkmark-circle:before,.ion-md-checkmark:before,.ion-md-clipboard:before,.ion-md-clock:before,.ion-md-close-circle:before,.ion-md-close:before,.ion-md-closed-captioning:before,.ion-md-cloud-circle:before,.ion-md-cloud-done:before,.ion-md-cloud-download:before,.ion-md-cloud-outline:before,.ion-md-cloud-upload:before,.ion-md-cloud:before,.ion-md-cloudy-night:before,.ion-md-cloudy:before,.ion-md-code-download:before,.ion-md-code-working:before,.ion-md-code:before,.ion-md-cog:before,.ion-md-color-fill:before,.ion-md-color-filter:before,.ion-md-color-palette:before,.ion-md-color-wand:before,.ion-md-compass:before,.ion-md-construct:before,.ion-md-contact:before,.ion-md-contacts:before,.ion-md-contract:before,.ion-md-contrast:before,.ion-md-copy:before,.ion-md-create:before,.ion-md-crop:before,.ion-md-cube:before,.ion-md-cut:before,.ion-md-desktop:before,.ion-md-disc:before,.ion-md-document:before,.ion-md-done-all:before,.ion-md-download:before,.ion-md-easel:before,.ion-md-egg:before,.ion-md-exit:before,.ion-md-expand:before,.ion-md-eye-off:before,.ion-md-eye:before,.ion-md-fastforward:before,.ion-md-female:before,.ion-md-filing:before,.ion-md-film:before,.ion-md-finger-print:before,.ion-md-flag:before,.ion-md-flame:before,.ion-md-flash:before,.ion-md-flask:before,.ion-md-flower:before,.ion-md-folder-open:before,.ion-md-folder:before,.ion-md-football:before,.ion-md-funnel:before,.ion-md-game-controller-a:before,.ion-md-game-controller-b:before,.ion-md-git-branch:before,.ion-md-git-commit:before,.ion-md-git-compare:before,.ion-md-git-merge:before,.ion-md-git-network:before,.ion-md-git-pull-request:before,.ion-md-glasses:before,.ion-md-globe:before,.ion-md-grid:before,.ion-md-hammer:before,.ion-md-hand:before,.ion-md-happy:before,.ion-md-headset:before,.ion-md-heart-outline:before,.ion-md-heart:before,.ion-md-help-buoy:before,.ion-md-help-circle:before,.ion-md-help:before,.ion-md-home:before,.ion-md-ice-cream:before,.ion-md-image:before,.ion-md-images:before,.ion-md-infinite:before,.ion-md-information-circle:before,.ion-md-information:before,.ion-md-ionic:before,.ion-md-ionitron:before,.ion-md-jet:before,.ion-md-key:before,.ion-md-keypad:before,.ion-md-laptop:before,.ion-md-leaf:before,.ion-md-link:before,.ion-md-list-box:before,.ion-md-list:before,.ion-md-locate:before,.ion-md-lock:before,.ion-md-log-in:before,.ion-md-log-out:before,.ion-md-magnet:before,.ion-md-mail-open:before,.ion-md-mail:before,.ion-md-male:before,.ion-md-man:before,.ion-md-map:before,.ion-md-medal:before,.ion-md-medical:before,.ion-md-medkit:before,.ion-md-megaphone:before,.ion-md-menu:before,.ion-md-mic-off:before,.ion-md-mic:before,.ion-md-microphone:before,.ion-md-moon:before,.ion-md-more:before,.ion-md-move:before,.ion-md-musical-note:before,.ion-md-musical-notes:before,.ion-md-navigate:before,.ion-md-no-smoking:before,.ion-md-notifications-off:before,.ion-md-notifications-outline:before,.ion-md-notifications:before,.ion-md-nuclear:before,.ion-md-nutrition:before,.ion-md-open:before,.ion-md-options:before,.ion-md-outlet:before,.ion-md-paper-plane:before,.ion-md-paper:before,.ion-md-partly-sunny:before,.ion-md-pause:before,.ion-md-paw:before,.ion-md-people:before,.ion-md-person-add:before,.ion-md-person:before,.ion-md-phone-landscape:before,.ion-md-phone-portrait:before,.ion-md-photos:before,.ion-md-pie:before,.ion-md-pin:before,.ion-md-pint:before,.ion-md-pizza:before,.ion-md-plane:before,.ion-md-planet:before,.ion-md-play:before,.ion-md-podium:before,.ion-md-power:before,.ion-md-pricetag:before,.ion-md-pricetags:before,.ion-md-print:before,.ion-md-pulse:before,.ion-md-qr-scanner:before,.ion-md-quote:before,.ion-md-radio-button-off:before,.ion-md-radio-button-on:before,.ion-md-radio:before,.ion-md-rainy:before,.ion-md-recording:before,.ion-md-redo:before,.ion-md-refresh-circle:before,.ion-md-refresh:before,.ion-md-remove-circle:before,.ion-md-remove:before,.ion-md-reorder:before,.ion-md-repeat:before,.ion-md-resize:before,.ion-md-restaurant:before,.ion-md-return-left:before,.ion-md-return-right:before,.ion-md-reverse-camera:before,.ion-md-rewind:before,.ion-md-ribbon:before,.ion-md-rose:before,.ion-md-sad:before,.ion-md-school:before,.ion-md-search:before,.ion-md-send:before,.ion-md-settings:before,.ion-md-share-alt:before,.ion-md-share:before,.ion-md-shirt:before,.ion-md-shuffle:before,.ion-md-skip-backward:before,.ion-md-skip-forward:before,.ion-md-snow:before,.ion-md-speedometer:before,.ion-md-square-outline:before,.ion-md-square:before,.ion-md-star-half:before,.ion-md-star-outline:before,.ion-md-star:before,.ion-md-stats:before,.ion-md-stopwatch:before,.ion-md-subway:before,.ion-md-sunny:before,.ion-md-swap:before,.ion-md-switch:before,.ion-md-sync:before,.ion-md-tablet-landscape:before,.ion-md-tablet-portrait:before,.ion-md-tennisball:before,.ion-md-text:before,.ion-md-thermometer:before,.ion-md-thumbs-down:before,.ion-md-thumbs-up:before,.ion-md-thunderstorm:before,.ion-md-time:before,.ion-md-timer:before,.ion-md-train:before,.ion-md-transgender:before,.ion-md-trash:before,.ion-md-trending-down:before,.ion-md-trending-up:before,.ion-md-trophy:before,.ion-md-umbrella:before,.ion-md-undo:before,.ion-md-unlock:before,.ion-md-videocam:before,.ion-md-volume-down:before,.ion-md-volume-mute:before,.ion-md-volume-off:before,.ion-md-volume-up:before,.ion-md-walk:before,.ion-md-warning:before,.ion-md-watch:before,.ion-md-water:before,.ion-md-wifi:before,.ion-md-wine:before,.ion-md-woman:before,.ionicons{display:inline-block;font-family:Ionicons;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;text-rendering:auto;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.ion-ios-add:before{content:\\\"\\\\F102\\\"}.ion-ios-add-circle:before{content:\\\"\\\\F101\\\"}.ion-ios-add-circle-outline:before{content:\\\"\\\\F100\\\"}.ion-ios-add-outline:before{content:\\\"\\\\F102\\\"}.ion-ios-alarm:before{content:\\\"\\\\F3C8\\\"}.ion-ios-alarm-outline:before{content:\\\"\\\\F3C7\\\"}.ion-ios-albums:before{content:\\\"\\\\F3CA\\\"}.ion-ios-albums-outline:before{content:\\\"\\\\F3C9\\\"}.ion-ios-alert:before{content:\\\"\\\\F104\\\"}.ion-ios-alert-outline:before{content:\\\"\\\\F103\\\"}.ion-ios-american-football:before{content:\\\"\\\\F106\\\"}.ion-ios-american-football-outline:before{content:\\\"\\\\F105\\\"}.ion-ios-analytics:before{content:\\\"\\\\F3CE\\\"}.ion-ios-analytics-outline:before{content:\\\"\\\\F3CD\\\"}.ion-ios-aperture:before{content:\\\"\\\\F108\\\"}.ion-ios-aperture-outline:before{content:\\\"\\\\F107\\\"}.ion-ios-apps:before{content:\\\"\\\\F10A\\\"}.ion-ios-apps-outline:before{content:\\\"\\\\F109\\\"}.ion-ios-appstore:before{content:\\\"\\\\F10C\\\"}.ion-ios-appstore-outline:before{content:\\\"\\\\F10B\\\"}.ion-ios-archive:before{content:\\\"\\\\F10E\\\"}.ion-ios-archive-outline:before{content:\\\"\\\\F10D\\\"}.ion-ios-arrow-back-outline:before,.ion-ios-arrow-back:before{content:\\\"\\\\F3CF\\\"}.ion-ios-arrow-down-outline:before,.ion-ios-arrow-down:before{content:\\\"\\\\F3D0\\\"}.ion-ios-arrow-dropdown:before{content:\\\"\\\\F110\\\"}.ion-ios-arrow-dropdown-circle-outline:before,.ion-ios-arrow-dropdown-circle:before{content:\\\"\\\\F10F\\\"}.ion-ios-arrow-dropdown-outline:before{content:\\\"\\\\F110\\\"}.ion-ios-arrow-dropleft:before{content:\\\"\\\\F112\\\"}.ion-ios-arrow-dropleft-circle-outline:before,.ion-ios-arrow-dropleft-circle:before{content:\\\"\\\\F111\\\"}.ion-ios-arrow-dropleft-outline:before{content:\\\"\\\\F112\\\"}.ion-ios-arrow-dropright:before{content:\\\"\\\\F114\\\"}.ion-ios-arrow-dropright-circle-outline:before,.ion-ios-arrow-dropright-circle:before{content:\\\"\\\\F113\\\"}.ion-ios-arrow-dropright-outline:before{content:\\\"\\\\F114\\\"}.ion-ios-arrow-dropup:before{content:\\\"\\\\F116\\\"}.ion-ios-arrow-dropup-circle-outline:before,.ion-ios-arrow-dropup-circle:before{content:\\\"\\\\F115\\\"}.ion-ios-arrow-dropup-outline:before{content:\\\"\\\\F116\\\"}.ion-ios-arrow-forward-outline:before,.ion-ios-arrow-forward:before{content:\\\"\\\\F3D1\\\"}.ion-ios-arrow-round-back-outline:before,.ion-ios-arrow-round-back:before{content:\\\"\\\\F117\\\"}.ion-ios-arrow-round-down-outline:before,.ion-ios-arrow-round-down:before{content:\\\"\\\\F118\\\"}.ion-ios-arrow-round-forward-outline:before,.ion-ios-arrow-round-forward:before{content:\\\"\\\\F119\\\"}.ion-ios-arrow-round-up-outline:before,.ion-ios-arrow-round-up:before{content:\\\"\\\\F11A\\\"}.ion-ios-arrow-up-outline:before,.ion-ios-arrow-up:before{content:\\\"\\\\F3D8\\\"}.ion-ios-at:before{content:\\\"\\\\F3DA\\\"}.ion-ios-at-outline:before{content:\\\"\\\\F3D9\\\"}.ion-ios-attach-outline:before,.ion-ios-attach:before{content:\\\"\\\\F11B\\\"}.ion-ios-backspace:before{content:\\\"\\\\F11D\\\"}.ion-ios-backspace-outline:before{content:\\\"\\\\F11C\\\"}.ion-ios-barcode:before{content:\\\"\\\\F3DC\\\"}.ion-ios-barcode-outline:before{content:\\\"\\\\F3DB\\\"}.ion-ios-baseball:before{content:\\\"\\\\F3DE\\\"}.ion-ios-baseball-outline:before{content:\\\"\\\\F3DD\\\"}.ion-ios-basket:before{content:\\\"\\\\F11F\\\"}.ion-ios-basket-outline:before{content:\\\"\\\\F11E\\\"}.ion-ios-basketball:before{content:\\\"\\\\F3E0\\\"}.ion-ios-basketball-outline:before{content:\\\"\\\\F3DF\\\"}.ion-ios-battery-charging-outline:before,.ion-ios-battery-charging:before{content:\\\"\\\\F120\\\"}.ion-ios-battery-dead-outline:before,.ion-ios-battery-dead:before{content:\\\"\\\\F121\\\"}.ion-ios-battery-full-outline:before,.ion-ios-battery-full:before{content:\\\"\\\\F122\\\"}.ion-ios-beaker:before{content:\\\"\\\\F124\\\"}.ion-ios-beaker-outline:before{content:\\\"\\\\F123\\\"}.ion-ios-beer:before{content:\\\"\\\\F126\\\"}.ion-ios-beer-outline:before{content:\\\"\\\\F125\\\"}.ion-ios-bicycle-outline:before,.ion-ios-bicycle:before{content:\\\"\\\\F127\\\"}.ion-ios-bluetooth-outline:before,.ion-ios-bluetooth:before{content:\\\"\\\\F128\\\"}.ion-ios-boat:before{content:\\\"\\\\F12A\\\"}.ion-ios-boat-outline:before{content:\\\"\\\\F129\\\"}.ion-ios-body:before{content:\\\"\\\\F3E4\\\"}.ion-ios-body-outline:before{content:\\\"\\\\F3E3\\\"}.ion-ios-bonfire:before{content:\\\"\\\\F12C\\\"}.ion-ios-bonfire-outline:before{content:\\\"\\\\F12B\\\"}.ion-ios-book:before{content:\\\"\\\\F3E8\\\"}.ion-ios-book-outline:before{content:\\\"\\\\F3E7\\\"}.ion-ios-bookmark:before{content:\\\"\\\\F12E\\\"}.ion-ios-bookmark-outline:before{content:\\\"\\\\F12D\\\"}.ion-ios-bookmarks:before{content:\\\"\\\\F3EA\\\"}.ion-ios-bookmarks-outline:before{content:\\\"\\\\F3E9\\\"}.ion-ios-bowtie:before{content:\\\"\\\\F130\\\"}.ion-ios-bowtie-outline:before{content:\\\"\\\\F12F\\\"}.ion-ios-briefcase:before{content:\\\"\\\\F3EE\\\"}.ion-ios-briefcase-outline:before{content:\\\"\\\\F3ED\\\"}.ion-ios-browsers:before{content:\\\"\\\\F3F0\\\"}.ion-ios-browsers-outline:before{content:\\\"\\\\F3EF\\\"}.ion-ios-brush:before{content:\\\"\\\\F132\\\"}.ion-ios-brush-outline:before{content:\\\"\\\\F131\\\"}.ion-ios-bug:before{content:\\\"\\\\F134\\\"}.ion-ios-bug-outline:before{content:\\\"\\\\F133\\\"}.ion-ios-build:before{content:\\\"\\\\F136\\\"}.ion-ios-build-outline:before{content:\\\"\\\\F135\\\"}.ion-ios-bulb:before{content:\\\"\\\\F138\\\"}.ion-ios-bulb-outline:before{content:\\\"\\\\F137\\\"}.ion-ios-bus:before{content:\\\"\\\\F13A\\\"}.ion-ios-bus-outline:before{content:\\\"\\\\F139\\\"}.ion-ios-cafe:before{content:\\\"\\\\F13C\\\"}.ion-ios-cafe-outline:before{content:\\\"\\\\F13B\\\"}.ion-ios-calculator:before{content:\\\"\\\\F3F2\\\"}.ion-ios-calculator-outline:before{content:\\\"\\\\F3F1\\\"}.ion-ios-calendar:before{content:\\\"\\\\F3F4\\\"}.ion-ios-calendar-outline:before{content:\\\"\\\\F3F3\\\"}.ion-ios-call:before{content:\\\"\\\\F13E\\\"}.ion-ios-call-outline:before{content:\\\"\\\\F13D\\\"}.ion-ios-camera:before{content:\\\"\\\\F3F6\\\"}.ion-ios-camera-outline:before{content:\\\"\\\\F3F5\\\"}.ion-ios-car:before{content:\\\"\\\\F140\\\"}.ion-ios-car-outline:before{content:\\\"\\\\F13F\\\"}.ion-ios-card:before{content:\\\"\\\\F142\\\"}.ion-ios-card-outline:before{content:\\\"\\\\F141\\\"}.ion-ios-cart:before{content:\\\"\\\\F3F8\\\"}.ion-ios-cart-outline:before{content:\\\"\\\\F3F7\\\"}.ion-ios-cash:before{content:\\\"\\\\F144\\\"}.ion-ios-cash-outline:before{content:\\\"\\\\F143\\\"}.ion-ios-chatboxes:before{content:\\\"\\\\F3FA\\\"}.ion-ios-chatboxes-outline:before{content:\\\"\\\\F3F9\\\"}.ion-ios-chatbubbles:before{content:\\\"\\\\F146\\\"}.ion-ios-chatbubbles-outline:before{content:\\\"\\\\F145\\\"}.ion-ios-checkbox:before{content:\\\"\\\\F148\\\"}.ion-ios-checkbox-outline:before{content:\\\"\\\\F147\\\"}.ion-ios-checkmark:before{content:\\\"\\\\F3FF\\\"}.ion-ios-checkmark-circle:before{content:\\\"\\\\F14A\\\"}.ion-ios-checkmark-circle-outline:before{content:\\\"\\\\F149\\\"}.ion-ios-checkmark-outline:before{content:\\\"\\\\F3FF\\\"}.ion-ios-clipboard:before{content:\\\"\\\\F14C\\\"}.ion-ios-clipboard-outline:before{content:\\\"\\\\F14B\\\"}.ion-ios-clock:before{content:\\\"\\\\F403\\\"}.ion-ios-clock-outline:before{content:\\\"\\\\F402\\\"}.ion-ios-close:before{content:\\\"\\\\F406\\\"}.ion-ios-close-circle:before{content:\\\"\\\\F14E\\\"}.ion-ios-close-circle-outline:before{content:\\\"\\\\F14D\\\"}.ion-ios-close-outline:before{content:\\\"\\\\F406\\\"}.ion-ios-closed-captioning:before{content:\\\"\\\\F150\\\"}.ion-ios-closed-captioning-outline:before{content:\\\"\\\\F14F\\\"}.ion-ios-cloud:before{content:\\\"\\\\F40C\\\"}.ion-ios-cloud-circle:before{content:\\\"\\\\F152\\\"}.ion-ios-cloud-circle-outline:before{content:\\\"\\\\F151\\\"}.ion-ios-cloud-done:before{content:\\\"\\\\F154\\\"}.ion-ios-cloud-done-outline:before{content:\\\"\\\\F153\\\"}.ion-ios-cloud-download:before{content:\\\"\\\\F408\\\"}.ion-ios-cloud-download-outline:before{content:\\\"\\\\F407\\\"}.ion-ios-cloud-outline:before{content:\\\"\\\\F409\\\"}.ion-ios-cloud-upload:before{content:\\\"\\\\F40B\\\"}.ion-ios-cloud-upload-outline:before{content:\\\"\\\\F40A\\\"}.ion-ios-cloudy:before{content:\\\"\\\\F410\\\"}.ion-ios-cloudy-night:before{content:\\\"\\\\F40E\\\"}.ion-ios-cloudy-night-outline:before{content:\\\"\\\\F40D\\\"}.ion-ios-cloudy-outline:before{content:\\\"\\\\F40F\\\"}.ion-ios-code:before{content:\\\"\\\\F157\\\"}.ion-ios-code-download-outline:before,.ion-ios-code-download:before{content:\\\"\\\\F155\\\"}.ion-ios-code-outline:before{content:\\\"\\\\F157\\\"}.ion-ios-code-working-outline:before,.ion-ios-code-working:before{content:\\\"\\\\F156\\\"}.ion-ios-cog:before{content:\\\"\\\\F412\\\"}.ion-ios-cog-outline:before{content:\\\"\\\\F411\\\"}.ion-ios-color-fill:before{content:\\\"\\\\F159\\\"}.ion-ios-color-fill-outline:before{content:\\\"\\\\F158\\\"}.ion-ios-color-filter:before{content:\\\"\\\\F414\\\"}.ion-ios-color-filter-outline:before{content:\\\"\\\\F413\\\"}.ion-ios-color-palette:before{content:\\\"\\\\F15B\\\"}.ion-ios-color-palette-outline:before{content:\\\"\\\\F15A\\\"}.ion-ios-color-wand:before{content:\\\"\\\\F416\\\"}.ion-ios-color-wand-outline:before{content:\\\"\\\\F415\\\"}.ion-ios-compass:before{content:\\\"\\\\F15D\\\"}.ion-ios-compass-outline:before{content:\\\"\\\\F15C\\\"}.ion-ios-construct:before{content:\\\"\\\\F15F\\\"}.ion-ios-construct-outline:before{content:\\\"\\\\F15E\\\"}.ion-ios-contact:before{content:\\\"\\\\F41A\\\"}.ion-ios-contact-outline:before{content:\\\"\\\\F419\\\"}.ion-ios-contacts:before{content:\\\"\\\\F161\\\"}.ion-ios-contacts-outline:before{content:\\\"\\\\F160\\\"}.ion-ios-contract-outline:before,.ion-ios-contract:before{content:\\\"\\\\F162\\\"}.ion-ios-contrast-outline:before,.ion-ios-contrast:before{content:\\\"\\\\F163\\\"}.ion-ios-copy:before{content:\\\"\\\\F41C\\\"}.ion-ios-copy-outline:before{content:\\\"\\\\F41B\\\"}.ion-ios-create:before{content:\\\"\\\\F165\\\"}.ion-ios-create-outline:before{content:\\\"\\\\F164\\\"}.ion-ios-crop:before{content:\\\"\\\\F41E\\\"}.ion-ios-crop-outline:before{content:\\\"\\\\F166\\\"}.ion-ios-cube:before{content:\\\"\\\\F168\\\"}.ion-ios-cube-outline:before{content:\\\"\\\\F167\\\"}.ion-ios-cut:before{content:\\\"\\\\F16A\\\"}.ion-ios-cut-outline:before{content:\\\"\\\\F169\\\"}.ion-ios-desktop:before{content:\\\"\\\\F16C\\\"}.ion-ios-desktop-outline:before{content:\\\"\\\\F16B\\\"}.ion-ios-disc:before{content:\\\"\\\\F16E\\\"}.ion-ios-disc-outline:before{content:\\\"\\\\F16D\\\"}.ion-ios-document:before{content:\\\"\\\\F170\\\"}.ion-ios-document-outline:before{content:\\\"\\\\F16F\\\"}.ion-ios-done-all-outline:before,.ion-ios-done-all:before{content:\\\"\\\\F171\\\"}.ion-ios-download:before{content:\\\"\\\\F420\\\"}.ion-ios-download-outline:before{content:\\\"\\\\F41F\\\"}.ion-ios-easel:before{content:\\\"\\\\F173\\\"}.ion-ios-easel-outline:before{content:\\\"\\\\F172\\\"}.ion-ios-egg:before{content:\\\"\\\\F175\\\"}.ion-ios-egg-outline:before{content:\\\"\\\\F174\\\"}.ion-ios-exit:before{content:\\\"\\\\F177\\\"}.ion-ios-exit-outline:before{content:\\\"\\\\F176\\\"}.ion-ios-expand-outline:before,.ion-ios-expand:before{content:\\\"\\\\F178\\\"}.ion-ios-eye:before{content:\\\"\\\\F425\\\"}.ion-ios-eye-off:before{content:\\\"\\\\F17A\\\"}.ion-ios-eye-off-outline:before{content:\\\"\\\\F179\\\"}.ion-ios-eye-outline:before{content:\\\"\\\\F424\\\"}.ion-ios-fastforward:before{content:\\\"\\\\F427\\\"}.ion-ios-fastforward-outline:before{content:\\\"\\\\F426\\\"}.ion-ios-female-outline:before,.ion-ios-female:before{content:\\\"\\\\F17B\\\"}.ion-ios-filing:before{content:\\\"\\\\F429\\\"}.ion-ios-filing-outline:before{content:\\\"\\\\F428\\\"}.ion-ios-film:before{content:\\\"\\\\F42B\\\"}.ion-ios-film-outline:before{content:\\\"\\\\F42A\\\"}.ion-ios-finger-print-outline:before,.ion-ios-finger-print:before{content:\\\"\\\\F17C\\\"}.ion-ios-flag:before{content:\\\"\\\\F42D\\\"}.ion-ios-flag-outline:before{content:\\\"\\\\F42C\\\"}.ion-ios-flame:before{content:\\\"\\\\F42F\\\"}.ion-ios-flame-outline:before{content:\\\"\\\\F42E\\\"}.ion-ios-flash:before{content:\\\"\\\\F17E\\\"}.ion-ios-flash-outline:before{content:\\\"\\\\F17D\\\"}.ion-ios-flask:before{content:\\\"\\\\F431\\\"}.ion-ios-flask-outline:before{content:\\\"\\\\F430\\\"}.ion-ios-flower:before{content:\\\"\\\\F433\\\"}.ion-ios-flower-outline:before{content:\\\"\\\\F432\\\"}.ion-ios-folder:before{content:\\\"\\\\F435\\\"}.ion-ios-folder-open:before{content:\\\"\\\\F180\\\"}.ion-ios-folder-open-outline:before{content:\\\"\\\\F17F\\\"}.ion-ios-folder-outline:before{content:\\\"\\\\F434\\\"}.ion-ios-football:before{content:\\\"\\\\F437\\\"}.ion-ios-football-outline:before{content:\\\"\\\\F436\\\"}.ion-ios-funnel:before{content:\\\"\\\\F182\\\"}.ion-ios-funnel-outline:before{content:\\\"\\\\F181\\\"}.ion-ios-game-controller-a:before{content:\\\"\\\\F439\\\"}.ion-ios-game-controller-a-outline:before{content:\\\"\\\\F438\\\"}.ion-ios-game-controller-b:before{content:\\\"\\\\F43B\\\"}.ion-ios-game-controller-b-outline:before{content:\\\"\\\\F43A\\\"}.ion-ios-git-branch-outline:before,.ion-ios-git-branch:before{content:\\\"\\\\F183\\\"}.ion-ios-git-commit-outline:before,.ion-ios-git-commit:before{content:\\\"\\\\F184\\\"}.ion-ios-git-compare-outline:before,.ion-ios-git-compare:before{content:\\\"\\\\F185\\\"}.ion-ios-git-merge-outline:before,.ion-ios-git-merge:before{content:\\\"\\\\F186\\\"}.ion-ios-git-network-outline:before,.ion-ios-git-network:before{content:\\\"\\\\F187\\\"}.ion-ios-git-pull-request-outline:before,.ion-ios-git-pull-request:before{content:\\\"\\\\F188\\\"}.ion-ios-glasses:before{content:\\\"\\\\F43F\\\"}.ion-ios-glasses-outline:before{content:\\\"\\\\F43E\\\"}.ion-ios-globe:before{content:\\\"\\\\F18A\\\"}.ion-ios-globe-outline:before{content:\\\"\\\\F189\\\"}.ion-ios-grid:before{content:\\\"\\\\F18C\\\"}.ion-ios-grid-outline:before{content:\\\"\\\\F18B\\\"}.ion-ios-hammer:before{content:\\\"\\\\F18E\\\"}.ion-ios-hammer-outline:before{content:\\\"\\\\F18D\\\"}.ion-ios-hand:before{content:\\\"\\\\F190\\\"}.ion-ios-hand-outline:before{content:\\\"\\\\F18F\\\"}.ion-ios-happy:before{content:\\\"\\\\F192\\\"}.ion-ios-happy-outline:before{content:\\\"\\\\F191\\\"}.ion-ios-headset:before{content:\\\"\\\\F194\\\"}.ion-ios-headset-outline:before{content:\\\"\\\\F193\\\"}.ion-ios-heart:before{content:\\\"\\\\F443\\\"}.ion-ios-heart-outline:before{content:\\\"\\\\F442\\\"}.ion-ios-help:before{content:\\\"\\\\F446\\\"}.ion-ios-help-buoy:before{content:\\\"\\\\F196\\\"}.ion-ios-help-buoy-outline:before{content:\\\"\\\\F195\\\"}.ion-ios-help-circle:before{content:\\\"\\\\F198\\\"}.ion-ios-help-circle-outline:before{content:\\\"\\\\F197\\\"}.ion-ios-help-outline:before{content:\\\"\\\\F446\\\"}.ion-ios-home:before{content:\\\"\\\\F448\\\"}.ion-ios-home-outline:before{content:\\\"\\\\F447\\\"}.ion-ios-ice-cream:before{content:\\\"\\\\F19A\\\"}.ion-ios-ice-cream-outline:before{content:\\\"\\\\F199\\\"}.ion-ios-image:before{content:\\\"\\\\F19C\\\"}.ion-ios-image-outline:before{content:\\\"\\\\F19B\\\"}.ion-ios-images:before{content:\\\"\\\\F19E\\\"}.ion-ios-images-outline:before{content:\\\"\\\\F19D\\\"}.ion-ios-infinite:before{content:\\\"\\\\F44A\\\"}.ion-ios-infinite-outline:before{content:\\\"\\\\F449\\\"}.ion-ios-information:before{content:\\\"\\\\F44D\\\"}.ion-ios-information-circle:before{content:\\\"\\\\F1A0\\\"}.ion-ios-information-circle-outline:before{content:\\\"\\\\F19F\\\"}.ion-ios-information-outline:before{content:\\\"\\\\F44D\\\"}.ion-ios-ionic:before{content:\\\"\\\\F1A1\\\"}.ion-ios-ionic-outline:before{content:\\\"\\\\F44E\\\"}.ion-ios-ionitron:before{content:\\\"\\\\F1A3\\\"}.ion-ios-ionitron-outline:before{content:\\\"\\\\F1A2\\\"}.ion-ios-jet:before{content:\\\"\\\\F1A5\\\"}.ion-ios-jet-outline:before{content:\\\"\\\\F1A4\\\"}.ion-ios-key:before{content:\\\"\\\\F1A7\\\"}.ion-ios-key-outline:before{content:\\\"\\\\F1A6\\\"}.ion-ios-keypad:before{content:\\\"\\\\F450\\\"}.ion-ios-keypad-outline:before{content:\\\"\\\\F44F\\\"}.ion-ios-laptop-outline:before,.ion-ios-laptop:before{content:\\\"\\\\F1A8\\\"}.ion-ios-leaf:before{content:\\\"\\\\F1AA\\\"}.ion-ios-leaf-outline:before{content:\\\"\\\\F1A9\\\"}.ion-ios-link:before{content:\\\"\\\\F22A\\\"}.ion-ios-link-outline:before{content:\\\"\\\\F1CA\\\"}.ion-ios-list:before{content:\\\"\\\\F454\\\"}.ion-ios-list-box:before{content:\\\"\\\\F1AC\\\"}.ion-ios-list-box-outline:before{content:\\\"\\\\F1AB\\\"}.ion-ios-list-outline:before{content:\\\"\\\\F454\\\"}.ion-ios-locate:before{content:\\\"\\\\F1AE\\\"}.ion-ios-locate-outline:before{content:\\\"\\\\F1AD\\\"}.ion-ios-lock:before{content:\\\"\\\\F1B0\\\"}.ion-ios-lock-outline:before{content:\\\"\\\\F1AF\\\"}.ion-ios-log-in-outline:before,.ion-ios-log-in:before{content:\\\"\\\\F1B1\\\"}.ion-ios-log-out-outline:before,.ion-ios-log-out:before{content:\\\"\\\\F1B2\\\"}.ion-ios-magnet:before{content:\\\"\\\\F1B4\\\"}.ion-ios-magnet-outline:before{content:\\\"\\\\F1B3\\\"}.ion-ios-mail:before{content:\\\"\\\\F1B8\\\"}.ion-ios-mail-open:before{content:\\\"\\\\F1B6\\\"}.ion-ios-mail-open-outline:before{content:\\\"\\\\F1B5\\\"}.ion-ios-mail-outline:before{content:\\\"\\\\F1B7\\\"}.ion-ios-male-outline:before,.ion-ios-male:before{content:\\\"\\\\F1B9\\\"}.ion-ios-man:before{content:\\\"\\\\F1BB\\\"}.ion-ios-man-outline:before{content:\\\"\\\\F1BA\\\"}.ion-ios-map:before{content:\\\"\\\\F1BD\\\"}.ion-ios-map-outline:before{content:\\\"\\\\F1BC\\\"}.ion-ios-medal:before{content:\\\"\\\\F1BF\\\"}.ion-ios-medal-outline:before{content:\\\"\\\\F1BE\\\"}.ion-ios-medical:before{content:\\\"\\\\F45C\\\"}.ion-ios-medical-outline:before{content:\\\"\\\\F45B\\\"}.ion-ios-medkit:before{content:\\\"\\\\F45E\\\"}.ion-ios-medkit-outline:before{content:\\\"\\\\F45D\\\"}.ion-ios-megaphone:before{content:\\\"\\\\F1C1\\\"}.ion-ios-megaphone-outline:before{content:\\\"\\\\F1C0\\\"}.ion-ios-menu:before{content:\\\"\\\\F1C3\\\"}.ion-ios-menu-outline:before{content:\\\"\\\\F1C2\\\"}.ion-ios-mic:before{content:\\\"\\\\F461\\\"}.ion-ios-mic-off:before{content:\\\"\\\\F45F\\\"}.ion-ios-mic-off-outline:before{content:\\\"\\\\F1C4\\\"}.ion-ios-mic-outline:before{content:\\\"\\\\F460\\\"}.ion-ios-microphone:before{content:\\\"\\\\F1C6\\\"}.ion-ios-microphone-outline:before{content:\\\"\\\\F1C5\\\"}.ion-ios-moon:before{content:\\\"\\\\F468\\\"}.ion-ios-moon-outline:before{content:\\\"\\\\F467\\\"}.ion-ios-more:before{content:\\\"\\\\F1C8\\\"}.ion-ios-more-outline:before{content:\\\"\\\\F1C7\\\"}.ion-ios-move-outline:before,.ion-ios-move:before{content:\\\"\\\\F1CB\\\"}.ion-ios-musical-note:before{content:\\\"\\\\F46B\\\"}.ion-ios-musical-note-outline:before{content:\\\"\\\\F1CC\\\"}.ion-ios-musical-notes:before{content:\\\"\\\\F46C\\\"}.ion-ios-musical-notes-outline:before{content:\\\"\\\\F1CD\\\"}.ion-ios-navigate:before{content:\\\"\\\\F46E\\\"}.ion-ios-navigate-outline:before{content:\\\"\\\\F46D\\\"}.ion-ios-no-smoking:before{content:\\\"\\\\F1CF\\\"}.ion-ios-no-smoking-outline:before{content:\\\"\\\\F1CE\\\"}.ion-ios-notifications:before{content:\\\"\\\\F1D3\\\"}.ion-ios-notifications-off:before{content:\\\"\\\\F1D1\\\"}.ion-ios-notifications-off-outline:before{content:\\\"\\\\F1D0\\\"}.ion-ios-notifications-outline:before{content:\\\"\\\\F1D2\\\"}.ion-ios-nuclear:before{content:\\\"\\\\F1D5\\\"}.ion-ios-nuclear-outline:before{content:\\\"\\\\F1D4\\\"}.ion-ios-nutrition:before{content:\\\"\\\\F470\\\"}.ion-ios-nutrition-outline:before{content:\\\"\\\\F46F\\\"}.ion-ios-open:before{content:\\\"\\\\F1D7\\\"}.ion-ios-open-outline:before{content:\\\"\\\\F1D6\\\"}.ion-ios-options:before{content:\\\"\\\\F1D9\\\"}.ion-ios-options-outline:before{content:\\\"\\\\F1D8\\\"}.ion-ios-outlet:before{content:\\\"\\\\F1DB\\\"}.ion-ios-outlet-outline:before{content:\\\"\\\\F1DA\\\"}.ion-ios-paper:before{content:\\\"\\\\F472\\\"}.ion-ios-paper-outline:before{content:\\\"\\\\F471\\\"}.ion-ios-paper-plane:before{content:\\\"\\\\F1DD\\\"}.ion-ios-paper-plane-outline:before{content:\\\"\\\\F1DC\\\"}.ion-ios-partly-sunny:before{content:\\\"\\\\F1DF\\\"}.ion-ios-partly-sunny-outline:before{content:\\\"\\\\F1DE\\\"}.ion-ios-pause:before{content:\\\"\\\\F478\\\"}.ion-ios-pause-outline:before{content:\\\"\\\\F477\\\"}.ion-ios-paw:before{content:\\\"\\\\F47A\\\"}.ion-ios-paw-outline:before{content:\\\"\\\\F479\\\"}.ion-ios-people:before{content:\\\"\\\\F47C\\\"}.ion-ios-people-outline:before{content:\\\"\\\\F47B\\\"}.ion-ios-person:before{content:\\\"\\\\F47E\\\"}.ion-ios-person-add:before{content:\\\"\\\\F1E1\\\"}.ion-ios-person-add-outline:before{content:\\\"\\\\F1E0\\\"}.ion-ios-person-outline:before{content:\\\"\\\\F47D\\\"}.ion-ios-phone-landscape-outline:before,.ion-ios-phone-landscape:before{content:\\\"\\\\F1E2\\\"}.ion-ios-phone-portrait-outline:before,.ion-ios-phone-portrait:before{content:\\\"\\\\F1E3\\\"}.ion-ios-photos:before{content:\\\"\\\\F482\\\"}.ion-ios-photos-outline:before{content:\\\"\\\\F481\\\"}.ion-ios-pie:before{content:\\\"\\\\F484\\\"}.ion-ios-pie-outline:before{content:\\\"\\\\F483\\\"}.ion-ios-pin:before{content:\\\"\\\\F1E5\\\"}.ion-ios-pin-outline:before{content:\\\"\\\\F1E4\\\"}.ion-ios-pint:before{content:\\\"\\\\F486\\\"}.ion-ios-pint-outline:before{content:\\\"\\\\F485\\\"}.ion-ios-pizza:before{content:\\\"\\\\F1E7\\\"}.ion-ios-pizza-outline:before{content:\\\"\\\\F1E6\\\"}.ion-ios-plane:before{content:\\\"\\\\F1E9\\\"}.ion-ios-plane-outline:before{content:\\\"\\\\F1E8\\\"}.ion-ios-planet:before{content:\\\"\\\\F1EB\\\"}.ion-ios-planet-outline:before{content:\\\"\\\\F1EA\\\"}.ion-ios-play:before{content:\\\"\\\\F488\\\"}.ion-ios-play-outline:before{content:\\\"\\\\F487\\\"}.ion-ios-podium:before{content:\\\"\\\\F1ED\\\"}.ion-ios-podium-outline:before{content:\\\"\\\\F1EC\\\"}.ion-ios-power:before{content:\\\"\\\\F1EF\\\"}.ion-ios-power-outline:before{content:\\\"\\\\F1EE\\\"}.ion-ios-pricetag:before{content:\\\"\\\\F48D\\\"}.ion-ios-pricetag-outline:before{content:\\\"\\\\F48C\\\"}.ion-ios-pricetags:before{content:\\\"\\\\F48F\\\"}.ion-ios-pricetags-outline:before{content:\\\"\\\\F48E\\\"}.ion-ios-print:before{content:\\\"\\\\F1F1\\\"}.ion-ios-print-outline:before{content:\\\"\\\\F1F0\\\"}.ion-ios-pulse:before{content:\\\"\\\\F493\\\"}.ion-ios-pulse-outline:before{content:\\\"\\\\F1F2\\\"}.ion-ios-qr-scanner-outline:before,.ion-ios-qr-scanner:before{content:\\\"\\\\F1F3\\\"}.ion-ios-quote:before{content:\\\"\\\\F1F5\\\"}.ion-ios-quote-outline:before{content:\\\"\\\\F1F4\\\"}.ion-ios-radio:before{content:\\\"\\\\F1F9\\\"}.ion-ios-radio-button-off-outline:before,.ion-ios-radio-button-off:before{content:\\\"\\\\F1F6\\\"}.ion-ios-radio-button-on-outline:before,.ion-ios-radio-button-on:before{content:\\\"\\\\F1F7\\\"}.ion-ios-radio-outline:before{content:\\\"\\\\F1F8\\\"}.ion-ios-rainy:before{content:\\\"\\\\F495\\\"}.ion-ios-rainy-outline:before{content:\\\"\\\\F494\\\"}.ion-ios-recording:before{content:\\\"\\\\F497\\\"}.ion-ios-recording-outline:before{content:\\\"\\\\F496\\\"}.ion-ios-redo:before{content:\\\"\\\\F499\\\"}.ion-ios-redo-outline:before{content:\\\"\\\\F498\\\"}.ion-ios-refresh:before{content:\\\"\\\\F49C\\\"}.ion-ios-refresh-circle:before{content:\\\"\\\\F226\\\"}.ion-ios-refresh-circle-outline:before{content:\\\"\\\\F224\\\"}.ion-ios-refresh-outline:before{content:\\\"\\\\F49C\\\"}.ion-ios-remove:before{content:\\\"\\\\F1FC\\\"}.ion-ios-remove-circle:before{content:\\\"\\\\F1FB\\\"}.ion-ios-remove-circle-outline:before{content:\\\"\\\\F1FA\\\"}.ion-ios-remove-outline:before{content:\\\"\\\\F1FC\\\"}.ion-ios-reorder-outline:before,.ion-ios-reorder:before{content:\\\"\\\\F1FD\\\"}.ion-ios-repeat-outline:before,.ion-ios-repeat:before{content:\\\"\\\\F1FE\\\"}.ion-ios-resize-outline:before,.ion-ios-resize:before{content:\\\"\\\\F1FF\\\"}.ion-ios-restaurant:before{content:\\\"\\\\F201\\\"}.ion-ios-restaurant-outline:before{content:\\\"\\\\F200\\\"}.ion-ios-return-left-outline:before,.ion-ios-return-left:before{content:\\\"\\\\F202\\\"}.ion-ios-return-right-outline:before,.ion-ios-return-right:before{content:\\\"\\\\F203\\\"}.ion-ios-reverse-camera:before{content:\\\"\\\\F49F\\\"}.ion-ios-reverse-camera-outline:before{content:\\\"\\\\F49E\\\"}.ion-ios-rewind:before{content:\\\"\\\\F4A1\\\"}.ion-ios-rewind-outline:before{content:\\\"\\\\F4A0\\\"}.ion-ios-ribbon:before{content:\\\"\\\\F205\\\"}.ion-ios-ribbon-outline:before{content:\\\"\\\\F204\\\"}.ion-ios-rose:before{content:\\\"\\\\F4A3\\\"}.ion-ios-rose-outline:before{content:\\\"\\\\F4A2\\\"}.ion-ios-sad:before{content:\\\"\\\\F207\\\"}.ion-ios-sad-outline:before{content:\\\"\\\\F206\\\"}.ion-ios-school:before{content:\\\"\\\\F209\\\"}.ion-ios-school-outline:before{content:\\\"\\\\F208\\\"}.ion-ios-search:before{content:\\\"\\\\F4A5\\\"}.ion-ios-search-outline:before{content:\\\"\\\\F20A\\\"}.ion-ios-send:before{content:\\\"\\\\F20C\\\"}.ion-ios-send-outline:before{content:\\\"\\\\F20B\\\"}.ion-ios-settings:before{content:\\\"\\\\F4A7\\\"}.ion-ios-settings-outline:before{content:\\\"\\\\F20D\\\"}.ion-ios-share:before{content:\\\"\\\\F211\\\"}.ion-ios-share-alt:before{content:\\\"\\\\F20F\\\"}.ion-ios-share-alt-outline:before{content:\\\"\\\\F20E\\\"}.ion-ios-share-outline:before{content:\\\"\\\\F210\\\"}.ion-ios-shirt:before{content:\\\"\\\\F213\\\"}.ion-ios-shirt-outline:before{content:\\\"\\\\F212\\\"}.ion-ios-shuffle-outline:before,.ion-ios-shuffle:before{content:\\\"\\\\F4A9\\\"}.ion-ios-skip-backward:before{content:\\\"\\\\F215\\\"}.ion-ios-skip-backward-outline:before{content:\\\"\\\\F214\\\"}.ion-ios-skip-forward:before{content:\\\"\\\\F217\\\"}.ion-ios-skip-forward-outline:before{content:\\\"\\\\F216\\\"}.ion-ios-snow:before{content:\\\"\\\\F218\\\"}.ion-ios-snow-outline:before{content:\\\"\\\\F22C\\\"}.ion-ios-speedometer:before{content:\\\"\\\\F4B0\\\"}.ion-ios-speedometer-outline:before{content:\\\"\\\\F4AF\\\"}.ion-ios-square:before{content:\\\"\\\\F21A\\\"}.ion-ios-square-outline:before{content:\\\"\\\\F219\\\"}.ion-ios-star:before{content:\\\"\\\\F4B3\\\"}.ion-ios-star-half-outline:before,.ion-ios-star-half:before{content:\\\"\\\\F4B1\\\"}.ion-ios-star-outline:before{content:\\\"\\\\F4B2\\\"}.ion-ios-stats:before{content:\\\"\\\\F21C\\\"}.ion-ios-stats-outline:before{content:\\\"\\\\F21B\\\"}.ion-ios-stopwatch:before{content:\\\"\\\\F4B5\\\"}.ion-ios-stopwatch-outline:before{content:\\\"\\\\F4B4\\\"}.ion-ios-subway:before{content:\\\"\\\\F21E\\\"}.ion-ios-subway-outline:before{content:\\\"\\\\F21D\\\"}.ion-ios-sunny:before{content:\\\"\\\\F4B7\\\"}.ion-ios-sunny-outline:before{content:\\\"\\\\F4B6\\\"}.ion-ios-swap-outline:before,.ion-ios-swap:before{content:\\\"\\\\F21F\\\"}.ion-ios-switch:before{content:\\\"\\\\F221\\\"}.ion-ios-switch-outline:before{content:\\\"\\\\F220\\\"}.ion-ios-sync-outline:before,.ion-ios-sync:before{content:\\\"\\\\F222\\\"}.ion-ios-tablet-landscape-outline:before,.ion-ios-tablet-landscape:before{content:\\\"\\\\F223\\\"}.ion-ios-tablet-portrait-outline:before,.ion-ios-tablet-portrait:before{content:\\\"\\\\F24E\\\"}.ion-ios-tennisball:before{content:\\\"\\\\F4BB\\\"}.ion-ios-tennisball-outline:before{content:\\\"\\\\F4BA\\\"}.ion-ios-text:before{content:\\\"\\\\F250\\\"}.ion-ios-text-outline:before{content:\\\"\\\\F24F\\\"}.ion-ios-thermometer:before{content:\\\"\\\\F252\\\"}.ion-ios-thermometer-outline:before{content:\\\"\\\\F251\\\"}.ion-ios-thumbs-down:before{content:\\\"\\\\F254\\\"}.ion-ios-thumbs-down-outline:before{content:\\\"\\\\F253\\\"}.ion-ios-thumbs-up:before{content:\\\"\\\\F256\\\"}.ion-ios-thumbs-up-outline:before{content:\\\"\\\\F255\\\"}.ion-ios-thunderstorm:before{content:\\\"\\\\F4BD\\\"}.ion-ios-thunderstorm-outline:before{content:\\\"\\\\F4BC\\\"}.ion-ios-time:before{content:\\\"\\\\F4BF\\\"}.ion-ios-time-outline:before{content:\\\"\\\\F4BE\\\"}.ion-ios-timer:before{content:\\\"\\\\F4C1\\\"}.ion-ios-timer-outline:before{content:\\\"\\\\F4C0\\\"}.ion-ios-train:before{content:\\\"\\\\F258\\\"}.ion-ios-train-outline:before{content:\\\"\\\\F257\\\"}.ion-ios-transgender-outline:before,.ion-ios-transgender:before{content:\\\"\\\\F259\\\"}.ion-ios-trash:before{content:\\\"\\\\F4C5\\\"}.ion-ios-trash-outline:before{content:\\\"\\\\F4C4\\\"}.ion-ios-trending-down-outline:before,.ion-ios-trending-down:before{content:\\\"\\\\F25A\\\"}.ion-ios-trending-up-outline:before,.ion-ios-trending-up:before{content:\\\"\\\\F25B\\\"}.ion-ios-trophy:before{content:\\\"\\\\F25D\\\"}.ion-ios-trophy-outline:before{content:\\\"\\\\F25C\\\"}.ion-ios-umbrella:before{content:\\\"\\\\F25F\\\"}.ion-ios-umbrella-outline:before{content:\\\"\\\\F25E\\\"}.ion-ios-undo:before{content:\\\"\\\\F4C7\\\"}.ion-ios-undo-outline:before{content:\\\"\\\\F4C6\\\"}.ion-ios-unlock:before{content:\\\"\\\\F261\\\"}.ion-ios-unlock-outline:before{content:\\\"\\\\F260\\\"}.ion-ios-videocam:before{content:\\\"\\\\F4CD\\\"}.ion-ios-videocam-outline:before{content:\\\"\\\\F4CC\\\"}.ion-ios-volume-down-outline:before,.ion-ios-volume-down:before{content:\\\"\\\\F262\\\"}.ion-ios-volume-mute-outline:before,.ion-ios-volume-mute:before{content:\\\"\\\\F263\\\"}.ion-ios-volume-off-outline:before,.ion-ios-volume-off:before{content:\\\"\\\\F264\\\"}.ion-ios-volume-up-outline:before,.ion-ios-volume-up:before{content:\\\"\\\\F265\\\"}.ion-ios-walk-outline:before,.ion-ios-walk:before{content:\\\"\\\\F266\\\"}.ion-ios-warning:before{content:\\\"\\\\F268\\\"}.ion-ios-warning-outline:before{content:\\\"\\\\F267\\\"}.ion-ios-watch-outline:before,.ion-ios-watch:before{content:\\\"\\\\F269\\\"}.ion-ios-water:before{content:\\\"\\\\F26B\\\"}.ion-ios-water-outline:before{content:\\\"\\\\F26A\\\"}.ion-ios-wifi:before{content:\\\"\\\\F26D\\\"}.ion-ios-wifi-outline:before{content:\\\"\\\\F26C\\\"}.ion-ios-wine:before{content:\\\"\\\\F26F\\\"}.ion-ios-wine-outline:before{content:\\\"\\\\F26E\\\"}.ion-ios-woman:before{content:\\\"\\\\F271\\\"}.ion-ios-woman-outline:before{content:\\\"\\\\F270\\\"}.ion-logo-android:before{content:\\\"\\\\F225\\\"}.ion-logo-angular:before{content:\\\"\\\\F227\\\"}.ion-logo-apple:before{content:\\\"\\\\F229\\\"}.ion-logo-bitcoin:before{content:\\\"\\\\F22B\\\"}.ion-logo-buffer:before{content:\\\"\\\\F22D\\\"}.ion-logo-chrome:before{content:\\\"\\\\F22F\\\"}.ion-logo-codepen:before{content:\\\"\\\\F230\\\"}.ion-logo-css3:before{content:\\\"\\\\F231\\\"}.ion-logo-designernews:before{content:\\\"\\\\F232\\\"}.ion-logo-dribbble:before{content:\\\"\\\\F233\\\"}.ion-logo-dropbox:before{content:\\\"\\\\F234\\\"}.ion-logo-euro:before{content:\\\"\\\\F235\\\"}.ion-logo-facebook:before{content:\\\"\\\\F236\\\"}.ion-logo-foursquare:before{content:\\\"\\\\F237\\\"}.ion-logo-freebsd-devil:before{content:\\\"\\\\F238\\\"}.ion-logo-github:before{content:\\\"\\\\F239\\\"}.ion-logo-google:before{content:\\\"\\\\F23A\\\"}.ion-logo-googleplus:before{content:\\\"\\\\F23B\\\"}.ion-logo-hackernews:before{content:\\\"\\\\F23C\\\"}.ion-logo-html5:before{content:\\\"\\\\F23D\\\"}.ion-logo-instagram:before{content:\\\"\\\\F23E\\\"}.ion-logo-javascript:before{content:\\\"\\\\F23F\\\"}.ion-logo-linkedin:before{content:\\\"\\\\F240\\\"}.ion-logo-markdown:before{content:\\\"\\\\F241\\\"}.ion-logo-nodejs:before{content:\\\"\\\\F242\\\"}.ion-logo-octocat:before{content:\\\"\\\\F243\\\"}.ion-logo-pinterest:before{content:\\\"\\\\F244\\\"}.ion-logo-playstation:before{content:\\\"\\\\F245\\\"}.ion-logo-python:before{content:\\\"\\\\F246\\\"}.ion-logo-reddit:before{content:\\\"\\\\F247\\\"}.ion-logo-rss:before{content:\\\"\\\\F248\\\"}.ion-logo-sass:before{content:\\\"\\\\F249\\\"}.ion-logo-skype:before{content:\\\"\\\\F24A\\\"}.ion-logo-snapchat:before{content:\\\"\\\\F24B\\\"}.ion-logo-steam:before{content:\\\"\\\\F24C\\\"}.ion-logo-tumblr:before{content:\\\"\\\\F24D\\\"}.ion-logo-tux:before{content:\\\"\\\\F2AE\\\"}.ion-logo-twitch:before{content:\\\"\\\\F2AF\\\"}.ion-logo-twitter:before{content:\\\"\\\\F2B0\\\"}.ion-logo-usd:before{content:\\\"\\\\F2B1\\\"}.ion-logo-vimeo:before{content:\\\"\\\\F2C4\\\"}.ion-logo-whatsapp:before{content:\\\"\\\\F2C5\\\"}.ion-logo-windows:before{content:\\\"\\\\F32F\\\"}.ion-logo-wordpress:before{content:\\\"\\\\F330\\\"}.ion-logo-xbox:before{content:\\\"\\\\F34C\\\"}.ion-logo-yahoo:before{content:\\\"\\\\F34D\\\"}.ion-logo-yen:before{content:\\\"\\\\F34E\\\"}.ion-logo-youtube:before{content:\\\"\\\\F34F\\\"}.ion-md-add:before{content:\\\"\\\\F273\\\"}.ion-md-add-circle:before{content:\\\"\\\\F272\\\"}.ion-md-alarm:before{content:\\\"\\\\F274\\\"}.ion-md-albums:before{content:\\\"\\\\F275\\\"}.ion-md-alert:before{content:\\\"\\\\F276\\\"}.ion-md-american-football:before{content:\\\"\\\\F277\\\"}.ion-md-analytics:before{content:\\\"\\\\F278\\\"}.ion-md-aperture:before{content:\\\"\\\\F279\\\"}.ion-md-apps:before{content:\\\"\\\\F27A\\\"}.ion-md-appstore:before{content:\\\"\\\\F27B\\\"}.ion-md-archive:before{content:\\\"\\\\F27C\\\"}.ion-md-arrow-back:before{content:\\\"\\\\F27D\\\"}.ion-md-arrow-down:before{content:\\\"\\\\F27E\\\"}.ion-md-arrow-dropdown:before{content:\\\"\\\\F280\\\"}.ion-md-arrow-dropdown-circle:before{content:\\\"\\\\F27F\\\"}.ion-md-arrow-dropleft:before{content:\\\"\\\\F282\\\"}.ion-md-arrow-dropleft-circle:before{content:\\\"\\\\F281\\\"}.ion-md-arrow-dropright:before{content:\\\"\\\\F284\\\"}.ion-md-arrow-dropright-circle:before{content:\\\"\\\\F283\\\"}.ion-md-arrow-dropup:before{content:\\\"\\\\F286\\\"}.ion-md-arrow-dropup-circle:before{content:\\\"\\\\F285\\\"}.ion-md-arrow-forward:before{content:\\\"\\\\F287\\\"}.ion-md-arrow-round-back:before{content:\\\"\\\\F288\\\"}.ion-md-arrow-round-down:before{content:\\\"\\\\F289\\\"}.ion-md-arrow-round-forward:before{content:\\\"\\\\F28A\\\"}.ion-md-arrow-round-up:before{content:\\\"\\\\F28B\\\"}.ion-md-arrow-up:before{content:\\\"\\\\F28C\\\"}.ion-md-at:before{content:\\\"\\\\F28D\\\"}.ion-md-attach:before{content:\\\"\\\\F28E\\\"}.ion-md-backspace:before{content:\\\"\\\\F28F\\\"}.ion-md-barcode:before{content:\\\"\\\\F290\\\"}.ion-md-baseball:before{content:\\\"\\\\F291\\\"}.ion-md-basket:before{content:\\\"\\\\F292\\\"}.ion-md-basketball:before{content:\\\"\\\\F293\\\"}.ion-md-battery-charging:before{content:\\\"\\\\F294\\\"}.ion-md-battery-dead:before{content:\\\"\\\\F295\\\"}.ion-md-battery-full:before{content:\\\"\\\\F296\\\"}.ion-md-beaker:before{content:\\\"\\\\F297\\\"}.ion-md-beer:before{content:\\\"\\\\F298\\\"}.ion-md-bicycle:before{content:\\\"\\\\F299\\\"}.ion-md-bluetooth:before{content:\\\"\\\\F29A\\\"}.ion-md-boat:before{content:\\\"\\\\F29B\\\"}.ion-md-body:before{content:\\\"\\\\F29C\\\"}.ion-md-bonfire:before{content:\\\"\\\\F29D\\\"}.ion-md-book:before{content:\\\"\\\\F29E\\\"}.ion-md-bookmark:before{content:\\\"\\\\F29F\\\"}.ion-md-bookmarks:before{content:\\\"\\\\F2A0\\\"}.ion-md-bowtie:before{content:\\\"\\\\F2A1\\\"}.ion-md-briefcase:before{content:\\\"\\\\F2A2\\\"}.ion-md-browsers:before{content:\\\"\\\\F2A3\\\"}.ion-md-brush:before{content:\\\"\\\\F2A4\\\"}.ion-md-bug:before{content:\\\"\\\\F2A5\\\"}.ion-md-build:before{content:\\\"\\\\F2A6\\\"}.ion-md-bulb:before{content:\\\"\\\\F2A7\\\"}.ion-md-bus:before{content:\\\"\\\\F2A8\\\"}.ion-md-cafe:before{content:\\\"\\\\F2A9\\\"}.ion-md-calculator:before{content:\\\"\\\\F2AA\\\"}.ion-md-calendar:before{content:\\\"\\\\F2AB\\\"}.ion-md-call:before{content:\\\"\\\\F2AC\\\"}.ion-md-camera:before{content:\\\"\\\\F2AD\\\"}.ion-md-car:before{content:\\\"\\\\F2B2\\\"}.ion-md-card:before{content:\\\"\\\\F2B3\\\"}.ion-md-cart:before{content:\\\"\\\\F2B4\\\"}.ion-md-cash:before{content:\\\"\\\\F2B5\\\"}.ion-md-chatboxes:before{content:\\\"\\\\F2B6\\\"}.ion-md-chatbubbles:before{content:\\\"\\\\F2B7\\\"}.ion-md-checkbox:before{content:\\\"\\\\F2B9\\\"}.ion-md-checkbox-outline:before{content:\\\"\\\\F2B8\\\"}.ion-md-checkmark:before{content:\\\"\\\\F2BC\\\"}.ion-md-checkmark-circle:before{content:\\\"\\\\F2BB\\\"}.ion-md-checkmark-circle-outline:before{content:\\\"\\\\F2BA\\\"}.ion-md-clipboard:before{content:\\\"\\\\F2BD\\\"}.ion-md-clock:before{content:\\\"\\\\F2BE\\\"}.ion-md-close:before{content:\\\"\\\\F2C0\\\"}.ion-md-close-circle:before{content:\\\"\\\\F2BF\\\"}.ion-md-closed-captioning:before{content:\\\"\\\\F2C1\\\"}.ion-md-cloud:before{content:\\\"\\\\F2C9\\\"}.ion-md-cloud-circle:before{content:\\\"\\\\F2C2\\\"}.ion-md-cloud-done:before{content:\\\"\\\\F2C3\\\"}.ion-md-cloud-download:before{content:\\\"\\\\F2C6\\\"}.ion-md-cloud-outline:before{content:\\\"\\\\F2C7\\\"}.ion-md-cloud-upload:before{content:\\\"\\\\F2C8\\\"}.ion-md-cloudy:before{content:\\\"\\\\F2CB\\\"}.ion-md-cloudy-night:before{content:\\\"\\\\F2CA\\\"}.ion-md-code:before{content:\\\"\\\\F2CE\\\"}.ion-md-code-download:before{content:\\\"\\\\F2CC\\\"}.ion-md-code-working:before{content:\\\"\\\\F2CD\\\"}.ion-md-cog:before{content:\\\"\\\\F2CF\\\"}.ion-md-color-fill:before{content:\\\"\\\\F2D0\\\"}.ion-md-color-filter:before{content:\\\"\\\\F2D1\\\"}.ion-md-color-palette:before{content:\\\"\\\\F2D2\\\"}.ion-md-color-wand:before{content:\\\"\\\\F2D3\\\"}.ion-md-compass:before{content:\\\"\\\\F2D4\\\"}.ion-md-construct:before{content:\\\"\\\\F2D5\\\"}.ion-md-contact:before{content:\\\"\\\\F2D6\\\"}.ion-md-contacts:before{content:\\\"\\\\F2D7\\\"}.ion-md-contract:before{content:\\\"\\\\F2D8\\\"}.ion-md-contrast:before{content:\\\"\\\\F2D9\\\"}.ion-md-copy:before{content:\\\"\\\\F2DA\\\"}.ion-md-create:before{content:\\\"\\\\F2DB\\\"}.ion-md-crop:before{content:\\\"\\\\F2DC\\\"}.ion-md-cube:before{content:\\\"\\\\F2DD\\\"}.ion-md-cut:before{content:\\\"\\\\F2DE\\\"}.ion-md-desktop:before{content:\\\"\\\\F2DF\\\"}.ion-md-disc:before{content:\\\"\\\\F2E0\\\"}.ion-md-document:before{content:\\\"\\\\F2E1\\\"}.ion-md-done-all:before{content:\\\"\\\\F2E2\\\"}.ion-md-download:before{content:\\\"\\\\F2E3\\\"}.ion-md-easel:before{content:\\\"\\\\F2E4\\\"}.ion-md-egg:before{content:\\\"\\\\F2E5\\\"}.ion-md-exit:before{content:\\\"\\\\F2E6\\\"}.ion-md-expand:before{content:\\\"\\\\F2E7\\\"}.ion-md-eye:before{content:\\\"\\\\F2E9\\\"}.ion-md-eye-off:before{content:\\\"\\\\F2E8\\\"}.ion-md-fastforward:before{content:\\\"\\\\F2EA\\\"}.ion-md-female:before{content:\\\"\\\\F2EB\\\"}.ion-md-filing:before{content:\\\"\\\\F2EC\\\"}.ion-md-film:before{content:\\\"\\\\F2ED\\\"}.ion-md-finger-print:before{content:\\\"\\\\F2EE\\\"}.ion-md-flag:before{content:\\\"\\\\F2EF\\\"}.ion-md-flame:before{content:\\\"\\\\F2F0\\\"}.ion-md-flash:before{content:\\\"\\\\F2F1\\\"}.ion-md-flask:before{content:\\\"\\\\F2F2\\\"}.ion-md-flower:before{content:\\\"\\\\F2F3\\\"}.ion-md-folder:before{content:\\\"\\\\F2F5\\\"}.ion-md-folder-open:before{content:\\\"\\\\F2F4\\\"}.ion-md-football:before{content:\\\"\\\\F2F6\\\"}.ion-md-funnel:before{content:\\\"\\\\F2F7\\\"}.ion-md-game-controller-a:before{content:\\\"\\\\F2F8\\\"}.ion-md-game-controller-b:before{content:\\\"\\\\F2F9\\\"}.ion-md-git-branch:before{content:\\\"\\\\F2FA\\\"}.ion-md-git-commit:before{content:\\\"\\\\F2FB\\\"}.ion-md-git-compare:before{content:\\\"\\\\F2FC\\\"}.ion-md-git-merge:before{content:\\\"\\\\F2FD\\\"}.ion-md-git-network:before{content:\\\"\\\\F2FE\\\"}.ion-md-git-pull-request:before{content:\\\"\\\\F2FF\\\"}.ion-md-glasses:before{content:\\\"\\\\F300\\\"}.ion-md-globe:before{content:\\\"\\\\F301\\\"}.ion-md-grid:before{content:\\\"\\\\F302\\\"}.ion-md-hammer:before{content:\\\"\\\\F303\\\"}.ion-md-hand:before{content:\\\"\\\\F304\\\"}.ion-md-happy:before{content:\\\"\\\\F305\\\"}.ion-md-headset:before{content:\\\"\\\\F306\\\"}.ion-md-heart:before{content:\\\"\\\\F308\\\"}.ion-md-heart-outline:before{content:\\\"\\\\F307\\\"}.ion-md-help:before{content:\\\"\\\\F30B\\\"}.ion-md-help-buoy:before{content:\\\"\\\\F309\\\"}.ion-md-help-circle:before{content:\\\"\\\\F30A\\\"}.ion-md-home:before{content:\\\"\\\\F30C\\\"}.ion-md-ice-cream:before{content:\\\"\\\\F30D\\\"}.ion-md-image:before{content:\\\"\\\\F30E\\\"}.ion-md-images:before{content:\\\"\\\\F30F\\\"}.ion-md-infinite:before{content:\\\"\\\\F310\\\"}.ion-md-information:before{content:\\\"\\\\F312\\\"}.ion-md-information-circle:before{content:\\\"\\\\F311\\\"}.ion-md-ionic:before{content:\\\"\\\\F313\\\"}.ion-md-ionitron:before{content:\\\"\\\\F314\\\"}.ion-md-jet:before{content:\\\"\\\\F315\\\"}.ion-md-key:before{content:\\\"\\\\F316\\\"}.ion-md-keypad:before{content:\\\"\\\\F317\\\"}.ion-md-laptop:before{content:\\\"\\\\F318\\\"}.ion-md-leaf:before{content:\\\"\\\\F319\\\"}.ion-md-link:before{content:\\\"\\\\F22E\\\"}.ion-md-list:before{content:\\\"\\\\F31B\\\"}.ion-md-list-box:before{content:\\\"\\\\F31A\\\"}.ion-md-locate:before{content:\\\"\\\\F31C\\\"}.ion-md-lock:before{content:\\\"\\\\F31D\\\"}.ion-md-log-in:before{content:\\\"\\\\F31E\\\"}.ion-md-log-out:before{content:\\\"\\\\F31F\\\"}.ion-md-magnet:before{content:\\\"\\\\F320\\\"}.ion-md-mail:before{content:\\\"\\\\F322\\\"}.ion-md-mail-open:before{content:\\\"\\\\F321\\\"}.ion-md-male:before{content:\\\"\\\\F323\\\"}.ion-md-man:before{content:\\\"\\\\F324\\\"}.ion-md-map:before{content:\\\"\\\\F325\\\"}.ion-md-medal:before{content:\\\"\\\\F326\\\"}.ion-md-medical:before{content:\\\"\\\\F327\\\"}.ion-md-medkit:before{content:\\\"\\\\F328\\\"}.ion-md-megaphone:before{content:\\\"\\\\F329\\\"}.ion-md-menu:before{content:\\\"\\\\F32A\\\"}.ion-md-mic:before{content:\\\"\\\\F32C\\\"}.ion-md-mic-off:before{content:\\\"\\\\F32B\\\"}.ion-md-microphone:before{content:\\\"\\\\F32D\\\"}.ion-md-moon:before{content:\\\"\\\\F32E\\\"}.ion-md-more:before{content:\\\"\\\\F1C9\\\"}.ion-md-move:before{content:\\\"\\\\F331\\\"}.ion-md-musical-note:before{content:\\\"\\\\F332\\\"}.ion-md-musical-notes:before{content:\\\"\\\\F333\\\"}.ion-md-navigate:before{content:\\\"\\\\F334\\\"}.ion-md-no-smoking:before{content:\\\"\\\\F335\\\"}.ion-md-notifications:before{content:\\\"\\\\F338\\\"}.ion-md-notifications-off:before{content:\\\"\\\\F336\\\"}.ion-md-notifications-outline:before{content:\\\"\\\\F337\\\"}.ion-md-nuclear:before{content:\\\"\\\\F339\\\"}.ion-md-nutrition:before{content:\\\"\\\\F33A\\\"}.ion-md-open:before{content:\\\"\\\\F33B\\\"}.ion-md-options:before{content:\\\"\\\\F33C\\\"}.ion-md-outlet:before{content:\\\"\\\\F33D\\\"}.ion-md-paper:before{content:\\\"\\\\F33F\\\"}.ion-md-paper-plane:before{content:\\\"\\\\F33E\\\"}.ion-md-partly-sunny:before{content:\\\"\\\\F340\\\"}.ion-md-pause:before{content:\\\"\\\\F341\\\"}.ion-md-paw:before{content:\\\"\\\\F342\\\"}.ion-md-people:before{content:\\\"\\\\F343\\\"}.ion-md-person:before{content:\\\"\\\\F345\\\"}.ion-md-person-add:before{content:\\\"\\\\F344\\\"}.ion-md-phone-landscape:before{content:\\\"\\\\F346\\\"}.ion-md-phone-portrait:before{content:\\\"\\\\F347\\\"}.ion-md-photos:before{content:\\\"\\\\F348\\\"}.ion-md-pie:before{content:\\\"\\\\F349\\\"}.ion-md-pin:before{content:\\\"\\\\F34A\\\"}.ion-md-pint:before{content:\\\"\\\\F34B\\\"}.ion-md-pizza:before{content:\\\"\\\\F354\\\"}.ion-md-plane:before{content:\\\"\\\\F355\\\"}.ion-md-planet:before{content:\\\"\\\\F356\\\"}.ion-md-play:before{content:\\\"\\\\F357\\\"}.ion-md-podium:before{content:\\\"\\\\F358\\\"}.ion-md-power:before{content:\\\"\\\\F359\\\"}.ion-md-pricetag:before{content:\\\"\\\\F35A\\\"}.ion-md-pricetags:before{content:\\\"\\\\F35B\\\"}.ion-md-print:before{content:\\\"\\\\F35C\\\"}.ion-md-pulse:before{content:\\\"\\\\F35D\\\"}.ion-md-qr-scanner:before{content:\\\"\\\\F35E\\\"}.ion-md-quote:before{content:\\\"\\\\F35F\\\"}.ion-md-radio:before{content:\\\"\\\\F362\\\"}.ion-md-radio-button-off:before{content:\\\"\\\\F360\\\"}.ion-md-radio-button-on:before{content:\\\"\\\\F361\\\"}.ion-md-rainy:before{content:\\\"\\\\F363\\\"}.ion-md-recording:before{content:\\\"\\\\F364\\\"}.ion-md-redo:before{content:\\\"\\\\F365\\\"}.ion-md-refresh:before{content:\\\"\\\\F366\\\"}.ion-md-refresh-circle:before{content:\\\"\\\\F228\\\"}.ion-md-remove:before{content:\\\"\\\\F368\\\"}.ion-md-remove-circle:before{content:\\\"\\\\F367\\\"}.ion-md-reorder:before{content:\\\"\\\\F369\\\"}.ion-md-repeat:before{content:\\\"\\\\F36A\\\"}.ion-md-resize:before{content:\\\"\\\\F36B\\\"}.ion-md-restaurant:before{content:\\\"\\\\F36C\\\"}.ion-md-return-left:before{content:\\\"\\\\F36D\\\"}.ion-md-return-right:before{content:\\\"\\\\F36E\\\"}.ion-md-reverse-camera:before{content:\\\"\\\\F36F\\\"}.ion-md-rewind:before{content:\\\"\\\\F370\\\"}.ion-md-ribbon:before{content:\\\"\\\\F371\\\"}.ion-md-rose:before{content:\\\"\\\\F372\\\"}.ion-md-sad:before{content:\\\"\\\\F373\\\"}.ion-md-school:before{content:\\\"\\\\F374\\\"}.ion-md-search:before{content:\\\"\\\\F375\\\"}.ion-md-send:before{content:\\\"\\\\F376\\\"}.ion-md-settings:before{content:\\\"\\\\F377\\\"}.ion-md-share:before{content:\\\"\\\\F379\\\"}.ion-md-share-alt:before{content:\\\"\\\\F378\\\"}.ion-md-shirt:before{content:\\\"\\\\F37A\\\"}.ion-md-shuffle:before{content:\\\"\\\\F37B\\\"}.ion-md-skip-backward:before{content:\\\"\\\\F37C\\\"}.ion-md-skip-forward:before{content:\\\"\\\\F37D\\\"}.ion-md-snow:before{content:\\\"\\\\F37E\\\"}.ion-md-speedometer:before{content:\\\"\\\\F37F\\\"}.ion-md-square:before{content:\\\"\\\\F381\\\"}.ion-md-square-outline:before{content:\\\"\\\\F380\\\"}.ion-md-star:before{content:\\\"\\\\F384\\\"}.ion-md-star-half:before{content:\\\"\\\\F382\\\"}.ion-md-star-outline:before{content:\\\"\\\\F383\\\"}.ion-md-stats:before{content:\\\"\\\\F385\\\"}.ion-md-stopwatch:before{content:\\\"\\\\F386\\\"}.ion-md-subway:before{content:\\\"\\\\F387\\\"}.ion-md-sunny:before{content:\\\"\\\\F388\\\"}.ion-md-swap:before{content:\\\"\\\\F389\\\"}.ion-md-switch:before{content:\\\"\\\\F38A\\\"}.ion-md-sync:before{content:\\\"\\\\F38B\\\"}.ion-md-tablet-landscape:before{content:\\\"\\\\F38C\\\"}.ion-md-tablet-portrait:before{content:\\\"\\\\F38D\\\"}.ion-md-tennisball:before{content:\\\"\\\\F38E\\\"}.ion-md-text:before{content:\\\"\\\\F38F\\\"}.ion-md-thermometer:before{content:\\\"\\\\F390\\\"}.ion-md-thumbs-down:before{content:\\\"\\\\F391\\\"}.ion-md-thumbs-up:before{content:\\\"\\\\F392\\\"}.ion-md-thunderstorm:before{content:\\\"\\\\F393\\\"}.ion-md-time:before{content:\\\"\\\\F394\\\"}.ion-md-timer:before{content:\\\"\\\\F395\\\"}.ion-md-train:before{content:\\\"\\\\F396\\\"}.ion-md-transgender:before{content:\\\"\\\\F397\\\"}.ion-md-trash:before{content:\\\"\\\\F398\\\"}.ion-md-trending-down:before{content:\\\"\\\\F399\\\"}.ion-md-trending-up:before{content:\\\"\\\\F39A\\\"}.ion-md-trophy:before{content:\\\"\\\\F39B\\\"}.ion-md-umbrella:before{content:\\\"\\\\F39C\\\"}.ion-md-undo:before{content:\\\"\\\\F39D\\\"}.ion-md-unlock:before{content:\\\"\\\\F39E\\\"}.ion-md-videocam:before{content:\\\"\\\\F39F\\\"}.ion-md-volume-down:before{content:\\\"\\\\F3A0\\\"}.ion-md-volume-mute:before{content:\\\"\\\\F3A1\\\"}.ion-md-volume-off:before{content:\\\"\\\\F3A2\\\"}.ion-md-volume-up:before{content:\\\"\\\\F3A3\\\"}.ion-md-walk:before{content:\\\"\\\\F3A4\\\"}.ion-md-warning:before{content:\\\"\\\\F3A5\\\"}.ion-md-watch:before{content:\\\"\\\\F3A6\\\"}.ion-md-water:before{content:\\\"\\\\F3A7\\\"}.ion-md-wifi:before{content:\\\"\\\\F3A8\\\"}.ion-md-wine:before{content:\\\"\\\\F3A9\\\"}.ion-md-woman:before{content:\\\"\\\\F3AA\\\"}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./css/ionicons.min.css\n ** module id = 309\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"bdf1d30681cf87986c385eea78e8de9a.eot\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./fonts/ionicons.eot?v=3.0.0-alpha.3\n ** module id = 310\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"311d81961c5880647fec7eaca1221b2a.woff2\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./fonts/ionicons.woff2?v=3.0.0-alpha.3\n ** module id = 311\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"81414686e99c00d2921e03dd53c0ab04.woff\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./fonts/ionicons.woff?v=3.0.0-alpha.3\n ** module id = 312\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"74c652671225d6ded874a648502e5f0a.ttf\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./fonts/ionicons.ttf?v=3.0.0-alpha.3\n ** module id = 313\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"d9496a234c81179afbca6bf5959cc30a.svg\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./fonts/ionicons.svg?v=3.0.0-alpha.3\n ** module id = 314\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./styles.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./styles.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./styles.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./css/styles.css\n ** module id = 315\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"fieldset{border:0}input[type=file],input[type=text]{border:none;font-size:18px;padding-bottom:10px}input:focus,textarea:focus{outline:none}.react-datepicker__input-container input{background:transparent}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./css/styles.css\n ** module id = 316\n ** module chunks = 0\n **/","import ReactNative from 'react-native'\nconst noop = () => {}\nconst noopWithRemove = () => {\n  return { remove: noop }\n}\n\nReactNative.DeviceEventEmitter = {\n  addListener: noopWithRemove,\n  removeSubscription: noop,\n  removeAllListeners: noop\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./web/shims/deviceEventEmitter.js\n **/","\nimport { NativeModules } from 'react-native'\nconst noop = () => {}\nconst orientation = 'LANDSCAPE'\n\nNativeModules.Orientation = {\n  initialOrientation: orientation,\n  getOrientation: cb => process.nextTick(() => cb(null, orientation)),\n  getSpecificOrientation: cb => process.nextTick(() => cb(null, orientation)),\n  // addOrientationListener: noop,\n  // removeOrientationListener: noop,\n  lockToPortrait: noop,\n  lockToLandscape: noop,\n  lockToLandscapeLeft: noop,\n  lockToLandscapeRight: noop,\n  unlockAllOrientations: noop\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./web/shims/orientation.js\n **/","'use strict'\n\n// import './utils/logAll'\n// import './utils/perf'\n\n// see issue: https://github.com/facebook/react-native/issues/6227\ntry {\n  var NativeAppEventEmitter = require('RCTNativeAppEventEmitter')\n} catch (err) {}\n\nrequire('babel-polyfill')\n\n// require('react-native-level')\nimport Debug from './utils/debug'\nvar debug = Debug('tradle:app')\nvar perfDebug = Debug('perf')\n\n// require('regenerator/runtime') // support es7.asyncFunctions\nimport './utils/shim'\nimport './utils/crypto'\nimport 'stream'\n\n// require('./timmy')\n\n// require('ErrorUtils').setGlobalHandler(function (e, isFatal) {\n//   Alert.alert(e.stack)\n//   console.error('Failed to handle error:')\n//   console.error(e)\n//   if (__DEV__) throw e\n// })\n// var DashboardView = require('./Components/DashboardView')\nvar ResourceList = require('./Components/ResourceList');\nvar VideoPlayer = require('./Components/VideoPlayer')\nvar EnumList = require('./Components/EnumList')\n// var GridList = require('./Components/GridList');\nvar TimHome = require('./Components/TimHome');\nvar PasswordCheck = require('./Components/PasswordCheck');\nvar TouchIDOptIn = require('./Components/TouchIDOptIn');\nvar ResourceTypesScreen = require('./Components/ResourceTypesScreen');\nvar NewResource = require('./Components/NewResource');\nvar NewItem = require('./Components/NewItem');\nvar ItemsList = require('./Components/ItemsList')\nvar GridItemsList = require('./Components/GridItemsList')\nvar ResourceView = require('./Components/ResourceView');\nvar MessageView = require('./Components/MessageView');\nvar MessageList = require('./Components/MessageList');\nvar ArticleView = require('./Components/ArticleView');\nvar IdentitiesList = require('./Components/IdentitiesList');\n// var SelectPhotoList = require('./Components/SelectPhotoList');\nvar ProductChooser = require('./Components/ProductChooser')\nvar CameraView = require('./Components/CameraView');\nvar PhotoCarousel = require('./Components/PhotoCarousel');\nvar QRCode = require('./Components/QRCode')\nvar QRCodeScanner = require('./Components/QRCodeScanner')\nvar utils = require('./utils/utils');\nvar translate = utils.translate\nvar constants = require('@tradle/constants');\nvar Icon = require('react-native-vector-icons/Ionicons');\nvar Actions = require('./Actions/Actions');\nimport * as AutomaticUpdates from './utils/automaticUpdates';\nimport { signIn } from './utils/localAuth'\n\nvar reactMixin = require('react-mixin');\nimport {\n  Navigator,\n  Image,\n  View,\n  TouchableOpacity,\n  StyleSheet,\n  Alert,\n  StatusBar,\n  // StatusBar,\n  Platform,\n  // Linking,\n  AppState,\n  AppRegistry,\n  Text\n} from 'react-native';\n\nimport Orientation from 'react-native-orientation'\nimport platformStyles from './styles/platform'\nimport Transitions from './utils/transitions'\n\nlet originalGetDefaultProps = Text.getDefaultProps;\nText.defaultProps = function() {\n  return {\n    ...originalGetDefaultProps(),\n    allowFontScaling: false,\n  };\n};\n\nimport React, { Component } from 'react'\nimport Push from './utils/push'\nimport Navs from './utils/navs'\n\nvar ReactPerf = __DEV__ && require('react-addons-perf')\nvar UNAUTHENTICATE_AFTER_BG_MILLIS = require('./utils/localAuth').TIMEOUT\n\nclass TiMApp extends Component {\n  constructor(props) {\n    super(props)\n    var props = {\n      modelName: constants.TYPES.PROFILE\n    }\n    this.state = {\n      currentAppState: 'active',\n      dateAppStateChanged: Date.now(),\n      initialRoute: {\n        id: 1,\n        // title: 'Trust in Motion',\n        // titleTextColor: '#7AAAC3',\n        component: TimHome,\n        passProps: props,\n      },\n      props: props\n    };\n    // var url = 'tradlekyc://71e4b7cd6c11ab7221537275988f113a879029ea';\n    // this._handleOpenURL({url});\n    // var isIphone = Device.isIphone();\n    // if (!isIphone)\n    //   isIphone = isIphone;\n\n    ;['_handleOpenURL', '_handleAppStateChange', 'onNavigatorBeforeTransition', 'onNavigatorAfterTransition'].forEach((method) => {\n      this[method] = this[method].bind(this)\n    })\n  }\n\n  componentDidMount() {\n    AutomaticUpdates.on()\n    if (AppState) AppState.addEventListener('change', this._handleAppStateChange);\n    // Linking.addEventListener('url', this._handleOpenURL);\n    // var url = Linking.popInitialURL();\n    // if (url)\n    //   this._handleOpenURL({url});\n  }\n  componentWillUnmount() {\n    if (AppState) AppState.removeEventListener('change', this._handleAppStateChange);\n    // Linking.removeEventListener('url', this._handleOpenURL);\n    this._navListeners.forEach((listener) => listener.remove())\n  }\n  _handleAppStateChange(currentAppState) {\n    // TODO:\n    // Actions.appState(currentAppState)\n    // and check if authentication expired in store\n\n    let dateAppStateChanged = Date.now()\n    let lastDateAppStateChanged = this.state.dateAppStateChanged\n    let newState = { currentAppState, dateAppStateChanged }\n    let me = utils.getMe()\n\n    switch (currentAppState) {\n      case 'inactive':\n        return\n      case 'active':\n        AutomaticUpdates.hasUpdate().then(has => {\n          if (has) return AutomaticUpdates.install()\n\n          Push.resetBadgeNumber()\n          if (this.state.currentAppState === 'active') return\n\n          clearTimeout(this.state.unauthTimeout)\n          // ok to pop from defensive copy\n\n          AutomaticUpdates.sync()\n          this.setState(newState)\n        })\n\n        return\n      case 'background':\n        // const nonAuthRoute = utils.getTopNonAuthRoute(this.state.navigator)\n        // this.state.navigator.popToRoute(nonAuthRoute)\n        newState.unauthTimeout = setTimeout(() => {\n          if (!me || !me.isRegistered) return\n\n          Actions.setAuthenticated(false)\n          Actions.start()\n          // TODO: auth flow should not be here OR in TimHome\n          // it should be more like Actions.auth()\n          // and then handled in one place\n        }, UNAUTHENTICATE_AFTER_BG_MILLIS)\n\n        break\n    }\n\n    this.setState(newState)\n  }\n  _handleOpenURL(event) {\n    var url = event.url.trim();\n    var idx = url.indexOf('://');\n    var q = (idx + 3 === url.length) ? null : url.substring(idx + 3);\n\n    var r;\n    if (!q) {\n      r = {\n        _t: 'tradle.Organization',\n        _r: '0191ef415aa2ec76fb8ec8760b55112cadf573bc',\n        name: 'HSBC',\n        me: 'me'\n      }\n    }\n    else {\n      var params = q.split('=');\n      if (params.length === 1) {\n        switch (parseInt(params[0])) {\n        case 1:\n          r = {\n            _t: 'tradle.Organization',\n            _r: '96e460ca282d62e41d4b59c85b212d102d7a5a6e',\n            name: 'Lloyds',\n            me: 'me'\n          }\n          break;\n        case 2:\n          r = {\n            _t: 'tradle.Organization',\n            _r: '0191ef415aa2ec76fb8ec8760b55112cadf573bc',\n            name: 'HSBC',\n            me: '31eb0b894cad3601adc76713d55a11c88e48b4a2'\n          }\n          break;\n        case 3:\n          r = {\n            _t: 'tradle.Organization',\n            _r: '96e460ca282d62e41d4b59c85b212d102d7a5a6e',\n            name: 'Lloyds',\n            me: 'b25da36eaf4b01b37fc2154cb1103eb5324a12345'\n          }\n          break;\n        }\n      }\n      else {\n        r = JSON.parse(decodeURIComponent(params[1]));\n        if (!r[constants.TYPE])\n          r[constants.TYPE] = 'tradle.Organization';\n      }\n    }\n    var props = {modelName: 'tradle.Message'};\n\n    if (this.state.navigator) {\n      var currentRoutes = this.state.navigator.getCurrentRoutes();\n      var route = {\n        title: r.name ||  'Chat',\n        backButtonTitle: 'Back',\n        component: MessageList,\n        id: 11,\n        passProps: {\n          resource: r, //{'_t': type, '_r': rId},\n          modelName: 'tradle.Message',\n          // prop: prop\n        }\n      }\n      if (currentRoutes.length === 1)\n        this.state.navigator.push(route);\n      else\n        this.state.navigator.replace(route);\n    }\n    else {\n      this.setState({\n        initialRoute: {\n          title: r.name ||  'Chat',\n          // backButtonTitle: 'Back',\n          component: MessageList,\n          id: 11,\n          passProps: {\n            resource: r, //{'_t': type, '_r': rId},\n            modelName: 'tradle.Message',\n            // prop: prop\n          }\n        },\n        props: props\n      });\n    }\n  }\n\n  onNavigatorBeforeTransition(e) {\n    if (ReactPerf) ReactPerf.start()\n\n    Actions.startTransition()\n  }\n\n  onNavigatorAfterTransition() {\n    if (ReactPerf) {\n      setTimeout(function () {\n        ReactPerf.stop()\n        ReactPerf.printWasted()\n      }, 500)\n    }\n\n    Actions.endTransition()\n  }\n\n  _lockToPortrait() {\n    if (!this._lockedOrientation) {\n      this._lockedOrientation = true\n      Orientation.lockToPortrait()\n    }\n  }\n\n  _unlockOrientation() {\n    if (this._lockedOrientation) {\n      this._lockedOrientation = false\n      Orientation.unlockAllOrientations()\n    }\n  }\n\n  render() {\n            // style={{ position: 'absolute', left: 300}}\n    var nav = (\n      <Navigator\n        style={styles.container}\n        initialRoute={this.state.initialRoute}\n        renderScene={this.renderScene.bind(this)}\n        navigationBar={\n          <Navigator.NavigationBar\n            routeMapper={NavigationBarRouteMapper}\n          />\n        }\n        passProps={this.state.props}\n        configureScene={(route) => {\n          if (!utils.isWeb() && route.sceneConfig)\n            return route.sceneConfig;\n\n          const config = utils.isWeb()\n            ? Transitions.NONE\n            : {...Navigator.SceneConfigs.FloatFromRight, springFriction:26, springTension:200}\n\n          if (route.component === PasswordCheck) {\n            config.gestures = {}\n          }\n\n          return config\n        }}\n        />\n    );\n\n    return nav\n  }\n          // return {...Navigator.SceneConfigs.FloatFromRight, springFriction:26, springTension:300};\n\n  renderScene(route, nav) {\n    if (route.id === 1 || route.id === 20  ||  (!utils.getMe()  ||  !utils.getMe().isRegistered  &&  route.id === 4)) {\n      this._lockToPortrait()\n    } else {\n      this._unlockOrientation()\n    }\n\n    if (__DEV__) {\n      let displayName = route.component.displayName\n      if (!displayName) {\n        if (typeof route.component === 'function') {\n          displayName = route.component.name || route.component.toString().match(/function (.*?)\\s*\\(/)[1]\n        }\n      }\n\n      // if (!displayName || displayName === 'exports') debugger\n\n      debug('navigating to ' + displayName)\n    }\n\n    var props = route.passProps;\n    if (!this.state.navigator) {\n      this._navListeners = [\n        nav.navigationContext.addListener('willfocus', this.onNavigatorBeforeTransition),\n        nav.navigationContext.addListener('didfocus', this.onNavigatorAfterTransition)\n      ]\n\n      this.state.navigator = nav;\n      Navs.watch(nav)\n    }\n\n    switch (route.id) {\n    case 1:\n      return <TimHome navigator={nav} {...props}/>;\n    case 2:\n      return <ResourceTypesScreen navigator={nav}\n                  modelName={props.modelName}\n                  resource={props.resource}\n                  returnRoute={props.returnRoute}\n                  sendForm={props.sendForm}\n                  callback={props.callback} />;\n    case 3:\n      return <ResourceView navigator={nav} {...props } />\n    case 4:\n      return <NewResource navigator={nav} {...props } />\n    case 5:\n      return <MessageView navigator={nav} {...props} />\n    case 6:\n      return <NewItem navigator={nav} {...props} />\n    case 7:\n      return <ArticleView navigator={nav} url={props.url} />;\n    case 8:\n      return <IdentitiesList navigator={nav}\n                  filter={props.filter}\n                  list={props.list}\n                  callback={props.callback}\n                  modelName={props.modelName} />;\n    case 9:\n      return <ItemsList navigator={nav} {...props} />\n    case 11:\n      return <MessageList navigator={nav} {...props} />\n    case 12:\n      return <CameraView navigator={nav} {...props}/>\n      // <CameraView navigator={nav}\n      //             onTakePic={props.onTakePic}\n      //             resource={props.resource}\n      //             prop={props.prop}/>\n    // case 13:\n    //   return <SelectPhotoList\n    //             metadata={props.metadata}\n    //             style={styles.style}\n    //             navigator={props.navigator}\n    //             onSelect={props.onSelect}\n    //             onSelectingEnd={props.onSelectingEnd} />\n\n    case 14:\n      return <PhotoCarousel {...props} />\n    // case 15:\n    //   return <GridList navigator={nav}\n    //               filter={props.filter}\n    //               resource={props.resource}\n    //               prop={props.prop}\n    //               returnRoute={props.returnRoute}\n    //               callback={props.callback}\n    //               isAggregation={props.isAggregation}\n    //               sortProperty={props.sortProperty}\n    //               modelName={props.modelName} />;\n    case 15:\n      return <ProductChooser navigator={nav} {...props} />\n    case 16:\n      return <QRCodeScanner navigator={nav}\n                onread={props.onread} />\n    case 17:\n      return <QRCode navigator={nav}\n                content={props.content}\n                fullScreen={props.fullScreen}\n                dimension={props.dimension} />\n    // case 18:\n      // return <VideoPlayer {...props} />\n    case 19:\n      return <GridItemsList navigator={nav} {...props} />\n    case 20:\n      return <PasswordCheck navigator={nav} {...props} />\n    case 21:\n      return <TouchIDOptIn navigator={nav} { ...props } />\n    case 22:\n      return <EnumList navigator={nav} { ...props } />\n    // case 23:\n    //   return <DashboardView navigator={nav} { ...props } />\n    case 10:\n    default: // 10\n      return <ResourceList navigator={nav} {...props} />\n    }\n  }\n}\n\nvar HIT_SLOP = {top:10,right:10,bottom:10,left:10}\nvar NavigationBarRouteMapper = {\n  LeftButton: function(route, navigator, index, navState) {\n    if (index === 0  ||  route.noLeftButton)\n      return <View/>\n\n    var color = '#7AAAC3'\n    if (route.passProps.bankStyle  &&  route.passProps.bankStyle.LINK_COLOR)\n      color = route.passProps.bankStyle.LINK_COLOR\n\n    var previousRoute = navState.routeStack[index - 1];\n    var lbTitle = 'backButtonTitle' in route ? route.backButtonTitle : previousRoute.title;\n    if (!lbTitle)\n      return null;\n    var style = [platformStyles.navBarText];\n    if (route.tintColor)\n      style.push(route.tintColor);\n    else {\n      style.push(styles.navBarButtonText);\n      var st = {color: color}\n      style.push(st);\n    }\n    style.push({fontSize: utils.getFontSize(17)})\n    var title = lbTitle.indexOf('|') == -1\n              ? <Text style={style}>\n                  {lbTitle}\n                </Text>\n              : <Icon name={lbTitle.substring(4)} size={20} color='#7AAAC3' style={styles.icon}/>;\n    if (route.component === ResourceList  &&  index === 1 &&  navigator.getCurrentRoutes().length === 2)\n      Actions.cleanup()\n\n    let status = <View/>\n    return (\n      <TouchableOpacity\n        hitSlop={HIT_SLOP}\n        onPress={() => navigator.pop()}>\n        <View style={styles.navBarLeftButton}>\n          {status}\n          {title}\n        </View>\n      </TouchableOpacity>\n      )\n  },\n  RightButton: function(route, navigator, index, navState) {\n    if (!route.rightButtonTitle)\n      return <View/>\n    var style = [platformStyles.navBarText, styles.navBarButtonText];\n    if (route.tintColor)\n      style.push({color: route.tintColor});\n    else if (route.passProps.bankStyle)\n      style.push({color: route.passProps.bankStyle.LINK_COLOR || '#7AAAC3'})\n    style.push({fontSize: utils.getFontSize(17)})\n    var title\n    if (route.rightButtonTitle.indexOf('|') == -1)\n      title =  <Text style={style}>\n                  {route.rightButtonTitle}\n               </Text>\n    else {\n      let iconsList = route.rightButtonTitle.split('|')\n      let icons = []\n      iconsList.forEach((i) => {\n        icons.push(<Icon name={i} key={i} size={20} color='#7AAAC3' style={styles.iconSpace} />)\n      })\n\n      title = <View>\n               {icons}\n              </View>\n    }\n    return (\n      <View style={{position: 'absolute', right: 0, flexDirection: 'row'}}>\n      {route.help\n        ? <TouchableOpacity\n            hitSlop={HIT_SLOP}\n            onPress={() =>  Alert.alert(translate(route.help))}>\n            <Icon name={'ios-information-circle'} key={'ios-help'} size={20} color='#29ABE2' style={[styles.iconSpace, {marginTop: 5}]}/>\n          </TouchableOpacity>\n        : <View />\n      }\n      <TouchableOpacity\n        hitSlop={HIT_SLOP}\n        onPress={() => {\n                  // 'Done' button case for creating new resources\n                  if (typeof route.onRightButtonPress === 'function') {\n                    route.onRightButtonPress()\n                  }\n                  else if (route.onRightButtonPress.stateChange) {\n                    if (route.onRightButtonPress.before)\n                      route.onRightButtonPress.before();\n                    route.onRightButtonPress.stateChange();\n                    if (route.onRightButtonPress.after)\n                      route.onRightButtonPress.after();\n                  }\n                  else\n                    navigator.push(route.onRightButtonPress)\n               }\n        }>\n        <View style={[styles.navBarRightButton, route.help ? {paddingLeft: 5} : {paddingLeft: 25}]}>\n          {title}\n        </View>\n      </TouchableOpacity>\n      </View>\n    );\n  },\n\n  Title: function(route, navigator, index, navState) {\n    if (!route.title)\n      return <View/>\n    var org;\n    if (route.passProps.modelName                       &&\n        route.passProps.modelName === 'tradle.Message'  &&\n        route.passProps.resource.organization           &&\n        route.passProps.resource                        &&\n        route.passProps.resource[constants.TYPE] === constants.TYPES.PROFILE)\n          // if (route.passProps.resource.organization  &&  route.passProps.resource.organization.photo)\n          //   org = <Image source={{uri: route.passProps.resource.organization.photo}} style={styles.orgImage} />\n          // if (route.passProps.resource.organization)\n      org = <Text style={style}> - {route.passProps.resource.organization.title}</Text>\n    else\n      org = <View />;\n\n    var style = [platformStyles.navBarText, styles.navBarTitleText];\n    if (route.titleTextColor)\n      style.push({color: route.titleTextColor});\n    return (\n      <View>\n        <Text style={style}>\n          {route.title}\n        </Text>\n        {org}\n      </View>\n    );\n  },\n\n};\n\nvar styles = StyleSheet.create({\n  icon: {\n    width: 20,\n    height: 20,\n  },\n  iconSpace:  {\n    paddingLeft: 3\n  },\n  container: {\n    flex: 1,\n  },\n  navBarTitleText: {\n    color: '#2E3B4E',\n    fontWeight: '400',\n    fontSize: utils.getFontSize(17),\n  },\n  navBarLeftButton: {\n    paddingLeft: 10,\n    paddingRight: 25,\n  },\n  navBarRightButton: {\n    paddingLeft: 25,\n    paddingRight: 10,\n  },\n  navBarButtonText: {\n    color: '#7AAAC3',\n  },\n});\n\nAppRegistry.registerComponent('Tradle', () => TiMApp)\n\n  // render() {\n  //   var props = {db: this.state.db};\n  //   return (\n  //     <Navigator\n  //       style={styles.container}\n  //       initialRoute={{\n  //         id: 1,\n  //         title: 'Identity Finder',\n  //         backButtonTitle: 'Back',\n  //         titleTextColor: '#2E3B4E',\n  //         component: SearchPage,\n  //         passProps: {db: this.state.db},\n  //       }}\n  //       renderScene={this.renderScene}\n  //       passProps={props}\n  //       configureScene={(route) => {\n  //         if (route.sceneConfig) {\n  //           return route.sceneConfig;\n  //         }\n  //         return Navigator.SceneConfigs.FloatFromBottom;\n  //       }}\n  //     />\n  //   );\n  // }\n  // componentDidMount() {\n  //   var self = this;\n  //   var db = this.state.db;\n  // dbHasResources = false;\n    // db.createReadStream({limit: 1})\n    //   .on('data', function (data) {\n    //     var m = data.value;\n    //     dbHasResources = true;\n    //     utils.loadModelsAndMe(db, models)\n    //     .then(function(results) {\n    //       self.state.isLoading = false;\n    //     });\n    //   })\n    //   .on('error', function (err) {\n    //     console.log('Oh my!', err.name + \": \" + err.message);\n    //   })\n    //   .on('close', function (err) {\n    //     console.log('Stream closed');\n    //   })\n    //   .on('end', function () {\n    //     console.log('Stream end');\n    //     if (!dbHasResources)\n    //       utils.loadDB(db);\n    //   });\n    // }\n\n\n  // componentDidMount() {\n  //   var self = this;\n  //   var db = utils.getDb();\n  //   var dbHasResources = false;\n  //   db.createReadStream({limit: 1})\n  //     .on('data', function (data) {\n  //       var m = data.value;\n  //       dbHasResources = true;\n  //       utils.loadModelsAndMe(db, models)\n  //       .then(function(results) {\n  //         self.state.isLoading = false;\n  //       });\n  //     })\n  //     .on('error', function (err) {\n  //       console.log('Oh my!', err.name + \": \" + err.message);\n  //     })\n  //     .on('close', function (err) {\n  //       console.log('Stream closed');\n  //     })\n  //     .on('end', function () {\n  //       console.log('Stream end');\n  //       if (!dbHasResources)\n  //         utils.loadDB(db);\n  //     });\n  //   }\n\n  // componentDidMount1() {\n  //   var self = this;\n  //   var db = this.state.db;\n  //   this.loadModels(db, models)\n  //   .then(function() {\n  //     AddressBook.checkPermission((err, permission) => {\n  //       // AddressBook.PERMISSION_AUTHORIZED || AddressBook.PERMISSION_UNDEFINED || AddressBook.PERMISSION_DENIED\n  //       if(permission === AddressBook.PERMISSION_UNDEFINED){\n  //         AddressBook.requestPermission((err, permission) => {\n  //           self.storeContacts()\n  //         })\n  //       }\n  //       else if(permission === AddressBook.PERMISSION_AUTHORIZED){\n  //         self.storeContacts()\n  //       }\n  //       else if(permission === AddressBook.PERMISSION_DENIED){\n  //         //handle permission denied\n  //       }\n  //     })\n  //   });\n  // }\n  // storeContacts() {\n  //   var self = this;\n  //   AddressBook.getContacts(function(err, contacts) {\n  //     self.props.db.createReadStream()\n  //     .on('data', function(data) {\n  //       if (data.key.indexOf(IDENTITY_MODEL + '_') == -1)\n  //         return;\n  //     })\n  //     .on('close', function() {\n  //       console.log('Stream closed');\n  //       return me;\n  //     })\n  //     .on('end', function() {\n  //       console.log('Stream ended');\n  //     })\n  //     .on('error', function(err) {\n  //       console.log('err: ' + err);\n  //     });\n  //     console.log(contacts)\n  //   })\n  // }\n// The LATEST\n\n  // render() {\n  //   return (\n  //     <NavigatorIOS\n  //       style={styles.container}\n  //       barTintColor='#D7E6ED'\n  //       tintColor='#7AAAC3'\n  //       initialRoute={{\n  //         title: 'Trust in Motion',\n  //         backButtonTitle: 'Back',\n  //         titleTextColor: '#3f4c5f',\n  //         component: SearchPage,\n  //         passProps: {modelName: IDENTITY_MODEL},\n  //       }}/>\n  //   );\n  // }\n  // render1() {\n  //   if (this.state.isLoading)\n  //     return <View></View>;\n  //   var passProps = {\n  //     filter: '',\n  //     models: models,\n  //     modelName: IDENTITY_MODEL,\n  //   };\n  //   if (this.state.me) {\n  //     passProps.me = this.state.me;\n  //     return <NavigatorIOS\n  //       style={styles.container}\n  //       barTintColor='#D7E6ED'\n  //       tintColor='#7AAAC3'\n  //       initialRoute={{\n  //         title: 'All Contacts',\n  //         titleTextColor: '#7AAAC3',\n  //         component: ResourceList,\n  //         passProps: passProps\n  //       }} />\n  //   }\n  //   else {\n  //     var metadata = models[IDENTITY_MODEL].value;\n  //     var page = {\n  //       metadata: metadata,\n  //       models: models,\n  //       db: this.state.db,\n  //     };\n\n  //     return (\n  //       <NavigatorIOS\n  //         style={styles.container}\n  //         barTintColor='#D7E6ED'\n  //         tintColor='#7AAAC3'\n  //         initialRoute={{\n  //           title: 'Sign Up',\n  //           backButtonTitle: 'Back',\n  //           titleTextColor: '#7AAAC3',\n  //           component: NewResource,\n  //           passProps: {page: page},\n  //         }}/>\n  //     );\n  //   }\n  // }\n\n\n\n/** WEBPACK FOOTER **\n ** ./index.common.js\n **/","\nconst debug = require('debug')\nif (__DEV__) {\n  console.ignoredYellowBox = ['jsSchedulingOverhead']\n  debug.enable([\n    'tradle:*',\n    'sendy*'\n  ].join(','))\n} else {\n  debug.disable()\n}\n\nmodule.exports = debug\n\n\n\n/** WEBPACK FOOTER **\n ** ./utils/debug.js\n **/","require('promise.prototype.finally').shim()\n\nimport { Platform } from 'react-native'\n\nif (Platform.OS !== 'web') {\n  if (typeof __dirname === 'undefined') global.__dirname = '/'\n  if (typeof __filename === 'undefined') global.__filename = ''\n  if (typeof process === 'undefined') {\n    global.process = require('process')\n  } else {\n    var bProcess = require('process')\n    for (var p in bProcess) {\n      if (!(p in process)) {\n        process[p] = bProcess[p]\n      }\n    }\n  }\n  try {\n    window.navigator.userAgent = 'react-native'\n  } catch (err) {\n    // must be read-only\n  }\n\n  process.browser = false\n  process.env['NODE_ENV'] = __DEV__ ? 'development' : 'production'\n\n  if (typeof btoa === 'undefined') global.btoa = require('btoa')\n\n  require('debug').formatters.j = require('json-stringify-safe')\n\n  // global.location = global.location || { port: 80 }\n}\n\nif (typeof localStorage !== 'undefined') {\n  localStorage.debug = __DEV__ ? 'tradle:*' : ''\n}\n\nprocess.on('exit', cleanup)\nprocess.on('SIGINT', cleanup)\nprocess.on('SIGTERM', cleanup)\nprocess.on('uncaughtException', function (err) {\n  console.log('Uncaught exception, caught in process catch-all: ' + err.message)\n  console.log(err.stack)\n})\n\nif (typeof global.Buffer === 'undefined') {\n  global.Buffer = require('buffer').Buffer\n}\n\nfunction cleanup (err) {\n  console.log('cleanup', arguments)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./utils/shim.js\n **/","\n// important that this comes before require('crypto')\nconst algos = require('browserify-sign/algos')\nif (!algos.sha256) {\n  algos.sha256 = {\n    \"sign\": \"ecdsa\",\n    \"hash\": \"sha256\",\n    \"id\": new Buffer(\"\")\n  }\n}\n\nif (typeof window === 'object') {\n  if (!window.crypto) window.crypto = { getRandomValues: getRandomValues }\n}\n\nvar crypto = require('crypto')\nvar randomBytes = crypto.randomBytes\ncrypto.randomBytes = function (size, cb) {\n  if (cb) return randomBytes.apply(crypto, arguments)\n\n  var arr = new Buffer(size)\n  getRandomValues(arr)\n  return arr\n}\n\ncrypto.getRandomValues = crypto.getRandomValues || getRandomValues\n\nfunction getRandomValues (arr) {\n  // console.warn('WARNING: generating insecure psuedorandom number')\n  for (var i = 0; i < arr.length; i++) {\n    arr[i] = Math.random() * 256 | 0\n  }\n\n  return arr\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./utils/crypto.js\n **/","\nimport { AsyncStorage, Alert } from 'react-native'\nimport utils from './utils'\nimport Actions from '../Actions/Actions'\n\nlet CodePush = !__DEV__ && !utils.isSimulator() && !utils.isWeb() && require('react-native-code-push')\nlet ON = false\nlet CHECKING\n// every 10 mins\nlet DEFAULT_INTERVAL = 10 * 60 * 1000\nlet downloadedUpdate = false\nlet currentSync\nconst CODE_UPDATE_KEY = '~hascodeupdate'\n\n// remove on app start\n// in case the user restarted the app manually\nAsyncStorage.removeItem(CODE_UPDATE_KEY)\n\nmodule.exports = {\n  sync,\n  on,\n  off,\n  hasUpdate,\n  install\n}\n\nfunction hasUpdate () {\n  if (downloadedUpdate) return Promise.resolve(true)\n\n  return AsyncStorage.getItem(CODE_UPDATE_KEY)\n    .then(\n      item => downloadedUpdate = !!item,\n      err => false\n    )\n}\n\nfunction install (opts = {\n  alert: 'Installing update...',\n  delay: 3000\n}) {\n  let { alert, delay } = opts\n  return AsyncStorage.getItem(CODE_UPDATE_KEY)\n    .then(item => {\n      if (!item) return\n\n      return AsyncStorage.removeItem(CODE_UPDATE_KEY)\n        .then(() => {\n          if (alert) {\n            delay = delay || 3000\n            Alert.alert(typeof alert === 'string' ? alert: 'installing update...')\n          }\n\n          if (delay) {\n            return utils.promiseDelay(delay)\n          }\n        })\n        .then(() => CodePush.restartApp())\n    })\n}\n\nfunction checkPeriodically (millis) {\n  if (CHECKING) return CHECKING\n\n  millis = millis || DEFAULT_INTERVAL\n  return CHECKING = sync()\n    .then(() => {\n      if (!downloadedUpdate) return loop()\n    })\n\n  function loop () {\n    return utils.promiseDelay(millis)\n      .then(() => ON && checkPeriodically(millis))\n  }\n}\n\nfunction sync () {\n  if (!(CodePush && ON)) return Promise.resolve(false)\n  if (downloadedUpdate) return Promise.resolve(true)\n  if (currentSync) return currentSync\n\n  return currentSync = CodePush.sync({\n    // use our own dialog below when the download completes\n    updateDialog: false,\n    installMode: CodePush.InstallMode.ON_NEXT_RESTART\n  })\n  .then(\n    syncStatus => {\n      if (syncStatus === CodePush.SyncStatus.UPDATE_INSTALLED) {\n        return AsyncStorage.setItem(CODE_UPDATE_KEY, '1')\n          .then(() => {\n            downloadedUpdate = true\n            Actions.downloadedCodeUpdate()\n          })\n      }\n    },\n    err => false\n  )\n  .then(result => {\n    currentSync = null\n    return result\n  })\n}\n\nfunction on (period) {\n  if (CodePush && !ON) {\n    ON = true\n    checkPeriodically(period)\n  }\n}\n\nfunction off () {\n  if (CodePush) ON = false\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./utils/automaticUpdates.js\n **/","'use strict'\n\nimport {\n  NativeModules,\n  findNodeHandle,\n  Dimensions,\n  Alert,\n  PixelRatio,\n  Platform\n} from 'react-native'\n\nimport AsyncStorage from '../Store/Storage'\nimport DeviceInfo from 'react-native-device-info'\nimport PushNotifications from 'react-native-push-notification'\nimport Keychain from 'react-native-keychain'\nimport ENV from './env'\nimport { getDimensions, getOrientation } from 'react-native-orient'\nimport platformUtils from './platformUtils'\n\n// import Orientation from 'react-native-orientation'\n\n// var orientation = Orientation.getInitialOrientation()\n// Orientation.addOrientationListener(o => orientation = o)\n\nvar crypto = require('crypto')\nvar debug = require('debug')('tradle:app:utils')\nvar Q = require('q')\nvar collect = require('stream-collector')\nvar typeforce = require('typeforce')\nvar t = require('tcomb-form-native');\n// var moment = require('moment');\nvar dateformat = require('dateformat')\nvar Backoff = require('backoff')\nvar extend = require('xtend')\nvar fetch = global.fetch || require('whatwg-fetch')\nvar levelErrors = require('levelup/lib/errors')\nconst Cache = require('lru-cache')\nvar strMap = {\n  'Please fill out this form and attach a snapshot of the original document': 'fillTheFormWithAttachments',\n  'Please fill out this form': 'fillTheForm'\n\n}\nvar translatedStrings = {\n  en: require('./strings_en.json'),\n  nl: require('./strings_nl.json')\n}\n\nvar encryptionOpts = {\n  algorithm:'aes-256-cbc',\n  ivBytes: 16\n}\n\nconst tradle = require('@tradle/engine')\nconst protocol = tradle.protocol\nconst tradleUtils = tradle.utils\nvar constants = require('@tradle/constants');\nvar TYPE = constants.TYPE\nvar TYPES = constants.TYPES\n\nvar VERIFICATION = constants.TYPES.VERIFICATION\nconst CUR_HASH = constants.CUR_HASH\nconst NONCE = constants.NONCE\nconst ROOT_HASH = constants.ROOT_HASH\nconst PREV_HASH = constants.PREV_HASH\nconst SIG = constants.SIG\nconst FORM = constants.TYPES.FORM\nconst PASSWORD_ENC = 'hex'\n\nvar LocalizedStrings = require('react-native-localization')\nlet defaultLanguage = new LocalizedStrings({ en: {}, nl: {} }).getLanguage()\nvar dictionaries = require('@tradle/models').dict\n\nvar strings = translatedStrings[defaultLanguage]\nvar dictionary = dictionaries[defaultLanguage]\n\nvar propTypesMap = {\n  'string': t.Str,\n  'boolean': t.Bool,\n  'date': t.Dat,\n  'number': t.Num\n};\nvar models, me;\nvar BACKOFF_DEFAULTS = {\n  randomisationFactor: 0,\n  initialDelay: 1000,\n  maxDelay: 60000\n}\n\nvar DEFAULT_FETCH_TIMEOUT = 5000\nvar stylesCache = {}\n\nvar utils = {\n  isEmpty(obj) {\n    for(var prop in obj) {\n      if(obj.hasOwnProperty(prop))\n        return false;\n    }\n    return true;\n  },\n  setMe(meR) {\n    me = meR;\n    if (!me)\n      return\n\n    if (me.languageCode) {\n      strings = translatedStrings[me.languageCode]\n      if (me.dictionary)\n        dictionary = me.dictionary\n      else if (dictionaries[me.languageCode])\n        dictionary = dictionaries[me.languageCode]\n    }\n    if (!strings)\n      strings = translatedStrings[defaultLanguage]\n  },\n  getMe() {\n    return me;\n  },\n  setModels(modelsRL) {\n    models = modelsRL;\n  },\n  getModels() {\n    return models;\n  },\n  getModel(modelName) {\n    return models ? models[modelName] : null;\n  },\n  getDefaultLanguage() {\n    return defaultLanguage\n  },\n  translate(...args) {\n    if (typeof args[0] === 'string')\n      return utils.translateString(...args)\n    if (args.length === 1)\n      return utils.translateModel(args[0])\n    else\n      return utils.translateProperty(args[0], args[1])\n  },\n  translateProperty(property, model) {\n    if (!dictionary)\n      return property.title || utils.makeLabel(property.name)\n    let translations = dictionary.properties[property.name]\n    return (translations) ? translations[model.id] || translations.Default : property.title || utils.makeLabel(property.name)\n  },\n  translateModel(model) {\n    if (!dictionary)\n      return model.title\n    return dictionary.models[model.id] || model.title\n\n  },\n  translateString(...args) {\n    if (!strings)\n      return args[0]\n\n    let s = strings[args[0]]\n    if (!s)\n      return args[0]\n\n    // if (args.length === 2  &&  typeof args[1] === 'object') {\n    //   let pos = 0\n    //   do {\n    //     let i1 = s.indexOf('{', pos)\n    //     if (i1 === -1)\n    //       break\n    //     let i2 = s.indexOf('}, i1')\n    //     if (i2 === -1)\n    //       break\n    //     s = s.substring(0, i1) + args[1][s.substring(i1 + 1, i2)] + s.substring(i2 + 1)\n    //   } while(true)\n    // }\n    // else\n    if (args.length > 1) {\n      for (let i=1; i<args.length; i++) {\n        let insert = '{' + i + '}'\n        let idx = s.indexOf(insert)\n        if (idx === -1)\n          continue\n        s = s.substring(0, idx) + args[i] + s.substring(idx + insert.length)\n      }\n    }\n    return s ? s : args[0]\n  },\n  clone(resource) {\n    return JSON.parse(JSON.stringify(resource))\n  },\n  compare(r1, r2) {\n    if (!r1 || !r2)\n      return (r1 || r2) ? false : true\n    let properties = utils.getModel(r1[TYPE]).value.properties\n    let exclude = ['time', ROOT_HASH, CUR_HASH, PREV_HASH, NONCE, 'verifications', 'sharedWith']\n    for (var p in r1) {\n      if (exclude.indexOf(p) !== -1)\n        continue\n      if (r1[p] === r2[p])\n        continue\n      if (Array.isArray(r1[p])) {\n        if (!r2[p])\n          return false\n        if (r1[p].length !== r2[p].length)\n          return false\n        for (var i=0; i<r1.length; i++) {\n          let r = r1[i]\n          let found = r2.some((rr2) => {\n            equal(r, rr2)\n          })\n          if (!found)\n            return false\n        }\n      }\n      else if (typeof r1[p] === 'object') {\n        if (!r2[p])\n          return false\n        if (properties[p].ref === TYPES.MONEY) {\n          if (r1[p].currency !== r2[p].currency)\n            return false\n          if (r1[p].value !== r1[p].value)\n            return false\n        }\n        else if (utils.getId(r1[p]) !== utils.getId(r2[p]))\n          return false\n      }\n      else if (r1[p]  ||  r2[p])\n        return false\n    }\n    return true\n  },\n\n  getStringName(str) {\n    return strMap[str]\n  },\n  createAndTranslate(s, isEnumValue) {\n    let stringName = s.replace(/\\w\\S*/g, function(txt) {\n      return  isEnumValue\n            ? txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()\n            : txt\n    })\n    stringName = stringName.replace(/[^a-zA-Z0-9]/g, '')\n    // stringName = stringName.charAt(0).toLowerCase() + stringName.slice(1)\n    let t = utils.translate(stringName)\n    // return t !== stringName ? t : (isEnumValue ? s : utils.makeLabel(s))\n    return t !== stringName ? t : s\n  },\n  makeLabel(label) {\n    return label\n          // insert a space before all caps\n          .replace(/([A-Z])/g, ' $1')\n          // uppercase the first character\n          .replace(/^./, function(str){ return str.toUpperCase(); })\n  },\n  arrayToObject(arr) {\n    if (!arr)\n      return;\n\n    var obj = arr.reduce(function(o, v, i) {\n      o[v.trim()] = i;\n      return o;\n    }, {});\n    return obj;\n  },\n  objectToArray(obj) {\n    if (!obj)\n      return;\n\n    return Object.keys(obj).map(function (key) {return obj[key]});\n  },\n  getImplementors(iModel, excludeModels) {\n    var implementors = [];\n    for (var p in models) {\n      var m = models[p].value;\n      if (excludeModels) {\n        var found = false\n        for (var i=0; i<excludeModels.length && !found; i++) {\n          if (p === excludeModels[i])\n            found = true\n          else {\n            var em = this.getModel(p).value\n            if (em.subClassOf  &&  em.subClassOf === excludeModels[i])\n              found = true;\n          }\n        }\n        if (found)\n          continue\n      }\n      if (m.interfaces  &&  m.interfaces.indexOf(iModel) != -1)\n        implementors.push(m);\n    }\n    return implementors;\n  },\n  getAllSubclasses(iModel) {\n    var subclasses = [];\n    for (var p in models) {\n      var m = models[p].value;\n      if (m.subClassOf  &&  m.subClassOf === iModel)\n        subclasses.push(m);\n    }\n    return subclasses;\n  },\n  getFontSize(fontSize) {\n    return Math.floor(fontSize * (!PixelRatio.getFontScale() || PixelRatio.getFontScale() <= 3\n          ? (Platform.OS === 'androis' ? 1 : 1.1)\n          : (PixelRatio.getFontScale() < 3.5) ? 0.95 : 0.87))\n  },\n  getId(r) {\n    if (typeof r === 'string') {\n      return r\n      // var idArr = r.split('_');\n      // return idArr.length === 2 ? r : idArr[0] + '_' + idArr[1];\n    }\n    if (!r) debugger\n    if (r.id) {\n      return r.id\n      // var idArr = r.id.split('_');\n      // return idArr.length === 2 ? r.id : idArr[0] + '_' + idArr[1];\n    }\n    else {\n      let m = utils.getModel(r[TYPE])\n      if (m  &&  (m.value.subClassOf === FORM  ||  m.value.id === VERIFICATION))\n        return r[TYPE] + '_' + r[ROOT_HASH] + '_' + (r[CUR_HASH] || r[ROOT_HASH])\n      else\n        return r[TYPE] + '_' + r[ROOT_HASH];\n    }\n  },\n  getItemsMeta(metadata) {\n    var props = metadata.properties;\n    var required = utils.arrayToObject(metadata.required);\n    // if (!required)\n    //   return;\n    var itemsMeta = {};\n    for (var p in props) {\n      if (props[p].type == 'array')  //  &&  required[p]) {\n        itemsMeta[p] = props[p];\n    }\n    return itemsMeta;\n  },\n  makeTitle(resourceTitle, prop) {\n    return (resourceTitle.length > 28) ? resourceTitle.substring(0, 28) + '...' : resourceTitle;\n  },\n  getDisplayName(resource, meta) {\n    if (!meta) {\n      if (resource.title)\n        return resource.title\n      else\n        meta = this.getModel(resource[TYPE]).value.properties\n    }\n    let m = this.getModel(resource[TYPE])\n    var displayName = '';\n    for (var p in meta) {\n      if (p.charAt(0) === '_')\n        continue\n      if (!meta[p].displayName) {\n        if (!displayName  &&  m  &&  resource[p]  &&  m.value.subClassOf === 'tradle.Enum')\n          return resource[p];\n        continue\n      }\n      if (resource[p]) {\n        if (meta[p].type == 'object') {\n          var title = resource[p].title || this.getDisplayName(resource[p], utils.getModel(resource[p][TYPE]).value.properties);\n          displayName += displayName.length ? ' ' + title : title;\n        }\n        else\n          displayName += displayName.length ? ' ' + resource[p] : resource[p];\n      }\n      else if (meta[p].displayAs) {\n        var dn = this.templateIt(meta[p], resource);\n        if (dn)\n          displayName += displayName.length ? ' ' + dn : dn;\n      }\n    }\n    return displayName;\n  },\n\n  template (t, o) {\n    return t.replace(/{([^{}]*)}/g,\n        function (a, b) {\n          var r = o[b - 1];\n          return typeof r === 'string' ||\n                 typeof r === 'number' ?\n                 r : a;\n        }\n     )\n  },\n  templateIt1(prop, resource) {\n    let pgroup = prop.group\n    let group = []\n    let hasSetProps\n    let m = this.getModel(resource[TYPE])\n    for (let i=0; i<=pgroup.length; i++) {\n      let p = pgroup[i]\n      let v =  resource[p] ? resource[p] : ''\n      if (v)\n        hasSetProps = true\n      if (typeof v === 'object')\n        v = v.title ? v.title : utils.getDisplayName(v, this.getModel(props[p].ref).value.properties)\n      group.push(v)\n    }\n\n    if (hasSetProps) {\n      let s = this.template(prop.displayAs, group).trim()\n      s = s.replace(/[,\\s+,]+[,,]/g, ',')\n      if (s.charAt(0) === ',')\n        s = s.replace(/,/, '')\n\n      if (s.charAt(s.length - 1) !== ',')\n        return s\n      let i = s.length - 2\n      while(s.charAt(i) === ' ')\n        i--\n      i = (i < s.length - 2) ? i : s.length - 1\n      return s.substring(0, i)\n    }\n  },\n  // templateIt1(prop, resource) {\n  //   let pgroup = prop.group\n  //   let group = []\n  //   let hasSetProps\n  //   pgroup.forEach((p) => {\n  //     let v =  resource[p] ? resource[p] : ''\n  //     if (v)\n  //       hasSetProps = true\n  //     group.push(v)\n  //   })\n  //   if (!hasSetProps)\n  //     return\n  //   else\n  //     return this.template(prop.displayAs, group).trim()\n  // },\n\n  templateIt(prop, resource) {\n    var template = prop.displayAs;\n    if (typeof template === 'string')\n      return this.templateIt1(prop, resource)\n    var val = '';\n    let self = this\n    if (template instanceof Array) {\n      template.forEach(function(t) {\n        if (t.match(/[a-z]/i)) {\n          if (resource[t]) {\n            if (val  &&  val.charAt(val.length - 1).match(/[a-z,]/i))\n              val += ' ';\n\n            if ((typeof resource[t] !== 'object'))\n              val += resource[t]\n            else {\n              if (resource[t].title)\n                val += resource[t].title\n              else {\n                let m = self.getModel(resource[t][TYPE]).value\n                val += self.getDisplayName(resource[t], m.properties)\n              }\n            }\n          }\n        }\n        else if (val.length  &&  val.indexOf(t) != val.length - 1)\n          val += t;\n      });\n    }\n    return val;\n  },\n  formatDate(date, noTime) {\n    // var dayDiff = moment(new Date()).dayOfYear() - moment(date).dayOfYear();\n    var date = new Date(date);\n    var now = new Date()\n\n    var dayDiff = Math.floor((now.getTime() - date.getTime()) / (3600 * 24 * 1000))\n    var noTime = true\n    var val;\n    switch (dayDiff) {\n    case 0:\n      noTime = false\n      val = dateformat(date, 'h:mm TT')\n      // val = moment(date).format('h:mA') //moment(date).fromNow();\n      break;\n    case 1:\n      noTime = false\n      val = 'yesterday, ' + (noTime ? '' : dateformat(date, 'h:mm TT'))\n      // val = moment(date).format('[yesterday], h:mA');\n      break;\n    default:\n      val = dateformat(date, 'mmmm d, yyyy' + (noTime ? '' : ', h:MM TT'));\n      // val = moment(date).format('LL');\n    }\n    return val;\n  },\n  keyByValue: function (map, value) {\n    for (var k in map) {\n      if (map[k] === value) return k\n    }\n  },\n  splitMessage(message) {\n    if (!message)\n      return []\n    var lBr = message.indexOf('[');\n    var msg;\n    if (lBr == -1)\n      return [message];\n    var rBr = message.indexOf(']', lBr);\n    if (rBr == -1)\n      return [message];\n    if (message.charAt(rBr + 1) != '(')\n      return [message];\n    var rRoundBr = message.indexOf(')', rBr);\n    if (rRoundBr == -1)\n      return [message];\n    else {\n      if (lBr)\n        return [message.substring(0, lBr), message.substring(lBr + 1, rBr), message.substring(rBr + 2, rRoundBr)];\n      else\n        return [message.substring(lBr + 1, rBr), message.substring(rBr + 2, rRoundBr)];\n    }\n  },\n  getImageUri(url) {\n    if (!url)\n      return null;\n    if (url.indexOf('data') === 0 || url.indexOf('assets-') === 0 || url.indexOf('http') === 0)\n      return url;\n    else if (url.indexOf('file:///') === 0)\n      return url.replace('file://', '')\n    else if (url.indexOf('../') === 0)\n      return url\n    // else if (url.indexOf('/var/mobile/') == 0)\n    //   return url;\n    else\n      return 'http://' + url;\n  },\n  sendSigned(driver, opts) {\n    if (opts.msg[TYPE] == 'tradle.SelfIntroduction') {\n      opts.public = true\n    }\n\n    return driver.sign(opts.msg)\n      .then((signed) => {\n        opts.msg = signed\n        return driver.send(opts)\n      })\n  },\n  dedupeVerifications(list) {\n    var vFound = {}\n    var i = list.length\n    while (i--) {\n      var r = list[i]\n      if (r[TYPE] !== VERIFICATION) continue\n\n      var docType = r.document && r.document[TYPE]\n      if (!docType) continue\n\n      var org = r.organization && r.organization.id\n      if (!org) continue\n\n      var vid = docType + org\n      if (vFound[vid]) {\n        list.splice(i, 1)\n      } else {\n        vFound[vid] = true\n      }\n    }\n  },\n\n  isMyMessage(r) {\n    var fromHash = utils.getId(r.from);\n    var me = utils.getMe()\n    if (fromHash == this.getId(me))\n      return true;\n    if (utils.getModel(r[TYPE]).value.subClassOf == 'tradle.MyProduct') {\n      let org = r.from.organization\n      if (org  &&  utils.getId(r.from.organization) !== utils.getId(this.props.to))\n        return true\n    }\n  },\n  isVerifiedByMe(resource) {\n    if (!resource.verifications)\n      return false\n    var lastAdditionalInfoTime, verifiedByMe\n    if (resource.additionalInfo) {\n      resource.additionalInfo.forEach(function(r) {\n        if (lastAdditionalInfoTime  &&  lastAdditionalInfoTime < r.time)\n          lastAdditionalInfoTime = r.time;\n      });\n    }\n    /*\n    resource.verifications.forEach(function(r) {\n      var rh = r.from[ROOT_HASH];\n      if (!rh)\n        rh = utils.getId(r.from).split('_')[1];\n\n      if (rh === me[ROOT_HASH]  &&  (!lastAdditionalInfoTime  ||  lastAdditionalInfoTime < r.time))\n        verifiedByMe = true\n    });\n    */\n    return verifiedByMe\n  },\n  optimizeResource(res) {\n    var properties = this.getModel(res[TYPE]).value.properties\n    for (var p in res) {\n      if (p.charAt(0) === '_'  ||  !properties[p])\n        continue\n      if (properties[p].type === 'object') {\n        if (res[p]  &&  res[p].id  &&  res[p].title)\n          continue\n        if (properties[p].ref !== TYPES.MONEY) {\n          res[p] = {\n            id: this.getId(res[p]),\n            title: this.getDisplayName(res[p], properties)\n          }\n        }\n      }\n      else if (properties[p].type === 'array'  &&  properties[p].items.ref) {\n        var arr = []\n        res[p].forEach(function(r) {\n          if (r.id) {\n            if (r.photo)\n              delete r.photo\n            arr.push(r)\n            return\n          }\n          var rr = {}\n          rr.id = utils.getId(r)\n          var m = utils.getModel(r[TYPE])\n          rr.title = utils.getDisplayName(r, m.properties)\n          arr.push(rr)\n        })\n        res[p] = arr\n      }\n    }\n  },\n\n  /**\n   * fast but dangerous way to read a levelup\n   * it's dangerous because it relies on the underlying implementation\n   * of levelup and asyncstorage-down, and their respective key/value encoding sechemes\n   */\n  dangerousReadDB(db) {\n    // return new Promise((resolve, reject) => {\n    //   collect(db.createReadStream(), (err, data) => {\n    //     if (err) reject(err)\n    //     else resolve(data)\n    //   })\n    // })\n\n    if (Platform.OS === 'web') {\n      return new Promise(function (resolve, reject) {\n        collect(db.createReadStream(), function (err, results) {\n          if (err) reject(err)\n          else resolve(results)\n        })\n      })\n    }\n\n    var prefix = db.location + '!'\n    // dangerous!\n    var keys = db.db._down.container._keys.slice()\n    if (!keys.length) return Promise.resolve([])\n\n    return AsyncStorage.multiGet(keys.map((key) => prefix + key))\n      .then((pairs) => {\n        return pairs\n          .filter((pair) => pair[1] != null)\n          .map((pair) => {\n            pair[1] = pair[1].slice(2)\n            try {\n              pair[1] = pair[1] && JSON.parse(pair[1])\n            } catch (err) {\n            }\n\n            return {\n              key: pair[0].slice(prefix.length + 2),\n              value: pair[1]\n            }\n          })\n      })\n  },\n  isEmployee(resource) {\n    if (!me.isEmployee)\n      return false\n    let myId = this.getId(me.organization)\n    if (resource[TYPE] === TYPES.ORGANIZATION)\n      return this.getId(resource) === myId ? true : false\n    if (!resource.organization)\n      return true\n    if (utils.getId(resource.organization) === utils.getId(me.organization))\n      return true\n  },\n  isVerifier(resource, verification) {\n    let me = this.getMe()\n    if (!this.isEmployee(resource))\n      return false\n    let model = this.getModel(resource[TYPE]).value\n    if (!me.organization)\n      return false\n    if (model.subClassOf === TYPES.FORM)\n      return  utils.getId(me) === utils.getId(resource.to) &&\n             !utils.isVerifiedByMe(resource)               // !verification  &&  utils.getId(resource.to) === utils.getId(me)  &&\n    else if (model.id === TYPES.VERIFICATION)\n      return  utils.getId(me) === utils.getId(resource.from)\n  },\n  // measure(component, cb) {\n  //   let handle = typeof component === 'number'\n  //     ? component\n  //     : findNodeHandle(component)\n\n  //   RCTUIManager.measure(handle, cb)\n  // },\n\n  scrollComponentIntoView (container, component) {\n    const handle = platformUtils.getNode(component)\n    let currentScrollOffset = container.getScrollOffset && container.getScrollOffset().y\n    const scrollView = container.refs && container.refs.scrollView || container\n    const scrollResponder = scrollView.getScrollResponder()\n    const additionalOffset = 120\n    let autoScroll\n    if (typeof currentScrollOffset === 'undefined') {\n      if (utils.isWeb()) currentScrollOffset = 0\n      else autoScroll = true\n    }\n\n    setTimeout(function () {\n      if (autoScroll) {\n        platformUtils.autoScroll(scrollView, handle, additionalOffset)\n      } else {\n        manualScroll(scrollView, handle)\n      }\n    }, 50)\n\n    function manualScroll (scrollView, handle) {\n      platformUtils.measure(scrollView, handle, function (err, rect) {\n        if (err) {\n          debugger\n          return\n        }\n\n        // left,top,width,right describe the offset\n        // and size of the component we want to scroll into view\n        //\n        // currentScrollOffset is how far down we've scrolled already\n\n        const { left, top, width, height } = rect\n        let keyboardScreenY = Dimensions.get('window').height;\n        if (scrollResponder.keyboardWillOpenTo) {\n          keyboardScreenY = scrollResponder.keyboardWillOpenTo.endCoordinates.screenY;\n        }\n\n        // how much space we have from the component's bottom to the keyboard's top\n        // top + height\n        let componentBottomY = top + height\n        let keyboardTopY = currentScrollOffset + keyboardScreenY\n        let bottomExpansionNeeded = componentBottomY - keyboardTopY + additionalOffset\n\n        let topExpansionNeeded = currentScrollOffset - top\n        let scrollOffsetY\n        if (bottomExpansionNeeded > 0) {\n          scrollOffsetY = currentScrollOffset + bottomExpansionNeeded\n        } else if (topExpansionNeeded > 0) {\n          scrollOffsetY = currentScrollOffset - topExpansionNeeded\n        } else {\n          return\n        }\n\n        platformUtils.scrollTo(scrollView, 0, scrollOffsetY)\n      });\n    }\n  },\n\n  onNextTransitionStart(navigator, fn) {\n    let remove = normalizeRemoveListener(navigator.navigationContext.addListener('willfocus', () => {\n      remove()\n      setTimeout(fn, 0)\n    }))\n\n    return remove\n  },\n\n  onNextTransitionEnd(navigator, fn) {\n    let remove = normalizeRemoveListener(navigator.navigationContext.addListener('didfocus', () => {\n      remove()\n      setTimeout(fn, 0)\n    }))\n\n    return remove\n  },\n\n  /**\n   * optimized multi-get from levelup\n   * @param  {Object} opts\n   * @param  {levelup} opts.db\n   * @param  {Array} opts.keys\n   * @param  {Boolean} opts.strict (optional) - if true, fail if any keys is not found\n   * @return {[type]}      [description]\n   */\n  multiGet(opts) {\n    let strict = opts.strict\n    let loc = opts.db.location\n    let keys = opts.keys\n    return AsyncStorage.multiGet(keys.map(function (key) {\n      return loc + '!' + key\n    }))\n    .then(function (results) {\n      if (strict) {\n        if (results.some(function (r) {\n          return !r[1]\n        })) {\n          throw new levelErrors.NotFoundError()\n        }\n\n        return results.map(parseDBValue)\n      } else {\n        return results.map(function (pair) {\n          return {\n            value: parseDBValue(pair),\n            reason: pair[1] ? null : new levelErrors.NotFoundError()\n          }\n        })\n      }\n    })\n  },\n\n  joinURL(...parts) {\n    var first = parts.shift()\n    var rest = parts.join('/')\n    var addSlash\n    if (first[first.length - 1] === '/') first = first.slice(0, -1)\n    if (rest[0] === '/') rest = rest.slice(1)\n\n    return first + '/' + rest\n  },\n\n  promiseDelay(millis) {\n    return Q.Promise((resolve) => {\n      setTimeout(resolve, millis)\n    })\n  },\n\n  // TODO: add maxTries\n  tryWithExponentialBackoff(fn, opts) {\n    opts = opts || {}\n    const backoff = Backoff.exponential(extend(BACKOFF_DEFAULTS, opts))\n    return fn().catch(backOffAndLoop)\n\n    function backOffAndLoop () {\n      const defer = Q.defer()\n      backoff.once('ready', defer.resolve)\n      backoff.backoff()\n      return defer.promise\n        .then(fn)\n        .catch(backOffAndLoop)\n    }\n  },\n\n  fetchWithTimeout(url, opts, timeout) {\n    return Q.race([\n      fetch(url, opts),\n      Q.Promise(function (resolve, reject) {\n        setTimeout(function () {\n          reject(new Error('timed out'))\n        }, timeout)\n      })\n    ])\n  },\n\n  fetchWithBackoff(url, opts, requestTimeout) {\n    return utils.tryWithExponentialBackoff(() => {\n      return utils.fetchWithTimeout(url, opts, requestTimeout || DEFAULT_FETCH_TIMEOUT)\n    })\n  },\n\n  normalizeCurrencySymbol(symbol) {\n    // TODO: remove this after fixing encoding bug\n    return symbol\n    // return symbol ? (symbol === '¬' ? '€' : symbol) : symbol\n  },\n  isSimulator() {\n    return DeviceInfo.getModel() === 'Simulator'\n  },\n  toOldStyleWrapper: function (wrapper) {\n    if (!wrapper.permalink) return wrapper\n\n    if (wrapper.object) {\n      const payload = wrapper.object[TYPE] === 'tradle.Message' ? wrapper.object.object : wrapper.object\n      const link = protocol.linkString(payload)\n      wrapper[CUR_HASH] = link\n      wrapper[ROOT_HASH] = payload[ROOT_HASH] || link\n      wrapper.from = { [ROOT_HASH]: wrapper.author }\n      // wrapper.to = wrapper.author\n      wrapper.parsed = {\n        data: payload\n      }\n\n      wrapper[TYPE] = payload[TYPE]\n    }\n    else if (wrapper.objectinfo) {\n      wrapper[CUR_HASH] = wrapper.objectinfo.link\n      wrapper[ROOT_HASH] = wrapper.objectinfo.permalink\n      wrapper[TYPE] = wrapper.objectinfo.type\n    }\n    else {\n      wrapper[CUR_HASH] = wrapper.link\n      wrapper[ROOT_HASH] = wrapper.permalink\n      wrapper[TYPE] = wrapper.type\n    }\n\n    return wrapper\n  },\n  setupSHACaching: function setupSHACaching (protocol) {\n    const merkle = protocol.DEFAULT_MERKLE_OPTS\n    if (merkle._caching) return\n\n    const cache = new Cache({ max: 500 })\n    protocol.DEFAULT_MERKLE_OPTS = {\n      _caching: true,\n      leaf: function leaf (a) {\n        const key = 'l:' + a.data.toString('hex')\n        const cached = cache.get(key)\n        if (cached) return cached\n\n        const val = merkle.leaf(a)\n        cache.set(key, val)\n        return val\n      },\n      parent: function parent (a, b) {\n        const key = 'p:' + a.hash.toString('hex') + b.hash.toString('hex')\n        const cached = cache.get(key)\n        if (cached) return cached\n\n        const val = merkle.parent(a, b)\n        cache.set(key, val)\n        return val\n      }\n    }\n  },\n\n  generateSalt: function (opts) {\n    opts = opts || {}\n    const salt = crypto.randomBytes(opts.length || 32)\n    return opts.enc ? salt.toString(opts.enc) : salt\n  },\n\n  hashPassword: function (opts) {\n    if (typeof opts === 'string') opts = { password: opts }\n    // if (utils.isWeb()) {\n    //   const result = utils.kdf(opts)\n    //   return { hash: result.key, salt: result.salt }\n    // }\n\n    const salt = opts.salt || utils.generateSalt()\n    const saltStr = salt.toString(PASSWORD_ENC)\n    const hash = crypto.createHash('sha256')\n      .update(opts.password + saltStr)\n      .digest()\n\n    return { hash, salt }\n\n    // TODO: pbkdf2Sync with ~100000 iterations\n    // but currently kdf takes ~7 seconds for 10000!\n    // const result = utils.kdf(opts)\n    // return { hash: result.key, salt: result.salt }\n  },\n\n  kdf: function (opts) {\n    if (typeof opts === 'string') opts = { password: opts }\n\n    const password = opts.password\n    const salt = opts.salt || utils.generateSalt({ length: opts.saltBytes || 32 })\n    const iterations = opts.iterations || 10000\n    const keyBytes = opts.keyBytes || 32\n    const digest = opts.digest || 'sha256'\n    const key = crypto.pbkdf2Sync(password, salt, iterations, keyBytes, digest)\n    return { key, salt }\n  },\n\n  setPassword: function (username, password) {\n    debug(`saving password for username \"${username}\", service ${ENV.serviceID}`)\n    return Keychain.setGenericPassword(username, password, ENV.serviceID)\n  },\n\n  getPassword: function (username) {\n    return Keychain.getGenericPassword(username, ENV.serviceID)\n  },\n\n  /**\n   * store hashed and salted password\n   * @param {[type]} username [description]\n   * @param {[type]} password [description]\n   */\n  setHashedPassword: function (username, password) {\n    const result = utils.hashPassword({ password })\n    return utils.setPassword(username, result.hash.toString(PASSWORD_ENC) + result.salt.toString(PASSWORD_ENC))\n  },\n\n  getHashedPassword: function (username) {\n    return utils.getPassword(username)\n      .then(encoded => {\n        const salt = encoded.slice(-64) // 32 bytes in hex\n        const hash = encoded.slice(0, encoded.length - 64)\n        return {\n          hash: new Buffer(hash, PASSWORD_ENC),\n          salt: new Buffer(salt, PASSWORD_ENC)\n        }\n      })\n  },\n\n  checkHashedPassword: function (username, password) {\n    return utils.getHashedPassword(username)\n      .then(stored => {\n        const hash = utils.hashPassword({\n          password,\n          salt: stored.salt\n        }).hash\n\n        return stored.hash.equals(hash)\n      })\n      .catch(err => {\n        return false\n      })\n  },\n\n  encrypt: function (data, opts) {\n    opts = { ...encryptionOpts, ...opts }\n    var key = opts.key\n    var iv = opts.iv || crypto.randomBytes(opts.ivBytes)\n    var cipher = crypto.createCipheriv(opts.algorithm, key, iv)\n    var ciphertext = Buffer.concat([cipher.update(data), cipher.final()])\n    var parts = [\n      iv,\n      ciphertext\n    ]\n\n    return serialize(parts)\n  },\n\n  decrypt: function (data, opts) {\n    opts = { ...encryptionOpts, ...opts }\n    var parts = unserialize(data)\n    var iv = parts[0]\n    var ciphertext = parts[1]\n    var key = opts.key\n    var decipher = crypto.createDecipheriv(opts.algorithm, key, iv)\n    var m = decipher.update(parts[1])\n    return Buffer.concat([m, decipher.final()])\n  },\n\n  resetPasswords: function () {\n    return Promise.all([\n      Keychain.resetGenericPasswords(),\n      Keychain.resetGenericPasswords(ENV.serviceID)\n    ])\n  },\n  isAndroid: ENV.isAndroid,\n  isIOS: ENV.isIOS,\n  isWeb: ENV.isWeb,\n  fetch: fetch,\n  /* from react-native/Libraries/Utilities */\n  groupByEveryN: function groupByEveryN<T>(array: Array<T>, n: number): Array<Array<?T>> {\n    var result = [];\n    var temp = [];\n\n    for (var i = 0; i < array.length; ++i) {\n      if (i > 0 && i % n === 0) {\n        result.push(temp);\n        temp = [];\n      }\n      temp.push(array[i]);\n    }\n\n    if (temp.length > 0) {\n      while (temp.length !== n) {\n        temp.push(null);\n      }\n      result.push(temp);\n    }\n\n    return result;\n  },\n\n  promiseThunky: function (fn) {\n    let promise\n    return function () {\n      return promise ? promise : promise = fn.apply(this, arguments)\n    }\n  },\n\n  getTopNonAuthRoute: function (navigator) {\n    const routes = navigator.getCurrentRoutes()\n    let top\n    while (top = routes.pop()) {\n      if (!top || top.component.displayName !== 'PasswordCheck') break\n    }\n\n    return top\n  },\n  orientation() {\n    // disallow PORTRAITUPSIDEDOWN\n    return orientation === 'PORTRAITUPSIDEDOWN' ? 'LANDSCAPE' : orientation.replace(/-LEFT|-RIGHT/, '')\n  },\n  dimensions(Component) {\n    return getDimensions(Component)\n  },\n  styleFactory(Component, create) {\n    if (!Component.displayName) throw new Error('component must have \"displayName\"')\n\n    return () => {\n      var key = Component.displayName\n      if (!stylesCache[key]) {\n        stylesCache[key] = {}\n      }\n\n      var subCache = stylesCache[key]\n      var dimensions = getDimensions(Component)\n      var subKey = dimensions.width + 'x' + dimensions.height\n      if (!subCache[subKey]) {\n        var orientation = getOrientation(Component)\n        var { width, height } = dimensions\n        var switchWidthHeight = !utils.isWeb() && (\n          (orientation === 'PORTRAIT' && width > height) ||\n          (orientation === 'LANDSCAPE' && width < height)\n        )\n\n        if (switchWidthHeight) {\n          dimensions = { width: height, height: width }\n        }\n\n        subCache[subKey] = create({ dimensions })\n      }\n\n      return subCache[subKey]\n    }\n  },\n  resized: function (props, nextProps) {\n    return props.orientation !== nextProps.orientation ||\n          props.width !== nextProps.width              ||\n          props.height !== nextProps.height\n  },\n  imageQuality: 0.2,\n  restartApp: function () {\n    if (utils.isWeb()) {\n      window.location.reload()\n    } else {\n      NativeModules.CodePush.restartApp(false)\n    }\n  },\n  readFile: Platform.OS == 'web' && function readFile (file, cb) {\n    var reader  = new FileReader();\n    reader.addEventListener('load', function () {\n      cb(null, reader.result)\n    }, false)\n\n    reader.addEventListener('error', cb)\n    reader.readAsDataURL(file)\n  },\n\n  readImage: Platform.OS == 'web' && function readImage (file, cb) {\n    utils.readFile(file, function (err, dataUrl) {\n      var image = new window.Image()\n      image.addEventListener('error', function (err) {\n        if (!err) err = new Error('failed to load image')\n\n        cb(err)\n      })\n\n      image.addEventListener('load', function () {\n        cb(null, {\n          url: dataUrl,\n          width: image.width,\n          height: image.height\n        })\n      })\n\n      image.src = dataUrl\n    })\n  },\n  printStack: tradleUtils.printStack.bind(tradleUtils)\n}\n\nfunction normalizeRemoveListener (addListenerRetVal) {\n  return () => {\n    if (addListenerRetVal.remove) {\n      addListenerRetVal.remove()\n    } else {\n      addListenerRetVal()\n    }\n  }\n}\n\n/**\n * recover Buffer objects\n * @param  {Object} json\n * @return {Object} json with recovered Buffer-valued properties\n */\nfunction rebuf (json) {\n  if (Object.prototype.toString.call(json) !== '[object Object]') return json\n\n  if (json &&\n    json.type === 'Buffer' &&\n    json.data &&\n    !Buffer.isBuffer(json) &&\n    Object.keys(json).length === 2) {\n    return new Buffer(json.data)\n  } else {\n    for (var p in json) {\n      json[p] = rebuf(json[p])\n    }\n\n    return json\n  }\n}\n\nfunction parseDBValue (pair) {\n  return pair[1] && rebuf(JSON.parse(pair[1]))\n}\n\nfunction serialize (buffers) {\n  var parts = [], idx = 0\n  buffers.forEach(function (part) {\n    var len = Buffer(4)\n    if (typeof part === 'string') part = Buffer(part)\n    len.writeUInt32BE(part.length, 0)\n    parts.push(len)\n    idx += len.length\n    parts.push(part)\n    idx += part.length\n  })\n\n  return Buffer.concat(parts)\n}\n\nfunction unserialize (buf) {\n  var parts = []\n  var l = buf.length, idx = 0\n  while (idx < l) {\n    var dlen = buf.readUInt32BE(idx)\n    idx += 4\n    var start = idx\n    var end = start + dlen\n    var part = buf.slice(start, end)\n    parts.push(part)\n    idx += part.length\n  }\n\n  return parts\n}\n\nmodule.exports = utils;\n\n\n\n/** WEBPACK FOOTER **\n ** ./utils/utils.js\n **/","\nmodule.exports = require('react-native-safe-async-storage')\n\n\n\n/** WEBPACK FOOTER **\n ** ./Store/Storage.js\n **/","\nmodule.exports = require('react-native').AsyncStorage\n\n\n\n/** WEBPACK FOOTER **\n ** ./web/shims/AsyncStorage.js\n **/","\nimport { AsyncStorage } from 'react-native'\n\nconst prefix = '~keychain'\n\nmodule.exports = {\n  setGenericPassword: function (username, password, service) {\n    return AsyncStorage.setItem(prefix + service + '.' + username, password)\n  },\n  getGenericPassword: function (username, service) {\n    return AsyncStorage.getItem(prefix + service + '.' + username)\n  },\n  resetGenericPassword: function (username, service) {\n    return AsyncStorage.removeItem(prefix + service + '.' + username)\n  },\n  resetGenericPasswords: function (username, service) {\n    return AsyncStorage.getAllKeys()\n      .then(keys => keys.filter(k => k.indexOf(prefix) === 0))\n      .then(keys => AsyncStorage.multiRemove(keys))\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./web/shims/keychain.js\n **/","\nimport {\n  Platform\n} from 'react-native'\n\nconst LOCAL_IP = require('./localIP.json')\n\nmodule.exports = {\n  GCM_SENDER_ID: '633104277721',\n  serviceID: 'tradle',\n  accessGroup: '94V7783F74.io.tradle.dev',\n  LOCAL_IP: LOCAL_IP,\n  isAndroid: function () {\n    return Platform.OS === 'android'\n  },\n  isIOS: function () {\n    return Platform.OS === 'ios'\n  },\n  isWeb: function () {\n    return Platform.OS === 'web'\n  },\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./utils/env.js\n **/","module.exports = \"localhost\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./utils/localIP.json\n ** module id = 943\n ** module chunks = 0\n **/","\nimport {\n  Platform\n} from 'react-native'\n\nmodule.exports = Platform.OS === 'web' ? require('./platformUtils.web') : require('./platformUtils.ios')\n\n\n\n/** WEBPACK FOOTER **\n ** ./utils/platformUtils.js\n **/","\nimport ReactDOM from 'react-dom'\n\nmodule.exports = {\n  getNode: function getNode (component) {\n    return typeof component === 'number' ? component : ReactDOM.findDOMNode(component)\n  },\n  measure: function (scrollView, domNode, cb) {\n    cb(null, domNode.getBoundingClientRect())\n  },\n  scrollTo: function (scrollView, x, y) {\n    scrollView.scrollTo({ x, y })\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./utils/platformUtils.web.js\n **/","\nimport {\n  findNodeHandle,\n  NativeModules\n} from 'react-native'\n\nconst RCTUIManager = NativeModules.UIManager\n\nmodule.exports = {\n  getNode: function getNode (component) {\n    return typeof component === 'number' ? component : findNodeHandle(component)\n  },\n  autoScroll: function (scrollView, toHandle, additionalOffset) {\n    // debugger\n    const scrollResponder = scrollView.getScrollResponder()\n    scrollResponder.scrollResponderScrollNativeHandleToKeyboard(\n      findNodeHandle(toHandle),\n      additionalOffset,\n      true\n    )\n  },\n  measure: function (scrollView, handle, cb) {\n    RCTUIManager.measureLayout(handle, findNodeHandle(scrollView.getInnerViewNode()), cb, function (left, top, width, height) {\n      cb(null, { left, top, width, height })\n    })\n  },\n  scrollTo: function (scrollView, x, y) {\n    const scrollResponder = scrollView.getScrollResponder()\n    scrollResponder.scrollResponderScrollTo({ x, y, animated: true});\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./utils/platformUtils.ios.js\n **/","module.exports = {\n\t\"officialAccounts\": \"Official Accounts\",\n\t\"back\": \"Back\",\n\t\"profile\": \"Profile\",\n\t\"done\": \"Done\",\n\t\"edit\": \"Edit\",\n\t\"settings\": \"Settings\",\n\t\"theMinValueBiggerThenMaxValue\": \"The min value for the range should be smaller then the max value\",\n\t\"thePropertyWithMinMaxRangeError\": \"The property with [min-max] range can have only two numbers\",\n\t\"invalidProperty\": \"Invalid {1}\",\n\t\"optional\": \"optional\",\n\t\"thisFieldIsRequired\": \"This field is required\",\n\t\"pleaseDrawPassword\": \"Please draw a gesture password\",\n\t\"drawYourPassword\": \"Draw your gesture password\",\n\t\"drawYourPasswordAgain\": \"Draw your gesture password again\",\n\t\"drawYourNewPassword\": \"Draw your new gesture password\",\n\t\"drawYourNewPasswordAgain\": \"Draw your new gesture password again\",\n\t\"drawYourOldPassword\": \"Draw your old gesture password\",\n\t\"gestureNotRecognized\": \"Gesture not recognized, please try again\",\n\t\"passwordLimitations\": \"Password must have 5 or more points\",\n\t\"invalidPattern\": \"Invalid pattern, please try again\",\n\t\"patternNotMatching\": \"The gestures didn't match. Please start again\",\n\t\"wrongPattern\": \"Wrong pattern\",\n\t\"correctGesture\": \"Correct gesture detected\",\n\t\"authenticationFailed\": \"Authentication failed\",\n\t\"setPassword\": \"Choose a secure password\",\n\t\"enterPassword\": \"Enter your password\",\n\t\"enterCurrentPassword\": \"Enter your current password\",\n\t\"setNewPassword\": \"Choose a new password\",\n\t\"textPasswordLimitations\": \"Must have 10+ characters, at least one uppercase letter, lowercase letter, number, and special character\",\n\t\"tooManyPasswordAttempts\": \"Too many failed attempts! This form has been disabled.\",\n\t\"correctPassword\": \"Aww, you remembered!\",\n\t\"passwordsDontMatch\": \"Passwords don't match\",\n\t\"pleaseRestartTIM\": \"Please restart TiM\",\n\t\"cancel\": \"Cancel\",\n\t\"details\": \"Details\",\n\t\"enterYourName\": \"Enter your name\",\n\t\"addServerUrl\": \"Add server url\",\n\t\"search\": \"Search\",\n\t\"listOfProducts\": \"Click for a list of products\",\n\t\"hello\": \"Hello {1}!\",\n\t\"testForgetMe\": \"This is a test mechanism to reset all communications with this provider\",\n\t\"confirmForgetMe\": \"Are you sure you want '{1}' to forget you\",\n\t\"forgetMe\": \"Forget me\",\n\t\"iNeed\": \"I need...\",\n\t\"LivingWithParents\": \"Living with parents\",\n\t\"HomeOwnerWithMortgage\": \"Home owner (with mortgage)\",\n\t\"HomeOwnerWithoutMortgage\": \"Home owner (without mortgage)\",\n\t\"TenantPrivate\": \"Tenant (private)\",\n\t\"TenantCounsel\": \"Tenant (counsel)\",\n\t\"BenefitPayments\": \"Benefit Payments\",\n\t\"BillsExpenses\": \"Bills / Expenses\",\n\t\"CapitalRaisingScottishWidowsBank\": \"Capital Raising ( Scottish Widows Bank )\",\n\t\"Inheritance\": \"Inheritance\",\n\t\"ProbateExecutorTrustee\": \"Probate / Executor / Trustee\",\n\t\"SalaryPensionOtherRegularIncome\": \"Salary / Pension / Other Regular Income\",\n\t\"Savings\": \"Savings\",\n\t\"SpendingMoney\": \"Spending Money\",\n\t\"Student\": \"Student\",\n\t\"Home\": \"Home\",\n\t\"Mobile\": \"Mobile\",\n\t\"Work\": \"Work\",\n\t\"newProduct\": \"New product\",\n\t\"tapToRemovePhotos\": \"Tap to remove photos\",\n\t\"addNew\": \"Add new {1}\",\n\t\"switchToRepresentative\": \"Switching to representative mode is not yet implemented.\",\n\t\"fillTheForm\": \"Please fill out this form\",\n\t\"fillTheFormWithAttachments\": \"Please fill out this form and attach a snapshot of the original document\",\n\t\"verifiedBy\": \"Verified by {1}\",\n\t\"issuedBy\": \"Issued by {1}\",\n\t\"sentTo\": \"Sent to {1}\",\n\t\"typeMessage\": \"Type a message\",\n\t\"newProductMsg\": \"I need a {1}.\",\n\t\"shareOne\": \"{1}, this is your personal privacy assistant. I see you've already had your {2} verified. You can tap below to share it with {3}.\",\n\t\"shareOneOfMany\": \"{1}, this is your personal privacy assistant. I see you've already had your {2} verified. You can tap on any items in the list below to share them with {3}.\",\n\t\"verificationTransactionID\": \"Verification Transaction Id\",\n\t\"scanQRcode\": \"Scan QR code\",\n\t\"setDateValue\": \"Set\",\n\t\"add\": \"Add {1}\",\n\t\"myDocuments\": \"My Documents\",\n\t\"confirmRevoke\": \"Ask {1} to delete this document from their records?\",\n\t\"shareProduct\": \"You can tap below to share {1} with {2}\",\n\t\"shareMyProduct\": \"You can tap below to share {1} with {2}\",\n\t\"willBeAvailable\": \"This functionality will be available soon\",\n\t\"switchTouchIdOff\": \"Switch touch ID off\",\n\t\"switchTouchIdOn\": \"Switch touch ID on\",\n\t\"noConnection\": \"Tradle requires a working internet connection which you don't have at the moment\",\n\t\"noConnectionWillProcessLater\": \"Tradle requires a working internet connection which you don't have at the moment. The request will be processed when connection returns\",\n\t\"noConnectionForPL\": \"Tradle requires a working internet connection to request a list of products from {1} which you don't have at the moment\",\n\t\"noConnectionForNewProduct\": \"{1}, Tradle requires a working internet connection to fill out the {2} application.\",\n\t\"inProgress\": \"Your request is in progress\",\n\t\"newContactRequest\": \"{1} sent you contact request\",\n\t\"howCanIHelpYou\": \"Hello {1}. My name is {2}. How can I help you today?\",\n\t\"pleaseCorrectTheErrors\": \"Please correct error in the form\",\n\t\"verifierHelp\": \"Click 'Done' button after reviewing the form. If some fields require correction check them them first and then click the 'Done' button\",\n\t\"errorNotification\": \"Error notification has been sent to the customer to correct\",\n\t\"addAnotherFormOrGetNext\": \"Add another {1} or move on to the next form\",\n\t\"getNextForm\": \"Next\",\n\t\"addSameForm\": \"Add\",\n\t\"areYouSureAboutNextForm\": \"Are you sure you are done with {1}?\",\n\t\"formChooser\": \"Form list\",\n\t\"showQR\": \"My QR code\",\n\t\"useTouchId\": \"Use Touch ID\",\n\t\"useGesturePassword\": \"Use Gesture Password\",\n\t\"useTouchIdAndGesturePassword\": \"Use Touch ID and Gesture\",\n\t\"changeGesturePassword\": \"Change gesture password\",\n\t\"changePassword\": \"Change password\",\n\t\"touchIdOn\": \"Touch ID is ON\",\n\t\"passwordOn\": \"Gesture Password is ON\",\n\t\"bothOn\": \"Both are ON\",\n\t\"turnTouchIdOn\": \"Turn touch ID on\",\n\t\"turnPasswordOn\": \"Turn Gesture Password on\",\n\t\"turnBothOn\": \"Turn Both on\",\n\t\"pairDevices\": \"Pair devices\",\n\t\"learnMore\": \"Learn more\",\n\t\"offlineMode\": \"Offline Mode\",\n\t\"learnMoreDescriptionTo\": \"You can still write messages in Offline Mode even though your device is not connected. When you reconnect all your messages will be automatically sent to {1}.\",\n\t\"noNetwork\": \"No network\",\n\t\"learnMoreDescription\": \"You can still write messages in Offline Mode even though your device is not connected. When you reconnect all your messages will be automatically sent.\",\n\t\"shareChangesWith\": \"Share changes with\",\n\t\"nothingChanged\": \"Nothing changed\",\n\t\"en\": \"English\",\n\t\"nl\": \"Dutch\",\n\t\"submittingForm\": \"Submittted new {1}\",\n\t\"submittingModifiedForm\": \"Modifying {1}\",\n\t\"receivedProduct\": \"Received {1}\",\n\t\"receivedVerification\": \"Received verification for {1}\",\n\t\"formRequest\": \"Request for {1}\",\n\t\"sharedForm\": \"Shared {1} from {2}\",\n\t\"youAreForgotten\": \"You've been successfully forgotten\",\n\t\"invalidPairingRequest\": \"Invalid Pairing Request\",\n\t\"pairingRequest\": \"Pairing Request\",\n\t\"deviceDoesNotHaveMyKeys\": \"Received identity does not have my keys\",\n\t\"pairingRequestWasProcesseed\": \"Pairing request was processed\",\n\t\"youShared\": \"You shared from {1}\",\n\t\"termsAndConditions\": \"Terms and conditions.\",\n\t\"acceptTermsAndConditions\": \"View terms and conditions\",\n\t\"acceptingTermsAndConditions\": \"By pressing OK, you accept the Terms and Conditions\",\n\t\"viewTerms\": \"Please view the Terms and Conditions\",\n\t\"wipeDevice\": \"Wipe device\",\n\t\"areYouSureAboutWipe\": \"This action is irreversible. You will lose all your data and private keys. Are you sure you want to proceed?\"\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./utils/strings_en.json\n ** module id = 1083\n ** module chunks = 0\n **/","module.exports = {\n\t\"officialAccounts\": \"Officiële Accounts\",\n\t\"back\": \"Terug\",\n\t\"profile\": \"Profiel\",\n\t\"done\": \"Klaar\",\n\t\"edit\": \"Bewerk\",\n\t\"settings\": \"Settings\",\n\t\"theMinValueBiggerThenMaxValue\": \"The min value for the range should be smaller then the max value\",\n\t\"thePropertyWithMinMaxRangeError\": \"The property with [min-max] range can have only two numbers\",\n\t\"invalidProperty\": \"Invalid {property}\",\n\t\"optional\": \"onverplicht\",\n\t\"thisFieldIsRequired\": \"Dit veld is verplicht\",\n\t\"pleaseDrawPassword\": \"Gelieve te trekken een gebaar wachtwoord\",\n\t\"drawYourPassword\": \"Trek je gebaar wachtwoord\",\n\t\"gestureNotRecognized\": \"Gebaar niet herkend, probeer het opnieuw\",\n\t\"pleaseDrawPattern\": \"Please draw a pattern\",\n\t\"drawYourPattern\": \"Teken uw patroon\",\n\t\"pleaseDrawYourPatternAgain\": \"Please draw your pattern again\",\n\t\"passwordLimitations\": \"Password must have 5 or more points\",\n\t\"invalidPattern\": \"Invalid pattern, please try again\",\n\t\"patternNotMatching\": \"Patterns didn\\\\'t match. Please start again\",\n\t\"wrongPattern\": \"Wrong pattern\",\n\t\"correctGesture\": \"Correct gesture detected\",\n\t\"authenticationFailed\": \"Authentication failed\",\n\t\"pleaseRestartTIM\": \"Please restart TiM\",\n\t\"cancel\": \"Annuleren\",\n\t\"details\": \"Details\",\n\t\"addServerUrl\": \"Add server url\",\n\t\"search\": \"Zoeken\",\n\t\"listOfProducts\": \"Klik hier voor een lijst van producten\",\n\t\"hello\": \"Hallo {1}!\",\n\t\"testForgetMe\": \"This is a test mechanism to reset all communications with this provider\",\n\t\"confirmForgetMe\": \"Bent u zeker dat u willen {1} om u te vergeten\",\n\t\"forgetMe\": \"Vergeet me\",\n\t\"iNeed\": \"Ik heb nodig\",\n\t\"LivingWithParents\": \"Leven met ouders\",\n\t\"HomeOwnerWithMortgage\": \"Home owner (with mortgage)\",\n\t\"HomeOwnerWithoutMortgage\": \"Home owner (without mortgage)\",\n\t\"TenantPrivate\": \"Tenant (private)\",\n\t\"TenantCounsel\": \"Tenant (counsel)\",\n\t\"BenefitPayments\": \"Benefit Payments\",\n\t\"BillsExpenses\": \"Bills / Expenses\",\n\t\"CapitalRaisingScottishWidowsBank\": \"Capital Raising ( Scottish Widows Bank )\",\n\t\"Inheritance\": \"Inheritance\",\n\t\"ProbateExecutorTrustee\": \"Probate / Executor / Trustee\",\n\t\"SalaryPensionOtherRegularIncome\": \"Salary / Pension / Other Regular Income\",\n\t\"Savings\": \"Savings\",\n\t\"SpendingMoney\": \"Spending Money\",\n\t\"Student\": \"Student\",\n\t\"Home\": \"Thuis\",\n\t\"Mobile\": \"Mobiel\",\n\t\"Work\": \"Werk\",\n\t\"newProduct\": \"New product\",\n\t\"shareOne\": \"{1}, dit is uw persoonlijke privacy assistent. Ik zie dat je al hebt uw {2} geverifieerd. U kunt hieronder tikken op het te delen met {3}.\",\n\t\"shareOneOfMany\": \"{1}, dit is uw persoonlijke privacy assistent. Ik zie dat je al hebt gehad uw {2} geverifieerd. U kunt tikken op alle items in de lijst hieronder om ze te delen met {3}.\",\n\t\"Share\": \"Delen\",\n\t\"tapToRemovePhotos\": \"Tap to remove photos\",\n\t\"addNew\": \"Add new {1}\",\n\t\"switchToRepresentative\": \"Switching to representative mode is not yet implemented.\",\n\t\"fillTheForm\": \"Vul dit formulier in en voeg een momentopname van het originele document\",\n\t\"verifiedBy\": \"Geverifieërd door {1}\",\n\t\"issuedBy\": \"Issued by {1}\",\n\t\"sentTo\": \"Sent to {1}\",\n\t\"typeMessage\": \"Type a message\",\n\t\"newProductMsg\": \"I need a {1}.\",\n\t\"FulltimeEmployee\": \"Vast dienstverband onbepaalde tijd\",\n\t\"TemporaryEmployment\": \"Tijdelijk dienstverband\",\n\t\"FlexIncome\": \"Flexibel dienstverband\",\n\t\"Employed\": \"Loondienst\",\n\t\"SelfEmployed\": \"Zelfstandig\",\n\t\"Alimony\": \"Partner alimentatie\",\n\t\"IncomeOutOfRentingOrLeasing\": \"Inkomsten uit verhuur\",\n\t\"Pension\": \"Inkomsten uit verhuur\",\n\t\"PrePension\": \"AOW\",\n\t\"OldAgeBenefits\": \"Ouderdomsregeling\",\n\t\"InsurancePolicyPensionOutOfInsurance\": \"Lijfrente/Pensioenverzekering\",\n\t\"PartnerAlimony\": \"Partner alimentatie\",\n\t\"RevolvingCredit\": \"Doorlopend krediet\",\n\t\"Personal Loan\": \"Persoonlijke lening\",\n\t\"Overdraw\": \"Roodstand\",\n\t\"Credit card\": \"Creditcard\",\n\t\"???\": \"Aflopend krediet\",\n\t\"ShoppingCredit\": \"Postorder krediet\",\n\t\"Private Loan\": \"Onderhandse lening\",\n\t\"StudyLoan\": \"Studieschuld\",\n\t\"Monthly\": \"Maandelijks\",\n\t\"Quarterly\": \"Per kwartaal\",\n\t\"HalfYearly\": \"Half jaarlijks\",\n\t\"Yearly\": \"Jaarlijks\",\n\t\"ExistingInsurance\": \"Bestaand\",\n\t\"TemporaryCoverage\": \"Voorlopige dekking\",\n\t\"ToBeArranged\": \"Aanvragen\",\n\t\"EqualOverTime\": \"Gelijkblijvend\",\n\t\"YearlyDecreasing\": \"Annuitair dalend\",\n\t\"LinearyDecreasing\": \"Lineair dalend\",\n\t\"NewMortgage\": \"Nieuwe hypotheek\",\n\t\"SecondMortgage\": \"Tweede hypotheek\",\n\t\"AdditionalMortgageWithinExistingContract\": \"Verhoging binnen inschrijving\",\n\t\"ChangeMortgageConstruction\": \"Omzetting\",\n\t\"Single\": \"Ongehuwd\",\n\t\"MarriedWithPrenuptialAgreement\": \"Getrouwd onder huwelijkse voorwaarden\",\n\t\"Married\": \"Getrouwd in gemeenschap van goederen\",\n\t\"RegisteredPartnership\": \"Geregistreerd partnerschap\",\n\t\"LivingTogetherWithAgreement\": \"Samenlevingscontract\",\n\t\"CivilPartnership\": \"Geregistreerd partnerschap\",\n\t\"ElementarySchool\": \"Basisschool\",\n\t\"HighSchool\": \"Middelbaar onderwijs\",\n\t\"VocationalSecondarySchoolJunior\": \"LBO\",\n\t\"VocationalSecondarySchoolSenior\": \"MBO\",\n\t\"College\": \"HBO\",\n\t\"University\": \"Universitair\",\n\t\"verificationTransactionID\": \"Verificatie Transaction Id\",\n\t\"setDateValue\": \"Set\",\n\t\"scanQRcode\": \"Scan QR code\",\n\t\"myDocuments\": \"My Documents\",\n\t\"confirmRevoke\": \"Ask {1} to delete this document from their records?\",\n\t\"Netherlands\": \"Nederland\",\n\t\"France\": \"Frankrijk\",\n\t\"French\": \"Frans\",\n\t\"Dutch\": \"Nederlandse\",\n\t\"English\": \"Engels\",\n\t\"American\": \"Amerikaans\",\n\t\"Russian\": \"Russisch\",\n\t\"Russia\": \"Rusland\",\n\t\"Passport\": \"Passpoort\",\n\t\"ResidencePermit\": \"Verblijfsvergunning\",\n\t\"IdCard\": \"Identiteitskaart\",\n\t\"shareProduct\": \"I see you\\\\'ve already had your {1} verified\",\n\t\"shareMyProduct\": \"You can tap below to share {1} with {2}\",\n\t\"switchTouchIdOff\": \"Switch touch ID off\",\n\t\"switchTouchIdOn\": \"Switch touch ID on\",\n\t\"noConnection\": \"Tradle requires a working internet connection which yostru don't have at the moment\",\n\t\"noConnectionWillProcessLater\": \"Tradle requires a working internet connection which you don't have at the moment. The request will be processed when connection returns\",\n\t\"noConnectionForPL\": \"Tradle requires a working internet connection to request a list of products from {1} which you don't have at the moment\",\n\t\"noConnectionForNewProduct\": \"{1}, Tradle requires a working internet connection to fill out the {2} application.\",\n\t\"inProgress\": \"Your request is in progress\",\n\t\"newContactRequest\": \"{1} sent you contact request\",\n\t\"howCanIHelpYou\": \"Hello {1}. My name is {2}. How can I help you today?\",\n\t\"pleaseCorrectTheErrors\": \"Please correct error in the form\",\n\t\"verifierHelp\": \"Click 'Done' button after reviewing the form. If some fields require correction check them them first and then click the 'Done' button\",\n\t\"addAnotherFormOrGetNext\": \"Add another {1} or get next form\",\n\t\"getNextForm\": \"Get next form\",\n\t\"addSameForm\": \"Add same form\",\n\t\"areYouSureAboutNextForm\": \"Are you sure you are done with {1}.\"\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./utils/strings_nl.json\n ** module id = 1084\n ** module chunks = 0\n **/","var map = {\n\t\"./dictionary_en.json\": 1508,\n\t\"./dictionary_nl.json\": 1509,\n\t\"./dictionary_ru.json\": 1510\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1507;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/@tradle/models ^\\.\\/dictionary_.*\\.json$\n ** module id = 1507\n ** module chunks = 0\n **/","'use strict';\n\nvar Reflux = require('reflux');\nvar debug = require('debug')('Actions')\n\nvar actionProps = {}\nvar asyncActions = [\n  'addItem',\n  'addMessage',\n  'getItem',\n  'getMe',\n  'getTo',\n  'getFrom',\n  'getEmployeeInfo',\n  'addNewIdentity',\n  'removeIdentity',\n  'showIdentityList',\n  'changeIdentity',\n  'reloadDB',\n  'reloadModels',\n  'list',\n  'listSharedWith',\n  'messageList',\n  'productList',\n  'addModelFromUrl',\n  'start',\n  'share',\n  'addVerification',\n  'startTransition',\n  'endTransition',\n  'talkToRepresentative',\n  'saveTemporary',\n  'getTemporary',\n  'cleanup',\n  'forgetMe',\n  'updateMe',\n  'scheduleUpdate',\n  'genPairingData',\n  'sendPairingRequest',\n  'processPairingRequest',\n  'processPairingResponse',\n  'pairingRequestAccepted',\n  'addApp',\n]\n\nvar syncActions = [\n  'setAuthenticated',\n  'downloadedCodeUpdate',\n  'requestWipe'\n]\n\nasyncActions.forEach(name => actionProps[name] = {})\nsyncActions.forEach(name => {\n  actionProps[name] = { sync: true }\n})\n\nvar Actions = Reflux.createActions(actionProps)\n\nObject.keys(Actions).forEach((name) => {\n  var fn = Actions[name]\n  Actions[name] = function () {\n    debug('Actions.' + name)\n    return fn.apply(this, arguments)\n  }\n\n  for (var p in fn) {\n    Actions[name][p] = fn[p]\n  }\n})\n\nmodule.exports = Actions;\n\n\n\n/** WEBPACK FOOTER **\n ** ./Actions/Actions.js\n **/","\nconst debug = require('debug')('tradle:app:local-auth')\nimport { Alert, Platform } from 'react-native'\nconst LocalAuth = Platform.OS !== 'web' && require('react-native-local-auth')\nimport Errors from 'react-native-local-auth/data/errors'\n\nimport Q from 'q'\nimport Keychain from 'react-native-keychain'\nimport PasswordCheck from '../Components/PasswordCheck'\n\nconst ENV = require('../utils/env')\n\n// hack!\nhasTouchID().then(ENV.setHasTouchID)\n\nvar utils = require('../utils/utils')\nvar translate = utils.translate\nvar TouchIDOptIn = require('../Components/TouchIDOptIn')\nvar Actions = require('../Actions/Actions');\n\nconst PASSWORD_ITEM_KEY = 'app-password'\n\nconst isAndroid = Platform.OS === 'android'\nconst ForgivableTouchIDErrors = [\n  'LAErrorTouchIDNotAvailable',\n  'LAErrorTouchIDNotSupported',\n  'RCTTouchIDNotSupported'\n]\n\nconst FallbackToPasswordErrors = [\n  'LAErrorUserCancel',\n  'LAErrorSystemCancel'\n]\n\nconst LOCK_UP_MESSAGE = 'For the safety of your data, ' +\n                        'this application has been temporarily locked. ' +\n                        'Please try in 5 minutes.'\n\nconst LOCK_TIME = __DEV__ ? 5000 : 5 * 60 * 1000\n\n// const SETUP_MSG = 'Please set up Touch ID first, so the app can better protect your data.'\nconst AUTH_FAILED_MSG = 'Authentication failed'\nconst DEFAULT_OPTS = {\n  reason: 'unlock Tradle to proceed',\n  fallbackToPasscode: true,\n  suppressEnterPassword: false\n}\n\nconst PROMPTS = require('./password-prompts')\nconst PASSWORD_PROMPTS = getPasswordPrompts()\nconst PASSWORD_REGEX = /^(?=.*[A-Z])(?=.*[!@#$&*])(?=.*[0-9])(?=.*[a-z]).{10,}$/\n\nlet pendingAuth\nlet pendingEnrollRequest\nlet TIMEOUT = __DEV__ ? 1000 : 10 * 60 * 1000\n\nmodule.exports = {\n  TIMEOUT,\n  Errors,\n  setPassword,\n  signIn,\n  hasTouchID,\n  authenticateUser\n}\n\nfunction hasTouchID () {\n  if (!LocalAuth) return Promise.resolve(false)\n\n  return LocalAuth.hasTouchID()\n    .then(() => true, err => false)\n}\n\n/**\n * Native authentication, e.g. TouchID or PIN\n * @param  {Object=DEFAULT_OPTS} opts\n * @return {Promise}\n */\nfunction authenticateUser (opts) {\n  // prevent two authentication requests from\n  // going in concurrently and causing problems\n  if (pendingAuth) return pendingAuth\n\n  opts = typeof opts === 'string' ? { reason: opts} : opts || {}\n  opts = { ...DEFAULT_OPTS, ...opts }\n  return pendingAuth = LocalAuth.authenticate(opts)\n    .then(() => {\n      pendingAuth = undefined\n    })\n    .catch((err) => {\n      pendingAuth = undefined\n\n      if (__DEV__ && !(err.name in Errors)) {\n        let message = `error: ${err.message}, stack: ${err.stack}`\n        debug(JSON.stringify(err))\n        Alert.alert(message)\n      }\n\n      throw err\n    })\n}\n\nfunction touchIDOrNothing () {\n  return authenticateUser()\n    .catch(requestEnrollTouchID)\n}\n\nfunction requestEnrollTouchID () {\n  if (pendingEnrollRequest) return pendingEnrollRequest\n\n  return pendingEnrollRequest = new Promise(resolve => {\n    Alert.alert('Error', 'Please enable TouchID, then press OK', [\n      {\n        text: 'OK',\n        onPress: function () {\n          pendingEnrollRequest = null\n          touchIDOrNothing().then(resolve)\n        }\n      }\n    ])\n  })\n}\n\nfunction signIn(navigator, newMe, isChangePassword) {\n  let me = utils.getMe()\n  // if (!me)\n  //   return register(cb)\n  if (me.isAuthenticated  &&  !newMe)\n    return Q()\n\n  let authPromise\n  let requireTouchID = me.useTouchId\n  if (me.useTouchId  &&  me.useGesturePassword)\n    authPromise = touchIDAndPasswordAuth(navigator, isChangePassword)\n  else if (me.useTouchId)\n    authPromise = touchIDOrNothing()\n  else\n    authPromise = passwordAuth(navigator, isChangePassword)\n\n  return authPromise\n    .then(() => {\n      Actions.setAuthenticated(true)\n      if (isChangePassword) {\n        return setPassword(navigator, isChangePassword)\n      }\n    })\n}\n\n/**\n * Get touch ID, then get password\n * @param  {[type]} navigator [description]\n * @return {[type]}           [description]\n */\nfunction touchIDAndPasswordAuth(navigator, isChangePassword) {\n  if (isAndroid) return passwordAuth(navigator, isChangePassword)\n\n  return authenticateUser()\n    .then(\n      () => passwordAuth(navigator, isChangePassword),\n      err => {\n        if (ForgivableTouchIDErrors.indexOf(err.name) === -1) {\n          throw err\n        }\n\n        // the user may have enabled touch id but then disabled it from\n        // the Settings app\n        //\n        // there's not much we can do short of demanding that the user\n        // turn touch id back on\n        return passwordAuth(navigator, isChangePassword)\n      }\n    )\n}\n\n// function changePasswordAuth(navigator) {\n//   return checkPassword(navigator)\n//   .then(() => {\n//     return setPassword(navigator)\n//   })\n// }\n\n// function touchIDWithFallback(navigator) {\n//   if (isAndroid) return passwordAuth(navigator)\n\n//   return authenticateUser()\n//     .catch((err) => {\n//       if (err.name === 'LAErrorUserFallback' || err.name.indexOf('TouchID') !== -1)\n//         return passwordAuth(navigator)\n\n//       throw err\n//     })\n// }\n\nfunction passwordAuth (navigator, isChangePassword) {\n  // check if we have a password stored already\n  debug('passwordAuth')\n  return utils.getHashedPassword(PASSWORD_ITEM_KEY)\n    .then(\n      () => checkPassword(navigator, isChangePassword),\n      // registration must have been aborted.\n      // ask user to set a password\n      err => setPassword(navigator, isChangePassword)\n    )\n}\n\nfunction lockUp (err) {\n  // self.setState({isModalOpen: true})\n  if (utils.isWeb()) {\n    try {\n      Alert.alert(err)\n    } catch (err) {}\n  } else {\n    loopAlert(err)\n  }\n\n  debug('lockUp')\n  let doneWaiting\n  return utils.promiseDelay(LOCK_TIME)\n    .then(() => doneWaiting = true)\n\n  function loopAlert (err) {\n    Alert.alert(err, null, [\n      {\n        text: 'OK',\n        onPress: () => !doneWaiting && loopAlert(err)\n      }\n    ])\n  }\n}\n\nfunction setPassword (navigator, isChangePassword) {\n  const passwordSpec = utils.isWeb()\n    ? translate('textPasswordLimitations')\n    : translate('passwordLimitations')\n\n  const validate = utils.isWeb()\n    ? validateTextPassword\n    : validateGesturePassword\n\n  debug('setPassword')\n  return Q.Promise((resolve, reject) => {\n    navigator.push({\n      component: PasswordCheck,\n      id: 20,\n      noLeftButton: true,\n      passProps: {\n        ...PASSWORD_PROMPTS,\n        mode: PasswordCheck.Modes.set,\n        validate: validate,\n        isChange: isChangePassword,\n        // promptInvalidSet: translate('passwordLimitations'),\n        onSuccess: (pass) => {\n          utils.setHashedPassword(PASSWORD_ITEM_KEY, pass)\n          .then(() => {\n            Actions.updateMe({ isRegistered: true, useGesturePassword: true })\n            resolve()\n          })\n          .catch(reject)\n        }\n      }\n    })\n  })\n}\n\nfunction checkPassword (navigator, isChangePassword) {\n  debug('checkPassword')\n  // HACK\n  let routes = navigator.getCurrentRoutes()\n  let currentRoute = routes[routes.length - 1]\n  let push = currentRoute.component.displayName !== PasswordCheck.displayName\n  let defer = Q.defer()\n  let route = {\n    component: PasswordCheck,\n    id: 20,\n    noLeftButton: true,\n    passProps: {\n      ...PASSWORD_PROMPTS,\n      mode: PasswordCheck.Modes.check,\n      maxAttempts: 3,\n      isChange: isChangePassword,\n      isCorrect: (pass) => {\n        return utils.checkHashedPassword(PASSWORD_ITEM_KEY, pass)\n      },\n      onSuccess: () => defer.resolve(),\n      onFail: (err) => {\n        lockUp(LOCK_UP_MESSAGE)\n          .then(() => checkPassword(navigator))\n          .then(() => defer.resolve())\n      }\n    }\n  }\n\n  navigator[push ? 'push' : 'replace'](route)\n  return defer.promise\n}\n\n/*\n  ^                         Start anchor\n  (?=.*[A-Z])               Ensure string has an uppercase letter.\n  (?=.*[!@#$&*])            Ensure string has a special case letter.\n  (?=.*[0-9])               Ensure string has a digit.\n  (?=.*[a-z])               Ensure string has a lowercase letter\n  .{10,}                    Ensure string is of > length 10.\n  $                         End anchor.\n */\nfunction validateTextPassword (pass) {\n  if (__DEV__) return pass.length > 1\n\n  return PASSWORD_REGEX.test(pass)\n}\n\nfunction validateGesturePassword (pass) {\n  return pass.length > 4\n}\n\nfunction getPasswordPrompts () {\n  const prompts = PROMPTS[utils.isWeb() ? 'text' : 'gesture']\n  const translated = {}\n  for (var p in prompts) {\n    translated[p] = utils.translate(prompts[p])\n  }\n\n  return translated\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./utils/localAuth.js\n **/","'use strict'\n\nimport React, { PropTypes, Component } from 'react'\nimport {\n  View,\n  Text,\n  TextInput,\n  TouchableHighlight,\n  TouchableOpacity,\n  StyleSheet,\n  Dimensions\n} from 'react-native'\n\nimport t from 'tcomb-form-native'\nimport Icon from 'react-native-vector-icons/Ionicons'\nimport { translate } from '../../utils/utils'\nimport { makeResponsive } from 'react-native-orient'\nimport Actions from '../../Actions/Actions'\n// import FloatingLabel from 'react-native-floating-labels'\n\nconst Form = t.form.Form\nconst SetType = t.struct({\n  password: t.String,\n  passwordAgain: t.String\n})\n\nconst CheckType = t.struct({\n  password: t.String\n})\n\nconst Modes = {\n  set: 'set',\n  check: 'check'\n}\n\nconst ERROR_COLOR = '#a94442'\nconst NEUTRAL_COLOR = '#888888'\n\nclass PasswordCheck extends Component {\n  static displayName = 'PasswordCheck';\n  static propTypes = {\n    validate: PropTypes.func,\n    onSuccess: PropTypes.func,\n    onFail: PropTypes.func,\n    passwordRequirements: PropTypes.string,\n    submitText: PropTypes.string,\n    isCorrect: PropTypes.func,\n    maxAttempts: PropTypes.number,\n    promptSet: PropTypes.string,\n    promptCheck: PropTypes.string,\n    promptReenter: PropTypes.string,\n    promptRetrySet: PropTypes.string,\n    promptRetryCheck: PropTypes.string,\n    promptInvalidSet: PropTypes.string,\n    successMsg: PropTypes.string,\n    failMsg: PropTypes.string,\n    style: PropTypes.shape({\n      container: View.propTypes.style,\n      form: View.propTypes.style,\n      submit: View.propTypes.style,\n      submitText: View.propTypes.style\n    }),\n    mode: function (mode) {\n      return mode in Modes\n    }\n  };\n\n  constructor(props) {\n    super(props)\n    this.state = this.props.mode === 'set' ? this._getInitialSetState() : this._getInitialCheckState()\n    this.onPress = this.onPress.bind(this)\n    this.onChange = this.onChange.bind(this)\n  }\n\n  _getInitialSetState() {\n    return {\n      message: this.props.isChange ? this.props.promptSetChange : this.props.promptSet,\n      value: {\n        password: '',\n        passwordAgain: ''\n      },\n      errors: {\n        password: null,\n        passwordAgain: null\n      }\n    }\n  }\n\n  _getInitialCheckState() {\n    return {\n      message: this.props.isChange ? this.props.promptCheckCurrent : this.props.promptCheck,\n      value: {\n        password: ''\n      },\n      attempts: 0\n    }\n  }\n\n  _getInput(field) {\n    var component = this.refs.form.getComponent(field)\n    if (!component) return\n\n    var input = component.refs.input\n    if (!input) return\n\n    if (!input.focus) input = input.refs.input\n\n    return input\n  }\n\n  componentDidMount() {\n    const self = this\n    const password = this._getInput('password')\n    const passwordAgain = this._getInput('passwordAgain')\n    password.focus()\n    password.addEventListener('keydown', onKeyDown)\n    if (passwordAgain) passwordAgain.addEventListener('keydown', onKeyDown)\n\n    function onKeyDown (e) {\n      if (!this.value || self.isDisabled()) return\n\n      const code = e.keyCode ? e.keyCode : e.which\n      if (code == 13) { // Enter keycode\n        self.onPress()\n      }\n    }\n  }\n\n  onChange(value, path) {\n    if (this.props.mode === 'set') {\n      this._onChangeSet(...arguments)\n    } else {\n      this._onChangeCheck(...arguments)\n    }\n  }\n\n  _onChangeCheck(value, path) {\n    this.setState({value})\n  }\n\n  _onChangeSet(value, path) {\n    this.setState({\n      value,\n      errors: this.validatePasswordChoice(value, path[0] === 'passwordAgain')\n    })\n  }\n\n  validatePasswordChoice(value, both) {\n    var passwordError = this.props.validate(value && value.password || '')\n    if (passwordError === false) passwordError = this.props.promptInvalidSet\n    else if (passwordError === true) passwordError = null\n\n    const errors = {\n      password: passwordError\n    }\n\n    if (!passwordError && both) {\n      if (!value || value.password !== value.passwordAgain) {\n        errors.passwordAgain = this.props.promptRetrySet\n      }\n    }\n\n    return errors\n  }\n\n  onPress() {\n    if (this.isDisabled()) return\n\n    if (this.props.mode === 'set') {\n      this._onSet()\n    } else {\n      this._onCheck()\n    }\n  }\n\n  getValue() {\n    const password = this._getInput('password')\n    const passwordAgain = this._getInput('passwordAgain')\n    return {\n      password: password.value,\n      passwordAgain: passwordAgain && passwordAgain.value\n    }\n  }\n\n  _onSet() {\n    const errors = this.validatePasswordChoice(this.getValue(), true)\n    if (errors.password || errors.passwordAgain) {\n      this.setState({ errors })\n    } else {\n      this.props.onSuccess(this.state.value.password)\n    }\n  }\n\n  _onCheck() {\n    const fields = this.getValue()\n    if (!fields) return\n\n    const password = fields.password\n    const result = this.props.isCorrect(password)\n    const promise = typeof result === 'boolean' ? Promise.resolve(result) : result\n    return promise.then(isCorrect => {\n      if (isCorrect) return this.props.onSuccess(password)\n\n      const attempts = this.state.attempts + 1\n      this.setState({\n        attempts\n      }, () => {\n        if (attempts >= this.props.maxAttempts) {\n          return this.props.onFail()\n        }\n      })\n    })\n  }\n\n  isDisabled() {\n    return this.props.mode === 'check' && this.state.attempts >= this.props.maxAttempts\n  }\n\n  hasError() {\n    return this.props.mode === 'set'\n      ? !!(this.state.errors.password || this.state.errors.passwordAgain)\n      : this.state.attempts > 0\n  }\n\n  _getOptions() {\n    return this.props.mode === 'set' ? this._getSetOptions() : this._getCheckOptions()\n  }\n\n  _getSetOptions() {\n    return {\n      auto: 'placeholders',\n      fields: {\n        password: {\n          placeholder: 'Password',\n          password: true,\n          secureTextEntry: true,\n          error: this.state.errors.password,\n          hasError: !!this.state.errors.password,\n          help: this.props.passwordRequirements\n        },\n        passwordAgain: {\n          placeholder: 'Re-enter password',\n          password: true,\n          secureTextEntry: true,\n          hasError: !!this.state.errors.passwordAgain,\n          error: this.state.errors.passwordAgain\n        }\n      },\n      order: ['password', 'passwordAgain']\n    }\n  }\n\n  _getCheckOptions() {\n    return {\n      auto: 'placeholders',\n      fields: {\n        password: {\n          password: true,\n          secureTextEntry: true,\n          hasError: this.state.attempts > 0,\n          help: this.props.passwordRequirements\n        }\n      }\n    }\n  }\n\n  render() {\n    const options = this._getOptions()\n    const disabled = this.isDisabled()\n    if (disabled) {\n      t.update(options, {\n        fields: {\n          password: {\n            editable: {'$set': false}\n          }\n        }\n      })\n    }\n\n    const customStyle = this.props.style || {}\n    const type = this.props.mode === 'set' ? SetType : CheckType\n    const header = this.renderHeader()\n    let { width, height } = Dimensions.get('window')\n    const smaller = Math.min(width, height)\n    width = smaller / 2\n    // height = smaller / 4\n    return (\n      <View style={[styles.container, customStyle.container]}>\n        {header}\n        <View style={{ width }}>\n          <Form\n            ref=\"form\"\n            type={type}\n            options={options}\n            style={[styles.form, customStyle.form]}\n            value={this.state.value}\n            onChange={this.onChange}\n          />\n          <TouchableOpacity\n            style={[styles.button, customStyle.submit, { alignItems: 'center' }]}\n            onPress={this.onPress}\n            disabled={disabled}>\n            <Icon\n              name='ios-lock'\n              size={this.props.iconSize || 100}\n              style={{color: this.hasError() ? ERROR_COLOR : NEUTRAL_COLOR }}\n            />\n          </TouchableOpacity>\n        </View>\n        {this.renderFooter()}\n      </View>\n    )\n  }\n\n  renderHeader() {\n    const style = this.hasError() ? styles.error : styles.prompt\n    return (\n      <Text style={[styles.header, style]}>{this.state.message}</Text>\n    )\n  }\n\n  renderFooter() {\n    if (this.props.mode === 'set') return\n\n    return (\n      <TouchableOpacity style={styles.footer} onPress={() => Actions.requestWipe()}>\n        <Text style={styles.danger}>Wipe device</Text>\n      </TouchableOpacity>\n    )\n  }\n  // <Text style={[styles.buttonText, customStyle.submitText]}>{this.props.submitText || 'Save'}</Text>\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#efefef',\n    // backgroundColor: 'transparent',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20\n  },\n  form: {\n    alignSelf: 'stretch',\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  header: {\n    fontSize: 25,\n    padding: 50,\n    textAlign: 'center'\n  },\n  error: {\n    color: ERROR_COLOR\n  },\n  prompt: {\n    color: NEUTRAL_COLOR\n  },\n  footer: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    bottom: 0,\n    paddingRight: 5,\n    textAlign: 'right'\n  },\n  danger: {\n    color: '#ff8888'\n  }\n  // buttonText: {\n  //   fontSize: 18,\n  //   color: '#ffffff',\n  //   alignSelf: 'center'\n  // },\n  // button: {\n  //   // height: 36,\n  //   // backgroundColor: '#48BBEC',\n  //   // borderColor: '#48BBEC',\n  //   // borderWidth: 1,\n  //   // borderRadius: 8,\n  //   // marginBottom: 10,\n  //   // alignSelf: 'stretch',\n  //   justifyContent: 'center'\n  // }\n})\n\nexports = module.exports = makeResponsive(PasswordCheck)\nexports.Modes = Modes\n\n\n\n/** WEBPACK FOOTER **\n ** ./web/shims/PasswordCheck.js\n **/","\nimport {\n  View,\n  Text,\n  Image,\n  StyleSheet,\n  TouchableHighlight,\n  Dimensions\n} from 'react-native'\n\nimport React, { Component, PropTypes } from 'react'\nimport ArticleView from './ArticleView'\nimport utils from '../utils/utils'\n\nconst BG_IMAGE = require('../img/bg.png')\nconst TOUCH_ID_IMG = require('../img/touchid2.png')\nconst LINK_COLOR = '#7AAAC3'\nconst BTN_COLOR = LINK_COLOR\n\nclass TouchIDOptIn extends Component {\n  props: {\n    optIn: PropTypes.func.isRequired,\n    navigator: PropTypes.object.isRequired\n  };\n  learnMore() {\n    this.props.navigator.push({\n      id: 7,\n      component: ArticleView,\n      backButtonTitle: 'Back',\n      passProps: {\n        url: 'https://support.apple.com/en-us/HT204587'\n      }\n    })\n  }\n  render() {\n        // <Image source={BG_IMAGE} style={{position:'absolute', left: 0, top: 0, width: Device.width, height: Device.height}} />\n    let { width, height } = utils.dimensions(TouchIDOptIn)\n          // <Text style={[styles.text, { paddingTop: 20, fontSize: 15 }]}>\n          //   You can always enable/disable it on your profile\n          // </Text>\n    return (\n      <View style={styles.container}>\n        <View style={styles.headingContainer}>\n          <Text style={[styles.text, { fontSize: 30 }]}>\n            Enable Touch ID?\n          </Text>\n        </View>\n        <View style={styles.imgContainer}>\n          <Image resizeMode='contain' source={TOUCH_ID_IMG} />\n        </View>\n        <View style={styles.quoteContainer}>\n          <Text style={[styles.text, styles.quoteText]}>\n            \"iOS and other apps never access your fingerprint data, it's never stored on\n            Apple servers, and it's never backed up to iCloud or anywhere else.\"\n          </Text>\n          <TouchableHighlight underlayColor='transparent' onPress={this.learnMore.bind(this)}>\n            <Text style={[styles.text, styles.optInText, { color: LINK_COLOR }]}>\n              -Apple\n            </Text>\n          </TouchableHighlight>\n        </View>\n        <TouchableHighlight\n            underlayColor={BTN_COLOR}\n            style={[styles.btnContainer, { width: width }]}\n            onPress={this.props.optIn}>\n           <Text style={styles.btnText}>\n             Enable\n           </Text>\n        </TouchableHighlight>\n      </View>\n    )\n  }\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  headingContainer: {\n    flex: 0.3,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  imgContainer: {\n    flex: 0.2,\n    justifyContent: 'center'\n  },\n  quoteContainer: {\n    flex: 0.4,\n    justifyContent: 'center',\n    paddingHorizontal: 20\n  },\n  btnContainer: {\n    flex: 0.1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: BTN_COLOR\n  },\n  text: {\n    // color: '#ffffff'\n  },\n  btn: {\n    paddingVertical: 10,\n    paddingHorizontal: 30,\n    backgroundColor: 'transparent'\n  },\n  optInText: {\n    fontSize: 15\n  },\n  quoteText: {\n    fontSize: 15,\n    fontStyle: 'italic',\n    paddingBottom: 20\n  },\n  btnText: {\n    fontSize: 20,\n    color: '#ffffff',\n    // color: LINK_COLOR\n  }\n})\n\nmodule.exports = TouchIDOptIn\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/TouchIDOptIn.js\n **/","import {\n  View,\n  Text,\n  ScrollView,\n  StyleSheet,\n} from 'react-native'\n\nimport React, { Component } from 'react'\nimport ActivityIndicator from './ActivityIndicator'\nimport WebView from './WebView'\nimport utils from '../utils/utils'\n\nclass ArticleView extends Component {\n  constructor(props) {\n    super(props);\n  }\n  renderError(domain, code, description) {\n    return <Text  style={styles.error}>error :( - {description ? description : ''}</Text>\n  }\n  renderLoading() {\n    return (\n      <ScrollView contentContainerStyle={styles.contentContainer}>\n        <View style={styles.container}>\n          <View style={styles.loading}>\n            <Text>Loading...</Text>\n            <ActivityIndicator style={{alignSelf: 'center'}} />\n          </View>\n        </View>\n      </ScrollView>\n    )\n  }\n  render() {\n    return (\n      <WebView style={styles.webView}\n        source={{ uri: this.props.url }}\n        startInLoadingState={true}\n        renderError={this.renderError.bind(this)}\n        automaticallyAdjustContentInsets={false}\n        renderLoading={this.renderLoading}/>\n    );\n  }\n}\n\nvar styles = StyleSheet.create({\n  contentContainer: {\n    padding: 10,\n  },\n  container: {\n    flex: 1\n  },\n  error: {\n    marginTop: 160,\n    paddingHorizontal: 20,\n    fontSize: 20,\n    color: '#7AAAC3'\n  },\n  webView: {\n    backgroundColor: '#ffffff',\n    marginTop: 60,\n    height: utils.isWeb() ? '100%' : 350\n  },\n\n})\n\nmodule.exports = ArticleView;\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/ArticleView.js\n **/","\nimport {\n  Platform,\n  ActivityIndicator,\n  ActivityIndicatorIOS\n} from 'react-native'\n\nconst impl = ActivityIndicator || ActivityIndicatorIOS\nexport default impl\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/ActivityIndicator.js\n **/","\nimport {\n  Platform,\n  WebView\n} from 'react-native'\n\nif (Platform.OS === 'web') {\n  module.exports = props => {\n    var {\n      src,\n      source,\n      style\n    } = props\n\n    src = src || source.uri\n    style = style || {}\n    return (\n      <iframe src={src} style={style}></iframe>\n    )\n  }\n} else {\n  module.exports = WebView\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/WebView.js\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAV4AAADcCAIAAAC3Rl4qAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowMTgwMTE3NDA3MjA2ODExOEMxNEREMzFCODJGRDRBNiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowMjNCNEQ2QTk2MjcxMUU1OUI3Q0JFREZDMEUxQkZDRSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowMjNCNEQ2OTk2MjcxMUU1OUI3Q0JFREZDMEUxQkZDRSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjAyODAxMTc0MDcyMDY4MTE4QzE0REQzMUI4MkZENEE2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjAxODAxMTc0MDcyMDY4MTE4QzE0REQzMUI4MkZENEE2Ii8+IDwvcmRmOkRlc2NyaXB0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\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./img/bg.png\n ** module id = 1671\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,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\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./img/touchid2.png\n ** module id = 1672\n ** module chunks = 0\n **/","\nimport {\n  Platform\n} from 'react-native'\n\n// maps to strings_en.json\nconst TEXT_PASSWORD_PROMPTS = {\n  promptSet: 'setPassword',\n  promptSetChange: 'setNewPassword',\n  promptRetrySet: 'passwordsDontMatch',\n  promptCheck: 'enterPassword',\n  promptCheckCurrent: 'enterCurrentPassword',\n  promptInvalidSet: 'textPasswordLimitations',\n  successMsg: 'correctPassword',\n  failMsg: 'tooManyPasswordAttempts'\n}\n\nconst GESTURE_PASSWORD_PROMPTS = {\n  promptSet: 'pleaseDrawPassword',\n  promptSetChange: 'drawYourNewPassword',\n  promptRetrySet: 'patternNotMatching',\n  promptCheck: 'drawYourPassword',\n  promptCheckCurrent: 'drawYourOldPassword',\n  promptReenter: 'drawYourPasswordAgain',\n  promptReenterChange: 'drawYourNewPasswordAgain',\n  promptRetryCheck: 'gestureNotRecognized',\n  promptInvalidSet: 'passwordLimitations',\n  successMsg: 'correctGesture',\n  failMsg: 'authenticationFailed'\n}\n\nmodule.exports = {\n  text: TEXT_PASSWORD_PROMPTS,\n  gesture: GESTURE_PASSWORD_PROMPTS\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./utils/password-prompts.js\n **/","import utils from '../utils/utils'\n\nmodule.exports = utils.isAndroid()\n  ? require('./platform.android') : utils.isIOS()\n  ? require('./platform.ios') : require('./platform.web')\n\n\n\n/** WEBPACK FOOTER **\n ** ./styles/platform.js\n **/","'use strict';\n\nimport {StyleSheet, Platform} from 'react-native';\nimport {getFontSize} from '../utils/utils'\nmodule.exports = exports = StyleSheet.create({\n  container: {\n    backgroundColor: '#f7f7f7',\n    marginTop: 56,\n    flex: 1,\n  },\n  navBarText: {\n    marginTop: 19,\n    fontSize: 17,\n  },\n  menuButtonNarrow: {\n    marginTop: 2,\n    paddingHorizontal: 5\n  },\n  menuButtonRegular: {\n    marginTop: 2,\n    paddingHorizontal: 5\n  },\n  menuButton: {\n    marginTop: 5,\n    paddingHorizontal: 5\n  },\n  touchIdText: {\n    color: '#2E3B4E',\n    fontSize: 18,\n    marginTop: 7,\n    marginLeft: 15,\n    alignSelf: 'flex-start'\n  }\n})\nvar menuIcon = {\n  name: 'md-menu',\n  color: 'red'\n}\nexports.MenuIcon = menuIcon\n\n\n\n/** WEBPACK FOOTER **\n ** ./styles/platform.android.js\n **/","'use strict';\n\nimport {StyleSheet} from 'react-native';\n\nmodule.exports = exports = StyleSheet.create({\n  container: {\n    backgroundColor: '#f7f7f7',\n    marginTop: 64,\n    flex: 1,\n  },\n  navBarText: {\n    marginTop: 10,\n    fontSize: 17\n  },\n  menuButtonNarrow: {\n    marginTop: -23,\n    paddingVertical: 5,\n    paddingHorizontal: 21,\n    height: 45,\n    borderRadius: 24,\n    // shadowOffset:{width: 5, height: 5},\n    shadowOpacity: 1,\n    shadowRadius: 5,\n    shadowColor: '#afafaf',\n    backgroundColor: 'red'\n  },\n  menuButton: {\n    marginTop: -23,\n    paddingVertical: 5,\n    paddingHorizontal: 13,\n    borderRadius: 24,\n    // shadowOffset:{width: 5, height: 5},\n    shadowOpacity: 1,\n    shadowRadius: 5,\n    shadowColor: '#afafaf',\n    backgroundColor: 'red'\n  },\n  menuButtonRegular: {\n    marginTop: -20,\n    paddingVertical: 5,\n    paddingHorizontal: 10,\n    borderRadius: 24,\n    // shadowOffset:{width: 5, height: 5},\n    shadowOpacity: 1,\n    shadowRadius: 5,\n    shadowColor: '#afafaf',\n    backgroundColor: 'red'\n  },\n  touchIdText: {\n    color: '#2E3B4E',\n    fontSize: 18,\n    marginTop: 10,\n    marginLeft: 15,\n    alignSelf: 'flex-start'\n  }\n\n})\n\nvar menuIcon = {\n  name: 'md-more',\n  color: '#ffffff'\n}\n\nexports.MenuIcon = menuIcon\n\n// Object.defineProperty(exports, 'MB', {\n//   icon: 'md-more',\n//   color: '#ffffff'\n// })\n\n\n\n/** WEBPACK FOOTER **\n ** ./styles/platform.ios.js\n **/","'use strict';\n\nimport {StyleSheet} from 'react-native';\n\nmodule.exports = exports = StyleSheet.create({\n  container: {\n    // backgroundColor: '#f7f7f7',\n    marginTop: 64,\n    flex: 1,\n  },\n  navBarText: {\n    marginTop: 5,\n    fontSize: 17\n  },\n  menuButtonNarrow: {\n    marginTop: -23,\n    paddingVertical: 5,\n    paddingHorizontal: 21,\n    height: 45,\n    borderRadius: 24,\n    // shadowOffset:{width: 5, height: 5},\n    shadowOpacity: 1,\n    shadowRadius: 5,\n    shadowColor: '#afafaf',\n    backgroundColor: 'red'\n  },\n  menuButton: {\n    marginTop: -23,\n    paddingVertical: 5,\n    paddingHorizontal: 13,\n    borderRadius: 24,\n    // shadowOffset:{width: 5, height: 5},\n    shadowOpacity: 1,\n    shadowRadius: 5,\n    shadowColor: '#afafaf',\n    backgroundColor: 'red'\n  },\n  menuButtonRegular: {\n    marginTop: -20,\n    paddingVertical: 5,\n    paddingHorizontal: 10,\n    borderRadius: 24,\n    // shadowOffset:{width: 5, height: 5},\n    shadowOpacity: 1,\n    shadowRadius: 5,\n    shadowColor: '#afafaf',\n    backgroundColor: 'red'\n  },\n  touchIdText: {\n    color: '#2E3B4E',\n    fontSize: 18,\n    marginTop: 10,\n    marginLeft: 15,\n    alignSelf: 'flex-start'\n  }\n\n})\n\nvar menuIcon = {\n  name: 'md-more',\n  color: '#ffffff'\n}\n\nexports.MenuIcon = menuIcon\n\n// Object.defineProperty(exports, 'MB', {\n//   icon: 'md-more',\n//   color: '#ffffff'\n// })\n\n// module.exports = require('./platform.ios.js')\n\n\n\n/** WEBPACK FOOTER **\n ** ./styles/platform.web.js\n **/","'use strict';\n\nimport React, {\n  Navigator,\n  Platform\n} from 'react-native';\n\nconst buildStyleInterpolator = Platform.OS === 'web' && require('react-web/lib/Navigator/polyfills/buildStyleInterpolator')\n\nconst NoTransition = {\n  opacity: {\n    value: 1.0,\n    type: 'constant',\n  }\n}\n\nconst Transitions = {\n  NONE: {\n    ...Navigator.SceneConfigs.FadeAndroid,\n    gestures: null,\n    defaultTransitionVelocity: 1000,\n    animationInterpolators: {\n      into: buildStyleInterpolator(NoTransition),\n      out: buildStyleInterpolator(NoTransition)\n    }\n  }\n}\n\nexport default Transitions\n\n\n\n/** WEBPACK FOOTER **\n ** ./utils/transitions.js\n **/","\n// TODO:\n//   https://github.com/mozilla/serviceworker-cookbook/tree/master/push-get-payload\n//   https://github.com/markdalgleish/serviceworker-loader\n\nmodule.exports = 'serviceWorker' in global.navigator && 'PushManager' in global\n  ? require('./web-push')\n  : require('./no-push')\n\n\n\n/** WEBPACK FOOTER **\n ** ./web/shims/push.js\n **/","\n'use strict'\n\nimport utils from '../../utils/utils'\nimport Actions from '../../Actions/Actions'\nimport ENV from '../../utils/env'\nimport { constants } from '@tradle/engine'\nconst TYPE = constants.TYPE\nconst debug = require('debug')('tradle:sse-push')\n// http://michalzalecki.com/progressive-web-apps-with-webpack/\nconst swURL = require('file?name=service-worker.js!./service-worker')\nconst pushServerURL = __DEV__ ? `http://${ENV.LOCAL_IP}:48284` : 'https://push1.tradle.io'\n// const pushServerURL = `http://${ENV.LOCAL_IP}:48284`\n\nlet initialized\nlet initialize = new Promise(resolve => {\n  initialized = resolve\n})\n\nconst Local = require('./no-push')\n\nexports.init = function (opts) {\n  Local.init(opts)\n\n  const node = opts.node\n  return navigator.serviceWorker.register(swURL)\n  .then(function(registration) {\n    // Use the PushManager to get the user's subscription to the push service.\n    return registration.pushManager.getSubscription()\n      .then(function(subscription) {\n        // If a subscription was found, return it.\n        if (subscription) {\n          return subscription\n        }\n\n        // Otherwise, subscribe the user (userVisibleOnly allows to specify that we don't plan to\n        // send notifications that don't have a visible effect for the user).\n        return registration.pushManager.subscribe({ userVisibleOnly: true })\n      })\n  })\n  .then(function(subscription) {\n    return postWithRetry(node, '/subscriber', {\n      [TYPE]: 'tradle.PNSRegistration',\n      identity: node.identity,\n      token: subscription.endpoint.split('/').pop(),\n      // endpoint: subscription.endpoint,\n      protocol: 'gcm'\n    })\n  })\n  .then(\n    () => initialized(opts),\n    err => {\n      console.error('failed to register service worker for Push notifications', err)\n      throw err\n    }\n  )\n}\n\nexports.subscribe = function (publisher) {\n  return initialize.then(opts => {\n    const node = opts.node\n    return postWithRetry(node, '/subscription', {\n      [TYPE]: 'tradle.PNSSubscription',\n      publisher: publisher,\n      subscriber: node.permalink\n    })\n  })\n}\n\nexports.resetBadgeNumber = function () {\n  return Promise.resolve()\n}\n\n// function S4() {\n//   return (((1+Math.random())*0x10000)|0).toString(16).slice(1)\n// }\n\n// // generate the user private channel and save it at the local storage\n// // so we always use the same channel for each user\n// function generateUserChannel(){\n//   userChannel = localStorage.getItem('channel')\n//   if (userChannel == null || userChannel == 'null'){\n//     guid = (S4() + S4() + '-' + S4() + '-4' + S4().substr(0,3) + '-' + S4() + '-' + S4() + S4() + S4()).toLowerCase()\n//     userChannel = 'channel-' + guid\n//     localStorage.setItem('channel', userChannel)\n//   }\n\n//   return userChannel\n// }\n\n\n/**\n * Copied from utils/push.js\n * TODO: factor out\n *\n * POST until successful\n * @param  {[type]} path [description]\n * @param  {[type]} body [description]\n * @return {[type]}      [description]\n */\nfunction postWithRetry (node, path, body) {\n  if (path[0] === '/') path = path.slice(1)\n\n  return node.sign({\n    object: body\n  })\n  .then(result => {\n    // TODO: encode body with protocol buffers to save space\n    return utils.fetchWithBackoff(`${pushServerURL}/${path}`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(result.object)\n    }, 10000)\n  })\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./web/shims/web-push.js\n **/","module.exports = __webpack_public_path__ + \"service-worker.js\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/file-loader?name=service-worker.js!./web/shims/service-worker.js\n ** module id = 1681\n ** module chunks = 0\n **/","if ('Notification' in global) {\n  requestPermissions()\n}\n\nlet tabIsFocused = true\nlet me\n\nwindow.addEventListener('blur', function () {\n  tabIsFocused = false\n})\n\nwindow.addEventListener('focus', function () {\n  if (me && me.unreadPushNotifications) {\n    Actions.updateMe({ unreadPushNotifications: 0 })\n  }\n\n  tabIsFocused = true\n})\n\nexports.init = function (opts) {\n  me = opts.me\n  const node = opts.node\n  node.on('message', function () {\n    if (tabIsFocused || Notification.permission !== 'granted') return\n\n    // TODO: show logo of msg sender\n    const n = new Notification('You have a message waiting!', {\n      body: 'Click to open your Tradle tab',\n      icon: '/img/logo.png'\n    })\n\n    n.onclick = function () {\n      try {\n        window.focus()\n      } catch (e) {}\n\n      clearTimeout(closeTimeout)\n      n.close()\n    }\n\n    const closeTimeout = setTimeout(() => n.close(), 5000)\n  })\n}\n\nexports.subscribe = function () {\n  return Promise.resolve()\n}\n\nexports.resetBadgeNumber = function () {\n  return Promise.resolve()\n}\n\nfunction requestPermissions () {\n  if (Notification.permission === 'granted') return\n\n  // Let's check whether notification permissions have already been granted\n  if (Notification.permission !== 'denied') {\n    Notification.requestPermission(function (permission) {\n      if (permission === 'granted') {\n        console.log('notifications permission granted')\n      }\n    })\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./web/shims/no-push.js\n **/","\nconst navs = new Map()\n\nmodule.exports = {\n  watch: nav => {\n    if (navs.has(nav)) return\n\n    let _currentRoute\n    navs.set(nav, {\n      get currentRoute() { return _currentRoute }\n    })\n\n    nav.navigationContext.addListener('willfocus', function (e) {\n      _currentRoute = e.data.route\n    })\n  },\n  getCurrentRoute: nav => {\n    var watcher = navs.get(nav)\n    if (!watcher) throw new Error('nav not found! Run navs.watch(nav) first')\n\n    return watcher.currentRoute\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./utils/navs.js\n **/","module.exports = {}\n\n\n\n/** WEBPACK FOOTER **\n ** ./web/empty.js\n **/","'use strict';\n\nvar NoResources = require('./NoResources');\nvar ResourceRow = require('./ResourceRow');\nvar ResourceView = require('./ResourceView');\nvar VerificationRow = require('./VerificationRow');\nvar NewResource = require('./NewResource');\nvar MessageList = require('./MessageList');\nvar PageView = require('./PageView')\nvar MessageView = require('./MessageView')\nimport ActionSheet from 'react-native-actionsheet'\nvar utils = require('../utils/utils');\nvar translate = utils.translate\nvar reactMixin = require('react-mixin');\nvar extend = require('extend')\nvar Store = require('../Store/Store');\nvar Actions = require('../Actions/Actions');\nvar Reflux = require('reflux');\nvar constants = require('@tradle/constants');\nvar Icon = require('react-native-vector-icons/Ionicons');\nvar QRCodeScanner = require('./QRCodeScanner')\nvar QRCode = require('./QRCode')\nvar buttonStyles = require('../styles/buttonStyles');\nvar NetworkInfoProvider = require('./NetworkInfoProvider')\nvar defaultBankStyle = require('../styles/bankStyle.json')\n\nconst WEB_TO_MOBILE = '0'\nconst TALK_TO_EMPLOYEEE = '1'\nconst APP_QR_CODE = '5'\n// var bankStyles = require('../styles/bankStyles')\nconst ENUM = 'tradle.Enum'\n\nimport React, { Component, PropTypes } from 'react'\nimport {\n  ListView,\n  StyleSheet,\n  Navigator,\n  Alert,\n  // AlertIOS,\n  // ActionSheetIOS,\n  TouchableOpacity,\n  Image,\n  View,\n  Text,\n  Platform\n} from 'react-native';\n\nimport platformStyles from '../styles/platform'\nimport StatusBar from './StatusBar'\n\nconst SearchBar = Platform.OS !== 'ios' ? null : require('react-native-search-bar')\n\nclass ResourceList extends Component {\n  props: {\n    navigator: PropTypes.object.isRequired,\n    modelName: PropTypes.string.isRequired,\n    resource: PropTypes.object.isRequired,\n    returnRoute: PropTypes.object,\n    callback: PropTypes.func,\n    filter: PropTypes.string,\n    sortProperty: PropTypes.string,\n    prop: PropTypes.object,\n    isAggregation: PropTypes.bool,\n    isRegistration: PropTypes.bool,\n  };\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      // isLoading: utils.getModels() ? false : true,\n      isLoading: true,\n      dataSource: new ListView.DataSource({\n        rowHasChanged: function(row1, row2) {\n          return row1 !== row2\n        }\n      }),\n      allowToAdd: this.props.prop  &&  this.props.prop.allowToAdd,\n      filter: this.props.filter,\n      show: false,\n      isConnected: this.props.navigator.isConnected,\n      userInput: '',\n    };\n    var isRegistration = this.props.isRegistration ||  (this.props.resource  &&  this.props.resource[constants.TYPE] === constants.TYPES.PROFILE  &&  !this.props.resource[constants.ROOT_HASH]);\n    if (isRegistration)\n      this.state.isRegistration = isRegistration;\n    if (this.props.chat) {\n      this.state.sharedWith = {}\n      var routes = this.props.navigator.getCurrentRoutes()\n      routes[routes.length - 1].onRightButtonPress = this.done.bind(this)\n    }\n  }\n  done() {\n    let orgs = []\n    for (let orgId in this.state.sharedWith) {\n      if (!this.state.sharedWith[orgId])\n        continue\n      orgs.push(orgId)\n//       for (var rep in this.state.sharedWithMapping) {\n//         let org = this.state.sharedWithMapping[rep]\n//         if (utils.getId(org) === orgId)\n//           reps.push(rep)\n//       }\n    }\n    // if (reps.length)\n    this.props.callback(orgs)\n  }\n  componentWillUnmount() {\n    if (this.props.navigator.getCurrentRoutes().length === 1)\n      StatusBar.setHidden(true)\n  }\n  componentWillMount() {\n    if (this.props.chat) {\n      utils.onNextTransitionEnd(this.props.navigator, () => {\n        Actions.listSharedWith(this.props.resource, this.props.chat)\n      });\n      return\n    }\n    var params = {\n      modelName: this.props.modelName,\n      // to: this.props.resource\n    };\n    if (this.props.isAggregation)\n      params.isAggregation = true;\n    if (this.props.sortProperty)\n      params.sortProperty = this.props.sortProperty;\n    if (this.props.prop)\n      params.prop = utils.getModel(this.props.resource[constants.TYPE]).value.properties[this.props.prop.name];\n    if (params.prop) {\n      let m = utils.getModel(this.props.resource[constants.TYPE]).value\n      // case when for example clicking on 'Verifications' on Form page\n      if (m.interfaces) {\n        // if (utils.getModel(this.props.modelName).value.interfaces)\n        //   params.to = this.props.resource.to\n        params.resource = this.props.resource\n      }\n\n//       params.resource = this.props.resource\n    }\n    else\n      params.to = this.props.resource\n\n    // this.state.isLoading = true;\n    utils.onNextTransitionEnd(this.props.navigator, () => {\n      Actions.list(params)\n      StatusBar.setHidden(false);\n    });\n  }\n\n  componentDidMount() {\n    this.listenTo(Store, 'onListUpdate');\n  }\n\n  onListUpdate(params) {\n    if (params.error)\n      return;\n\n    var action = params.action;\n    if (action === 'newContact') {\n      let routes = this.props.navigator.getCurrentRoutes()\n      let curRoute = routes[routes.length - 1]\n      if (curRoute.id === 11  &&  curRoute.passProps.resource[constants.ROOT_HASH] === params.to[constants.ROOT_HASH])\n        return\n      let style = this.mergeStyle(params.to.style)\n      this.props.navigator[curRoute.id === 3 ? 'replace' : 'push']({\n        title: params.to.firstName,\n        component: MessageList,\n        id: 11,\n        backButtonTitle: 'Back',\n        passProps: {\n          resource: params.to,\n          filter: '',\n          modelName: constants.TYPES.MESSAGE,\n          // currency: params.organization.currency,\n          bankStyle: style,\n          // dictionary: params.dictionary,\n        }\n      })\n\n      return\n    }\n    if (action === 'addApp') {\n      this.props.navigator.pop()\n      // Actions.list(constants.TYPES.ORGANIZATION)\n      return\n    }\n    if (action === 'connectivity') {\n      this.setState({isConnected: params.isConnected})\n      return\n    }\n\n    if (action === 'addItem'  ||  action === 'addMessage') {\n      var model = action === 'addMessage'\n                ? utils.getModel(this.props.modelName).value\n                : utils.getModel(params.resource[constants.TYPE]).value;\n      if (action === 'addItem'  &&  model.id !== this.props.modelName)\n        return\n      if (action === 'addMessage'  &&  this.props.modelName !== constants.TYPES.PROFILE)\n        return\n      // this.state.isLoading = true;\n      Actions.list({\n        query: this.state.filter,\n        modelName: model.id,\n        to: this.props.resource,\n        sortProperty: model.sort\n      });\n\n      return;\n    }\n    if (action === 'getForms') {\n      if (!params.to)\n        return\n      let style = this.mergeStyle(params.to.style)\n\n      var route = {\n        title: params.to.name,\n        component: MessageList,\n        id: 11,\n        backButtonTitle: 'Back',\n        passProps: {\n          resource: params.to,\n          filter: '',\n          modelName: constants.TYPES.MESSAGE,\n          currency: params.to.currency,\n          bankStyle:  style,\n          dictionary: params.dictionary,\n        }\n      }\n      // var me = utils.getMe()\n      // var msg = {\n      //   message: me.firstName + ' is waiting for the response',\n      //   _t: constants.TYPES.SELF_INTRODUCTION,\n      //   identity: params.myIdentity,\n      //   from: me,\n      //   to: params.to\n      // }\n      // utils.onNextTransitionEnd(this.props.navigator, () => Actions.messageList({modelName: constants.TYPES.MESSAGE, to: params.to}))\n      this.props.navigator.replace(route)\n      return\n    }\n    if (action === 'talkToEmployee') {\n      if (!params.to)\n        return\n      let style = this.mergeStyle(params.to.style)\n      var route = {\n        title: params.to.name,\n        component: MessageList,\n        id: 11,\n        backButtonTitle: 'Back',\n        passProps: {\n          resource: params.to,\n          filter: '',\n          modelName: constants.TYPES.MESSAGE,\n          currency: params.to.currency,\n          bankStyle: style,\n          dictionary: params.dictionary\n        },\n      }\n      var me = utils.getMe()\n\n      var msg = {\n        message: me.firstName + ' is waiting for the response',\n        _t: constants.TYPES.SELF_INTRODUCTION,\n        identity: params.myIdentity,\n        from: me,\n        to: params.to\n      }\n      // var sendNotification = (resource.name === 'Rabobank'  &&  (!me.organization  ||  me.organization.name !== 'Rabobank'))\n      // Actions.addMessage(msg, true, sendNotification)\n      utils.onNextTransitionEnd(this.props.navigator, () => Actions.addMessage(msg)) //, true))\n      if (this.props.navigator.getCurrentRoutes().length === 3)\n        this.props.navigator.replace(route)\n      else\n        this.props.navigator.push(route)\n      return\n    }\n    if (action === 'list') {\n      // First time connecting to server. No connection no providers yet loaded\n      if (!params.list  &&  params.alert) {\n        Alert.alert(params.alert)\n        return\n      }\n    }\n    if ((action !== 'list' &&  action !== 'listSharedWith')  ||  !params.list || params.isAggregation !== this.props.isAggregation)\n      return;\n    if (action === 'list'  &&  this.props.chat)\n      return\n    if (action === 'listSharedWith'  &&  !this.props.chat)\n      return\n    var list = params.list;\n\n    if (!list.length) {\n     if (!this.state.filter  ||  !this.state.filter.length)\n       this.setState({\n         isLoading: false\n       })\n      else\n       this.setState({\n         isLoading: false,\n         dataSource: this.state.dataSource.cloneWithRows(list),\n         list: list\n       })\n      return;\n    }\n    var type = list[0][constants.TYPE];\n    if (type  !== this.props.modelName) {\n      var m = utils.getModel(type).value;\n      if (!m.subClassOf  ||  m.subClassOf != this.props.modelName)\n        return;\n    }\n    let state = {\n      dataSource: this.state.dataSource.cloneWithRows(list),\n      list: list,\n      forceUpdate: params.forceUpdate,\n      dictionary: params.dictionary,\n      isLoading: false,\n    }\n    if (params.sharedWith) {\n      state.sharedWithMapping = params.sharedWith\n      let sharedWith = {}\n      list.forEach((r) => {\n        sharedWith[utils.getId(r)] = true\n      })\n      state.sharedWith = sharedWith\n    }\n\n    this.setState(state)\n  }\n  mergeStyle(newStyle) {\n    let style = {}\n    extend(style, defaultBankStyle)\n    if (newStyle)\n      style = extend(style, newStyle)\n    return style\n  }\n  shouldComponentUpdate(nextProps, nextState) {\n    if (nextState.forceUpdate)\n      return true\n    if (this.state.show !== nextState.show)\n      return true\n    if (nextState.isConnected !== this.state.isConnected)\n      return true\n    // if (this.state.isConnected !== nextState.isConnected)\n    //   if (!this.state.list && !nextState.list)\n    //     return true\n    if (!this.state.list  ||  !nextState.list  ||  this.state.list.length !== nextState.list.length)\n      return true\n    let isOrg = this.props.modelName === constants.TYPES.ORGANIZATION\n    for (var i=0; i<this.state.list.length; i++) {\n      if (this.state.list[i].numberOfForms !== nextState.list[i].numberOfForms)\n        return true\n      if (this.state.list[i][constants.ROOT_HASH] !== nextState.list[i][constants.ROOT_HASH])\n        return true\n    }\n    return false\n  }\n\n  selectResource(resource) {\n    var me = utils.getMe();\n    // Case when resource is a model. In this case the form for creating a new resource of this type will be displayed\n    var model = utils.getModel(this.props.modelName);\n    var isIdentity = this.props.modelName === constants.TYPES.PROFILE;\n    var isVerification = model.value.id === constants.TYPES.VERIFICATION\n    var isForm = model.value.id === constants.TYPES.FORM\n    var isOrganization = this.props.modelName === constants.TYPES.ORGANIZATION;\n    if (!isIdentity         &&\n        !isOrganization     &&\n        !this.props.callback) {\n      var m = utils.getModel(resource[constants.TYPE]).value;\n\n      if (isVerification || isForm) {\n        this.props.navigator.push({\n          title: m.title,\n          id: 5,\n          component: MessageView,\n          backButtonTitle: translate('back'),\n          passProps: {\n            resource: resource,\n            bankStyle: this.props.bankStyle || defaultBankStyle\n          }\n        });\n      }\n      else {\n        var title = utils.makeTitle(utils.getDisplayName(resource, m.properties))\n        this.props.navigator.push({\n          title: title,\n          id: 3,\n          component: ResourceView,\n          // titleTextColor: '#7AAAC3',\n          backButtonTitle: translate('back'),\n          rightButtonTitle: translate('edit'),\n          onRightButtonPress: {\n            title: title,\n            id: 4,\n            component: NewResource,\n            titleTextColor: '#7AAAC3',\n            backButtonTitle: translate('back'),\n            rightButtonTitle: translate('done'),\n            passProps: {\n              model: m,\n              resource: resource,\n              bankStyle: this.props.bankStyle || defaultBankStyle\n            }\n          },\n\n          passProps: {resource: resource}\n        });\n      }\n      return;\n    }\n    if (this.props.prop) {\n      if (me  &&  this.props.modelName != constants.TYPES.PROFILE) {\n        this._selectResource(resource);\n        return;\n      }\n      if (!me) {\n        if (this.state.isRegistration) {\n          this._selectResource(resource);\n          return;\n        }\n      }\n      else if (me[constants.ROOT_HASH] === resource[constants.ROOT_HASH]  ||\n         (this.props.resource  &&  me[constants.ROOT_HASH] === this.props.resource[constants.ROOT_HASH]  && this.props.prop)) {\n        this._selectResource(resource);\n        return;\n      }\n    }\n    var title = isIdentity ? resource.firstName : resource.name; //utils.getDisplayName(resource, model.value.properties);\n    var modelName = constants.TYPES.MESSAGE;\n    var self = this;\n    let style = this.mergeStyle(resource.style)\n    var route = {\n      component: MessageList,\n      id: 11,\n      backButtonTitle: translate('back'),\n      passProps: {\n        resource: resource,\n        filter: '',\n        modelName: modelName,\n        currency: resource.currency,\n        bankStyle: style,\n      },\n    }\n    if (isIdentity) { //  ||  isOrganization) {\n      route.title = resource.firstName\n      route.rightButtonTitle = translate('profile')\n\n      route.onRightButtonPress = {\n        title: title,\n        id: 3,\n        component: ResourceView,\n        titleTextColor: '#7AAAC3',\n        backButtonTitle: translate('back'),\n        passProps: {\n          bankStyle: style,\n          resource: resource\n        }\n      }\n      var isMe = isIdentity ? resource[constants.ROOT_HASH] === me[constants.ROOT_HASH] : true;\n      if (isMe) {\n        route.onRightButtonPress.rightButtonTitle = translate('edit')\n        route.onRightButtonPress.onRightButtonPress = {\n          title: title,\n          id: 4,\n          component: NewResource,\n          titleTextColor: '#7AAAC3',\n          backButtonTitle: translate('back'),\n          rightButtonTitle: translate('done'),\n          passProps: {\n            bankStyle: style,\n            model: utils.getModel(resource[constants.TYPE]).value,\n            resource: resource,\n            currency: this.props.currency,\n          }\n        }\n      }\n    }\n    if (isOrganization) {\n      route.title = resource.name\n      if (this.props.officialAccounts) {\n        if (!utils.isEmployee(resource)) {\n          var msg = {\n            message: me.firstName + ' is waiting for the response',\n            _t: constants.TYPES.CUSTOMER_WAITING,\n            from: me,\n            to: resource,\n            time: new Date().getTime()\n          }\n\n          utils.onNextTransitionEnd(this.props.navigator, () => Actions.addMessage(msg, true))\n        }\n      }\n    }\n\n    this.props.navigator.push(route);\n  }\n\n  _selectResource(resource) {\n    var model = utils.getModel(this.props.modelName);\n    var title = utils.getDisplayName(resource, model.value.properties);\n    var newTitle = title;\n    if (title.length > 20) {\n      var t = title.split(' ');\n      newTitle = '';\n      t.forEach(function(word) {\n        if (newTitle.length + word.length > 20)\n          return;\n        newTitle += newTitle.length ? ' ' + word : word;\n      })\n    }\n\n    var route = {\n      title: utils.makeTitle(newTitle),\n      id: 3,\n      component: ResourceView,\n      parentMeta: model,\n      backButtonTitle: translate('back'),\n      passProps: {\n        resource: resource,\n        bankStyle: this.props.style,\n        currency: this.props.currency\n      },\n    }\n    // Edit resource\n    var me = utils.getMe();\n    if ((me || this.state.isRegistration) &&  this.props.prop) {\n      this.props.callback(this.props.prop, resource); // HACK for now\n      if (this.props.returnRoute)\n        this.props.navigator.popToRoute(this.props.returnRoute);\n      else\n        this.props.navigator.pop()\n      return;\n    }\n    if (me                       &&\n       !model.value.isInterface  &&\n       (resource[constants.ROOT_HASH] === me[constants.ROOT_HASH]  ||  resource[constants.TYPE] !== constants.TYPES.PROFILE)) {\n      var self = this ;\n      route.rightButtonTitle = translate('edit')\n      route.onRightButtonPress = /*() =>*/ {\n        title: translate('edit'),\n        id: 4,\n        component: NewResource,\n        rightButtonTitle: translate('done'),\n        titleTextColor: '#7AAAC3',\n        passProps: {\n          model: utils.getModel(resource[constants.TYPE]).value,\n          bankStyle: this.props.style,\n          resource: me\n        }\n      };\n    }\n    this.props.navigator.push(route);\n  }\n  showRefResources(resource, prop) {\n    var props = utils.getModel(resource[constants.TYPE]).value.properties;\n    var propJson = props[prop];\n    var resourceTitle = utils.getDisplayName(resource, props);\n    resourceTitle = utils.makeTitle(resourceTitle);\n\n    var backlinksTitle = propJson.title + ' - ' + resourceTitle;\n    backlinksTitle = utils.makeTitle(backlinksTitle);\n    var modelName = propJson.items.ref;\n\n    this.props.navigator.push({\n      title: backlinksTitle,\n      id: 10,\n      component: ResourceList,\n      backButtonTitle: translate('back'),\n      titleTextColor: '#7AAAC3',\n      passProps: {\n        resource: resource,\n        prop: prop,\n        bankStyle: this.props.style,\n        modelName: modelName\n      },\n      rightButtonTitle: translate('details'),\n      onRightButtonPress: {\n        title: resourceTitle,\n        id: 3,\n        component: ResourceView,\n        titleTextColor: '#7AAAC3',\n        backButtonTitle: translate('back'),\n        rightButtonTitle: translate('edit'),\n        onRightButtonPress: {\n          title: resourceTitle,\n          id: 4,\n          component: NewResource,\n          titleTextColor: '#7AAAC3',\n          backButtonTitle: translate('back'),\n          rightButtonTitle: translate('done'),\n          passProps: {\n            model: utils.getModel(resource[constants.TYPE]).value,\n            bankStyle: this.props.style,\n            resource: resource\n          }\n        },\n\n        passProps: {\n          bankStyle: this.props.style,\n          resource: resource,\n          currency: this.props.currency\n        }\n      }\n    });\n  }\n\n  onSearchChange(filter) {\n    this.state.filter = filter\n    Actions.list({\n      query: filter,\n      modelName: this.props.modelName,\n      to: this.props.resource\n    });\n  }\n\n  renderRow(resource)  {\n    var model = utils.getModel(this.props.modelName).value;\n // || (model.id === constants.TYPES.FORM)\n    var isVerification = model.id === constants.TYPES.VERIFICATION  ||  model.subClassOf === constants.TYPES.VERIFICATION\n    var isForm = model.id === constants.TYPES.FORM || model.subClassOf === constants.TYPES.FORM\n    var isMyProduct = model.id === 'tradle.MyProduct'  ||  model.subClassOf === 'tradle.MyProduct'\n\n    // let hasBacklink = this.props.prop && this.props.prop.items  &&  this.props.prop.backlink\n    return /*hasBacklink  &&*/  (isVerification  || isForm || isMyProduct)\n    ? (<VerificationRow\n        onSelect={() => this.selectResource(isVerification ? resource.document : resource)}\n        key={resource[constants.ROOT_HASH]}\n        navigator={this.props.navigator}\n        prop={this.props.prop}\n        currency={this.props.currency}\n        isChooser={this.props.isChooser}\n        resource={resource} />\n      )\n    : (<ResourceRow\n        onSelect={() => this.selectResource(resource)}\n        key={resource[constants.ROOT_HASH]}\n        navigator={this.props.navigator}\n        changeSharedWithList={this.props.chat ? this.changeSharedWithList.bind(this) : null}\n        currency={this.props.currency}\n        isOfficialAccounts={this.props.officialAccounts}\n        showRefResources={this.showRefResources.bind(this)}\n        resource={resource} />\n    );\n  }\n  changeSharedWithList(id, value) {\n    this.state.sharedWith[id] = value\n  }\n  renderFooter() {\n    var me = utils.getMe();\n    // if (!me  ||  (this.props.prop  &&  (this.props.prop.readOnly || (this.props.prop.items  &&  this.props.prop.items.readOnly))))\n    //   return <View />;\n    var model = utils.getModel(this.props.modelName).value;\n    if (!this.props.prop  &&  model.id !== constants.TYPES.ORGANIZATION)\n      return <View />\n    // if (model.subClassOf === constants.TYPES.FINANCIAL_PRODUCT ||  model.subClassOf === ENUM)\n    //   return <View />\n    if (this.props.prop  &&  !this.props.prop.allowToAdd)\n      return <View />\n\n    // var qrInfo = (model.id === constants.TYPES.PROFILE)\n    //            ? <View style={styles.row}>\n    //                <TouchableHighlight underlayColor='transparent'\n    //                   onPress={this.showQRCode.bind(this, 'Contact Info', me[constants.ROOT_HASH])}>\n    //                 <View style={{alignSelf: 'center'}}>\n    //                   <View style={{marginTop: -12}}>\n    //                     <Icon name='ios-barcode'  size={30}  color='#999999' style={styles.icon} />\n    //                   </View>\n    //                   <View style={{marginTop: -5}}>\n    //                     <Text style={[buttonStyles.text, {color:'#999999'}]}>My QR Code</Text>\n    //                   </View>\n    //                 </View>\n    //               </TouchableHighlight>\n    //               <TouchableHighlight underlayColor='transparent' onPress={this.scanQRCode.bind(this)}>\n    //                 <View style={styles.row}>\n    //                   <View style={{marginTop: -5}}>\n    //                     <Text style={styles.resourceTitle}>Scan new contact</Text>\n    //                   </View>\n    //                   <View style={{marginTop: -12}}>\n    //                     <Icon name='qr-scanner'  size={30}  color='#999999' style={styles.icon} />\n    //                   </View>\n    //                 </View>\n    //               </TouchableHighlight>\n    //             </View>\n    //           : <View />\n\n    // return (\n    //   <View style={styles.footer}>\n    //     <TouchableHighlight underlayColor='transparent' onPress={() => this.ActionSheet.show()}>\n    //       <View style={styles.menuButton1}>\n    //         <Icon name='md-menu'  size={30}  color='#ffffff' />\n    //       </View>\n    //     </TouchableHighlight>\n    //   </View>\n    // );\n    // let style = Platform.OS === 'ios' ? styles.menuButton : styles.menuButtonA\n    let icon = Platform.OS === 'android' ? 'md-menu' : 'md-more'\n    let color = Platform.OS === 'android' ? 'red' : '#ffffff'\n    return (\n       <View style={styles.footer}>\n         <TouchableOpacity onPress={() => this.ActionSheet.show()}>\n           <View style={platformStyles.menuButtonNarrow}>\n             <Icon name={icon}  size={33}  color={color} />\n           </View>\n         </TouchableOpacity>\n       </View>\n    )\n  }\n  onSettingsPressed() {\n    var model = utils.getModel(constants.TYPES.SETTINGS).value\n    this.setState({show: false})\n    var route = {\n      component: NewResource,\n      title: 'Settings',\n      backButtonTitle: translate('back'),\n      rightButtonTitle: translate('done'),\n      id: 4,\n      titleTextColor: '#7AAAC3',\n      passProps: {\n        model: model,\n        bankStyle: this.props.style,\n        callback: () => {\n          this.props.navigator.pop()\n          Actions.list({modelName: this.props.modelName})\n        }\n        // callback: this.register.bind(this)\n      },\n    }\n\n    this.props.navigator.push(route)\n  }\n  showBanks() {\n    this.props.navigator.push({\n      title: translate('officialAccounts'),\n      id: 10,\n      component: ResourceList,\n      backButtonTitle: translate('back'),\n      titleTextColor: '#7AAAC3',\n      passProps: {\n        officialAccounts: true,\n        bankStyle: this.props.style,\n        modelName: constants.TYPES.ORGANIZATION\n      }\n    });\n  }\n  addNew() {\n    var model = utils.getModel(this.props.modelName).value;\n    var r;\n    this.setState({show: false})\n    // resource if present is a container resource as for example subreddit for posts or post for comments\n    // if to is passed then resources only of this container need to be returned\n    if (this.props.resource) {\n      var props = model.properties;\n      for (var p in props) {\n        var isBacklink = props[p].ref  &&  props[p].ref === this.props.resource[constants.TYPE];\n        if (props[p].ref  &&  !isBacklink) {\n          if (utils.getModel(props[p].ref).value.isInterface  &&  model.interfaces  &&  model.interfaces.indexOf(props[p].ref) !== -1)\n            isBacklink = true;\n        }\n        if (isBacklink) {\n          r = {};\n          r[constants.TYPE] = this.props.modelName;\n          r[p] = { id: this.props.resource[constants.TYPE] + '_' + this.props.resource[constants.ROOT_HASH] };\n\n          if (this.props.resource.relatedTo  &&  props.relatedTo) // HACK for now for main container\n            r.relatedTo = this.props.resource.relatedTo;\n        }\n      }\n    }\n    // Setting some property like insured person. The value for it will be another form\n    //\n    if (this.props.prop  &&  model.subClassOf === constants.TYPES.FORM) {\n      if (!r)\n        r = {}\n      r[constants.TYPE] = this.props.prop.ref || this.props.prop.items.ref;\n      r.from = this.props.resource.from\n      r.to = this.props.resource.to\n    }\n    let self = this\n    this.props.navigator.push({\n      title: model.title,\n      id: 4,\n      component: NewResource,\n      titleTextColor: '#7AAAC3',\n      backButtonTitle: translate('back'),\n      rightButtonTitle: translate('done'),\n      passProps: {\n        model: model,\n        bankStyle: this.props.style,\n        resource: r,\n        callback: (resource) => {\n          self.props.navigator.pop()\n          let l = []\n\n          self.state.list.forEach((r) => {\n            let rr = {}\n            extend(rr, r)\n            l.push(rr)\n          })\n          l.push(resource)\n\n          self.setState({\n            list: l,\n            dataSource: self.state.dataSource.cloneWithRows(l)\n          })\n          // this.props.navigator.jumpTo(routes[routes.length - 2])\n          // routes[routes.length - 2].passProps.callback(resource)\n        }\n      }\n    })\n  }\n  render() {\n    // AlertIOS.alert('Rendering list ' + this.state.isLoading)\n    // if (this.state.isLoading)\n    //   return <View/>\n    var content;\n    var model = utils.getModel(this.props.modelName).value;\n    if (this.state.dataSource.getRowCount() === 0   &&\n        utils.getMe()                               &&\n        !utils.getMe().organization                 &&\n        model.subClassOf !== ENUM                   &&\n        !this.props.isChooser                       &&\n        // this.props.modelName !== constants.TYPES.PROFILE       &&\n        // this.props.modelName !== constants.TYPES.VERIFICATION  &&\n        this.props.modelName !== constants.TYPES.ORGANIZATION  &&\n        (!model.subClassOf  ||  model.subClassOf !== ENUM)) {\n      content = <NoResources\n                  filter={this.state.filter}\n                  model={model}\n                  isLoading={this.state.isLoading}/>\n    }\n    else {\n      var model = utils.getModel(this.props.modelName).value;\n          // style={[styles.listViewStyle, {width: Math.floor(utils.dimensions().width * 0.75)}]}\n\n      content = <ListView\n          dataSource={this.state.dataSource}\n          renderHeader={this.renderHeader.bind(this)}\n          enableEmptySections={true}\n          renderRow={this.renderRow.bind(this)}\n          automaticallyAdjustContentInsets={false}\n          removeClippedSubviews={false}\n          keyboardDismissMode={utils.isWeb() ? 'none' : 'on-drag'}\n          keyboardShouldPersistTaps={utils.isWeb() ? false : true}\n          initialListSize={1000}\n          showsVerticalScrollIndicator={false} />;\n    }\n          // pageSize={20}\n          // scrollRenderAhead={10}\n          // initialListSize={10}\n    var model = utils.getModel(this.props.modelName).value;\n    var footer = this.renderFooter();\n\n    let buttons = this.state.allowToAdd\n                ? [translate('addNew', this.props.prop.title), translate('cancel')]\n                : [translate('addServerUrl'), translate('scanQRcode')/*, 'Talk to employee'*/, translate('cancel')]\n\n    var searchBar\n    if (SearchBar) {\n      searchBar = (\n        <SearchBar\n          onChangeText={this.onSearchChange.bind(this)}\n          placeholder={translate('search')}\n          showsCancelButton={false}\n          hideBackground={true}\n          />\n      )\n    }\n\n    return (\n      <PageView style={platformStyles.container}>\n        <NetworkInfoProvider connected={this.state.isConnected} />\n        {searchBar}\n        {content}\n        {footer}\n        <ActionSheet\n          ref={(o) => {\n            this.ActionSheet = o\n          }}\n          options={buttons}\n          cancelButtonIndex={buttons.length - 1}\n          onPress={(index) => {\n            switch (index) {\n            case 0:\n              if (this.state.allowToAdd)\n                this.addNew()\n              else\n                this.onSettingsPressed()\n              break\n            case 1:\n              this.scanFormsQRCode()\n              break;\n            // case 2:\n            //   this.talkToEmployee()\n            //   break\n            default:\n              return\n            }\n          }}\n        />\n      </PageView>\n    );\n  }\n\n  renderHeader() {\n    if (this.props.modelName !== constants.TYPES.PROFILE) return <View />\n\n    return (\n      <View style={{padding: 5, backgroundColor: '#CDE4F7'}}>\n        <TouchableOpacity onPress={this.showBanks.bind(this)}>\n          <View style={styles.row}>\n            <View>\n              <Image source={require('../img/banking.png')} style={styles.cellImage} />\n            </View>\n            <View style={styles.textContainer}>\n              <Text style={styles.resourceTitle}>Official Accounts</Text>\n            </View>\n          </View>\n        </TouchableOpacity>\n      </View>\n    )\n  }\n\n  // showQRCode1(purpose, content) {\n  //   this.props.navigator.push({\n  //     title: 'QR Code: ' + purpose,\n  //     id: 17,\n  //     component: QRCode,\n  //     titleTextColor: '#eeeeee',\n  //     backButtonTitle: translate('back'),\n  //     passProps: {\n  //       fullScreen: true,\n  //       content: content\n  //     }\n  //   })\n  // }\n\n  // talkToEmployee(qrcode) {\n  //   this.setState({show: false})\n  //   if (!qrcode)\n  //     // qrcode = 'http://127.0.0.1:444444;71e4b7cd6c11ab7221537275988f113a879029eu;6aefc09f4da125095409770592eb96ac142fb579'\n  //     // qrcode = 'http://192.168.0.104:44444/;71e4b7cd6c11ab7221537275988f113a879029eu;3497c6ce074f1bc66c05e204fd3a7fbcd5e0fb08'\n  //     qrcode = 'http://192.168.0.136:44444/;71e4b7cd6c11ab7221537275988f113a879029eu;c3adf2d26304133265c3e28b5c9037614880aec5'\n\n  //   Actions.getEmployeeInfo(qrcode)\n  //   return\n  // }\n  scanFormsQRCode() {\n    this.setState({show: false})\n    this.props.navigator.push({\n      title: 'Scan QR Code',\n      id: 16,\n      component: QRCodeScanner,\n      titleTintColor: '#eeeeee',\n      backButtonTitle: 'Cancel',\n      // rightButtonTitle: 'ion|ios-reverse-camera',\n      passProps: {\n        onread: this.onread.bind(this)\n      }\n    })\n  }\n\n  onread(result) {\n    // Pairing devices QRCode\n    if (result.data.charAt(0) === '{') {\n      h = JSON.parse(result.data)\n      Actions.sendPairingRequest(h)\n      this.props.navigator.pop()\n      return\n    }\n    let h = result.data.split(';')\n\n\n    // post to server request for the forms that were filled on the web\n    let me = utils.getMe()\n    switch (h[0]) {\n    case WEB_TO_MOBILE:\n      let r = {\n        _t: 'tradle.GuestSessionProof',\n        session: h[1],\n        from: {\n          id: utils.getId(me),\n          title: utils.getDisplayName(me)\n        },\n        to: {\n          id: constants.TYPES.PROFILE + '_' + h[2]\n        }\n      }\n      Actions.addItem({resource: r, value: r, meta: utils.getModel('tradle.GuestSessionProof').value})\n      break\n    case TALK_TO_EMPLOYEEE:\n      Actions.getEmployeeInfo(result.data.substring(h[0].length + 1))\n      break\n    case APP_QR_CODE:\n      Actions.addApp(result.data.substring(h[0].length + 1))\n      break\n    }\n  }\n}\nreactMixin(ResourceList.prototype, Reflux.ListenerMixin);\n\nvar styles = StyleSheet.create({\n  // container: {\n  //   flex: 1,\n  //   backgroundColor: '#f7f7f7',\n  //   // backgroundColor: 'white',\n  //   marginTop: Platform.OS === 'ios' ? 64 : 44,\n  // },\n  // listViewStyle: {\n  //   alignSelf: 'flex-end',\n  //   borderWidth: 1,\n  //   borderColor: '#f7f7f7',\n  //   borderLeftColor: '#cccccc'\n  // },\n  centerText: {\n    alignItems: 'center',\n  },\n  separator: {\n    height: 1,\n    backgroundColor: '#cccccc',\n  },\n  icon: {\n    marginLeft: -23,\n    marginTop: -25,\n    // color: '#629BCA',\n    color: 'red'\n  },\n  image: {\n    width: 25,\n    height: 25,\n    marginRight: 5,\n    // color: '#cccccc'\n  },\n  footer: {\n    flexDirection: 'row',\n    flexWrap: 'nowrap',\n    justifyContent: 'flex-end',\n    height: 45,\n    // paddingTop: 5,\n    paddingHorizontal: 10,\n    backgroundColor: 'transparent',\n    // backgroundColor: '#eeeeee',\n    borderColor: '#eeeeee',\n    borderWidth: StyleSheet.hairlineWidth,\n    borderTopColor: '#cccccc',\n  },\n  row: {\n    // backgroundColor: 'white',\n    // justifyContent: 'space-around',\n    flexDirection: 'row',\n    padding: 5,\n  },\n  textContainer: {\n    flex: 1,\n  },\n  resourceTitle: {\n    flex: 1,\n    fontSize: 18,\n    fontWeight: '400',\n    marginBottom: 2,\n    paddingLeft: 5\n  },\n  cellImage: {\n    // backgroundColor: '#dddddd',\n    height: 50,\n    marginRight: 10,\n    width: 50,\n    // borderColor: '#7AAAc3',\n    // borderRadius: 30,\n    // borderWidth: 1,\n  },\n  menuButton: {\n    marginTop: -23,\n    paddingVertical: 5,\n    paddingHorizontal: 21,\n    borderRadius: 24,\n    // shadowOffset:{width: 5, height: 5},\n    shadowOpacity: 1,\n    shadowRadius: 5,\n    shadowColor: '#afafaf',\n    backgroundColor: 'red'\n  },\n  menuButtonA: {\n    paddingVertical: 5,\n    paddingHorizontal: 5\n  },\n\n  menuButton1: {\n    marginTop: -30,\n    paddingVertical: 7,\n    paddingHorizontal: 13,\n    borderRadius: 25,\n    backgroundColor: 'red',\n    shadowOpacity: 1,\n    shadowRadius: 5,\n    shadowColor: '#afafaf',\n  }\n\n});\n\nmodule.exports = ResourceList;\n\n  // showDeals(modelName) {\n  //   var model = utils.getModel(modelName).value;\n  //   // var model = utils.getModel(this.props.modelName).value;\n  //   this.props.navigator.push({\n  //     title: model.title,\n  //     id: 10,\n  //     component: ResourceList,\n  //     titleTextColor: '#7AAAC3',\n  //     backButtonTitle: 'Back',\n  //     passProps: {\n  //       filter: '',\n  //       modelName: DEAL_MODEL,\n  //     },\n  //   })\n  // }\n  // onSearchChange1(event) {\n  //   var filter = event.nativeEvent.text.toLowerCase();\n  //   Actions.list({\n  //     query: filter,\n  //     modelName: this.props.modelName,\n  //     to: this.props.resource\n  //   });\n  // }\n  // showMenu() {\n  //   var buttons = [translate('addServerUrl'), translate('scanQRcode'), 'Talk to employee', translate('cancel')]\n  //   let allowToAdd = this.props.prop  &&  this.props.prop.allowToAdd\n  //   var buttons = allowToAdd\n  //               ? [translate('addNew', this.props.prop.title), translate('cancel')]\n  //               : buttons\n  //   var self = this;\n  //   ActionSheetIOS.showActionSheetWithOptions({\n  //     options: buttons,\n  //     cancelButtonIndex: allowToAdd ? 2 : 3\n  //   }, function(buttonIndex) {\n  //     switch (buttonIndex) {\n  //     case 0:\n  //       if (allowToAdd)\n  //         self.addNew()\n  //       else\n  //         self.onSettingsPressed()\n  //       break\n  //     case 1:\n  //       self.scanFormsQRCode()\n  //       break;\n  //     case 2:\n  //       self.talkToEmployee()\n  //       break\n  //     default:\n  //       return\n  //     }\n  //   });\n  // }\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/ResourceList.js\n **/","\nimport {\n  Platform,\n  StatusBar\n} from 'react-native'\n\nimport { isWeb } from '../utils/utils'\nconst noop = () => {}\nconst mock = {\n  setHidden: noop\n}\n\nconst impl = isWeb() ? mock : StatusBar\n\nexport default impl\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/StatusBar.js\n **/","'use strict'\n\nimport {\n  Text,\n  StyleSheet,\n  View,\n} from 'react-native';\nimport utils from '../utils/utils'\nimport React, { Component } from 'react'\n\nclass NoResources extends Component {\n  render() {\n    var noRes\n    if (this.props.filter)\n      noRes = <Text style={styles.NoResourcesText}>{`No results for “${this.props.filter}”`}</Text>\n    else if (!this.props.isLoading)\n      // If we're looking at the latest resources, aren't currently loading, and\n      // still have no results, show a message\n      noRes = <Text style={styles.NoResourcesText}>{'No ' + (this.props.model.plural || (this.props.model.title + 's')) + ' were found.'}</Text>\n    else\n      return <View />\n    return (\n      <View style={[styles.container, styles.centerText]}>\n        {noRes}\n      </View>\n    );\n  }\n\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: 'white',\n  },\n  centerText: {\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  NoResourcesText: {\n    // marginTop: height > 800 ? height/5 : height / 4,\n    color: '#888888',\n    fontSize: utils.getFontSize(18)\n  }\n});\n\nmodule.exports = NoResources;\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/NoResources.js\n **/","'use strict';\n\nvar utils = require('../utils/utils');\nvar translate = utils.translate\nvar ArticleView = require('./ArticleView');\nvar constants = require('@tradle/constants');\nvar Icon = require('react-native-vector-icons/Ionicons');\nvar RowMixin = require('./RowMixin');\nvar ResourceList = require('./ResourceList')\n// var Swipeout = require('react-native-swipeout')\nvar reactMixin = require('react-mixin');\nvar equal = require('deep-equal')\nvar extend = require('extend')\nvar Actions = require('../Actions/Actions');\n\nimport {\n  Image,\n  PixelRatio,\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  View,\n  Platform\n} from 'react-native';\n\nimport { makeResponsive } from 'react-native-orient'\nimport LinearGradient from 'react-native-linear-gradient'\nimport React, { Component } from 'react'\nimport ActivityIndicator from './ActivityIndicator'\nvar dateProp\n\nclass ResourceRow extends Component {\n  constructor(props) {\n    super(props)\n    if (this.props.changeSharedWithList)\n      this.state = {sharedWith: true}\n  }\n  shouldComponentUpdate(nextProps, nextState) {\n    if (Object.keys(this.props).length  !== Object.keys(nextProps).length)\n      return true\n    if (this.props.resource.lastMessage !== nextProps.resource.lastMessage)\n      return true\n    if (this.state || nextState) {\n      if (nextState.sharedWith  &&  nextState.sharedWith === this.state.sharedWith)\n        return true\n      if (this.state  &&  nextState) {\n        if (Object.keys(this.state).length  !== Object.keys(nextState).length)\n          return true\n      }\n      else\n        return true\n    }\n    var opts = {strict: true}\n    for (var p in this.props) {\n      if (typeof this.props[p] === 'function') {\n        if ('' + this.props[p] !== '' + nextProps[p])\n          return true\n      }\n      else if (this.props[p] !== nextProps[p]) {\n        if (!equal(this.props[p], nextProps[p], opts))\n          return true\n      }\n    }\n    if (!this.state  &&  !nextState)\n      return false\n    for (var p in this.state) {\n      if (this.state[p] !== nextState[p]) {\n        if (!equal(this.state[p], nextState[p], opts))\n          return true\n      }\n    }\n    return false\n  }\n\n  render() {\n    var resource = this.props.resource;\n    var photo;\n    var isIdentity = resource[constants.TYPE] === constants.TYPES.PROFILE;\n    var noImage;\n    if (resource.photos &&  resource.photos.length) {\n      var uri = utils.getImageUri(resource.photos[0].url);\n      var params = {\n        uri: utils.getImageUri(uri)\n      }\n      if (uri.indexOf('/var/mobile/') === 0)\n        params.isStatic = true\n      photo = <Image source={params} style={styles.cellImage}  key={this.getNextKey()} />;\n    }\n    else {\n      if (isIdentity) {\n        if (!resource.firstName  &&  !resource.lastName)\n          return <View/>\n        var name = (resource.firstName ? resource.firstName.charAt(0) : '');\n        name += (resource.lastName ? resource.lastName.charAt(0) : '');\n        photo = <LinearGradient colors={['#A4CCE0', '#7AAAc3', '#5E92AD']} style={styles.cellRoundImage}>\n           <Text style={styles.cellText}>{name}</Text>\n        </LinearGradient>\n      }\n      else  {\n        var model = utils.getModel(resource[constants.TYPE]).value;\n        var icon = model.icon;\n        if (icon)\n          photo = <View style={styles.cellImage}><Icon name={icon} size={35} style={styles.icon} /></View>\n        else if (model.properties.photos)\n          photo = <View style={styles.cellImage} />\n        else {\n          photo = <View style={styles.cellNoImage} />\n          noImage = true\n        }\n      }\n    }\n    var orgPhoto;\n      orgPhoto = <View/>\n\n    var onlineStatus = (resource.online)\n                     ? <View style={styles.online}></View>\n                     : <View style={[styles.online, {backgroundColor: 'transparent'}]}></View>\n\n    var rId = utils.getId(this.props.resource)\n    // var cancelResource = (this.props.onCancel ||  this.state)\n    //                    ? <TouchableOpacity onPress={this.action.bind(this)} style={{position: 'absolute', right: 0, top: 20}}>\n    //                        <View>\n    //                          <Icon name={this.state.sharedWith[rId] ? 'ios-checkmark-circle-outline' : 'ios-radio-button-off'}  size={30}  color={this.state.sharedWith[rId] ? '#B1010E' : '#dddddd'}  style={styles.cancelIcon} />\n    //                        </View>\n    //                      </TouchableOpacity>\n    //                    : <View />;\n    var cancelResource = (this.props.onCancel ||  this.state)\n                       ?  <View style={{position: 'absolute', right: 0, top: 20, backgroundColor: 'transparent'}}>\n                             <Icon name={this.state.sharedWith ? 'ios-checkmark-circle-outline' : 'ios-radio-button-off'}  size={30}  color={this.state.sharedWith ? '#B1010E' : '#dddddd'}  style={styles.cancelIcon} />\n                           </View>\n                       : <View />;\n    var textStyle = noImage ? [styles.textContainer, {marginVertical: 7}] : styles.textContainer;\n\n    let dateRow\n    if (dateProp  &&  resource[dateProp]) {\n      var val = utils.formatDate(new Date(resource[dateProp]), true)\n      dateRow = <View style={styles.dateRow}>\n              <Text style={styles.verySmallLetters}>{val}</Text>\n            </View>\n    }\n    else\n      dateRow = <View/>\n\n    // Grey out if not loaded provider info yet\n    var isOpaque = resource[constants.TYPE] === constants.TYPES.ORGANIZATION && !resource.contacts\n    if (isOpaque)\n      return (\n      <View key={this.getNextKey()} style={[{opacity: 0.5}, styles.rowWrapper]}>\n        <View style={styles.row} key={this.getNextKey()}>\n          {photo}\n          {orgPhoto}\n          {onlineStatus}\n          <View style={[textStyle, {flexDirection: 'row', justifyContent: 'space-between'}]} key={this.getNextKey()}>\n            {this.formatRow(resource)}\n            <ActivityIndicator hidden='true' color='#629BCA'/>\n          </View>\n          {dateRow}\n          {cancelResource}\n        </View>\n      </View>\n        )\n    else\n      return (\n        <View key={this.getNextKey()} style={[{opacity: 1}, styles.rowWrapper]}>\n          <TouchableOpacity onPress={this.state ? this.action.bind(this) : this.props.onSelect} key={this.getNextKey()}>\n            <View style={[styles.row, {width: utils.dimensions(ResourceRow).width - 50}]} key={this.getNextKey()}>\n              {photo}\n              {orgPhoto}\n              {onlineStatus}\n              <View style={textStyle} key={this.getNextKey()}>\n                {this.formatRow(resource)}\n              </View>\n              {cancelResource}\n            </View>\n          </TouchableOpacity>\n          {this.props.isOfficialAccounts\n          ? <TouchableOpacity style={{position: 'absolute', right: 10, top: 25, backgroundColor: 'white'}} onPress={() => {\n              this.props.navigator.push({\n                component: ResourceList,\n                title: translate(\"myDocuments\"),\n                backButtonTitle: translate('back'),\n                passProps: {\n                  modelName: constants.TYPES.FORM,\n                  resource: this.props.resource\n                }\n              })\n            }}>\n              <View style={textStyle}>\n                 {resource.numberOfForms\n                    ? <View style={{flexDirection: 'row'}}>\n                         <Icon name='ios-paper-outline' color={'#7AAAc3'} size={30} style={{marginTop: Platform.OS === 'ios' ? 0 : 0}}/>\n                         <Text style={{fontWeight: '600', marginLeft: 0, marginTop: Platform.OS === 'ios' ? -5 : -5, color: '#7AAAc3'}}>{resource.numberOfForms}</Text>\n                      </View>\n                    : <View />\n                 }\n              </View>\n            </TouchableOpacity>\n            : <View />}\n          {dateRow}\n          {cancelResource}\n        </View>\n      );\n  }\n\n  action() {\n    if (this.props.onCancel)\n      this.props.onCancel()\n    else if (typeof this.props.changeSharedWithList) {\n      let id = utils.getId(this.props.resource)\n      this.setState({sharedWith: this.state.sharedWith ? false : true})\n      this.props.changeSharedWithList(id, this.state.sharedWith ? false : true)\n    }\n  }\n  hideResource(resource) {\n    let r = {}\n    extend(true, r, resource)\n    r.hide = true\n    Actions.addItem({resource: resource, value: r, meta: utils.getModel(resource[constants.TYPE]).value})\n  }\n  _allowScroll(scrollEnabled) {\n    this.setState({scrollEnabled: scrollEnabled})\n  }\n  rowContent() {\n    return\n    <View style={styles.row} key={this.getNextKey()}>\n      {photo}\n      {orgPhoto}\n      {onlineStatus}\n      <View style={textStyle} key={this.getNextKey()}>\n        {this.formatRow(resource)}\n      </View>\n      {cancelResource}\n    </View>\n  }\n  formatRow(resource) {\n    var self = this;\n    var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n    var viewCols = model.gridCols || model.viewCols;\n    var renderedViewCols;\n    if (!viewCols) {\n      var vCols = utils.getDisplayName(resource, model.properties);\n      if (vCols && vCols.length) {\n        if (model.subClassOf  &&  model.subClassOf === 'tradle.Enum')\n          vCols = utils.createAndTranslate(vCols, true)\n\n        return <Text style={styles.resourceTitle} numberOfLines={2}>{vCols}</Text>;\n      }\n      else\n        return <Text style={styles.resourceTitle} numberOfLines={2}>{model.title + ' ' + utils.getFormattedDate(resource.time)}</Text>;\n    }\n    var vCols = [];\n    var properties = model.properties;\n    var first = true\n    var datePropIdx;\n    var datePropsCounter = 0;\n    var backlink;\n    var cnt = 10;\n    for (var i=0; i<viewCols.length; i++) {\n      var v = viewCols[i];\n      if (properties[v].type === 'array') {\n        if (properties[v].items.backlink)\n          backlink = v;\n        continue;\n      }\n      if (properties[v].type !== 'date'  ||  !resource[v])\n        continue;\n      if (resource[v]) {\n        if (v === 'dateSubmitted' || v === 'lastMessageTime') {\n          dateProp = v;\n          if (!datePropsCounter)\n            datePropIdx = i;\n          datePropsCounter++;\n        }\n      }\n    }\n    if (datePropsCounter > 1)\n      dateProp = null;\n\n    var isOfficialAccounts = this.props.isOfficialAccounts\n    var isIdentity = resource[constants.TYPE] === constants.TYPES.PROFILE;\n    viewCols.forEach(function(v) {\n      if (v === dateProp)\n        return;\n      if (properties[v].type === 'array')\n        return;\n\n      if (!resource[v]  &&  !properties[v].displayAs)\n        return;\n      var style = first ? styles.resourceTitle : styles.description;\n      if (isIdentity  &&  v === 'organization')\n        style = [style, {alignSelf: 'flex-end', marginTop: 20}, styles.verySmallLetters];\n      if (properties[v].style)\n        style = [style, properties[v].style];\n      var ref = properties[v].ref;\n      if (ref) {\n        if (resource[v]) {\n          var row;\n          if (ref == constants.TYPES.MONEY)\n            row = <Text style={style} numberOfLines={first ? 2 : 1} key={self.getNextKey()}>{(resource[v].currency || CURRENCY_SYMBOL) + resource[v].value}</Text>\n          else\n            row = <Text style={style} numberOfLines={first ? 2 : 1} key={self.getNextKey()}>{resource[v].title}</Text>\n\n          vCols.push(row);\n        }\n        first = false;\n      }\n      else if (properties[v].type === 'date') {\n        if (!dateProp)\n          vCols.push(self.addDateProp(v));\n        else\n          return;\n      }\n      else  {\n        var row;\n        if (resource[v]  &&  (typeof resource[v] != 'string'))\n          row = <Text style={style} numberOfLines={1} key={self.getNextKey()}>{resource[v]}</Text>;\n        else if (!backlink  &&  resource[v]  && (resource[v].indexOf('http://') == 0  ||  resource[v].indexOf('https://') == 0))\n          row = <Text style={style} onPress={self.onPress.bind(self)} numberOfLines={1} key={self.getNextKey()}>{resource[v]}</Text>;\n        else {\n          var val = properties[v].displayAs ? utils.templateIt(properties[v], resource) : resource[v];\n          let msgParts = utils.splitMessage(val);\n          if (msgParts.length <= 2)\n            val = msgParts[0];\n          else {\n            val = '';\n            for (let i=0; i<msgParts.length - 1; i++)\n              val += msgParts[i];\n          }\n          if (self.props.isOfficialAccounts  &&  v === 'lastMessage') {\n            let isMyLastMessage = val.indexOf('You: ') !== -1\n            let lastMessageTypeIcon = <View/>\n            if (isMyLastMessage) {\n              val = val.substring(5)\n              let lastMessageType = resource.lastMessageType\n              if (lastMessageType) {\n                let msgModel = utils.getModel(lastMessageType).value\n                let icon\n                if (msgModel.subClassOf === constants.TYPES.FINANCIAL_PRODUCT)\n                  icon = 'ios-usd'\n                else if (msgModel.subClassOf === constants.TYPES.FORM)\n                  icon = 'ios-paper-outline'\n                // else if (model.id === constants.TYPES.VERIFICATION)\n                //   icon =\n                if (icon)\n                  lastMessageTypeIcon = <Icon name={icon} size={14} color='#7AAAc3' style={{paddingLeft: 1, marginTop: -2}}/>\n              }\n            }\n            let w = utils.dimensions(ResourceRow).width - 145\n            row = <View style={{flexDirection: 'row'}} key={self.getNextKey()}>\n                    <View style={{flexDirection: 'column'}}>\n                    <Icon name='md-done-all' size={16} color={isMyLastMessage ? '#cccccc' : '#7AAAc3'}/>\n                    {lastMessageTypeIcon}\n                    </View>\n                    <Text style={[style, {width: w, paddingLeft: 2}]}>{val}</Text>\n                  </View>\n          }\n          else\n            row = <Text style={style} key={self.getNextKey()}>{val}</Text>;\n        }\n        vCols.push(row);\n        first = false;\n      }\n    });\n\n    if (vCols  &&  vCols.length)\n      renderedViewCols = vCols;\n    else {\n      var vCols = utils.getDisplayName(resource, model.properties);\n      return <Text style={styles.resourceTitle} numberOfLines={2}>{vCols}</Text>;\n\n    }\n    if (!backlink)\n      return renderedViewCols\n    return [\n      <TouchableOpacity key={this.getNextKey()} onPress={this.props.showRefResources.bind(this, resource, backlink)}>\n        <View key={this.getNextKey()}>\n          {renderedViewCols}\n        </View>\n      </TouchableOpacity>\n    ];\n  }\n  onPress(event) {\n    var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n    var title = utils.makeTitle(utils.getDisplayName(this.props.resource, model.properties));\n    this.props.navigator.push({\n      id: 7,\n      title: title,\n      component: ArticleView,\n      passProps: {url: this.props.resource.url}\n    });\n  }\n}\nreactMixin(ResourceRow.prototype, RowMixin);\n\nvar styles = StyleSheet.create({\n  textContainer: {\n    flex: 1,\n    alignSelf: 'center'\n  },\n  rowWrapper: {\n    borderColor: '#f7f7f7',\n    borderWidth: StyleSheet.hairlineWidth,\n    borderBottomColor: '#eeeeee',\n    justifyContent: 'center',\n    backgroundColor: '#ffffff'\n  },\n  dateRow: {\n    position: 'absolute',\n    top: 2,\n    backgroundColor:\n    'transparent',\n    right: 10\n  },\n  // TODO: remove when you figure out v-centering\n  // HACK FOR VERTICAL CENTERING\n  resourceTitle: {\n    // flex: 1,\n    fontSize: 17,\n    fontWeight: '400',\n    // paddingTop: 18,\n    // marginBottom: 2,\n  },\n  description: {\n    // flex: 1,\n    flexWrap: 'wrap',\n    color: '#999999',\n    fontSize: 16,\n  },\n  row: {\n    backgroundColor: 'white',\n    justifyContent: 'center',\n    // justifyContent: 'space-around',\n    flexDirection: 'row',\n    padding: 5,\n  },\n  cellRoundImage: {\n    // flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    // backgroundColor: '#7AAAc3',\n    paddingVertical: 1,\n    // borderColor: '#7AAAc3',\n    borderRadius: 30,\n    // borderWidth: 1,\n    height: 60,\n    marginRight: 10,\n    width: 60,\n    alignSelf: 'center'\n  },\n  cellText: {\n    color: '#ffffff',\n    fontSize: 20,\n    backgroundColor: 'transparent'\n  },\n  cellImage: {\n    backgroundColor: '#ffffff',\n    height: 60,\n    marginRight: 10,\n    width: 60,\n    borderColor: '#7AAAc3',\n    borderRadius: 30,\n    borderWidth: StyleSheet.hairlineWidth,\n  },\n  cellNoImage: {\n    backgroundColor: '#dddddd',\n    marginTop: 20,\n    marginLeft: 10,\n  },\n  cancelIcon: {\n    width: 40,\n    height: 40,\n  },\n  icon: {\n    width: 40,\n    height: 40,\n    alignSelf: 'center',\n    marginLeft: 10,\n    marginTop: 7,\n    color: '#7AAAc3'\n  },\n  online: {\n    backgroundColor: 'green',\n    borderRadius: 6,\n    width: 12,\n    height: 12,\n    position: 'absolute',\n    top: 83,\n    left: 8,\n    borderWidth: StyleSheet.hairlineWidth,\n    borderColor: '#ffffff'\n  },\n  verySmallLetters: {\n    fontSize: 12,\n    alignSelf: 'flex-end',\n    color: '#b4c3cb'\n  },\n});\n\nResourceRow = makeResponsive(ResourceRow)\nmodule.exports = ResourceRow;\n      // return (\n      // <Swipeout right={[{text: 'Hide', backgroundColor: 'red', onPress: this.hideResource.bind(this, resource)}]} autoClose={true} scroll={(event) => this._allowScroll(event)} >\n      //   <View key={this.getNextKey()} style={{opacity: 1, flex: 1, justifyContent: 'center'}}>\n      //     <TouchableOpacity onPress={this.state ? this.action.bind(this) : this.props.onSelect} key={this.getNextKey()}>\n      //       <View style={[styles.row]} key={this.getNextKey()}>\n      //         {photo}\n      //         {orgPhoto}\n      //         {onlineStatus}\n      //         <View style={textStyle} key={this.getNextKey()}>\n      //           {this.formatRow(resource)}\n      //         </View>\n      //         {cancelResource}\n      //       </View>\n      //     </TouchableOpacity>\n      //     {this.props.isOfficialAccounts\n      //     ? <TouchableOpacity style={{position: 'absolute', right: 20, top: 25, backgroundColor: 'white'}} onPress={() => {\n      //         this.props.navigator.push({\n      //           component: ResourceList,\n      //           title: translate(\"myDocuments\"),\n      //           backButtonTitle: translate('back'),\n      //           passProps: {\n      //             modelName: constants.TYPES.FORM,\n      //             resource: this.props.resource\n      //           }\n      //         })\n      //       }}>\n      //         <View style={textStyle}>\n      //            {resource.numberOfForms\n      //               ? <View style={{flexDirection: 'row'}}>\n      //                    <Icon name='ios-paper-outline' color='#cccccc' size={35} style={{marginTop: Platform.OS === 'ios' ? -5 : 0}}/>\n      //                    <Text style={{fontWeight: '600', marginLeft: 0, marginTop: Platform.OS === 'ios' ? -10 : -6, color: '#cccccc'}}>{resource.numberOfForms}</Text>\n      //                 </View>\n      //               : <View />\n      //            }\n      //         </View>\n      //       </TouchableOpacity>\n      //       : <View />}\n      //     {dateRow}\n      //     {cancelResource}\n      //     <View style={styles.cellBorder}  key={this.getNextKey()} />\n      //   </View>\n      // </Swipeout>\n      // );\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/ResourceRow.js\n **/","\nimport { View } from 'react-native'\nexport default View\n\n\n\n/** WEBPACK FOOTER **\n ** ./web/shims/LinearGradient.js\n **/","'use strict';\n\nvar React = require('react');\nvar utils = require('../utils/utils');\nvar translate = utils.translate\nvar constants = require('@tradle/constants');\nvar Accordion = require('react-native-accordion')\n// import LinearGradient from 'react-native-linear-gradient'\n// var Icon = require('react-native-vector-icons/Ionicons');\nimport CustomIcon from '../styles/customicons'\nvar cnt = 0;\nimport {\n  Text,\n  View,\n  Alert,\n  StyleSheet,\n  TouchableHighlight,\n  Image\n} from 'react-native';\n\nconst MY_PRODUCT = 'tradle.MyProduct'\nconst FORM_ERROR = 'tradle.FormError'\nconst FORM = 'tradle.Form'\nconst FORM_REQUEST = 'tradle.FormRequest'\nconst ENUM = 'tradle.Enum'\nconst NEXT_FORM_REQUEST = 'tradle.NextFormRequest'\nconst PRODUCT_APPLICATION = 'tradle.ProductApplication'\nvar STRUCTURED_MESSAGE_COLOR\nvar BORDER_WIDTH = StyleSheet.hairlineWidth\n\nvar RowMixin = {\n  addDateProp(dateProp, style) {\n    var resource = this.props.resource;\n    var properties = utils.getModel(resource[constants.TYPE] || resource.id).value.properties;\n    if (properties[dateProp]  &&  properties[dateProp].style)\n      style = [style, properties[dateProp].style];\n    var val = utils.formatDate(new Date(resource[dateProp]));\n\n    return !properties[dateProp]  ||  properties[dateProp].skipLabel\n        ? <Text style={style} key={this.getNextKey()}>{val}</Text>\n        : <View style={{flexDirection: 'row'}} key={this.getNextKey()}><Text style={style}>{properties[dateProp].title}</Text><Text style={style}>{val}</Text></View>\n\n    return <Text style={[style]} numberOfLines={1} key={this.getNextKey()}>{val}</Text>;\n  },\n  getNextKey() {\n    return this.props.resource[constants.ROOT_HASH] + '_' + cnt++\n  },\n  getPropRow(prop, resource, val, isVerification) {\n    STRUCTURED_MESSAGE_COLOR = this.props.bankStyle.STRUCTURED_MESSAGE_COLOR\n    if (prop.ref) {\n      if (prop.ref === constants.TYPES.MONEY) {\n        let c = utils.normalizeCurrencySymbol(val.currency)\n        val = (c || CURRENCY_SYMBOL) + val.value\n        // val = (val.currency || CURRENCY_SYMBOL) + val.value\n      }\n      else {\n        let m = utils.getModel(prop.ref).value\n        if (m.subClassOf === ENUM) {\n          if (typeof val === 'string')\n            val = utils.createAndTranslate(val)\n          else\n            val = utils.createAndTranslate(val.title)\n        }\n      }\n    }\n    let model = utils.getModel(resource[constants.TYPE]).value\n\n    var style = {flexDirection: 'row'}\n    let propTitle = translate(prop, model)\n    if (isVerification) {\n      if (!this.props.isAggregation)\n        style = [style, {borderWidth: BORDER_WIDTH, paddingVertical: 3, borderColor: this.props.bankStyle.VERIFICATION_BG, borderTopColor: '#eeeeee'}]\n      return (\n        <View style={style} key={this.getNextKey()}>\n          <View style={{flex: 1, flexDirection: 'column'}}>\n            <Text style={[styles.verySmallLetters, {color: '#333333'}]}>{propTitle}</Text>\n          </View>\n          <View style={{flex: 1, flexDirection: 'column'}}>\n            <Text style={styles.verySmallLetters}>{val + (prop.units &&  prop.units.charAt(0) !== '[' ? ' ' + prop.units : '')}</Text>\n          </View>\n        </View>\n      )\n    }\n    else {\n      let isMyProduct = model.subClassOf === MY_PRODUCT\n      let isForm = model.subClassOf === constants.TYPES.FORM\n      let isMyMessage = this.isMyMessage()\n      if (!this.props.isAggregation  &&  (isMyMessage || isForm) &&  !isMyProduct)\n        style = [style, {borderWidth: BORDER_WIDTH, paddingVertical: 3, borderColor: isMyMessage ? STRUCTURED_MESSAGE_COLOR : '#ffffff', borderBottomColor: this.props.bankStyle.STRUCTURED_MESSAGE_BORDER}]\n      let color = this.isMyMessage() && !isMyProduct ? {color: '#FFFFEE'} : {color: '#757575'}\n      return (\n        <View style={style} key={this.getNextKey()}>\n          <View style={{flex: 1, flexDirection: 'column'}}>\n            <Text style={[styles.descriptionB, color]}>{propTitle}</Text>\n          </View>\n          <View style={{flex: 1, flexDirection: 'column'}}>\n            <Text style={[styles.descriptionB, color]}>{val + (prop.units &&  prop.units.charAt(0) !== '[' ? ' ' + prop.units : '')}</Text>\n          </View>\n       </View>\n      )\n    }\n\n  },\n  getOwnerPhoto(isMyMessage) {\n    var to = this.props.to;\n\n    if (isMyMessage  || !to /* ||  !to.photos*/)\n      return <View style={{marginVertical: 0}}/>\n\n    if (!isMyMessage   &&  this.props.resource.from.photo) {\n      let uri = utils.getImageUri(this.props.resource.from.photo.url)\n      return <Image source={{uri: uri}} style={styles.employeeImage} />\n    }\n    if (to.photos) {\n      var uri = utils.getImageUri(to.photos[0].url);\n      return <Image source={{uri: uri}} style={styles.msgImage} />\n    }\n    if (!isMyMessage) {\n      var title = this.props.resource.from.title.split(' ').map(function(s) {\n        return s.charAt(0);\n      }).join('');\n\n      return <View style={{paddingRight: 3}}>\n               <View style={[{color: '#ffffff', backgroundColor: this.props.bankStyle.LINK_COLOR}, styles.cellRoundImage]}>\n                 <Text style={styles.cellText}>{title}</Text>\n               </View>\n             </View>\n    }\n  },\n  getTime(resource) {\n    if (!resource.time)\n      return\n    var previousMessageTime = this.props.previousMessageTime;\n    var showTime = !previousMessageTime  ||  this.props.isAggregation;\n\n    if (!showTime)  {\n      var prevDate = new Date(previousMessageTime);\n      var curDate = new Date(resource.time);\n      showTime = resource.time - previousMessageTime > 3600000 ||\n                 prevDate.getDate()  !== curDate.getDate()  ||\n                 prevDate.getMonth() !== curDate.getMonth() ||\n                 prevDate.getYear()  !== curDate.getYear()\n    }\n\n    if (showTime)\n      return utils.formatDate(resource.time);\n  },\n  isMyMessage() {\n    if (this.props.isAggregation)\n      return\n    var r = this.props.resource\n    // return utils.isMyMessage(r)\n    var fromHash = utils.getId(r.from);\n    var me = utils.getMe()\n    if (fromHash === utils.getId(me))\n      return true;\n    if (utils.getModel(r[constants.TYPE]).value.subClassOf == MY_PRODUCT) {\n      let org = r.from.organization\n      if (org  &&  utils.getId(r.from.organization) !== utils.getId(this.props.to))\n        return true\n    }\n  },\n  formatDocument(model, verification, onPress, isAccordion) {\n    var resource = verification.document;\n    isAccordion = false\n\n    var docModel = utils.getModel(resource[constants.TYPE]).value;\n    var isMyProduct = docModel.subClassOf === MY_PRODUCT\n    var docModelTitle = docModel.title;\n    var idx = docModelTitle.indexOf('Verification');\n    var docTitle = idx === -1 ? docModelTitle : docModelTitle.substring(0, idx);\n\n    var msg;\n    if (resource.message  &&  docModel.subClassOf !== FORM)\n      msg = <View><Text style={styles.description}>{resource.message}</Text></View>\n    // else if (!onPress) {\n    //   msg = <View><Text style={styles.description}>{translate('seeTheForm')}</Text></View>\n    //   // var rows = [];\n    //   // this.formatDocument1(model, resource, rows);\n    //   // msg = <View>{rows}</View>\n    // }\n    else\n      msg = <View/>\n\n    var hasPhotos = resource  &&  resource.photos  &&  resource.photos.length\n    var photo = hasPhotos\n              ? <Image resizeMode='cover' source={{uri: utils.getImageUri(resource.photos[0].url)}}  style={styles.cellImage} />\n              : <View />;\n    var headerStyle = {paddingTop: 5, alignSelf: 'center'}\n    // var header =  <View style={headerStyle}>\n    //                 <Text style={[styles.resourceTitle, {fontSize: 20, color: '#B6C2A7'}]}>{translate(model)}</Text>\n    //               </View>\n                    // <Icon name='md-arrow-dropright' size={30} color={this.props.bankStyle.VERIFIED_HEADER_COLOR}/>\n    var header =  <View style={headerStyle}>\n                    <Text style={[styles.resourceTitle, {fontSize: 18, marginTop: 2, paddingRight: 10, color: this.props.bankStyle.VERIFIED_HEADER_COLOR}]}>{translate(model) + ' ...'}</Text>\n                  </View>\n    let addStyle\n    if (!onPress)\n      addStyle = {marginHorizontal: -7, paddingHorizontal: 7, backgroundColor: this.props.bankStyle.VERIFICATION_BG, borderWidth: BORDER_WIDTH, borderColor: this.props.bankStyle.VERIFICATION_BG, borderBottomColor: this.props.bankStyle.VERIFIED_HEADER_COLOR}\n    else\n      addStyle = {}\n    header = hasPhotos\n            ?  <View style={[styles.rowContainer, styles.verification, addStyle]}>\n                 {photo}\n                 {header}\n               </View>\n            :  <View style={[addStyle, styles.verification]}>\n                 {header}\n               </View>\n   if (!isAccordion)\n      header = <TouchableHighlight underlayColor='transparent' onPress={this.props.onSelect.bind(this, resource, verification)}>\n                 {header}\n               </TouchableHighlight>\n\n\n    var orgRow = <View/>\n    if (verification  && verification.organization) {\n      var orgPhoto = verification.organization.photo\n                   ? <Image source={{uri: utils.getImageUri(verification.organization.photo)}} style={[styles.orgImage, {marginTop: -5}]} />\n                   : <View />\n      var shareView = <View style={[styles.shareButton, {opacity: this.props.resource.documentCreated ? 0.3 : 1}]}>\n                        <CustomIcon name='tradle' style={{ color: '#ffffff' }} size={35} />\n                        <Text style={{color: '#fefefe', fontSize: 18, paddingHorizontal: 3, marginTop: 6}}>{translate('Share')}</Text>\n                      </View>\n      var orgTitle = this.props.to[constants.TYPE] === constants.TYPES.ORGANIZATION\n                   ? this.props.to.name\n                   : (this.props.to.organization ? this.props.to.organization.title : null);\n      // let o = verification.organization.title.length < 25 ? verification.organization.title : verification.organization.title.substring(0, 27) + '..'\n      let verifiedBy\n      if (isMyProduct)\n        verifiedBy = translate('issuedBy', verification.organization.title)\n      // Not verified Form - still shareable\n      else if (verification[constants.ROOT_HASH])\n        verifiedBy = translate('verifiedBy', verification.organization.title)\n      else\n        verifiedBy = translate('sentTo', verification.organization.title)\n\n      // if (verifiedBy.length > 25)\n      //   verifiedBy = verifiedBy.substring(0, 25) + '..'\n      var maxWidth = 0.8 * utils.dimensions().width - 150\n      var orgView =   <View style={{marginTop: 5, maxWidth: maxWidth, paddingLeft: 3}}>\n                        <Text style={[styles.verySmallLetters, { fontSize: 14}]}>\n                          {verifiedBy}\n                        </Text>\n                      </View>\n\n                         // <Text style={[styles.verySmallLetters, {color: '#2E3B4E'}]}>{verification.organization.title.length < 30 ? verification.organization.title : verification.organization.title.substring(0, 27) + '..'}</Text>\n      if (onPress) {\n        // if (!this.props.resource.documentCreated)\n        //      <TouchableHighlight underlayColor='transparent' onPress={onPress ? onPress : () =>\n        //                     Alert.alert(\n        //                       'Sharing ' + docTitle + ' ' + verifiedBy,\n        //                       'with ' + orgTitle,\n        //                       [\n        //                         {text: translate('cancel'), onPress: () => console.log('Canceled!')},\n        //                         {text: translate('Share'), onPress: this.props.share.bind(this, verification, this.props.to, this.props.resource)},\n        //                       ]\n        //                   )}>\n        //             {shareView}\n        //           </TouchableHighlight>\n\n      }\n      else if (this.props.resource.documentCreated) {\n          orgRow = <View style={{flexDirection: 'row', marginTop: 5, paddingBottom: 5, justifyContent:'space-between'}}>\n                     {shareView}\n                    <TouchableHighlight onPress={this.props.onSelect.bind(this, resource, verification)} underlayColor='transparent'>\n                      {orgView}\n                    </TouchableHighlight>\n                  </View>\n      }\n      else {\n        orgRow = <View style={{flexDirection: 'row', marginTop: 7, paddingBottom: 5, justifyContent:'space-between'}}>\n                   <TouchableHighlight underlayColor='transparent' onPress={onPress ? onPress : () =>\n                            Alert.alert(\n                              'Sharing ' + docTitle + ' ' + verifiedBy,\n                              'with ' + orgTitle,\n                              [\n                                {text: translate('cancel'), onPress: () => console.log('Canceled!')},\n                                {text: translate('Share'), onPress: this.props.share.bind(this, verification, this.props.to, this.props.resource)},\n                              ]\n                          )}>\n                    {shareView}\n                   </TouchableHighlight>\n                   <TouchableHighlight onPress={this.props.onSelect.bind(this, resource, verification)} underlayColor='transparent'>\n                     {orgView}\n                   </TouchableHighlight>\n                </View>\n      }\n    }\n    let content = <View style={{flex:1}}>\n                     <TouchableHighlight onPress={this.props.onSelect.bind(this, resource, verification)} underlayColor='transparent'>\n                       {msg}\n                     </TouchableHighlight>\n                     {orgRow}\n                   </View>\n\n    // var verifiedBy = verification && verification.organization ? verification.organization.title : ''\n    return isAccordion\n        ? ( <View style ={{marginTop: 5}} key={this.getNextKey()}>\n             <Accordion\n               header={header}\n               style={{padding: 5}}\n               content={content}\n               underlayColor='transparent'\n               easing='easeOutCirc' />\n            </View>\n          )\n        : ( <View style={{flex: 1}} key={this.getNextKey()}>\n               {header}\n               {content}\n             </View>\n           );\n  },\n\n  formatDocument1(model, resource, renderedRow) {\n    var viewCols = model.gridCols || model.viewCols;\n    if (!viewCols)\n      return\n    var vCols = [];\n    var self = this;\n\n    if (resource[constants.TYPE] != model.id)\n      return;\n\n    var properties = model.properties;\n    viewCols.forEach(function(v) {\n      if (properties[v].type === 'array'  ||  properties[v].type === 'date')\n        return;\n      var style = styles.verySmallLetters;\n      if (properties[v].ref) {\n      // if (properties[v].ref) {\n        if (resource[v]) {\n          var val\n          if (properties[v].type === 'object') {\n            if (properties[v].ref) {\n              if (properties[v].ref === constants.TYPES.MONEY) {\n                val = resource[v] //(resource[v].currency || CURRENCY_SYMBOL) + resource[v].value\n                if (typeof val === 'string')\n                  val = {value: val, currency: CURRENCY_SYMBOL}\n                else {\n                  let c = utils.normalizeCurrencySymbol(val.currency)\n                  val.currency = c\n                }\n              }\n              else {\n                var m = utils.getModel(properties[v].ref).value\n                if (m.subClassOf  &&  m.subClassOf == ENUM)\n                  val = resource[v].title\n              }\n            }\n          }\n          if (!val)\n            val = resource[v].title  ||  resource[v]\n          vCols.push(self.getPropRow(properties[v], resource, val, true))\n        }\n        return;\n      }\n      var row\n      if (resource[v]  &&  properties[v].type === 'string'  &&  (resource[v].indexOf('http://') == 0  ||  resource[v].indexOf('https://') == 0))\n        row = <Text style={style} key={self.getNextKey()}>{resource[v]}</Text>;\n      else if (!model.autoCreate) {\n        var val = (properties[v].displayAs)\n                ? utils.templateIt(properties[v], resource)\n                : properties[v].type === 'boolean' ? (resource[v] ? 'Yes' : 'No') : resource[v];\n        if (!val)\n          return\n        row = self.getPropRow(properties[v], resource, val || resource[v], true)\n      }\n      else {\n        if (!resource[v]  ||  !resource[v].length)\n          return;\n        var msgParts = utils.splitMessage(resource[v]);\n        // Case when the needed form was sent along with the message\n        if (msgParts.length === 2) {\n          var msgModel = utils.getModel(msgParts[1]);\n          if (msgModel) {\n            vCols.push(<View key={self.getNextKey()}>\n                         <Text style={style}>{msgParts[0]}</Text>\n                         <Text style={[style, {color: isMyMessage ? STRUCTURED_MESSAGE_COLOR : LINK_COLOR}]}>{msgModel.value.title}</Text>\n                       </View>);\n            return;\n          }\n        }\n        row = self.getPropRow(properties[v], resource, resource[v], /*style,*/ true)\n      }\n      vCols.push(row);\n    });\n\n    if (vCols  &&  vCols.length) {\n      vCols.forEach(function(v) {\n        renderedRow.push(v);\n      });\n    }\n  }\n\n  // anyOtherRow(prop, backlink, styles) {\n  //   var row;\n  //   var resource = this.props.resource;\n  //   var propValue = resource[prop.name];\n  //   if (propValue  &&  (typeof propValue != 'string'))\n  //     row = <Text style={style} numberOfLines={1}>{propValue}</Text>;\n  //   else if (!backlink  &&  propValue  && (propValue.indexOf('http://') == 0  ||  propValue.indexOf('https://') == 0))\n  //     row = <Text style={style} onPress={this.onPress.bind(this)} numberOfLines={1}>{propValue}</Text>;\n  //   else {\n  //     var val = prop.displayAs ? utils.templateIt(prop, resource) : propValue;\n  //     let msgParts = utils.splitMessage(val);\n  //     if (msgParts.length <= 2)\n  //       val = msgParts[0];\n  //     else {\n  //       val = '';\n  //       for (let i=0; i<msgParts.length - 1; i++)\n  //         val += msgParts[i];\n  //     }\n  //     row = <Text style={style}>{val}</Text>;\n  //   }\n  //   return row;\n  // }\n}\n\nvar styles = StyleSheet.create({\n  verySmallLetters: {\n    fontSize: 18,\n    // alignSelf: 'flex-end',\n    color: '#757575'\n    // color: '#b4c3cb'\n  },\n  description: {\n    // flexWrap: 'wrap',\n    color: '#757575',\n    fontSize: 14,\n  },\n  descriptionB: {\n    // flexWrap: 'wrap',\n    // color: '#757575',\n    fontSize: 18,\n  },\n  shareButton: {\n    flexDirection: 'row',\n    marginLeft: 0,\n    justifyContent: 'space-between',\n    padding: 5,\n    borderRadius: 10,\n    borderWidth: BORDER_WIDTH,\n    borderColor: '#215A89',\n    backgroundColor: '#4982B1'\n  },\n  msgImage: {\n    // backgroundColor: '#dddddd',\n    height: 30,\n    marginRight: 3,\n    marginLeft: 0,\n    width: 30,\n    borderRadius: 15,\n    borderColor: '#cccccc',\n    borderWidth: BORDER_WIDTH\n  },\n  cellText: {\n    marginTop: 8,\n    alignSelf: 'center',\n    color: '#ffffff',\n    fontSize: 18,\n    backgroundColor: 'transparent'\n  },\n  employeeImage: {\n    // backgroundColor: '#dddddd',\n    height: 30,\n    marginRight: 3,\n    marginLeft: 0,\n    width: 30,\n  },\n  cellRoundImage: {\n    paddingVertical: 1,\n    borderRadius: 20,\n    height: 40,\n    width: 40,\n    alignSelf: 'center'\n  },\n  cellImage: {\n    // backgroundColor: '#dddddd',\n    height: 40,\n    width: 40,\n    marginRight: 10,\n    borderColor: 'transparent',\n    borderRadius:10,\n    borderWidth: BORDER_WIDTH,\n  },\n  rowContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  verification: {\n    // marginHorizontal: -7,\n    // marginVertical: -10,\n    paddingVertical: 7,\n    // borderRadius: 10,\n    // backgroundColor: '#EDF2CE'\n  },\n  orgImage: {\n    width: 20,\n    height: 20,\n    borderRadius: 10\n  },\n  resourceTitle: {\n    // flex: 1,\n    fontSize: 18,\n    fontWeight: '400',\n    marginBottom: 2,\n  },\n});\n\nmodule.exports = RowMixin;\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/RowMixin.js\n **/","import { createIconSet } from 'react-native-vector-icons'\nconst glyphMap = { 'tradle': 58896 }\nconst Icons = createIconSet(glyphMap, 'tradle', 'tradle.ttf')\nmodule.exports = Icons\nmodule.exports.glyphMap = glyphMap\n\n\n\n/** WEBPACK FOOTER **\n ** ./styles/customicons.js\n **/","'use strict';\n\nvar utils = require('../utils/utils');\nvar translate = utils.translate\nvar ShowPropertiesView = require('./ShowPropertiesView');\nvar PhotoView = require('./PhotoView');\nvar PhotoList = require('./PhotoList');\n// var AddNewIdentity = require('./AddNewIdentity');\n// var SwitchIdentity = require('./SwitchIdentity');\nvar ShowRefList = require('./ShowRefList');\nvar PageView = require('./PageView')\nvar Icon = require('react-native-vector-icons/Ionicons');\n// var IdentitiesList = require('./IdentitiesList');\nvar Actions = require('../Actions/Actions');\nvar Reflux = require('reflux');\nvar Store = require('../Store/Store');\nvar reactMixin = require('react-mixin');\nvar ResourceMixin = require('./ResourceMixin');\nvar QRCode = require('./QRCode')\nvar MessageList = require('./MessageList')\nvar defaultBankStyle = require('../styles/bankStyle.json')\nvar ENV = require('../utils/env')\n\nimport ActionSheet from 'react-native-actionsheet'\n\nimport platformStyles from '../styles/platform'\nimport { signIn } from '../utils/localAuth'\nimport { makeResponsive } from 'react-native-orient'\n\nconst TALK_TO_EMPLOYEE = '1'\n// const SERVER_URL = 'http://192.168.0.162:44444/'\n\nvar extend = require('extend');\nvar constants = require('@tradle/constants');\nconst USE_TOUCH_ID = 0\nconst USE_GESTURE_PASSWORD = 1\nconst CHANGE_GESTURE_PASSWORD = 2\nconst PAIR_DEVICES = 3\nconst WIPE_DEVICE = 4\nimport {\n  StyleSheet,\n  ScrollView,\n  Image,\n  View,\n  Text,\n  Platform,\n  TextInput,\n  Dimensions,\n  Modal,\n  Alert,\n  TouchableHighlight,\n} from 'react-native'\n\nimport React, { Component } from 'react'\n\nclass ResourceView extends Component {\n  static displayName = 'ResourceView';\n  constructor(props) {\n    super(props);\n    let me = utils.getMe()\n    this.state = {\n      resource: props.resource,\n      isLoading: props.resource.id ? true : false,\n      isModalOpen: false,\n      useTouchId: me && me.useTouchId,\n      useGesturePassword: me && me.useGesturePassword,\n    }\n    let currentRoutes = this.props.navigator.getCurrentRoutes()\n    let len = currentRoutes.length\n    if (!currentRoutes[len - 1].onRightButtonPress  &&  currentRoutes[len - 1].rightButtonTitle)\n      currentRoutes[len - 1].onRightButtonPress = this.props.action.bind(this)\n  }\n  componentWillMount() {\n    if (this.props.resource.id)\n      Actions.getItem(this.props.resource)\n  }\n  componentDidMount() {\n    this.listenTo(Store, 'handleEvent');\n  }\n  handleEvent(params) {\n    switch (params.action) {\n    case 'showIdentityList':\n      this.onShowIdentityList(params)\n      break\n    case 'getItem':\n      this.setState({\n        resource: params.resource,\n        isLoading: false\n      })\n      break\n    case 'genPairingData':\n      if (params.error)\n        Alert.alert(params.error)\n      else\n        this.setState({pairingData: params.pairingData, isModalOpen: true})\n      break\n    case 'invalidPairingRequest':\n      this.props.navigator.pop()\n      Alert.alert(translate(params.error))\n      break\n    case 'acceptingPairingRequest':\n      this.closeModal()\n      // check signature\n      signIn(this.props.navigator, utils.getMe())\n        .then(() => {\n          Actions.pairingRequestAccepted(params.resource)\n        })\n      break\n    case 'pairingRequestAccepted':\n      this.props.navigator.pop()\n      break\n    case 'newContact':\n      this.closeModal()\n      break\n    case 'employeeOnboarding':\n      let routes = this.props.navigator.getCurrentRoutes()\n      // this.props.navigator.jumpTo(routes[1])\n      let style = {}\n      extend(style, defaultBankStyle)\n      if (params.to.style)\n        style = extend(style, params.to.style)\n      this.props.navigator.replacePreviousAndPop({\n        component: MessageList,\n        title: utils.getDisplayName(params.to),\n        id: 11,\n        backButtonTitle: 'Back',\n        passProps: {\n          resource: params.to,\n          filter: '',\n          modelName: constants.TYPES.MESSAGE,\n          // currency: params.organization.currency,\n          bankStyle: style,\n          // dictionary: params.dictionary,\n        }\n      }, 2)\n      // this.props.navigator.jumpTo(routes[2])\n      break\n    default:\n      if (params.resource)\n        this.onResourceUpdate(params)\n      break\n    }\n  }\n  shouldComponentUpdate(nextProps, nextState) {\n    return utils.resized(this.props, nextProps)                            ||\n            (this.state.isModalOpen  !== nextState.isModalOpen             ||\n            this.state.useGesturePassword !== nextState.useGesturePassword ||\n            this.state.useTouchId !== nextState.useTouchId                 ||\n            this.state.pairingData !== nextState.pairingData)\n  }\n  onResourceUpdate(params) {\n    var resource = params.resource;\n    // if (resource  &&  this.props.resource[constants.ROOT_HASH] === resource[constants.ROOT_HASH]) {\n    //   var me = utils.getMe();\n    //   if (resource[constants.ROOT_HASH] === me[constants.ROOT_HASH])\n    //     utils.setMe(resource);\n      this.setState({resource: resource});\n    // }\n  }\n  changePhoto(photo) {\n    this.setState({currentPhoto: photo});\n  }\n  onShowIdentityList(params) {\n    var me = utils.getMe();\n    this.props.navigator.push({\n      id: 8,\n      title: 'My Identities',\n      component: IdentitiesList,\n      backButtonTitle: 'Profile',\n      passProps: {\n        filter: '',\n        list: params.list\n      }\n    });\n  }\n\n  render() {\n    if (this.state.isLoading)\n      return <View/>\n\n    var dimensions = this.props.dimensions\n    var styles = createStyles()\n\n    var resource = this.state.resource;\n    var modelName = resource[constants.TYPE];\n    var model = utils.getModel(modelName).value;\n    var photos = []\n    if (resource.photos  &&  resource.photos.length > 1) {\n      extend(photos, resource.photos);\n      photos.splice(0, 1);\n    }\n\n    var isIdentity = model.id === constants.TYPES.PROFILE;\n    var isOrg = model.id === constants.TYPES.ORGANIZATION;\n    var me = utils.getMe()\n    var actionPanel\n    if (me) {\n      var isMe = isIdentity ? resource[constants.ROOT_HASH] === me[constants.ROOT_HASH] : true;\n      actionPanel = ((isIdentity  &&  !isMe) || (isOrg  &&  (!me.organization  ||  utils.getId(me.organization) !== utils.getId(resource))))\n                  ? <View/>\n                  : <ShowRefList showQR={this.openModal.bind(this)} resource={resource} currency={this.props.currency} navigator={this.props.navigator} />\n    }\n    else\n      actionPanel = <View/>\n    var qrcode, w\n    var {width, height} = utils.dimensions(ResourceView)\n    if (this.state.pairingData) {\n      w = Math.floor((width / 3) * 2)\n      qrcode = <View style={{alignSelf: 'center', justifyContent: 'center', backgroundColor: '#ffffff', padding:10}} onPress={()=> this.setState({isModalOpen: true})}>\n                 <QRCode inline={true} content={this.state.pairingData} dimension={w} />\n               </View>\n    }\n    else if (isMe  &&  me.isEmployee  &&  me.organization && me.organization.url) {\n      w = Math.floor((width / 3) * 2)\n      qrcode = <View style={{alignSelf: 'center', justifyContent: 'center', backgroundColor: '#ffffff', padding:10}} onPress={()=> this.setState({isModalOpen: true})}>\n                 <QRCode inline={true} content={TALK_TO_EMPLOYEE + ';' + me.organization.url + ';' + utils.getId(me.organization).split('_')[1] + ';' + me[constants.ROOT_HASH]} dimension={w} />\n               </View>\n    }\n    else\n      qrcode = <View />\n\n\n    let msg\n    if (this.state.useTouchId  &&  this.state.useGesturePassword)\n      msg = translate('bothOn')\n    else if (this.state.useTouchId)\n      msg = translate('touchIdOn')\n    else\n      msg = translate('passwordOn')\n//, this.state.useTouchId ? {opacity: 1} : {opacity: 0.3}\n    let switchTouchId = isIdentity\n                      ? <View style={styles.footer}>\n                          <Text style={platformStyles.touchIdText}>{msg}</Text>\n                          <TouchableHighlight underlayColor='transparent' onPress={() => this.ActionSheet.show()}>\n                             <View style={[platformStyles.menuButtonRegular]}>\n                                <Icon name='md-finger-print' color={Platform.OS === 'android' ? 'red' : '#ffffff'} size={33} />\n                              </View>\n                            </TouchableHighlight>\n                        </View>\n                      : <View/>\n    // let showSwitch = isIdentity && Platform.OS === 'ios'  && !utils.isSimulator()\n    // let switchTouchId = showSwitch\n    //                   ? <View style={styles.footer}>\n    //                       <Text style={styles.touchIdText}>{msg}</Text>\n    //                       <TouchableHighlight underlayColor='transparent' onPress={() => this.ActionSheet.show()}>\n    //                          <View style={[platformStyles.menuButtonRegular, this.state.useTouchId ? {opacity: 1} : {opacity: 0.3}]}>\n    //                             <Icon name='md-finger-print' color={Platform.OS === 'ios' ? '#ffffff': 'red'} size={33} />\n    //                           </View>\n    //                         </TouchableHighlight>\n    //                     </View>\n    //                  : <View />\n    // var switchTouchId = <View />\n          // <AddNewIdentity resource={resource} navigator={this.props.navigator} />\n          // <SwitchIdentity resource={resource} navigator={this.props.navigator} />\n              // <Icon  onPress={() => this.closeModal()} name={} size={30} style={{fontSize: 20, color: '#ffffff', paddingHorizontal: 30, paddingVertical: 15}}>Close</Text>\n    // let buttons = showSwitch\n    //             ? [translate('useTouchId') + (this.state.useTouchId ? '    ✔️' : ''), translate('useGesturePassword') + (this.state.useGesturePassword ? '    ✔️' : '')]\n    //             : []\n\n    let buttons = []\n    let actions = []\n    if (isIdentity  &&  isMe) {\n      if (utils.isIOS()) {\n        // when both auth methods are available, give the choice to disable one\n        buttons.push(translate('useTouchId') + (this.state.useTouchId ? ' ✓' : ''))\n        actions.push(USE_TOUCH_ID)\n        buttons.push(translate('useGesturePassword') + (this.state.useGesturePassword ? ' ✓' : ''))\n        actions.push(USE_GESTURE_PASSWORD)\n      }\n\n      if (this.state.useGesturePassword || !utils.isIOS()) {\n        buttons.push(utils.isWeb() ? translate('changePassword') : translate('changeGesturePassword'))\n        actions.push(CHANGE_GESTURE_PASSWORD)\n      }\n      buttons.push(translate('pairDevices'))\n      actions.push(PAIR_DEVICES)\n    }\n\n    if (utils.isWeb()) {\n      buttons.push(translate('wipeDevice'))\n      actions.push(WIPE_DEVICE)\n    }\n\n    buttons.push(translate('cancel'))\n    return (\n      <PageView style={platformStyles.container}>\n      <ScrollView  ref='this'>\n        <View style={styles.photoBG}>\n          <PhotoView resource={resource} navigator={this.props.navigator}/>\n        </View>\n        {actionPanel}\n        <Modal animationType={'fade'} visible={this.state.isModalOpen} transparent={true} onRequestClose={() => this.closeModal()}>\n          <TouchableHighlight  onPress={() => this.closeModal()} underlayColor='transparent'>\n            <View style={styles.modalBackgroundStyle}>\n              {qrcode}\n            </View>\n          </TouchableHighlight>\n        </Modal>\n        <PhotoList photos={photos} resource={this.props.resource} navigator={this.props.navigator} isView={true} numberInRow={photos.length > 4 ? 5 : photos.length} />\n        <ShowPropertiesView resource={resource}\n                            showItems={this.showResources.bind(this)}\n                            showRefResource={this.getRefResource.bind(this)}\n                            currency={this.props.currency}\n                            excludedProperties={['photos']}\n                            navigator={this.props.navigator} />\n        <ActionSheet\n          ref={(o) => {\n            this.ActionSheet = o\n          }}\n          options={buttons}\n          cancelButtonIndex={buttons.length - 1}\n          onPress={(index) => {\n            if (index < buttons.length - 1)\n              this.changePreferences(index, actions[index])\n          }}\n        />\n      </ScrollView>\n      {switchTouchId}\n\n      </PageView>\n    );\n  }\n  openModal() {\n    this.setState({isModalOpen: true});\n  }\n  closeModal() {\n    this.setState({isModalOpen: false});\n  }\n  getRefResource(resource, prop) {\n    var model = utils.getModel(this.props.resource[constants.TYPE]).value;\n\n    this.state.prop = prop;\n    this.state.propValue = utils.getId(resource.id);\n    Actions.getItem(resource.id);\n  }\n  changePreferences(id, action) {\n    let me = utils.getMe()\n    let r = {\n      _r: me[constants.ROOT_HASH],\n      _t: constants.TYPES.PROFILE,\n    }\n    let isChangeGesturePassword\n    switch (action) {\n    case USE_TOUCH_ID:\n      r.useTouchId = me.useTouchId ? (me.useGesturePassword ? false : true) : true\n      r.useGesturePassword = me.useGesturePassword\n      break\n    case USE_GESTURE_PASSWORD:\n      r.useGesturePassword = me.useGesturePassword ? (me.useTouchId ? false : true) : true\n      r.useTouchId = me.useTouchId\n      break\n    case CHANGE_GESTURE_PASSWORD:\n      isChangeGesturePassword = true\n      break\n    case PAIR_DEVICES:\n      Actions.genPairingData()\n      return\n    case WIPE_DEVICE:\n      Actions.requestWipe()\n      return\n    }\n    if (!r.useGesturePassword  &&  !r.useTouchId)\n      r.useGesturePassword = true\n    if (!isChangeGesturePassword          &&\n        me.useTouchId === r.useTouchId    &&\n        me.useGesturePassword === r.useGesturePassword)\n      return\n    let self = this\n    signIn(self.props.navigator, r, isChangeGesturePassword)\n      .then(() => {\n        Actions.addItem({resource: me, value: r, meta: utils.getModel(constants.TYPES.PROFILE).value})\n        if (isChangeGesturePassword) {\n          let routes = self.props.navigator.getCurrentRoutes()\n          self.props.navigator.popToRoute(routes[routes.length - 3])\n        } else {\n          self.props.navigator.pop()\n        }\n\n        self.setState({useGesturePassword: r.useGesturePassword, useTouchId: r.useTouchId})\n      })\n    // this.props.navigator.push({\n    //   id: 1,\n    //   backButtonTitle: null,\n    //   component: TimHome,\n    //   passProps: {\n    //     navigator: this.props.navigator,\n    //     modelName: constants.TYPES.PROFILE,\n    //     newMe: r\n    //   }\n    // })\n\n    // this.setState({useGesturePassword: r.useGesturePassword, useTouchId: r.useTouchId})\n    // Actions.addItem({resource: me, value: r, meta: utils.getModel(constants.TYPES.PROFILE).value})\n  }\n}\n\nreactMixin(ResourceView.prototype, Reflux.ListenerMixin);\nreactMixin(ResourceView.prototype, ResourceMixin);\nResourceView = makeResponsive(ResourceView)\n\nvar createStyles = utils.styleFactory(ResourceView, function ({ dimensions }) {\n  return StyleSheet.create({\n    // container: {\n    //   marginTop: Platform.OS === 'ios' ? 64 : 44,\n    //   flex: 1,\n    // },\n    modalBackgroundStyle: {\n      backgroundColor: 'rgba(0, 0, 0, 0.7)',\n      justifyContent: 'center',\n      padding: 20,\n      height: dimensions.height\n    },\n    photoBG: {\n      // backgroundColor: '#245D8C',\n      alignItems: 'center',\n    },\n    footer: {\n      flexDirection: 'row',\n      flexWrap: 'nowrap',\n      justifyContent: 'space-between',\n      alignSelf: 'stretch',\n      height: 45,\n      width: dimensions.width,\n      backgroundColor: '#eeeeee',\n      borderColor: '#eeeeee',\n      borderWidth: 1,\n      borderTopColor: '#cccccc',\n      paddingRight: 10,\n    }\n  })\n})\n\nmodule.exports = ResourceView;\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/ResourceView.js\n **/","'use strict';\n\nvar PhotoList = require('./PhotoList');\nvar ArticleView = require('./ArticleView');\nvar utils = require('../utils/utils');\nvar constants = require('@tradle/constants');\nvar RowMixin = require('./RowMixin')\nvar ResourceMixin = require('./ResourceMixin')\nvar reactMixin = require('react-mixin')\nvar Accordion = require('react-native-accordion')\nvar Icon = require('react-native-vector-icons/Ionicons')\nvar NOT_SPECIFIED = '[not specified]'\nvar DEFAULT_CURRENCY_SYMBOL = '£'\nvar CURRENCY_SYMBOL\nvar TERMS_AND_CONDITIONS = 'tradle.TermsAndConditions'\nconst ENUM = 'tradle.Enum'\n\nimport ActionSheet from 'react-native-actionsheet'\nimport Prompt from 'react-native-prompt'\n// import Communications from 'react-native-communications'\n\nimport {\n  StyleSheet,\n  Image,\n  View,\n  Text,\n  TextInput,\n  TouchableOpacity,\n} from 'react-native'\n\nimport React, { Component } from 'react'\nclass ShowPropertiesView extends Component {\n  props: {\n    navigator: PropTypes.object.isRequired,\n    resource: PropTypes.object.isRequired,\n    checkProperties: PropTypes.func,\n    currency: PropTypes.string,\n    showRefResources: PropTypes.func,\n    showItems: PropTypes.func,\n    bankStyle: PropTypes.object,\n    errorProps: PropTypes.object,\n    excludedProperties: PropTypes.array\n  };\n  constructor(props) {\n    super(props);\n    this.state = {\n      promptVisible: null\n    }\n    CURRENCY_SYMBOL = props.currency ? props.currency.symbol || props.currency : DEFAULT_CURRENCY_SYMBOL\n  }\n  render() {\n    return (\n      <View key={this.getNextKey()}>\n        {this.getViewCols()}\n      </View>\n    );\n  }\n  // let buttons = {[translate('sendEmail'), translate('sendSMS'), translate('cancel')]}\n        // <ActionSheet\n        //   ref={(o) => {\n        //     this.ActionSheet = o\n        //   }}\n        //   options={buttons}\n        //   cancelButtonIndex={buttons.length - 1}\n        //   onPress={(index) => {\n        //     switch (index) {\n        //     case 0:\n        //       Communications.email([val], null, null, 'My Subject','My body text')\n        //       break\n        //     case 1:\n        //       Communications.text(val)\n        //       break;\n        //     default:\n        //       return\n        //     }\n        //   }}\n        // />\n\n  shouldComponentUpdate(nextProps, nextState) {\n    // Prompt for employee to write a correction message\n    if (this.state.promptVisible !== nextState.promptVisible)\n      return true\n    if (!this.props.errorProps  ||  !nextProps.errorProps)\n      return true\n    return (this.props.errorProps != nextProps.errorProps) ? true : false\n  }\n  getViewCols(resource, model) {\n    var resource = this.props.resource;\n    var modelName = resource[constants.TYPE];\n    var model = utils.getModel(modelName).value;\n    var vCols = []\n    if (this.props.checkProperties) {\n      let props = model.properties\n      for (let p in props) {\n        if (p.charAt(0) === '_'  ||  props[p].hidden  ||  props[p].readOnly)\n          continue\n        vCols.push(p)\n      }\n    }\n    else\n      vCols = model.viewCols\n\n    var excludedProperties = this.props.excludedProperties;\n    var props = model.properties;\n    if (excludedProperties) {\n      var mapped = [];\n      excludedProperties.forEach((p) =>  {\n        if (props[p]) {\n          mapped.push(p);\n        }\n      })\n      excludedProperties = mapped;\n    }\n\n    if (!vCols) {\n      vCols = [];\n      for (var p in props) {\n        if (p != constants.TYPE)\n          vCols.push(p)\n      }\n    }\n    var isMessage = model.interfaces;\n    if (!isMessage) {\n      var len = vCols.length;\n      for (var i=0; i<len; i++) {\n        if (props[vCols[i]].displayName) {\n          vCols.splice(i, 1);\n          len--;\n        }\n      }\n    }\n    var first = true;\n    let self = this\n    var viewCols = vCols.map((p) => {\n      if (excludedProperties  &&  excludedProperties.indexOf(p) !== -1)\n        return;\n\n      var val = resource[p];\n      var pMeta = model.properties[p];\n      var isRef;\n      var isItems\n      var isDirectionRow;\n      // var isEmail\n      if (!val) {\n        if (pMeta.displayAs)\n          val = utils.templateIt(pMeta, resource);\n        else if (this.props.checkProperties)\n          val = NOT_SPECIFIED\n        else\n          return;\n      }\n      else if (pMeta.ref) {\n        if (pMeta.ref == constants.TYPES.MONEY) {\n          let c = utils.normalizeCurrencySymbol(val.currency)\n          val = (c || CURRENCY_SYMBOL) + val.value\n        }\n        // Could be enum like props\n        else if (utils.getModel(pMeta.ref).value.subClassOf === ENUM)\n          val = val.title\n        else if (this.props.showRefResource) {\n          // ex. property that is referencing to the Organization for the contact\n          var value = val[constants.TYPE] ? utils.getDisplayName(val, utils.getModel(val[constants.TYPE]).value.properties) : val.title;\n\n          val = <TouchableOpacity onPress={this.props.showRefResource.bind(this, val, pMeta)}>\n                 <Text style={[styles.title, styles.linkTitle]}>{value}</Text>\n               </TouchableOpacity>\n\n          isRef = true;\n        }\n      }\n      else if (pMeta.type === 'date')\n        val = utils.formatDate(val);\n      // else if (pMeta[constants.SUB_TYPE] === 'email') {\n      //   isEmail = true\n      //   val = <TouchableOpacity onPress={() => Communications.email([val], null, null, 'My Subject','My body text')}>\n      //       <Text  style={[styles.title, styles.linkTitle]}>{val}</Text>\n      //   </TouchableOpacity>\n\n      // }\n\n      if (!val)\n        return <View key={this.getNextKey()}></View>;\n      if (!isRef) {\n        if (val instanceof Array) {\n          if (pMeta.items.backlink)\n            return <View  key={this.getNextKey()} />\n          var vCols = pMeta.viewCols;\n          var cnt = val.length;\n          val = <View style={{marginHorizontal: 7}}>{this.renderItems(val, pMeta)}</View>\n\n          isItems = true\n          first = false;\n          title = <View style={{flexDirection: 'row'}}>\n                    <Text style={styles.title}>{pMeta.title || utils.makeLabel(p)}</Text>\n                    {cnt > 3  &&  modelName !== TERMS_AND_CONDITIONS\n                      ? <Icon name={'ios-arrow-down'} size={15} color='#7AAAC3' style={{position: 'absolute', right: 10, top: 10}}/>\n                      : <View />\n                    }\n                  </View>\n\n          if (cnt > 3  &&  modelName !== TERMS_AND_CONDITIONS)\n            val = <View key={this.getNextKey()}>\n                    {separator}\n                    <Accordion\n                      header={title}\n                      content={val}\n                      underlayColor='transparent'\n                      easing='easeInCirc' />\n                 </View>\n          else {\n            val = <View key={this.getNextKey()}>\n                   {title}\n                   {val}\n                 </View>\n          }\n        }\n        else  {\n          if (props[p].units  &&  props[p].units.charAt(0) != '[')\n            val += ' ' + props[p].units\n\n          if (val === NOT_SPECIFIED)\n            val = <Text style={[styles.description, {color: this.props.bankStyle.LINK}]}>{val}</Text>\n          else if (typeof val === 'number'  ||  typeof val === 'boolean')\n            val = <Text style={styles.description}>{val ? 'Yes' : 'No'}</Text>;\n          else if (pMeta.type === 'boolean')\n            val = <Text style={styles.description}>{val.title}</Text>;\n          else if (pMeta.type !== 'object'  &&  (typeof val === 'string')  &&  (val.indexOf('http://') == 0  ||  val.indexOf('https://') === 0))\n            val = <Text onPress={this.onPress.bind(this, val)} style={[styles.description, {color: '#7AAAC3'}]}>{val}</Text>;\n          // else if (pMeta.range) {\n          //   if (pMeta.range === 'email')\n          //     val = <TouchableOpacity onPress={this.sendEmail.bind(this, val)}>\n          //             <Text  style={[styles.title, styles.linkTitle]}>{val}</Text>\n          //           </TouchableOpacity>\n          //   else if (pMeta.range === 'phone') {\n          //     val = <TouchableOpacity onPress={this.sendSMS.bind(this, val)}>\n          //             <Text  style={[styles.title, styles.linkTitle]}>{val}</Text>\n          //           </TouchableOpacity>\n          //   }\n          // }\n          else if (modelName === TERMS_AND_CONDITIONS)\n            val = <Text style={[styles.description, {flexWrap: 'wrap'}]}>{val}</Text>;\n          else\n            val = <Text style={[styles.description]} numberOfLines={2}>{val}</Text>;\n\n        }\n      }\n      var title = pMeta.skipLabel  ||  isItems\n                ? <View />\n                : <Text style={styles.title}>{pMeta.title || utils.makeLabel(p)}</Text>\n      var separator = first\n                    ? <View />\n                    : <View style={styles.separator}></View>;\n\n      first = false;\n      let isPromptVisible = this.state.promptVisible !== null\n      if (isPromptVisible)\n        console.log(this.state.promptVisible)\n      let canReject = this.props.checkProperties\n                    ? <View style={styles.iconView}>\n                        <Icon key={p} name={this.props.errorProps && this.props.errorProps[p] ? 'ios-close-circle' : 'ios-radio-button-off'} size={25} color={this.props.errorProps && this.props.errorProps[p] ? 'red' : this.props.bankStyle.LINK_COLOR} style={{marginTop: 10}}\n                        onPress={() => {\n                          this.setState({promptVisible: pMeta})\n                        }}/>\n                        <Prompt\n                          title='Please write a message to the customer'\n                          placeholder=\"Start typing\"\n                          visible={isPromptVisible}\n                          onCancel={() => this.setState({ promptVisible: null })}\n                          onSubmit={(value) => {\n                            this.setState({ promptVisible: null})\n                            this.props.checkProperties(this.state.promptVisible, value)\n                          }}/>\n                      </View>\n                    : <View />\n      if (this.props.checkProperties)\n        isDirectionRow = true\n               // <View style={{flexDirection: 'row', justifyContent: 'space-between'}}>\n\n      let style = [styles.textContainer, {padding: 10}]\n      if (isDirectionRow) {\n        style.push({flexDirection: 'row'})\n        if (canReject)\n          style.push({justifyContent: 'space-between'})\n      }\n      else\n        style.push({flexDirection: 'column'})\n\n      return (<View key={this.getNextKey()}>\n               {separator}\n               <View style={isDirectionRow ? {flexDirection: 'row'} : {flexDirection: 'column'}}>\n                 <View style={[style, {flexDirection: 'column'}]}>\n                   {title}\n                   {val}\n                 </View>\n                 {canReject}\n               </View>\n             </View>\n             );\n    });\n    if (resource.txId) {\n      viewCols.push(<View key={this.getNextKey()}>\n                     <View style={styles.separator}></View>\n                     <View style={[styles.textContainer, {padding: 10}]}>\n                       <Text style={styles.title}>{'Transaction uri'}</Text>\n                       <TouchableOpacity onPress={this.onPress.bind(this, 'http://tbtc.blockr.io/tx/info/' + resource.txId)}>\n                         <Text style={[styles.description, {color: '#7AAAC3'}]}>{resource.txId}</Text>\n                       </TouchableOpacity>\n                      </View>\n                    </View>)\n    }\n    return viewCols;\n  }\n  onPress(url, event) {\n    var model = utils.getModel(this.props.resource[constants.TYPE]).value;\n    this.props.navigator.push({\n      id: 7,\n      backButtonTitle: 'Back',\n      title: utils.getDisplayName(this.props.resource, model.properties),\n      component: ArticleView,\n      passProps: {url: url ? url : this.props.resource.url}\n    });\n  }\n}\nreactMixin(ShowPropertiesView.prototype, RowMixin);\nreactMixin(ShowPropertiesView.prototype, ResourceMixin);\nvar styles = StyleSheet.create({\n  textContainer: {\n    flex: 1,\n  },\n  separator: {\n    height: 1,\n    backgroundColor: '#eeeeee',\n    marginHorizontal: 15\n  },\n  title: {\n    fontSize: 16,\n    fontFamily: 'Avenir Next',\n    marginTop: 3,\n    marginBottom: 0,\n    marginHorizontal: 7,\n    color: '#9b9b9b'\n  },\n  linkTitle: {\n    color: '#2892C6'\n  },\n  description: {\n    fontSize: 18,\n    marginVertical: 3,\n    marginHorizontal: 7,\n    color: '#2E3B4E',\n  },\n  photo: {\n    width: 86,\n    height: 86,\n    marginLeft: 1,\n  },\n  icon: {\n    width: 40,\n    height: 40\n  },\n  iconView: {\n    alignSelf: 'center',\n    marginRight: 20\n  }\n});\n\nmodule.exports = ShowPropertiesView;\n  // npm i react-native-message-composer\n  // sendEmail(val) {\n  //   Communications.email([val], null, null, 'My Subject','My body text')\n  // }\n  // sendSMS(val) {\n  //   // Communications.text(val)\n  //   var Composer = require('NativeModules').RNMessageComposer\n  //   Composer.messagingSupported(supported => {\n  //     let s = 'may be show something'\n  //   });\n\n  //   // inside your code where you would like to send a message\n  //   Composer.composeMessageWithArgs({\n  //       'messageText':'My sample message body text',\n  //       // 'subject':'My Sample Subject',\n  //       'recipients':[val]\n  //     },\n  //     (result) => {\n  //       switch(result) {\n  //       case Composer.Sent:\n  //         console.log('the message has been sent');\n  //         break;\n  //       case Composer.Cancelled:\n  //         console.log('user cancelled sending the message');\n  //         break;\n  //       case Composer.Failed:\n  //         console.log('failed to send the message');\n  //         break;\n  //       case Composer.NotSupported:\n  //         console.log('this device does not support sending texts');\n  //         break;\n  //       default:\n  //         console.log('something unexpected happened');\n  //         break;\n  //       }\n  //     }\n  //   );\n  // }\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/ShowPropertiesView.js\n **/","'use strict';\n\nvar utils = require('../utils/utils');\nvar groupByEveryN = utils.groupByEveryN\nvar constants = require('@tradle/constants');\nvar reactMixin = require('react-mixin');\nvar PhotoCarouselMixin = require('./PhotoCarouselMixin');\nvar RowMixin = require('./RowMixin')\n\nvar equal = require('deep-equal')\nvar cnt = 1000\nimport {\n  StyleSheet,\n  Image,\n  View,\n  ListView,\n  Text,\n  Animated,\n  Easing,\n  TextInput,\n  TouchableHighlight,\n} from 'react-native'\n\nimport React, { Component } from 'react'\n\n// var Animated = require('Animated');\nclass PhotoList extends Component {\n  static displayName = 'PhotoList'\n  constructor(props) {\n    super(props);\n    var dataSource = new ListView.DataSource({\n      rowHasChanged: (row1, row2) => row1 !== row2\n    });\n    this.state = {\n      photos: this.props.photos,\n      anim: new Animated.Value(0.7),\n      // bounceValue: new Animated.Value(0),\n      dataSource: dataSource\n    }\n  }\n\n  componentDidMount() {\n    Animated.timing(      // Uses easing functions\n      this.state.anim,    // The value to drive\n      {toValue: 1,\n      duration: 500}        // Configuration\n    ).start();\n  }\n  // componentDidMount() {\n  //  // this.state.bounceValue.setValue(1.5);     // Start large\n  //   Animated.spring(                          // Base: spring, decay, timing\n  //     this.state.bounceValue,                 // Animate `bounceValue`\n  //     {\n  //       toValue: 0.8,                         // Animate to smaller size\n  //       friction: 1,                          // Bouncier spring\n  //     }\n  //   ).start();                                // Start the animation\n\n  // }\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.props.resource[constants.ROOT_HASH] !== nextProps.resource[constants.ROOT_HASH])\n      return true\n\n    return nextProps.forceUpdate  ||  !equal(this.props.resource.photos, nextProps.resource.photos)  ||\n           !equal(this.props.photos, nextProps.photos)\n  }\n  render() {\n    var photos = this.props.photos;\n    if (!photos ||  !photos.length || (photos.length == 1  &&  this.props.isView))\n      return null;\n\n    var styles = createStyles()\n    var val = this.renderPhotoList(photos, styles);\n    return (\n       <View style={[styles.photoContainer, this.props.style ? {} : {marginHorizontal: 15}]} key={this.getNextKey()}>\n         {val}\n       </View>\n     );\n  }\n\n  renderPhotoList(val, styles) {\n    // var dataSource = this.state.dataSource.cloneWithRows(\n    //   groupByEveryN(val, this.props.numberInRow || 3)\n    // );\n    // return (\n    //   <View style={styles.row}>\n    //      <ListView\n    //         scrollEnabled = {false}\n    //         removeClippedSubviews={false}\n    //         enableEmptySections={true}\n    //         renderRow={this.renderRow.bind(this, styles)}\n    //         dataSource={dataSource} />\n    //   </View>\n    // );\n    var imageStyle = this.props.style;\n    var len = val.length\n    if (!imageStyle  ||  utils.isEmpty(imageStyle)) {\n      switch (len) {\n      case 1:\n      case 2:\n      case 3:\n        imageStyle = [styles.thumb3];\n        break;\n      case 4:\n        imageStyle = [styles.thumb4];\n        break;\n      default:\n      case 5:\n        imageStyle = [styles.thumb5];\n        break;\n      }\n    }\n    let inRow = this.props.numberInRow || Math.floor(utils.dimensions().width / imageStyle[0].width) - 1 // 2 is padding\n    let rows = []\n    for (var i=0; i<len; i++) {\n      let row = []\n      for (let j = 0; j<inRow  &&  i < len; j++, i++)\n        row.push(this.renderRow(styles, val[i], imageStyle))\n\n      rows.push(<View style={{flexDirection: 'row'}} key={this.getNextKey()}>\n                  {row}\n                </View>)\n      i--\n    }\n    return (\n      <View style={{flexDirection: 'column'}}>\n        {rows}\n      </View>\n    );\n    // return (\n    //   <View style={styles.row}>\n    //     {this.renderRow(styles, val)}\n    //   </View>\n    // );\n\n  }\n  renderRow(styles, photo, imageStyle)  {\n    var uri = photo.url\n    if (!uri)\n      return <View />\n    var source = {uri: uri};\n    if (uri.indexOf('data') === 0  ||  uri.charAt(0) == '/')\n      source.isStatic = true;\n\n    return (\n      <View style={[{margin: 1}, imageStyle[0]]} key={this.getNextKey()}>\n        <TouchableHighlight underlayColor='transparent' onPress={this.props.callback ? this.props.callback.bind(this, photo) : this.showCarousel.bind(this, photo)}>\n           <Image resizeMode='cover' style={[styles.thumbCommon, imageStyle]} source={source} />\n        </TouchableHighlight>\n      </View>\n    )\n    // return (\n    //   <Animated.View style={[{paddingTop: 2, margin: 1}, {transform: [{scale: this.state.anim}]},imageStyle[0]]} key={this.getNextKey() + '_photo'}>\n    //     <TouchableHighlight underlayColor='transparent' onPress={this.props.callback ? this.props.callback.bind(this, photo) : this.showCarousel.bind(this, photo)}>\n    //        <Image resizeMode='cover' style={[styles.thumbCommon, imageStyle]} source={source} />\n    //     </TouchableHighlight>\n    //   </Animated.View>\n    // )\n  }\n\n}\nreactMixin(PhotoList.prototype, PhotoCarouselMixin);\nreactMixin(PhotoList.prototype, RowMixin);\n\nvar createStyles = utils.styleFactory(PhotoList, function ({ dimensions }) {\n  var width = dimensions.width\n  var d3 = Math.min((width / 3) - 5, 240)\n  var d4 = Math.min((width / 4) - 5, 190)\n  var d5 = Math.min((width / 5) - 5, 140)\n  return StyleSheet.create({\n    photoContainer: {\n      paddingTop: 5,\n      // alignSelf: 'center',\n    },\n    thumb3: {\n      width: d3,\n      height: d3,\n    },\n    thumb4: {\n      width: d4,\n      height: d4,\n    },\n    thumb5: {\n      width: d5,\n      height: d5,\n    },\n    thumbCommon: {\n      borderWidth: 0.5,\n      margin: 1,\n      borderColor: '#999999'\n    },\n    row: {\n      flexDirection: 'row',\n      // marginTop: 3,\n      flex: 1,\n    },\n  })\n})\n\nmodule.exports = PhotoList;\n  // renderPhotoList(val, styles) {\n  //   var dataSource = this.state.dataSource.cloneWithRows(\n  //     groupByEveryN(val, this.props.numberInRow || 3)\n  //   );\n  //   return (\n  //     <View style={styles.row}>\n  //        <ListView\n  //           scrollEnabled = {true}\n  //           removeClippedSubviews={false}\n  //           enableEmptySections={true}\n  //           style={{overflow: 'visible'}}\n  //           renderRow={this.renderRow.bind(this, styles)}\n  //           dataSource={dataSource} />\n  //     </View>\n  //   );\n  // }\n\n  // renderRow(styles, photos)  {\n  //   var len = photos.length;\n  //   var imageStyle = this.props.style;\n  //   if (!imageStyle) {\n  //     switch (len) {\n  //       case 1:\n  //       case 2:\n  //       case 3:\n  //         imageStyle = [styles.thumb3];\n  //         break;\n  //       case 4:\n  //         imageStyle = [styles.thumb4];\n  //         break;\n  //       default:\n  //       case 5:\n  //         imageStyle = [styles.thumb5];\n  //         break;\n  //      }\n  //    }\n  //    var photos = photos.map((photo) => {\n  //     if (photo === null)\n  //       return null;\n  //     // var title = !photo.title || photo.title === 'photo'\n  //     //           ? <View />\n  //     //           : <Text style={styles.photoTitle}>{photo.title}</Text>\n\n  //     // return (\n  //     // <Animated.Image                         // Base: Image, Text, View\n  //     //   source={{uri: utils.getImageUri(photo.url)}}\n  //     //   style={{\n  //     //     flex: 1,\n  //     //     transform: [                        // `transform` is an ordered array\n  //     //       {scale: this.state.bounceValue},  // Map `bounceValue` to `scale`\n  //     //     ]\n  //     //   }}\n  //     // />);\n  //     // var uri = utils.getImageUri(photo.url)\n  //     var uri = photo.url\n  //     if (!uri)\n  //       return <View />\n  //     var source = {uri: uri};\n  //     if (uri.indexOf('data') === 0  ||  uri.charAt(0) == '/')\n  //       source.isStatic = true;\n\n  //     return (\n  //       <View style={[{paddingTop: 2, margin: 1, flexDirection: 'column'}, imageStyle[0]]} key={this.getNextKey() + '_photo'}>\n  //         <TouchableHighlight underlayColor='transparent' onPress={this.props.callback ? this.props.callback.bind(this, photo) : this.showCarousel.bind(this, photo)}>\n  //            <Image resizeMode='cover' style={[styles.thumbCommon, imageStyle]} source={source} />\n  //         </TouchableHighlight>\n  //       </View>\n  //     );\n  //   });\n\n  //   return (\n  //     <View style={styles.row}>\n  //       {photos}\n  //     </View>\n  //   );\n  // }\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/PhotoList.js\n **/","'use strict';\n\nvar PhotoCarousel = require('./PhotoCarousel');\nimport {\n  Navigator\n} from 'react-native'\nvar PhotoCarouselMixin = {\n  showCarousel(currentPhoto) {\n    this.props.navigator.push({\n      id: 14,\n      // title: 'Photos',\n      noLeftButton: true,\n      component: PhotoCarousel,\n      passProps: {\n        currentPhoto: currentPhoto,\n        photos: this.props.resource.photos,\n        resource: this.props.resource\n      },\n      rightButtonTitle: 'Done',\n      titleTintColor: 'black',\n      sceneConfig: Navigator.SceneConfigs.FadeAndroid,\n      tintColor: '#dddddd',\n      onRightButtonPress: {\n        stateChange: this.closeCarousel.bind(this)\n      }\n    })\n  },\n  closeCarousel() {\n    this.props.navigator.pop();\n  }\n\n}\nmodule.exports = PhotoCarouselMixin;\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/PhotoCarouselMixin.js\n **/","'use strict'\n\nimport Carousel from 'react-native-carousel';\nvar utils = require('../utils/utils');\nvar constants = require('@tradle/constants');\nimport { makeResponsive } from 'react-native-orient'\n\nimport {\n  StyleSheet,\n  Image,\n  View,\n} from 'react-native'\n\nimport React, { Component } from 'react'\n\nclass PhotoCarousel extends Component {\n  static displayName = 'PhotoCarousel'\n  constructor(props) {\n    super(props);\n  }\n  shouldComponentUpdate(nextProps, nextState) {\n    return this.props.orientation !== nextProps.orientation\n  }\n  render() {\n    var photoUrls = [];\n    var currentPhoto = this.props.currentPhoto || this.props.photos[0];\n    var currentPhotoIndex = -1;\n    var n = this.props.photos.length;\n\n    var model = utils.getModel(this.props.resource[constants.TYPE]).value;\n    var isVertical = currentPhoto.isVertical\n    var cnt = 2000\n    var r = this.props.resource\n    var styles = createStyles()\n    var photos = []\n    for (var j=0; j<2; j++) {\n      for (var i=0; i<n; i++) {\n        var photo = this.props.photos[i];\n\n        if (currentPhotoIndex == -1  &&  photo.url !== currentPhoto.url)\n          continue;\n        if (currentPhotoIndex == -1)\n          currentPhotoIndex = i;\n        var key = r[constants.ROOT_HASH] + cnt++\n        if (photo.width) {\n          var {width, height} = utils.dimensions(PhotoCarousel)\n          var w = width, h, padding\n\n          if (height > width) {\n            if (photo.width > width)\n              h = photo.height * width / photo.width\n            else {\n              h = photo.height\n              w = photo.width\n              padding = (width - photo.width) / 2\n            }\n\n            if (h > 0.8 * height)\n              h = Math.floor(0.8 * height)\n          }\n          else {\n            h = Math.floor(0.8 * height)\n            if (photo.height > h)\n              w = photo.width * h / photo.height\n            else {\n              h = photo.height\n              w = photo.width\n            }\n          }\n\n          photos.push(\n                        <View style={[styles.container]} key={key}>\n                          <Image resizeMode='cover' source={{uri: photo.url}} style={{width: w, height: h}}/>\n                        </View>\n                     )\n        }\n        else\n          photos.push(\n            isVertical  ? <View style={styles.container} key={key}>\n                            <Image resizeMode='cover' source={{uri: photo.url}} style={styles.imageV}/>\n                          </View>\n\n                        : <View style={styles.container} key={key}>\n                            <Image resizeMode='cover' source={{uri: photo.url}} style={styles.image}/>\n                          </View>\n        )\n      }\n      n = currentPhotoIndex\n    }\n    return (\n      <Carousel width={width}\n                loop={false}\n                animate={false}\n                indicatorOffset={20}\n                indicatorColor={'#efefef'}>\n        {photos}\n      </Carousel>\n    );\n  }\n}\nPhotoCarousel = makeResponsive(PhotoCarousel)\n\nvar createStyles = utils.styleFactory(PhotoCarousel, function ({ dimensions }) {\n  return StyleSheet.create({\n    image: {\n      width: dimensions.width,\n      height: dimensions.height - 200,\n    },\n    imageH: {\n      width: dimensions.width,\n      height: dimensions.width - 100\n    },\n    imageV: {\n      width: dimensions.width,\n      height: dimensions.height - 200,\n    },\n    container: {\n      width: dimensions.width,\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: 'black',\n    },\n  })\n})\nPhotoCarousel = makeResponsive(PhotoCarousel)\nmodule.exports = PhotoCarousel;\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/PhotoCarousel.js\n **/","'use strict';\n\nvar utils = require('../utils/utils');\nvar extend = require('extend');\nvar translate = utils.translate\nvar Icon = require('react-native-vector-icons/Ionicons');\nvar equal = require('deep-equal')\n// var ResourceView = require('./ResourceView');\n// var ResourceList = require('./ResourceList');\nvar PhotoList = require('./PhotoList')\nvar constants = require('@tradle/constants');\n\nimport {\n  Text,\n  View,\n  TouchableHighlight,\n  StyleSheet,\n  Image,\n  Navigator\n} from 'react-native'\n\nimport React, { Component } from 'react'\n\nvar ResourceMixin = {\n  showRefResource(resource, prop) {\n    var id = utils.getId(resource)\n    // if (resource[constants.TYPE] + '_' + resource[constants.ROOT_HASH] !== this.state.propValue)\n    if (id !== this.state.propValue)\n      return;\n    var type = resource[constants.TYPE] || id.split('_')[0]\n    var model = utils.getModel(type).value;\n    var title = utils.getDisplayName(resource, model.properties);\n    this.props.navigator.push({\n      title: title,\n      id: 3,\n      component: require('./ResourceView'),\n      titleTextColor: '#7AAAC3',\n      // rightButtonTitle: 'Edit',\n      backButtonTitle: translate('back'),\n      passProps: {\n        resource: resource,\n        prop: prop,\n        currency: this.props.currency\n      }\n    });\n  },\n  showResources(resource, prop) {\n    this.props.navigator.push({\n      id: 10,\n      title: translate(prop, utils.getModel(resource[constants.TYPE]).value),\n      titleTextColor: '#7AAAC3',\n      backButtonTitle: translate('back'),\n      component: require('./ResourceList'),\n      passProps: {\n        modelName: prop.items.ref,\n        filter: '',\n        resource: resource,\n        prop: prop,\n        currency: this.props.currency\n      }\n    });\n  },\n\n  renderItems(val, pMeta, cancelItem) {\n    let LINK_COLOR = (this.props.bankStyle  &&  this.props.bankStyle.LINK_COLOR) || '#7AAAC3'\n    var itemsMeta = pMeta.items.properties;\n    var prop = pMeta\n    if (!itemsMeta) {\n      var ref = pMeta.items.ref;\n      if (ref) {\n        pMeta = utils.getModel(ref).value;\n        itemsMeta = pMeta.properties;\n      }\n    }\n    var counter = 0;\n    var vCols = pMeta.viewCols;\n    if (!vCols) {\n      vCols = [];\n      for (var p in itemsMeta)\n        vCols.push(p);\n    }\n    var cnt = val.length;\n    var self = this;\n    return val.map(function(v) {\n      var ret = [];\n      counter++;\n      vCols.forEach((p) =>  {\n        var itemMeta = itemsMeta[p];\n        if (!v[p]  &&  !itemMeta.displayAs)\n          return\n        if (itemMeta.displayName)\n          return\n        var value;\n        if (itemMeta.displayAs)\n          value = utils.templateIt(itemMeta, v)\n        else if (itemMeta.type === 'date')\n          value = utils.formatDate(v[p]);\n        else if (itemMeta.type !== 'object') {\n          if (p == 'photos') {\n            var photos = [];\n            ret.push(\n               <PhotoList photos={v.photos} navigator={self.props.navigator} numberInRow={4} resource={resource}/>\n            );\n            return\n          }\n          else\n            value = v[p];\n        }\n        else if (itemMeta.ref)\n          value = v[p].title  ||  utils.getDisplayName(v[p], utils.getModel(itemMeta.ref).value.properties);\n        else\n          value = v[p].title;\n\n        if (!value)\n          return\n        let item = <View style={styles.itemColContainer}>\n                     <Text style={itemMeta.skipLabel ? {height: 0} : styles.itemText}>{itemMeta.skipLabel ? '' : itemMeta.title || utils.makeLabel(p)}</Text>\n                     <Text style={styles.itemText}>{value}</Text>\n                   </View>\n\n        ret.push(\n            <View style={styles.item} key={self.getNextKey()}>\n            {cancelItem\n              ? <View style={styles.row}>\n                  {item}\n                  <TouchableHighlight underlayColor='transparent' onPress={cancelItem.bind(self, prop, v)}>\n                    <Icon name='ios-close-circle-outline' size={25} color={LINK_COLOR} />\n                  </TouchableHighlight>\n                </View>\n              : item\n            }\n            </View>\n        );\n      })\n      if (!ret.length  && v.title) {\n        let item = <View style={[styles.itemColContainer, {flexDirection: 'row'}]}>\n                    {v.photo\n                      ? <Image source={{uri: v.photo}} style={styles.thumb} />\n                      : <View />\n                    }\n                    <Text style={[styles.itemText, {color: cancelItem ? '#000000' : LINK_COLOR}]}>{v.title}</Text>\n                  </View>\n\n        ret.push(\n          <View style={{paddingBottom: 5}} key={self.getNextKey()}>\n           {cancelItem\n            ? <View style={styles.row}>\n               {item}\n               <TouchableHighlight underlayColor='transparent' onPress={cancelItem.bind(self, prop, v)}>\n                 <Icon name='ios-close' size={25} color={LINK_COLOR} />\n               </TouchableHighlight>\n              </View>\n            : <TouchableHighlight underlayColor='transparent' onPress={() => {\n                self.props.navigator.push({\n                 title: v.title,\n                 id: 3,\n                 component: require('./ResourceView'),\n                 backButtonTitle: translate('back'),\n                 passProps: {resource: v}\n                })\n              }}>\n             {item}\n             </TouchableHighlight>\n            }\n         </View>\n        );\n      }\n\n      return (\n        <View key={self.getNextKey()}>\n           {ret}\n           {counter == cnt ? <View></View> : <View style={styles.itemSeparator}></View>}\n        </View>\n      )\n    });\n  }\n}\n\nvar styles = StyleSheet.create({\n  thumb: {\n    width:  25,\n    height: 25,\n    marginRight: 2,\n    borderRadius: 5\n  },\n  itemText: {\n    fontSize: 18,\n    fontFamily: 'Avenir Next',\n    marginBottom: 0,\n    // marginHorizontal: 7,\n    color: '#000000',\n  },\n  itemSeparator: {\n    height: 1,\n    backgroundColor: '#eeeeee',\n    // marginHorizontal: 15\n  },\n  itemColContainer: {\n    // flexDirection: 'row',\n  },\n  item: {\n    paddingVertical: 7,\n  },\n  row: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginRight: 3\n  }\n})\n\nmodule.exports = ResourceMixin;\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/ResourceMixin.js\n **/","'use strict';\n\nvar utils = require('../utils/utils');\nvar Icon = require('react-native-vector-icons/Ionicons');\nvar constants = require('@tradle/constants');\nvar PhotoCarousel = require('./PhotoCarousel')\nvar reactMixin = require('react-mixin');\nvar PhotoCarouselMixin = require('./PhotoCarouselMixin');\n\nvar equal = require('deep-equal')\nimport {\n  StyleSheet,\n  Image,\n  View,\n  Text,\n  Modal,\n  Animated,\n  Easing,\n  TouchableHighlight\n} from 'react-native'\n\nimport React, { Component } from 'react'\nimport * as Animatable from 'react-native-animatable'\n\n\nclass PhotoView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {anim: new Animated.Value(1.5), isModalOpen: false};\n  }\n  componentDidMount() {\n     Animated.timing(      // Uses easing functions\n       this.state.anim,    // The value to drive\n       {toValue: 1,\n       duration: 500}        // Configuration\n     ).start();\n  }\n  changePhoto(photo) {\n    this.setState({currentPhoto: photo});\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.props.resource[constants.ROOT_HASH] !== nextProps.resource[constants.ROOT_HASH] ||\n        this.state.isModalOpen !== nextState.isModalOpen)\n      return true\n\n    return !equal(this.props.resource.photos, nextProps.resource.photos)\n  }\n  render() {\n    var resource = this.props.resource;\n    if (!resource)\n      return <View />;\n    var modelName = resource[constants.TYPE];\n    var model = utils.getModel(modelName).value;\n    if (!model.interfaces  &&  !model.isInterface  &&  !resource[constants.ROOT_HASH])\n      return <View />\n\n    var hasPhoto = resource.photos && resource.photos.length;\n    var currentPhoto = this.state.currentPhoto || (hasPhoto  &&  resource.photos[0]);\n    if (!currentPhoto) {\n      // if (model.id === constants.TYPES.PROFILE) {\n      //   return (\n      //     <View style={styles.photoBG}>\n      //       <Icon name='ios-person' size={200}  color='#f6f6f4' />\n      //     </View>\n      //   )\n      // }\n      // else\n        return <View />\n    }\n\n    var url = currentPhoto.url;\n    var nextPhoto = resource.photos.length == 1\n    var uri = utils.getImageUri(url);\n    var source = uri.charAt(0) == '/' || uri.indexOf('data') === 0\n               ? {uri: uri, isStatic: true}\n               : {uri: uri}\n    var nextPhoto;\n    var len = resource.photos.length;\n    for (var i=0; i<len  &&  !nextPhoto; i++) {\n      var p = resource.photos[i].url;\n      if (p === url)\n        nextPhoto = i === len - 1 ? resource.photos[0] : resource.photos[i + 1];\n    }\n    let {width, height} = utils.dimensions(PhotoView)\n    let baseW = 0.8 * width\n    let baseH = 0.8 * height\n    let image = utils.isWeb()\n              ? {\n                  width: Math.floor(width < height ? baseW : baseH),\n                  height: Math.floor(width < height ? baseH / 2 : baseW / 2),\n                }\n              : {\n                  width: width < height ? width : height,\n                  height: Math.floor(width < height ? height / 2 : width / 2),\n                }\n\n    return (\n          <View>\n            <TouchableHighlight underlayColor='transparent' onPress={this.showCarousel.bind(this, resource.photos[0])}>\n              <Image resizeMode='cover' source={source} style={image} />\n            </TouchableHighlight>\n          </View>\n    )\n    // return (\n    //       <Animated.View style={style}>\n    //         <TouchableHighlight underlayColor='transparent' onPress={this.openModal.bind(this)}>\n    //           <Image resizeMode='cover' source={source} style={image} />\n    //         </TouchableHighlight>\n    //     <Modal style={{width: width, height: height}} animationType={'fade'} visible={this.state.isModalOpen} transparent={true} onRequestClose={() => this.closeModal()}>\n    //       <TouchableHighlight  onPress={() => this.closeModal()} underlayColor='transparent'>\n    //         <View style={styles.modalBackgroundStyle}>\n    //           {this.shwCarousel(resource.photos[0])}\n    //         </View>\n    //       </TouchableHighlight>\n    //     </Modal>\n    //       </Animated.View>\n    // )\n  }\n  shwCarousel(currentPhoto) {\n    var photoUrls = [];\n    // var currentPhoto = this.props.currentPhoto || this.props.photos[0];\n    var currentPhotoIndex = -1;\n\n    for (var i=0; i<this.props.resource.photos.length; i++) {\n      var photo = this.props.resource.photos[i];\n\n      if (currentPhotoIndex === -1  &&  photo.url === currentPhoto.url)\n        currentPhotoIndex = i;\n      photoUrls.push(photo.url)\n    }\n    return (\n      <Gallery\n        style={{flex: 1}}\n        images={photoUrls}\n        initialPage={currentPhotoIndex}\n      />\n    );\n\n  }\n  openModal() {\n    this.setState({isModalOpen: true});\n  }\n  closeModal() {\n    this.setState({isModalOpen: false});\n  }\n\n}\nreactMixin(PhotoView.prototype, PhotoCarouselMixin);\n\nvar styles = StyleSheet.create({\n  photoBG: {\n    backgroundColor: '#245D8C',\n    alignItems: 'center',\n    alignSelf: 'stretch'\n  },\n    modalBackgroundStyle: {\n      backgroundColor: 'rgba(0, 0, 0, 0.4)',\n      justifyContent: 'center',\n      // padding: 20,\n    },\n});\n\nmodule.exports = PhotoView;\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/PhotoView.js\n **/","'use strict';\n\nvar utils = require('../utils/utils');\nvar translate = utils.translate\nvar ResourceList = require('./ResourceList');\nvar Icon = require('react-native-vector-icons/Ionicons');\nvar buttonStyles = require('../styles/buttonStyles');\nvar constants = require('@tradle/constants');\nvar reactMixin = require('react-mixin');\nvar RowMixin = require('./RowMixin');\nvar ResourceMixin = require('./ResourceMixin');\nimport { makeResponsive } from 'react-native-orient'\n\nimport {\n  View,\n  Text,\n  TextInput,\n  TouchableHighlight,\n  Platform,\n} from 'react-native';\n\nimport React, { Component } from 'react'\n\nclass ShowRefList extends Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    var resource = this.props.resource;\n    var model = utils.getModel(resource[constants.TYPE]).value;\n    var props = model.properties;\n    let self = this\n    var refList = [];\n    var isIdentity = model.id === constants.TYPES.PROFILE;\n    var me = utils.getMe()\n    var isMe = isIdentity ? resource[constants.ROOT_HASH] === me[constants.ROOT_HASH] : true;\n    // The profile page for the device owner has 2 more profile specific links: add new PROFILE and switch PROFILE\n    let propsToShow = []\n\n    for (var p in props) {\n      if (isIdentity) {\n        if (!isMe  &&  props[p].allowRoles  &&  props[p].allowRoles === 'me')\n          continue;\n        if (p === 'verifiedByMe'  &&  !me.organization)\n          continue;\n        if (p == 'myVerifications' && me.organization)\n          continue;\n      }\n      if (p.charAt(0) === '_'  ||  !props[p].items  ||  !props[p].items.backlink)\n        continue;\n      var icon = props[p].icon  ||  utils.getModel(props[p].items.ref).value.icon;\n      if (!icon)\n        icon = 'ios-checkmark';\n      propsToShow.push(p)\n    }\n    let showQR = utils.getId(me) === utils.getId(resource)  &&  me.isEmployee\n    let width = utils.dimensions(ShowRefList).width  / (propsToShow.length + (showQR ? 1 : 0))\n    let maxLetters = 2 + (width/10)\n    propsToShow.forEach((p) => {\n      let propTitle = translate(props[p], model)\n      if (propTitle.length > maxLetters)\n        propTitle = propTitle.substring(0, maxLetters)\n      refList.push(\n        <View style={[buttonStyles.container, {width: width}]} key={this.getNextKey()}>\n           <TouchableHighlight onPress={this.showResources.bind(this, this.props.resource, props[p])} underlayColor='transparent'>\n             <View style={{alignItems: 'center'}}>\n               <Icon name={icon}  size={30}  color='#ffffff' />\n               <Text style={[buttonStyles.text, Platform.OS === 'android' ? {marginTop: 3} : {marginTop: 0}]}>{propTitle}</Text>\n             </View>\n           </TouchableHighlight>\n         </View>\n        );\n    })\n\n    if (utils.getId(me) === utils.getId(resource)  &&  me.isEmployee) {\n      refList.push(\n        <View style={buttonStyles.container} key={this.getNextKey()}>\n           <TouchableHighlight onPress={this.props.showQR.bind(this)} underlayColor='transparent'>\n             <View style={{alignItems: 'center'}}>\n               <Icon name={'ios-qr-scanner'}  size={30}  color='#ffffff' />\n               <Text style={[buttonStyles.text, Platform.OS === 'android' ? {marginTop: 3} : {marginTop: 0}]}>{translate('showQR')}</Text>\n             </View>\n           </TouchableHighlight>\n         </View>\n        )\n\n     }\n     return refList.length\n             ?  <View style={buttonStyles.buttons} key={'ShowRefList'}>\n                  <View  style={{flexDirection: 'row'}}>\n                    {refList}\n                  </View>\n                </View>\n             : <View/>;\n  }\n}\nreactMixin(ShowRefList.prototype, ResourceMixin);\nreactMixin(ShowRefList.prototype, RowMixin);\nShowRefList = makeResponsive(ShowRefList)\n\nmodule.exports = ShowRefList;\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/ShowRefList.js\n **/","/*\n\n  a bootstrap like style\n\n*/\n'use strict';\n\nvar ICON_BORDER_COLOR = '#D7E6ED';\nvar BACKGROUND_COLOR = /*'#2E3B4E';*/'#7AAAC3';\nvar ERROR_COLOR = '#a94442';\nvar HELP_COLOR = '#999999';\nvar BORDER_COLOR = '#cccccc';\nvar DISABLED_COLOR = '#777777';\nvar DISABLED_BACKGROUND_COLOR = '#eeeeee';\nvar FONT_SIZE = 12;\nvar FONT_SIZE_1 = 17;\nvar FONT_WEIGHT = '500';\n\nvar utils = require('../utils/utils')\n\nvar buttonStyles = Object.freeze({\n  icon: {\n    width: 30,\n    height: 30,\n    // paddingLeft: 4, // for not outline icon\n    // borderWidth: 1,\n    // borderColor: ICON_BORDER_COLOR,\n    // borderRadius: 15,\n  },\n  row: {\n    flexDirection: 'row',\n  },\n  container: {\n    alignSelf: 'center',\n    paddingHorizontal: 7,\n    marginTop: 10,\n    // marginBottom: Platform.OS === 'ios' ? 10 : 0\n    // marginTop: 16,\n    // width: 120\n  },\n  buttons: {\n    // marginTop: -80,\n    // opacity: 0.8,\n    // height: 63,\n    // height: 90,\n    // backgroundColor: BACKGROUND_COLOR,\n    flexDirection: 'row',\n    backgroundColor: '#a0a0a0',\n    justifyContent: 'center',\n    alignSelf: 'stretch'\n  },\n  text: {\n    color: '#ffffff',\n    paddingBottom: 10,\n    // fontWeight: FONT_WEIGHT,\n    fontSize: utils.getFontSize(FONT_SIZE),\n    alignSelf: 'center',\n    // marginTop: -6,\n    // paddingTop: 10,\n    // height: 45\n  },\n\n  row1: {\n    flexDirection: 'row',\n    alignSelf: 'center',\n    position: 'absolute',\n    left: 30,\n    top: 5\n  },\n  icon1: {\n    width: 25,\n    height: 25,\n    paddingTop: 2\n    // paddingLeft: 5,\n    // borderWidth: 1,\n    // borderColor: ICON_BORDER_COLOR,\n    // borderRadius: 15,\n    // borderWidth: 2,\n    // borderRadius: 12,\n  },\n  container1: {\n    flex: 1,\n    // position: 'absolute',\n    // right: 10\n    paddingHorizontal: 10\n  },\n  buttonContent: {\n    // padding: 15,\n    alignSelf: 'center',\n    width: 150,\n    height: 40,\n    borderRadius: 10,\n    backgroundColor: BACKGROUND_COLOR,\n    opacity: 0.7,\n    borderWidth: 1,\n    borderColor: '#466690'\n  },\n  text1: {\n    paddingTop: 3,\n    color: '#ffffff',\n    fontFamily: 'Avenir Next',\n    // fontWeight: '800',\n    fontSize: utils.getFontSize(FONT_SIZE_1)\n  }\n});\n\nmodule.exports = buttonStyles;\n\n\n/** WEBPACK FOOTER **\n ** ./styles/buttonStyles.js\n **/","'use strict';\n\nimport {\n  StyleSheet,\n  View,\n} from 'react-native'\n\nimport React, { Component } from 'react'\nimport utils from '../utils/utils'\n\nclass PageView extends Component {\n  constructor(props) {\n    super(props)\n  }\n  render() {\n    return (\n      <View style={[this.props.style, styles.separator]}>\n        {this.props.children}\n      </View>\n    )\n  }\n}\nvar styles = StyleSheet.create({\n  separator: {\n    borderColor: '#ffffff',\n    borderTopColor: '#cccccc',\n    borderWidth: StyleSheet.hairlineWidth\n  }\n})\n\nmodule.exports = PageView\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/PageView.js\n **/","'use strict';\n\nvar path = require('path')\nvar querystring = require('querystring')\nvar parseURL = require('url').parse\nimport ReactNative, {\n  Alert,\n  NetInfo,\n  Platform,\n  AppState\n} from 'react-native'\n\nimport AsyncStorage from './Storage'\nimport * as LocalAuth from '../utils/localAuth'\nimport Push from '../utils/push'\n\nvar path = require('path')\n// var BeSafe = require('asyncstorage-backup')\nvar Reflux = require('reflux');\nvar Actions = require('../Actions/Actions');\nvar extend = require('extend');\nvar Debug = require('debug')\nvar deepEqual = require('deep-equal')\n\nconst SENT = 'Sent'\nconst SENDING = 'Sending'\nconst QUEUED = 'Queued'\n\nvar debug = Debug('Store')\nvar employee = require('../people/employee.json')\n\nvar Q = require('q');\nQ.longStackSupport = __DEV__\nQ.onerror = function (err) {\n  console.error(err)\n  throw err\n}\n\nvar ENV = Platform.OS !== 'ios' ? require('../environment.json') : require('react-native-env')\n// var AddressBook = require('NativeModules').AddressBook;\n\nvar voc = require('@tradle/models');\nvar sampleData = voc.data\nvar currencies = voc.currencies\nvar nationalities = voc.nationalities\nvar countries = voc.countries\n\n// var myIdentity = __DEV__ ? require('../data/myIdentity.json') : []\nvar welcome = require('../data/welcome.json');\n\nvar sha = require('stable-sha1');\nvar utils = require('../utils/utils');\nvar Keychain = !utils.isWeb() && require('../utils/keychain')\nvar translate = utils.translate\nvar promisify = require('q-level');\nvar leveldown = require('./leveldown')\nvar level = require('./level')\nvar mutexify = require('mutexify')\n\nconst collect = require('stream-collector')\nconst tradle = require('@tradle/engine')\nconst tradleUtils = tradle.utils\nconst protocol = tradle.protocol\nconst constants = require('@tradle/constants') // tradle.constants\nconst Cache = require('lru-cache')\nconst NONCE = constants.NONCE\nconst TYPE = constants.TYPE\nconst SIG = constants.SIG\nconst ROOT_HASH = constants.ROOT_HASH\nconst CUR_HASH  = constants.CUR_HASH\nconst PREV_HASH  = constants.PREV_HASH\nconst NEXT_HASH = '_n'\nconst LAST_MESSAGE_TIME = 'lastMessageTime'\n\nconst ORGANIZATION = constants.TYPES.ORGANIZATION\nconst IDENTITY = constants.TYPES.IDENTITY\nconst IDENTITY_PUBLISHING_REQUEST = constants.TYPES.IDENTITY_PUBLISHING_REQUEST\nconst MESSAGE = constants.TYPES.MESSAGE\nconst SIMPLE_MESSAGE = constants.TYPES.SIMPLE_MESSAGE\nconst FINANCIAL_PRODUCT = constants.TYPES.FINANCIAL_PRODUCT\nconst PRODUCT_LIST = constants.TYPES.PRODUCT_LIST\nconst PROFILE = constants.TYPES.PROFILE;\nconst ADDITIONAL_INFO = constants.TYPES.ADDITIONAL_INFO;\nconst VERIFICATION = constants.TYPES.VERIFICATION;\nconst FORM = constants.TYPES.FORM;\nconst MODEL = constants.TYPES.MODEL;\nconst CUSTOMER_WAITING  = constants.TYPES.CUSTOMER_WAITING\nconst SELF_INTRODUCTION = constants.TYPES.SELF_INTRODUCTION\nconst INTRODUCTION      = 'tradle.Introduction'\nconst FORGET_ME         = constants.TYPES.FORGET_ME\nconst FORGOT_YOU        = constants.TYPES.FORGOT_YOU\n\n// const SHARED_RESOURCE     = 'tradle.SharedResource'\nconst MY_IDENTITIES_TYPE  = 'tradle.MyIdentities'\nconst PRODUCT_APPLICATION = 'tradle.ProductApplication'\nconst MY_PRODUCT          = 'tradle.MyProduct'\nconst ENUM                = 'tradle.Enum'\nconst GUEST_SESSION_PROOF = 'tradle.GuestSessionProof'\nconst FORM_ERROR          = 'tradle.FormError'\nconst EMPLOYEE_ONBOARDING = 'tradle.EmployeeOnboarding'\nconst MY_EMPLOYEE_PASS    = 'tradle.MyEmployeeOnboarding'\nconst FORM_REQUEST        = 'tradle.FormRequest'\nconst PAIRING_REQUEST     = 'tradle.PairingRequest'\nconst PAIRING_RESPONSE    = 'tradle.PairingResponse'\nconst PAIRING_DATA        = 'tradle.PairingData'\nconst COUNTRY           = 'tradle.Country'\nconst MY_IDENTITIES     = MY_IDENTITIES_TYPE + '_1'\nconst SETTINGS          = constants.TYPES.SETTINGS\n\nconst WELCOME_INTERVAL = 600000\n\n// var Tim = require('tim')\n// Tim.enableOptimizations()\n// Tim.CATCH_UP_INTERVAL = 10000\n// var Zlorp = Tim.Zlorp\n// Zlorp.ANNOUNCE_INTERVAL = 10000\n// Zlorp.LOOKUP_INTERVAL = 10000\n// Zlorp.KEEP_ALIVE_INTERVAL = 10000\n\nconst Sendy = require('sendy')\nconst SendyWS = require('sendy-ws')\nconst TLSClient = require('sendy-axolotl')\n// const DSA = require('@tradle/otr').DSA\n// const BigInt = require('@tradle/otr/vendor/bigint')\n// const BigIntTimes = {}\n// Object.keys(BigInt).forEach(function (method) {\n//   const orig = BigInt[method]\n//   BigIntTimes[method] = 0\n//   BigInt[method] = function () {\n//     var now = Date.now()\n//     var result = orig.apply(this, arguments)\n//     BigIntTimes[method] += Date.now() - now\n//     return result\n//   }\n// })\n\nconst SENDY_OPTS = { resendInterval: 30000, mtu: 10000, autoConnect: true }\n// const newOTRSwitchboard = require('sendy-otr-ws').Switchboard\nconst newSwitchboard = SendyWS.Switchboard\nconst WebSocketClient = SendyWS.Client\n// const HttpClient = require('@tradle/transport-http').HttpClient\n// var getDHTKey = require('tim/lib/utils').getDHTKey\n\n// var dns = require('dns')\nvar map = require('map-stream')\nvar Blockchain = require('@tradle/cb-blockr') // use tradle/cb-blockr fork\n// var defaultKeySet = midentity.defaultKeySet\nvar createKeeper = require('@tradle/keeper')\nvar cachifyKeeper = require('@tradle/keeper/cachify')\nvar crypto = require('crypto')\n// var tutils = require('@tradle/utils')\nvar isTest, originalMe;\nvar currentEmployees = {}\n\n// var tim;\nvar PORT = 51086\nvar TIM_PATH_PREFIX = 'me'\n// If app restarts in less then 10 minutes keep it authenticated\nconst AUTHENTICATION_TIMEOUT = LocalAuth.TIMEOUT\n\nvar models = {};\nvar list = {};\nvar chatMessages = {}\nvar temporaryResources = {}\nvar employees = {};\nvar db;\nvar ldb;\nvar isLoaded;\nvar me;\nvar language\nvar dictionary = {}\nvar isAuthenticated\nvar meDriver\n// var publishedIdentity\nvar driverPromise\nvar ready;\nvar networkName = 'testnet'\nvar TOP_LEVEL_PROVIDERS = ENV.topLevelProviders || [ENV.topLevelProvider]\nvar COMMON_ENV = require('../utils/env')\nvar SERVICE_PROVIDERS_BASE_URL_DEFAULTS = __DEV__ ? ['http://' + COMMON_ENV.LOCAL_IP + ':44444'] : TOP_LEVEL_PROVIDERS.map(t => t.baseUrl)\nvar SERVICE_PROVIDERS_BASE_URLS\nvar HOSTED_BY = TOP_LEVEL_PROVIDERS.map(t => t.name)\n// var ALL_SERVICE_PROVIDERS = require('../data/serviceProviders')\nvar SERVICE_PROVIDERS\nvar publishRequestSent = []\n\nvar driverInfo = {\n  wsClients: {},\n  // whitelist: [],\n}\n\n// const KEY_SET = [\n//   { type: 'bitcoin', purpose: 'payment' },\n//   { type: 'bitcoin', purpose: 'messaging' },\n//   { type: 'ec', purpose: 'sign', curve: 'p256' },\n//   { type: 'ec', purpose: 'update', curve: 'p256' }\n// ]\n\nconst ENCRYPTION_KEY = 'accountkey'\nconst DEVICE_ID = 'deviceid'\n// const ENCRYPTION_SALT = 'accountsalt'\nconst TLS_ENABLED = false\nconst PAUSE_ON_TRANSITION = true\n\n// var Store = Reflux.createStore(timeFunctions({\nvar Store = Reflux.createStore({\n\n  // this will set up listeners to all publishers in TodoActions, using onKeyname (or keyname) as callbacks\n  listenables: [Actions],\n  // this will be called by all listening components as they register their listeners\n  init() {\n    var self = this\n    // Setup components:\n    var ldb = level('TiM.db', { valueEncoding: 'json' });\n    // ldb = levelQuery(level('TiM.db', { valueEncoding: 'json' }));\n    // ldb.query.use(jsonqueryEngine());\n    db = promisify(ldb);\n\n    this._loadedResourcesDefer = Q.defer()\n    if (NetInfo) {\n      NetInfo.isConnected.addEventListener(\n        'change',\n        this._handleConnectivityChange.bind(this)\n      );\n\n      if (utils.isSimulator()) {\n        // isConnected always returns false on simulator\n        // https://github.com/facebook/react-native/issues/873\n        this.isConnected = true\n      } else {\n        NetInfo.isConnected.fetch().then(isConnected => this.isConnected = isConnected)\n      }\n    }\n\n    this.loadModels()\n\n    voc.forEach(function(m) {\n      models[m.id] = {\n        key: m.id,\n        value: m\n      }\n      self.addNameAndTitleProps(m)\n      self.addVerificationsToFormModel(m)\n    })\n    utils.setModels(models);\n\n    // if (true) {\n    if (false) {\n      return this.ready = this.wipe()\n        .then(() => {\n          Alert.alert('please refresh')\n          return Q.Promise(function (resolve) {\n            // hang\n          })\n        })\n    }\n\n    return this.ready = Q.all([\n        this.getMe(),\n        this.getSettings(),\n        // this.loadModels()\n      ])\n      .then(() => {\n        // this.loadMyResources()\n        if (!utils.isEmpty(list))\n          isLoaded = true;\n\n        if (me) {\n          return this.getDriver(me)\n            .then(() => this.monitorTim())\n        }\n      })\n      .then(() => {\n        if (me && me.registeredForPushNotifications) {\n          Push.resetBadgeNumber()\n        }\n      })\n  },\n\n  _handleConnectivityChange(isConnected) {\n    this.isConnected = isConnected\n    this.trigger({action: 'connectivity', isConnected: isConnected})\n    // Alert.alert('Store: ' + isConnected)\n  },\n\n  getMe() {\n    var self = this\n\n    return db.get(MY_IDENTITIES)\n    .then(function(value) {\n      if (value) {\n        var key = MY_IDENTITIES\n        self._setItem(key, value)\n        return db.get(value.currentIdentity.replace(PROFILE, IDENTITY))\n      }\n    })\n    .then (function(value) {\n      self._setItem(utils.getId(value), value)\n      return db.get(utils.getId(value).replace(IDENTITY, PROFILE))\n    })\n    .then(function(value) {\n      me = value\n      if (me.isAuthenticated) {\n        if (Date.now() - me.dateAuthenticated > AUTHENTICATION_TIMEOUT) {\n          delete me.isAuthenticated\n          delete me.dateAuthenticated\n          db.put(utils.getId(me), me)\n        }\n      }\n      // HACK for the case if employee removed\n      if (me.isEmployee  &&  !me.organization) {\n        delete me.isEmployee\n        db.put(utils.getId(me), me)\n      }\n      self.setMe(me)\n      var key = value[TYPE] + '_' + value[ROOT_HASH]\n      self._setItem(key, value)\n    })\n    .catch(function(err) {\n      if (!err.notFound) debugger\n      // return self.loadModels()\n    })\n  },\n  setMe(newMe) {\n    me = newMe\n    if (SERVICE_PROVIDERS  &&  me.organization  &&  !me.organization.url) {\n      let orgId = utils.getId(me.organization)\n      let o = SERVICE_PROVIDERS.filter((r) => {\n        return r.org == orgId ? true : false\n      })\n      if (o && o.length) {\n        if (o[0].url)\n          me.organization.url = o[0].url\n      }\n    }\n    utils.setMe(me)\n  },\n  onUpdateMe(params) {\n    let r = {}\n    extend(true, r, me, params)\n    this.setMe(r)\n    let meId = utils.getId(r)\n    this._setItem(meId, r)\n    return db.put(meId, r)\n      // .then(() => {\n      //   if (params.registered) {\n      //     this.trigger({action: 'registered'})\n      //   } else if (params)\n      // })\n  },\n  onSetAuthenticated(authenticated) {\n    if (!me) me = utils.getMe()\n\n    let meId = utils.getId(me)\n    let r = {}\n    // extend(true, r, me, {\n    //   isAuthenticated: authenticated,\n    //   dateAuthenticated: Date.now()\n    // })\n    this.onUpdateMe({\n      isAuthenticated: authenticated,\n      dateAuthenticated: Date.now()\n    })\n\n    // this.setMe(r)\n    this.trigger({ action: 'authenticated', value: authenticated })\n    // if (authenticated)\n    //   return\n    // let me = utils.getMe()\n    // let settings = list[SETTINGS + '_1'].value\n    // if (utils.isEmpty(settings.hashToUrl))\n    //   return\n    // let time = new Date().getTime()\n    // let toChain = {\n    //   [TYPE]: 'tradle.AppState',\n    //   [NONCE]: this.getNonce(),\n    //   state: 'background'\n    // }\n\n    // Object.keys(settings.hashToUrl).forEach(id => {\n    //   let to = list[id].value\n    //   if (!to.pubkeys) return\n\n    //   let result = this.searchMessages({modelName: MESSAGE, to: to, limit: 1})\n    //   if (result  &&  time - result[0].time < 36000) {\n    //     meDriver.signAndSend({\n    //       object: toChain,\n    //       to: { fingerprint: self.getFingerprint(list[toId].value) }\n    //     })\n    //     .catch(function (err) {\n    //       debugger\n    //     })\n    //   }\n    // })\n    // return db.put(meId, r)\n    // .then(() => {\n    //   self.trigger({action: 'authenticated'})\n    // })\n\n  },\n  getSettings() {\n    var self = this\n    var key = SETTINGS + '_1'\n    return db.get(key)\n    .then(function(value) {\n      if (value) {\n        self._setItem(key, value)\n      }\n    })\n    .catch(function(err) {\n      // debugger\n      // return self.loadModels()\n    })\n  },\n  buildDriver ({ keys, identity, encryption }) {\n    var self = this\n    var keeper = createKeeper({\n      path: path.join(TIM_PATH_PREFIX, 'keeper'),\n      db: leveldown,\n      encryption: encryption\n    })\n\n    cachifyKeeper(keeper, {\n      max: 100\n    })\n\n    var blockchain = new Blockchain(networkName)\n    var wsClients = driverInfo.wsClients\n    // var whitelist = driverInfo.whitelist\n    // var tlsKey = driverInfo.tlsKey\n\n    // return Q.ninvoke(dns, 'resolve4', 'tradle.io')\n    //   .then(function (addrs) {\n    //     console.log('tradle is at', addrs)\n\n    meDriver = new tradle.node({\n      name: 'me',\n      dir: TIM_PATH_PREFIX,\n      identity: identity,\n      keys: keys,\n      keeper: keeper,\n      networkName: networkName,\n      blockchain: blockchain,\n      leveldown: leveldown,\n      // dht: dht,\n      // port: port,\n      // sendThrottle: 10000,\n      syncInterval: 10 * 60 * 1000,\n      // unchainThrottle: 10 * 60 * 1000,\n      // afterBlockTimestamp: constants.afterBlockTimestamp,\n      // afterBlockTimestamp: 1445976998,\n      // relay: {\n      //   // address: addrs[0],\n      //   address: '54.236.214.150',\n      //   port: 25778\n      // }\n    })\n\n    console.log('me: ' + meDriver.permalink)\n    meDriver = tradleUtils.promisifyNode(meDriver)\n\n    // TODO: figure out of we need to publish identities\n    meDriver.identityPublishStatus = meDriver.identitySealStatus\n    meDriver._multiGetFromDB = utils.multiGet\n    meDriver.addressBook.setCache(new Cache({ max: 500 }))\n\n    let noProviders\n    if (!SERVICE_PROVIDERS_BASE_URLS) {\n      let settingsId = SETTINGS + '_1'\n      var settings = list[settingsId]\n      let updateSettings\n      if (__DEV__  &&  settings  &&  settings.value.urls) {\n        let urls = settings.value.urls\n        // HACK for non-static ip\n        if (SERVICE_PROVIDERS_BASE_URL_DEFAULTS) {\n          SERVICE_PROVIDERS_BASE_URL_DEFAULTS.forEach((url) => {\n            let found\n            urls.forEach((u) => {\n              if (u === url)\n                found = true\n            })\n            if (!found) {\n              updateSettings = true\n              urls.push(url)\n            }\n          })\n        }\n        SERVICE_PROVIDERS_BASE_URLS = urls\n        if (updateSettings)\n          db.put(settingsId, settings.value)\n      }\n      else {\n        SERVICE_PROVIDERS_BASE_URLS = SERVICE_PROVIDERS_BASE_URL_DEFAULTS.slice()\n        var settings = {\n          [TYPE]: SETTINGS,\n          [ROOT_HASH]: '1',\n          [CUR_HASH]: '1',\n          urls: SERVICE_PROVIDERS_BASE_URLS,\n          hashToUrl: {}\n        }\n        this._setItem(settingsId, settings)\n        db.put(settingsId, settings)\n      }\n    }\n\n\n    // if (TLS_ENABLED) {\n    //   tlsKey = keys.filter((k) => k.type === 'dsa')[0]\n    //   if (tlsKey) tlsKey = DSA.parsePrivate(tlsKey.priv)\n    // }\n\n    // if (tlsKey) tlsKey = kiki.toKey(tlsKey).priv()\n\n    var tlsKey = driverInfo.tlsKey = TLS_ENABLED && meDriver.keys.filter(k => k.get('purpose') === 'tls')[0]\n    // var fromPubKey = meDriver.identity.pubkeys.filter(k => k.type === 'ec' && k.purpose === 'sign')[0]\n    meDriver._send = function (msg, recipientInfo, cb) {\n      const recipientHash = recipientInfo.permalink\n      let messenger = wsClients[recipientHash]\n      if (!messenger) {\n        let url = list[SETTINGS + '_1'].value.hashToUrl[recipientHash]\n        messenger = wsClients[url]\n      }\n      if (!messenger) {\n        // Alert.alert('meDriver._send recipient not found ' + recipientHash)\n        return cb(new Error('recipient not found'))\n      }\n\n      const args = arguments\n      const identifier = self.getIdentifier(recipientInfo)\n\n      // this timeout is not for sending the entire message\n      // but rather an idle connection timeout\n      messenger.send(identifier, msg, cb)\n      messenger.setTimeout(60000)\n    }\n\n    // meDriver = timeFunctions(meDriver)\n    this.getInfo(SERVICE_PROVIDERS_BASE_URLS, true)\n    // .then(() => {\n    //   if (me && utils.isEmpty(chatMessages))\n    //     this.initChats()\n    // })\n    .catch(function(err) {\n      debugger\n    })\n\n    return Q(meDriver)\n  },\n  initChats() {\n    let meId = utils.getId(me)\n    for (var p in list) {\n      let r = list[p].value\n      let m = this.getModel(r[TYPE]).value\n      if (m.interfaces  &&  m.interfaces.indexOf(MESSAGE) !== -1) {\n        if (r.sharedWith) {\n          r.sharedWith.forEach((shareInfo) => {\n            if (shareInfo.bankRepresentative === meId)\n              this.addMessagesToChat(utils.getId(r.to), r, true, shareInfo.timeShared)\n            else  {\n              let rep = list[shareInfo.bankRepresentative].value\n              let orgId = utils.getId(rep.organization)\n              this.addMessagesToChat(orgId, r, true, shareInfo.timeShared)\n              if (utils.getId(r.to) === meId) {\n                let contact = list[utils.getId(r.from)].value\n                if (!contact.organization  ||  !contact.bot)\n                  this.addMessagesToChat(utils.getId(r.from), r, true, shareInfo.timeShared)\n              }\n            }\n          })\n        }\n        else if (m.id === VERIFICATION  &&  meId === utils.getId(r.from))\n          this.addMessagesToChat(utils.getId(r.to), r, true)\n        else {\n          let fromId = utils.getId(r.from)\n          let rep = list[meId === fromId ? utils.getId(r.to) : fromId].value\n          let orgId = rep.organization ? utils.getId(rep.organization) : utils.getId(rep)\n          this.addMessagesToChat(orgId, r, true)\n        }\n      }\n    }\n    for (let id in chatMessages) {\n      chatMessages[id].sort(function(a, b) {\n        return a.time - b.time;\n      })\n      chatMessages[id] = this.filterChatMessages(chatMessages[id], id)\n    }\n  },\n  // Filtered result contains only messages that get displayed\n  filterChatMessages(messages, orgId, lastId) {\n    let meId = utils.getId(me)\n    let productToForms = {}\n    let productApp = {}\n    // Compact all FormRequests that were fulfilled\n    for (let i=messages.length - 1; i>=0; i--) {\n      let r = list[messages[i].id].value\n      if (r[TYPE] === FORM_REQUEST  &&  !r.document) {// && r.documentCreated)\n      // delete list[id]\n        let forms = productToForms[r.product]\n        if (!forms)\n          productToForms[r.product] = {}\n        let formIdx = productToForms[r.product][r.form]\n        if (typeof formIdx !== 'undefined')\n          messages.splice(formIdx, 1)\n\n        productToForms[r.product][r.form] = i\n      }\n      if (r[TYPE] === PRODUCT_APPLICATION) {\n        let productIdx = productApp[r.product]\n        if (productIdx)\n          messages.splice(productIdx, 1)\n        else\n          productApp[r.product] = i\n      }\n    }\n    // Compact all SelfIntroduction\n    messages = messages.filter((rr, i) => {\n      let r = list[rr.id].value\n      return r[TYPE] === SELF_INTRODUCTION ? false : true\n        // delete list[id]\n    })\n    let newResult = messages.filter((rr, i) => {\n      let time = rr.time\n      let id = rr.id\n      let type = id.split('_')[0]\n      // Compact ProductList resources that go one after another\n      if (type === PRODUCT_LIST  &&  i !== messages.length - 1) {\n        var next = messages[i + 1]\n\n        if (next && next.id.split('_')[0] === PRODUCT_LIST) {\n          // delete list[id]\n          return false\n        }\n      }\n      // if (r[TYPE] === CUSTOMER_WAITING) {\n      //   let f = list[utils.getId(r.from)].value.organization\n      //   let t = list[utils.getId(r.to)].value.organization\n      //   if (utils.getId(f) === utils.getId(t))\n      //     return false\n      // }\n      let r = list[rr.id].value\n\n      // Check if there was request for the next form after multy-entry form\n      let fromId = utils.getId(r.from)\n\n      if (!me.isEmployee  &&  fromId !== meId  &&  list[fromId]) {\n        let rFrom = list[fromId].value\n        if (!rFrom.bot) {\n          let photos = list[fromId].value.photos\n          if (photos)\n            r.from.photo = photos[0]\n          else\n            r.from.photo = employee\n        }\n      }\n      let m = this.getModel(r[TYPE]).value\n      let isMyProduct = m.subClassOf === MY_PRODUCT\n      let isForm = !isMyProduct && m.subClassOf === FORM\n      // r.from.photos = list[utils.getId(r.from)].value.photos;\n      // var to = list[utils.getId(r.to)]\n      // if (!to) console.log(r.to)\n      // r.to.photos = to  &&  to.value.photos;\n      if (isMyProduct)\n        r.from.organization = list[utils.getId(r.from)].value.organization\n      else if (isForm) {\n        // set organization and photos for items properties for better displaying\n        let form = list[utils.getId(r.to)].value\n        if (orgId  &&  r.sharedWith  &&  r.sharedWith.length > 1) {\n          // if (utils.getId(r.to.organization) !== toOrgId) {\n          //   let filteredVerifications = this.getSharedVerificationsAboutThisForm(r, toOrgId)\n          // }\n        }\n        r.to.organization = form.organization\n        for (var p in r) {\n          if (!m.properties[p]  ||  m.properties[p].type !== 'array' ||  !m.properties[p].items.ref)\n            continue\n          let pModel = this.getModel(m.properties[p].items.ref).value\n          if (pModel.properties.photos) {\n            let items = r[p]\n            items.forEach((ir) => {\n              let itemPhotos = list[utils.getId(ir)].value.photos\n              if (itemPhotos)\n                ir.photo = itemPhotos[0].url\n            })\n          }\n        }\n      }\n      return true\n    })\n    if (lastId  &&  lastId.split('_')[0] === PRODUCT_LIST) {\n      let i=newResult.length - 1\n      for (; i>=0; i--)\n        if (newResult[i][TYPE] !== PRODUCT_LIST)\n          break\n        newResult.splice(i, 1)\n    }\n    return newResult\n    // return newResult.reverse()\n  },\n\n\n  getInfo(serverUrls, retry, id) {\n    let self = this\n\n    let defer = Q.defer()\n    let togo = serverUrls.length\n    serverUrls.forEach((url) => {\n      self.getServiceProviders(url, retry, id)\n      .then((results) => {\n        // var httpClient = driverInfo.httpClient\n        var wsClients = driverInfo.wsClients\n        // var whitelist = driverInfo.whitelist\n        var tlsKey = driverInfo.tlsKey\n        // if (!httpClient) {\n        //   httpClient = new HttpClient()\n        //   driverInfo.httpClient = httpClient\n        //   meDriver.ready().then(function () {\n        //     var myHash = meDriver.myRootHash()\n        //     httpClient.setRootHash(myHash)\n        //   })\n\n        //   httpClient.on('message', function () {\n        //     meDriver.receiveMsg.apply(meDriver, arguments)\n        //   })\n        // }\n        results.forEach(function(provider) {\n          self.addProvider(provider)\n          Push.subscribe(provider.hash)\n            .catch(err => console.log('failed to register for push notifications'))\n        })\n\n        if (--togo === 0) {\n          defer.resolve()\n          // meDriver.watchTxs(whitelist)\n          return meDriver\n        }\n      })\n      .catch((err) => {\n        debugger\n      })\n    })\n\n    return defer.promise\n\n    // return Q.all(serverUrls.map(url => self.getServiceProviders(url, retry)))\n    // .then(function(results) {\n    //   var httpClient = driverInfo.httpClient\n    //   var wsClients = driverInfo.wsClients\n    //   var whitelist = driverInfo.whitelist\n    //   var tlsKey = driverInfo.tlsKey\n    //   results.forEach(function(providers) {\n    //     if (!httpClient) {\n    //       httpClient = new HttpClient()\n    //       driverInfo.httpClient = httpClient\n    //       meDriver.ready().then(function () {\n    //         var myHash = meDriver.myRootHash()\n    //         httpClient.setRootHash(myHash)\n    //       })\n\n    //       httpClient.on('message', function () {\n    //         meDriver.receiveMsg.apply(meDriver, arguments)\n    //       })\n    //     }\n\n    //     providers.forEach(function(provider) {\n    //       self.addProvider(provider)\n    //       // httpClient.addRecipient(\n    //       //   provider.hash,\n    //       //   utils.joinURL(provider.url, provider.id, 'send')\n    //       // )\n\n    //       // if (provider.txId) {\n    //       //   whitelist.push(provider.txId)\n    //       // }\n\n    //       // if (!tlsKey) return\n\n    //       // // self.addWebSocketClient()\n    //       // var wsClient = new WebSocketClient({\n    //       //   url: utils.joinURL(provider.url, provider.id, 'ws'),\n    //       //   tlsKey: tlsKey,\n    //       //   autoconnect: false,\n    //       //   // rootHash: meDriver.myRootHash()\n    //       // })\n    //       // // will need to do this on demand too\n    //       // // e.g. when scanning an employee QR Code at the bank\n    //       // wsClient.on('message', meDriver.receiveMsg)\n    //       // wsClients[provider.hash] = wsClient\n    //     })\n    //   })\n\n    //   meDriver.watchTxs(whitelist)\n    //   return meDriver\n    // })\n  },\n\n  onGetEmployeeInfo(code) {\n    var self = this\n    let parts = code.split(';')\n\n    let orgId = ORGANIZATION + '_' + parts[1]\n    let serviceProvider =  SERVICE_PROVIDERS  ? SERVICE_PROVIDERS.filter((json) => json.org === orgId) : null\n\n    serviceProvider = (serviceProvider  &&  serviceProvider.length) ? serviceProvider[0] : null\n      // let serviceProvider =  SERVICE_PROVIDERS.filter((json) => json.url === serverUrl)\n\n    var org = list[orgId].value\n    let promise = serviceProvider ? Q() : this.getInfo([parts[0]])\n\n    return promise\n    .then(function() {\n      if (!serviceProvider)\n        serviceProvider = SERVICE_PROVIDERS.filter((json) => json.org === orgId)[0]\n\n      return Q.race([\n        fetch(utils.joinURL(serviceProvider.url, serviceProvider.id + '/employee/' + parts[2]), { headers: { cache: 'no-cache' }}),\n        Q.Promise(function (resolve, reject) {\n          setTimeout(function () {\n            reject(new Error('timed out'))\n          }, 5000)\n        })]\n      )\n    })\n    // return Q(employee)\n    .then((response) => {\n      return response.clone().json()\n    })\n    .then(function(data) {\n      let info = {\n        bot: data,\n        org: list[orgId].value,\n        style: list[orgId].value.style,\n        isEmployee: true\n      }\n      return self.addInfo(info)\n    })\n    .then(function(provider) {\n      self.addProvider(provider)\n      self.addToSettings(provider)\n\n      meDriver.addContactIdentity(provider.identity)\n\n      let employee = list[PROFILE + '_' + provider.hash].value\n      currentEmployees[utils.getId(org)] = employee\n      let myIdentities = list[MY_IDENTITIES].value\n      let currentIdentity = myIdentities.currentIdentity\n      let identity = myIdentities.allIdentities.filter(function(i) {\n        if (i.id === currentIdentity)\n          return true\n      })[0].publishedIdentity\n\n      self.trigger({action: 'talkToEmployee', to: org, myIdentity: identity})\n    })\n    .catch((err) => {\n      debugger\n    })\n  },\n  addToSettings(provider) {\n    let hashToUrl = list[SETTINGS + '_1'].value.hashToUrl\n    if (!hashToUrl) {\n      list[SETTINGS + '_1'].value.hashToUrl = {}\n      hashToUrl = list[SETTINGS + '_1'].value.hashToUrl\n    }\n    // save provider's employee\n    // if (!hashToUrl[provider.hash]) {\n      hashToUrl[provider.hash] = getProviderUrl(provider)\n\n      db.put(SETTINGS + '_1', list[SETTINGS + '_1'].value)\n    // }\n  },\n  addProvider(provider) {\n    // let httpClient = driverInfo.httpClient\n    // httpClient.addRecipient(\n    //   provider.hash,\n    //   utils.joinURL(provider.url, provider.id, 'send')\n    // )\n\n    // let whitelist = driverInfo.whitelist\n    // if (provider.txId)\n    //   whitelist.push(provider.txId)\n    let self = this\n    let tlsKey = driverInfo.tlsKey\n    const wsClients = driverInfo.wsClients\n    // const identifier = tlsKey ? tlsKey.pubKeyString : meDriver.permalink\n\n    // const identifier = tradle.utils.serializePubKey(identifierPubKey).toString('hex')\n    const base = getProviderUrl(provider)\n\n    if (wsClients[base]) return wsClients[base]\n\n    let wsClient = this.getWsClient(base)\n    let transport = this.getTransport(wsClient)\n    // const url = utils.joinURL(base, 'ws?from=' + identifier).replace(/^http/, 'ws')\n    // const wsClient = new WebSocketClient({\n    //   url: url,\n    //   autoConnect: true,\n    //   // for now, till we figure out why binary\n    //   // doesn't work (socket.io parser errors on decode)\n    //   forceBase64: true\n    // })\n\n    wsClient.on('disconnect', function () {\n      transport.clients().forEach(function (c) {\n        // reset OTR session, restart on connect\n        debug('aborting pending sends due to disconnect')\n        c.destroy()\n      })\n\n      // pause all channels\n      meDriver.sender.pause()\n    })\n\n    wsClient.on('connect', function (recipient) {\n      // resume all paused channels\n      meDriver.sender.resume()\n    })\n\n    wsClients[base] = transport\n    wsClients[provider.hash] = transport\n\n    // let timeouts = {}\n    // transport.on('receiving', function (msg) {\n    //   clearTimeout(timeouts[msg.from])\n    //   delete timeouts[msg.from]\n    // })\n\n    // transport.on('404', function (recipient) {\n    //   if (!timeouts[recipient]) {\n    //     timeout = setTimeout(function () {\n    //       delete timeouts[recipient]\n    //       transport.cancelPending(recipient)\n    //     }, 10000)\n    //   }\n    // })\n\n    transport.on('404', function (recipient) {\n      meDriver.sender.pause(recipient)\n      transport.cancelPending(recipient)\n      // try again soon. Todo: make this smarter\n      setTimeout(() => meDriver.resume(), 10000)\n    })\n\n    const receiveLocks = {}\n    transport.on('message', function (msg, from) {\n      if (!receiveLocks[from]) receiveLocks[from] = mutexify()\n\n      const lock = receiveLocks[from]\n      lock(_release => {\n        const timeout = setTimeout(release, 10000)\n        const release = () => {\n          clearTimeout(timeout)\n          _release()\n        }\n\n        const promise = receive(msg, from)\n        if (!Q.isPromiseAlike(promise)) {\n          return release()\n        }\n\n        promise.finally(release)\n      })\n    })\n\n    transport.on('timeout', function (identifier) {\n      transport.cancelPending(identifier)\n    })\n\n    function receive (msg, from) {\n      try {\n        msg = tradleUtils.unserializeMessage(msg)\n        const payload = msg.object\n        switch (payload[TYPE]) {\n        case INTRODUCTION:\n          let rootHash = payload.identity[ROOT_HASH] || protocol.linkString(payload.identity)\n          return meDriver.addContactIdentity(payload.identity)\n          .then(() => {\n            return self.addContact(payload, rootHash)\n          })\n          .then(() => {\n            const url = utils.keyByValue(wsClients, transport)\n            self.addToSettings({hash: rootHash, url: url})\n          })\n          break\n        case SELF_INTRODUCTION:\n          rootHash = payload.identity[ROOT_HASH] || protocol.linkString(payload.identity)\n          let name = payload.name\n          if (!name  ||  !name.length) {\n            name = payload.identity.name\n            if (name)\n              name = name.formatted\n          }\n          if (!name && payload.message)\n            name = payload.message.split(' ')[0]\n\n          // const rootHash = payload.identity[ROOT_HASH] || protocol.linkString(payload.identity)\n          Alert.alert(\n            translate('newContactRequest', name),\n            payload.message || null,\n            [\n              {text: translate('Ok'),\n              onPress: () => {\n                return meDriver.addContactIdentity(payload.identity)\n                .then(() => {\n                  return self.addContact(payload, rootHash)\n                })\n                .then(() => {\n                  const url = utils.keyByValue(wsClients, transport)\n                  self.addToSettings({hash: rootHash, url: url})\n                })\n              }},\n              {text: translate('cancel'), onPress: () => console.log('Canceled!')},\n            ]\n          )\n\n          // if (name)\n          //   name = name.charAt(0).toUpperCase() + name.slice(1)\n\n\n          return\n        default:\n          break\n        }\n      } catch (err) {\n        try {\n//           debugger\n          const payload = JSON.parse(msg)\n          if (payload[TYPE] === PAIRING_REQUEST) {\n            const rootHash = payload.identity[ROOT_HASH] || protocol.linkString(payload.identity)\n            Alert.alert(\n              translate('pairingRequest'),\n              null,\n              [\n                {text: translate('Ok'),\n                onPress: () => {\n                  self.trigger({action: 'acceptingPairingRequest', resource: payload})\n                  // return self.onProcessPairingRequest(list[PAIRING_DATA + '_1'].value, payload)\n                  // .then(() => {\n                  //   Alert.alert(translate('pairingRequestWasProcesseed'))\n                  // })\n                  // .catch((err) => {\n                  //   debugger\n                  // })\n                }},\n                {text: translate('cancel'), onPress: () => console.log('Canceled!')},\n              ]\n            )\n          }\n          // else if (payload[TYPE] === PAIRING_RESPONSE) {\n          //   return self.onProcessPairingResponse(list[PAIRING_DATA + '_1'].value, payload)\n          //   .then(() => {\n          //     debugger\n          //     Alert.alert('Pairing was successful')\n          //   })\n          //   .catch((err) => {\n          //     debugger\n          //     Alert.alert(err)\n          //   })\n          // }\n          return\n        } catch (err) {\n          return\n        }\n      }\n\n      // const prop = 'pubKey'\n      // const identifier = tradle.utils.deserializePubKey(new Buffer(from, 'hex'))\n\n      const prop = tlsKey ? 'pubKey' : 'permalink'\n      const identifier = prop === 'permalink' ? from : {\n        type: 'ec',\n        curve: 'curve25519',\n        pub: new Buffer(from, 'hex')\n      }\n\n      meDriver.sender.resume(identifier)\n      return meDriver.receive(msg, { [prop]: identifier })\n        .catch(err => {\n          console.warn('failed to receive msg:', err, msg)\n          debugger\n        })\n    }\n  },\n  onPairingRequestAccepted(payload) {\n    return this.onProcessPairingRequest(list[PAIRING_DATA + '_1'].value, payload)\n    .then(() => {\n      this.trigger({action: 'pairingRequestAccepted'})\n    })\n    .catch((err) => {\n      debugger\n      this.trigger({action: 'invalidPairingRequest', error: (err.fullType === 'exists' ? translate('thisDeviceWasAlreadyPaired') : translate('invalidPairingRequest'))})\n    })\n  },\n\n  getIdentifier(identityInfo) {\n    identityInfo = identityInfo || meDriver.identityInfo\n    return TLS_ENABLED ? this.getIdentifierPubKey(identityInfo) : identityInfo.permalink\n  },\n\n  getIdentifierPubKey(identityInfo) {\n    identityInfo = identityInfo || meDriver\n    const purpose = TLS_ENABLED ? 'tls' : 'sign'\n    const key = tradleUtils.find(identityInfo.keys || identityInfo.object.pubkeys, k => {\n      const kPurpose = k.purpose || k.get('purpose')\n      return kPurpose === purpose\n    })\n\n    return key.pubKeyString || key.pub\n  },\n\n  getWsClient(base) {\n    const tlsKey = driverInfo.tlsKey\n    const url = utils.joinURL(base, 'ws?' + querystring.stringify({\n      from: this.getIdentifier(),\n      // pubKey: this.getIdentifierPubKey()\n    })).replace(/^http/, 'ws')\n\n    return new WebSocketClient({\n      url: url,\n      autoConnect: true,\n      // for now, till we figure out why binary\n      // doesn't work (socket.io parser errors on decode)\n      forceBase64: true\n    })\n  },\n\n  getTransport(wsClient) {\n    const tlsKey = driverInfo.tlsKey\n    return newSwitchboard({\n      identifier: this.getIdentifier(),\n      unreliable: wsClient,\n      clientForRecipient: function (recipient) {\n        const sendy = new Sendy(SENDY_OPTS)\n        if (!tlsKey) return sendy\n\n        return new TLSClient({\n          key: {\n            secretKey: tlsKey.priv,\n            publicKey: tlsKey.pub\n          },\n          client: sendy,\n          theirPubKey: new Buffer(recipient, 'hex')\n        })\n      }\n    })\n  },\n\n  // Gets info about companies in this app, their bot representatives and their styles\n  getServiceProviders(url, retry, id) {\n    var self = this\n    // return Q.race([\n    //   fetch(utils.joinURL(url, 'info'), { headers: { cache: 'no-cache' } }),\n    //   Q.Promise(function (resolve, reject) {\n    //     setTimeout(function () {\n    //       reject(new Error('timed out'))\n    //     }, 5000)\n    //   })\n    // ])\n    const doFetch = retry\n                  ? utils.fetchWithBackoff\n                  : utils.fetchWithTimeout\n\n    let originalUrl = url\n    url = utils.joinURL(url, 'info')\n    let languageCode\n    if (me) {\n      language = me.language\n      if (language && list[utils.getId(language)]) {\n        language = list[utils.getId(language)].value\n        languageCode = language.code\n      }\n    }\n    if (!languageCode)\n      languageCode = utils.getDefaultLanguage()\n    if (languageCode)\n      url += '?lang=' + languageCode\n\n    return doFetch(url, { headers: { cache: 'no-cache' } }, 5000)\n    .then((response) =>  {\n      if (response.status > 300)\n        throw new Error('Cannot access: ' + url)\n      return response.json()\n    })\n    .then(function (json) {\n      if (json.dictionary) {\n        extend(true, dictionary, json.dictionary)\n        if (me) {\n          me.dictionary = dictionary\n          if (language)\n            me.language = language\n          self.setMe(me)\n        }\n      }\n\n      if (!SERVICE_PROVIDERS)\n        SERVICE_PROVIDERS = []\n\n      var promises = []\n      json.providers.forEach(sp => {\n        if (id)  {\n          if (sp.id !== id)\n            return\n        }\n        // else if (sp.id !== 'eres'  &&  !list[PROFILE + '_' + sp.bot[ROOT_HASH]])\n        //   return\n        if (!sp.org[ROOT_HASH]) {\n          sp.org[ROOT_HASH] = protocol.linkString(sp.org)\n        }\n\n        let duplicateSP = null\n        let isDuplicate = SERVICE_PROVIDERS.some((r) => {\n          // return deepEqual(r.org, sp.org)\n          if (r.org === utils.getId(sp.org))\n            duplicateSP = r\n        })\n\n        if (isDuplicate)\n          return\n        SERVICE_PROVIDERS.push({id: sp.id, org: utils.getId(sp.org), url: originalUrl, style: sp.style})\n        promises.push(self.addInfo(sp, originalUrl))\n      })\n      if (utils.getMe())\n        self.setMe(utils.getMe())\n      return Q.allSettled(promises)\n    })\n    .then((results) => {\n      let list = self.searchNotMessages({modelName: ORGANIZATION})\n      this.trigger({\n        action: 'list',\n        list: list,\n      })\n\n      return results\n        .filter(r => r.state === 'fulfilled')\n        .map(r => r.value)\n    })\n  },\n  addInfo(sp, url) {\n    var self = this\n    var okey = sp.org ? utils.getId(sp.org) : null\n    var hash = protocol.linkString(sp.bot.pub)\n    var ikey = IDENTITY + '_' + hash\n    var batch = []\n    if (!list[okey]) {\n      batch.push({type: 'put', key: okey, value: sp.org})\n      this._setItem(okey, sp.org)\n    }\n    if (sp.style)\n      list[okey].value.style = sp.style\n    if (!list[ikey]) {\n      var profile = {\n        [TYPE]: PROFILE,\n        [ROOT_HASH]: hash,\n        firstName: sp.bot.profile.name.firstName || sp.id + 'Bot',\n        organization: self.buildRef(sp.org)\n        // organization: {\n        //   id: okey,\n        //   title: sp.org.name\n        // }\n      }\n      if (sp.bot.profile.name.lastName)\n        profile.lastName = sp.bot.profile.name.lastName\n      profile.formatted = sp.bot.profile.name.formatted || (profile.lastName ? profile.firstName + ' ' + profile.lastName : profile.firstName)\n      profile.photos = []\n      if (sp.bot.profile.photo)\n        profile.photos.push(sp.bot.profile.photo)\n      else\n        profile.photos.push(employee)\n      if (sp.isEmployee)\n        profile.isEmployee = true\n      else\n        profile.bot = true\n      // profile[ROOT_HASH] = r.pub[ROOT_HASH] //?????\n      var identity = {\n        [ROOT_HASH]:   hash,\n        txId: sp.bot.txId\n      }\n      extend(true, identity, sp.bot.pub)\n      if (identity.name) {\n        identity.firstName = identity.name.firstName\n        identity.formatted = identity.name.formatted || identity.firstName\n        delete identity.name\n      }\n\n      var pkey = utils.getId(profile)\n\n      batch.push({type: 'put', key: ikey, value: identity })\n      batch.push({type: 'put', key: pkey, value: profile })\n      self._setItem(ikey, identity)\n      self._setItem(pkey, profile)\n    }\n    if (!list[okey].value.contacts) {\n      self._mergeItem(okey, { contacts: [] })\n      // list[okey].value.contacts = []\n    }\n\n    var pkey = PROFILE + '_' + hash\n\n    var curOkeyVal = list[okey].value\n    var newContact = {\n      id:     pkey,\n      // title: list[pkey].value.formatted\n    }\n\n    self._mergeItem(okey, { contacts: [...curOkeyVal.contacts, newContact] })\n    // list[okey].value.contacts.push({\n    //   id:     pkey,\n    //   titile: list[pkey].formatted\n    // })\n\n    var promises = [\n      // TODO: evaluate the security of this\n      meDriver.addContactIdentity(sp.bot.pub)\n    ]\n\n    if (batch.length)\n      promises.push(db.batch(batch))\n\n    return Q.allSettled(promises)\n    .then(function() {\n      if (!sp.isEmployee)\n        return {hash: hash, txId: sp.bot.txId, id: sp.id, url: url}\n      let orgSp = SERVICE_PROVIDERS.filter((r) => utils.getId(r.org) === okey)[0]\n      return {hash: hash, txId: sp.bot.txId, id: orgSp.id, url: orgSp.url, identity: sp.bot.pub}\n    })\n    .catch(err => {\n      debugger\n      throw err\n    })\n  },\n\n  addContact(data, hash) {\n    var ikey = IDENTITY + '_' + hash\n    var pkey = PROFILE + '_' + hash\n\n    var profile = list[pkey] && list[pkey].value\n    var identity = list[ikey]  &&  list[ikey].value\n\n    var newContact = !profile  ||  !identity\n    var isDevicePairing = data[TYPE]  &&  data[TYPE] === PAIRING_REQUEST\n    if (newContact) {\n      if (data.name === '')\n        data.name = data.identity.name && data.identity.name.formatted\n      if (isDevicePairing) {\n        profile = {\n          [TYPE]: PROFILE,\n          [ROOT_HASH]: hash,\n          firstName:  me.firstName,\n          formatted: me.formatted\n        }\n      }\n      else {\n        profile = {\n          [TYPE]: PROFILE,\n          [ROOT_HASH]: hash,\n          ...data.profile\n        }\n\n        if (!profile.firstName) {\n          profile.firstName = data.name || data.message.split(' ')[0]\n        }\n\n        if (!profile.formatted) {\n          profile.formatted = profile.firstName\n        }\n      }\n\n      profile.formatted = profile.firstName + (data && data.lastName ? ' ' + data.lastName : '')\n      var identity = data.identity\n      identity[ROOT_HASH] = hash\n      identity[CUR_HASH] = hash\n\n      var batch = []\n      batch.push({type: 'put', key: ikey, value: identity })\n      batch.push({type: 'put', key: pkey, value: profile })\n      this._setItem(ikey, identity)\n      this._setItem(pkey, profile)\n    }\n    // HACK\n    if (!profile.firstName.length) {\n      profile.firstName = identity.name.firstName\n      profile.formatted = identity.name.formatted || profile.firstName\n    }\n    if (!isDevicePairing)\n      this.trigger({action: 'newContact', to: profile, newContact: true})\n\n    // return newContact ? db.batch(batch) : Q()\n    // .then(() => {\n      return isDevicePairing ? Q() : this.onAddMessage({\n          [TYPE]: SIMPLE_MESSAGE,\n          message: translate('howCanIHelpYou', profile.formatted, utils.getMe().firstName),\n          from: this.buildRef(utils.getMe()),\n          to: list[pkey].value\n        })\n      .then(() => {\n        if (newContact)\n          return db.batch(batch)\n      })\n    // })\n    .catch((err) => {\n      debugger\n    })\n  },\n  // dhtFor (identity, port) {\n  //   var dht = new DHT({\n  //     nodeId: this.nodeIdFor(identity),\n  //     bootstrap: ['tradle.io:25778']\n  //   })\n\n  //   dht.on('error', function (err) {\n  //     debugger\n  //     throw err\n  //   })\n\n  //   dht.listen(port)\n  //   // dht.socket.filterMessages(tutils.isDHTMessage)\n  //   return dht\n  // },\n  //\n  // nodeIdFor (identity) {\n  //   return crypto.createHash('sha256')\n  //     .update(this.findKey(identity.pubkeys, { type: 'dsa' }).fingerprint)\n  //     .digest()\n  //     .slice(0, 20)\n  // },\n  findKey (keys, where) {\n    var match\n    keys.some(function (k) {\n      for (var p in where) {\n        if (k[p] !== where[p]) return false\n      }\n\n      match = k\n      return true\n    })\n\n    return match\n  },\n  onStart() {\n    var self = this;\n    Q.all([\n      LocalAuth.hasTouchID(),\n      this.ready\n    ])\n    .spread(hasTouchID => {\n      // isLoaded = true\n      self.trigger({\n        action: 'start',\n        models: models,\n        me: me,\n        hasTouchID\n      });\n    })\n  },\n\n  onAddMessage(r, isWelcome, requestForForm) {\n    var self = this\n    let m = this.getModel(r[TYPE]).value\n    var props = m.properties;\n    var rr = {};\n    if (!r.time)\n      r.time = new Date().getTime();\n    var toOrg\n    if (r.to[TYPE] === ORGANIZATION) {\n      var orgId = utils.getId(r.to)\n      var orgRep = this.getRepresentative(orgId)\n      if (!orgRep) {\n        var params = {\n          action: 'addMessage',\n          error: 'No ' + r.to.name + ' representative was found'\n        }\n        this.trigger(params);\n        return\n      }\n      toOrg = r.to\n      r.to = orgRep\n    }\n\n    let isSelfIntroduction = r[TYPE] === SELF_INTRODUCTION\n\n    for (var p in r) {\n      if (!props[p])\n        continue\n      if (!isSelfIntroduction  &&  props[p].ref  &&  !props[p].id)\n        rr[p] = this.buildRef(r[p])\n      else\n        rr[p] = r[p];\n    }\n    // let firstTime\n    if (r[TYPE] === PRODUCT_APPLICATION) {\n      let result = this.searchMessages({modelName: PRODUCT_APPLICATION, to: toOrg})\n      if (result) {\n        result = result.filter((r) => {\n          return (r.message === r.message  &&  !r.documentCreated) ? true : false\n        })\n        if (result.length) {\n          result.forEach((r) => {\n            const rid = utils.getId(r)\n            self._mergeItem(rid, { documentCreated: true })\n          })\n        }\n      }\n    }\n    let isCustomerWaiting = r[TYPE] === CUSTOMER_WAITING\n    //   if (!this.isConnected) {\n    //     let result = this.searchMessages({modelName: PRODUCT_LIST, to: toOrg})\n    //     firstTime = !result  ||  !result.length\n    //   }\n    // }\n    rr[NONCE] = this.getNonce()\n    var toChain = {\n      [TYPE]: rr[TYPE],\n      [NONCE]: rr[NONCE],\n      time: r.time\n    }\n    if (rr.message)\n      toChain.message = rr.message\n    if (rr.photos)\n      toChain.photos = rr.photos\n    if (r.list)\n      rr.list = r.list\n    let required = m.required\n    if (required) {\n      required.forEach((p) => {\n        toChain[p] = rr[p]\n      })\n      // HACK\n      delete toChain.from\n      delete toChain.to\n    }\n    var batch = []\n    var error\n    var welcomeMessage\n    var tmpKey\n    // var promise = Q(protocol.linkString(toChain))\n    let hash = r.to[ROOT_HASH]\n    if (!hash)\n      hash = list[utils.getId(r.to)].value[ROOT_HASH]\n    var toId = IDENTITY + '_' + hash\n    var sendStatus = (self.isConnected) ? SENDING : QUEUED\n    var noCustomerWaiting\n    return meDriver.sign({ object: toChain })\n    .then(function(result) {\n      toChain = result.object\n      tmpKey = rr[ROOT_HASH] = result.sig\n\n      if (r[TYPE] === PRODUCT_APPLICATION) {\n        let params = {\n          action: 'addItem',\n          resource: rr,\n          // sendStatus: sendStatus\n        }\n        self.trigger(params)\n      }\n\n      if (!isWelcome) {\n        let len = batch.length\n        self.addLastMessage(r, batch)\n      }\n      if (!isWelcome  ||  utils.isEmployee(r.to))\n        return\n      if (!orgRep)\n        return\n      if (orgRep.lastMessageTime) {\n        isWelcome = orgRep.lastMessage === r.message\n        if (!isWelcome)\n          return;\n      }\n      // var wmKey = SIMPLE_MESSAGE + '_Welcome' + toOrg.name.replace(' ', '_')// + '_' + new Date().getTime()\n      // Create welcome message without saving it in DB\n      // welcomeMessage = {}\n      if (me.txId)\n        return\n      // Avoid sending CustomerWaiting request after SelfIntroduction or IdentityPublishRequest to\n      // prevent the not needed duplicate expensive operations for obtaining ProductList\n      return self.getDriver(me)\n      .then(function () {\n        if (/*!self.isConnected  || */ publishRequestSent[orgId])\n          return\n        // TODO:\n        // do we need identity publish status anymore\n        return meDriver.identityPublishStatus()\n      })\n      .then(function(status) {\n        if (!status/* || !self.isConnected*/)\n          return\n        publishRequestSent[orgId] = true\n        if (!status.watches.link  &&  !status.link) {\n          if (isCustomerWaiting)\n            noCustomerWaiting = true\n          return self.publishMyIdentity(orgRep)\n        }\n        else {\n          // self.updateMe()\n          var allMyIdentities = list[MY_IDENTITIES].value\n          var all = allMyIdentities.allIdentities\n          var curId = allMyIdentities.currentIdentity\n\n          let identity = all.filter((id) => id.id === curId)\n\n          var msg = {\n            message: me.firstName + ' is waiting for the response',\n            [TYPE]: SELF_INTRODUCTION,\n            identity: identity[0].publishedIdentity,\n            profile: {\n              firstName: me.firstName\n            },\n            from: me,\n            to: r.to\n          }\n          if (isCustomerWaiting)\n            noCustomerWaiting = true\n          return self.onAddMessage(msg)\n        }\n      })\n    })\n    .then(function() {\n      if (isWelcome && utils.isEmpty(welcomeMessage))\n        return;\n\n      // Temporary untill the real hash is known\n      var key = utils.getId(rr)\n      rr._sendStatus = sendStatus\n      self._setItem(key, rr)\n\n      if (!toOrg) {\n        let to = list[utils.getId(r.to)].value\n        toOrg = to.organization ? to.organization : to\n      }\n\n      self.addMessagesToChat(utils.getId(toOrg), rr)\n\n      var params = {\n        action: 'addMessage',\n        resource: isWelcome ? welcomeMessage : rr\n      }\n      if (error)\n        params.error = error\n\n      self.trigger(params);\n      if (batch.length  &&  !error  &&  list[toId].value.pubkeys)\n        return self.getDriver(me)\n    })\n    .then(function() {\n      // SelfIntroduction or IdentityPublishRequest were just sent\n      if (noCustomerWaiting)\n        return\n      if (list[toId].value.pubkeys) {\n        let sendParams = self.packMessage(r, toChain)\n        const method = toChain[SIG] ? 'send' : 'signAndSend'\n        return meDriver[method](sendParams)\n        .catch(function (err) {\n          debugger\n        })\n      }\n    })\n    .then(function(result) {\n      if (!requestForForm  &&  isWelcome)\n        return\n      if (isWelcome  &&  utils.isEmpty(welcomeMessage))\n        return\n      // cleanup temporary resources from the chat message references and from the in-memory storage - 'list'\n      if (!toOrg) {\n        let to = list[utils.getId(r.to)].value\n        toOrg = to.organization ? to.organization : to\n      }\n      let orgId = utils.getId(toOrg)\n      self.deleteMessageFromChat(orgId, rr)\n      delete list[rr[TYPE] + '_' + tmpKey]\n\n      // saving the new message\n      const data = utils.toOldStyleWrapper(result.message)\n      if (data)  {\n        rr[ROOT_HASH] = data[ROOT_HASH]\n        rr[CUR_HASH] = data[CUR_HASH]\n      }\n      var key = utils.getId(rr)\n      batch.push({type: 'put', key: key, value: rr})\n      rr._sendStatus = self.isConnected ? SENDING : QUEUED\n\n      self._setItem(key, rr)\n      self.addMessagesToChat(orgId, rr)\n      return db.batch(batch)\n    })\n    .catch(function(err) {\n      debugger\n    });\n  },\n  packMessage(r, toChain) {\n    var sendParams = {\n      object: toChain\n    }\n    let hash = r.to[ROOT_HASH]\n    if (hash === me[ROOT_HASH])\n      hash = r.from[ROOT_HASH]\n    if (!hash)\n      hash = list[utils.getId(r.to)].value[ROOT_HASH]\n    var toId = IDENTITY + '_' + hash\n    var isEmployee\n    if (me.isEmployee) {\n      let to = list[utils.getId(r.to)].value\n      isEmployee = (!to.organization ||  utils.getId(to.organization) === utils.getId(me.organization))\n    }\n    // let isEmployee = me.isEmployee && (!r.to.organization || utils.getId(r.to.organization) === utils.getId(me.organization))\n    if (isEmployee) {\n      let arr = SERVICE_PROVIDERS.filter((sp) => {\n        let reps = this.getRepresentatives(sp.org)\n        let talkingToBot = reps.forEach((r) => {\n          return r[ROOT_HASH] === hash ? true : false\n        })\n        return talkingToBot  &&  talkingToBot.length ? true : false\n      })\n      if (!arr.length) {\n        var toRootHash = hash\n\n        sendParams.other = {\n          forward: toRootHash\n        }\n        let rep = this.getRepresentative(utils.getId(me.organization))\n\n        sendParams.to = { fingerprint: this.getFingerprint(list[IDENTITY + '_' + rep[ROOT_HASH]].value) }\n      }\n    }\n    var toId = IDENTITY + '_' + hash\n    if (!sendParams.to)\n      sendParams.to = { fingerprint: this.getFingerprint(list[toId].value) }\n    return sendParams\n  },\n  disableOtherFormRequestsLikeThis(rr) {\n    let fromRep = utils.getId(rr.from)\n    let orgId = utils.getId(list[fromRep].value.organization)\n    let messages = chatMessages[orgId]\n    messages.forEach((r) => {\n      let m = list[r.id].value\n      if (m[TYPE] === FORM_REQUEST  &&\n          m.product === rr.product  &&\n          m.form === rr.form        &&\n          !m.document               &&\n          !m.documentCreated) {\n        m.documentCreated = true\n        db.put(utils.getId(m), m)\n      }\n    })\n\n  },\n  // Every chat has it's own messages array where\n  // all the messages present in order they were received\n  addMessagesToChat(id, r, isInit, timeShared) {\n    if (r.documentCreated  &&  !isInit)\n      return\n    // if (!isInit  &&  utils.isEmpty(chatMessages))\n    //   return\n    let messages = chatMessages[id]\n    let rid = utils.getId(r)\n    if (messages  &&  messages.length) {\n      if (!isInit) {\n        if (r[TYPE] === SELF_INTRODUCTION)\n          return\n        if (r[TYPE] === PRODUCT_LIST) {\n          let msgId = messages[messages.length - 1].id\n          if (msgId.split('_')[0] === PRODUCT_LIST)\n            messages.splice(messages.length - 1, 1)\n        }\n  //       return false\n        let idx = -1\n        for (let i=0; i<messages.length  &&  !idx; i++)\n          if (messages[i].id === rid)\n            idx = i\n\n        if (idx !== -1)\n          messages.splice(idx, 1)\n      }\n    }\n    else {\n      messages = []\n      chatMessages[id] = messages\n    }\n    messages.push({id: utils.getId(r), time: timeShared ? timeShared : r.time})\n  },\n  // cleanup\n  deleteMessageFromChat(id, r) {\n    let messages = chatMessages[id]\n    if (messages) {\n      let rid = utils.getId(r)\n      for (let i=0; i<messages.length; i++)\n        if (messages[i].id === rid) {\n          messages.splice(i, 1)\n          break\n        }\n    }\n  },\n  getRepresentatives(orgId) {\n    var result = this.searchNotMessages({modelName: PROFILE, all: true})\n    var orgRep = [];\n    result.some((ir) =>  {\n      if (!ir.organization) return\n\n      if (utils.getId(ir.organization) === orgId)\n        orgRep.push(ir)\n    })\n\n    return orgRep.length ? orgRep : null\n  },\n\n  getRepresentative(orgId) {\n    if (currentEmployees[orgId])\n      return currentEmployees[orgId]\n    var result = this.searchNotMessages({modelName: PROFILE, all: true})\n    var orgRep;\n    result.some((ir) =>  {\n      if (!ir.organization) return\n\n      if (utils.getId(ir.organization) === orgId  &&  ir.bot) {\n        orgRep = ir\n        return true\n      }\n    })\n\n    return orgRep\n  },\n  onAddVerification(r, notOneClickVerification, dontSend) {\n    var self = this;\n    var batch = [];\n    var key;\n    var fromId = utils.getId(r.from);\n    var from = list[fromId].value;\n    var toId = utils.getId(r.to);\n    var to = list[toId].value;\n\n    r[NONCE] = r[NONCE]  ||  this.getNonce()\n    r.time = r.time || new Date().getTime();\n\n    var toChain = {}\n    var sendParams\n    var toRootHash = toId.split('_')[1]\n    if (!dontSend) {\n      extend(toChain, r);\n      if (r[ROOT_HASH]) {\n        toChain[CUR_HASH] = r[ROOT_HASH]\n        r[CUR_HASH] = r[ROOT_HASH]\n      }\n      delete toChain.from\n      delete toChain.to\n      toChain.time = r.time\n      sendParams = this.packMessage(r, toChain)\n    }\n    var key = IDENTITY + '_' + toRootHash\n\n    var promise = dontSend\n                 ? Q()\n                 :  meDriver.signAndSend(sendParams)\n                    // meDriver.signAndSend({\n                    //   object: toChain,\n                    //   to: { fingerprint: this.getFingerprint(list[key].value) }\n                    // })\n    var newVerification\n    return promise\n    .then(function(data) {\n      if (data) {\n        r[CUR_HASH] = data.object.link\n        r[ROOT_HASH] = data.object.permalink\n        // var roothash = data[0]._props[ROOT_HASH]\n        // r[ROOT_HASH] = roothash\n        // r[CUR_HASH] = data[0]._props[CUR_HASH]\n      }\n      key = utils.getId(r)\n      if (from.organization)\n        r.organization = from.organization;\n      if (!r.sharedWith) {\n        r.sharedWith = []\n        r.sharedWith.push(self.createSharedWith(utils.getId(r.from), r.time))\n      }\n      batch.push({type: 'put', key: key, value: r});\n      newVerification = self.buildRef(r)\n      let len = batch.length\n      self.addLastMessage(r, batch)\n      return db.batch(batch)\n    })\n    .then(function() {\n      var rr = {};\n      // extend(rr, from);\n      // rr.verifiedByMe = r;\n      self._setItem(key, r)\n      if (utils.getId(from) === utils.getId(me))\n        self.addMessagesToChat(utils.getId(r.to), r)\n      else\n        self.addMessagesToChat(from.organization ? utils.getId(from.organization) : fromId, r)\n\n      if (notOneClickVerification)\n        self.trigger({action: 'addItem', resource: r});\n      else\n        self.trigger({action: 'addVerification', resource: r});\n\n      var verificationRequestId = utils.getId(r.document);\n      var verificationRequest = list[verificationRequestId].value;\n      if (!verificationRequest.verifications)\n        verificationRequest.verifications = [];\n      if (!r.txId) {\n        verificationRequest.verifications.push(self.buildRef(newVerification));\n      }\n      else {\n        for (var i=0; i<verificationRequest.verifications.length; i++) {\n          if (utils.getId(verificationRequest.verifications).split('_')[1] === r[ROOT_HASH])\n            verificationRequest.verifications = self.buildRef(newVerification)\n        }\n      }\n      // if (!verificationRequest.sharedWith)\n      //   verificationRequest.sharedWith = []\n      // verificationRequest.sharedWith.push(fromId)\n      return db.put(verificationRequestId, verificationRequest);\n    })\n    .then(function(data) {\n      var d = data\n    })\n    .catch(function(err) {\n      debugger\n      err = err\n    })\n  },\n  onGetTo(key) {\n    this.onGetItem(key, 'getTo');\n  },\n  onGetFrom(key) {\n    this.onGetItem(key, 'getFrom');\n  },\n  onGetItem(key, action) {\n    var resource = {};\n\n    extend(resource, list[utils.getId(key)].value);\n    var props = this.getModel(resource[TYPE]).value.properties;\n    for (var p in props) {\n      if (p.charAt(0) === '_')\n        continue;\n      var items = props[p].items;\n      if (!items  ||  !items.backlink)\n        continue;\n      var backlink = items.backlink;\n      var itemsModel = this.getModel(items.ref).value;\n      var params = {\n        modelName: items.ref,\n        to: resource,\n        meta: itemsModel,\n        props: itemsModel.properties\n      }\n      var result = this.searchNotMessages(params);\n      if (result  &&  result.length)\n        resource[p] = result;\n    }\n    this.trigger({ resource: resource, action: action || 'getItem'});\n  },\n\n  getItem(resource) {\n    var self = this;\n    var modelName = resource[TYPE];\n    var meta = this.getModel(modelName).value;\n    var foundRefs = [];\n    var refProps = this.getRefs(resource, foundRefs, meta.properties);\n    var newResource = {};\n    extend(newResource, resource);\n    for (var i=0; i<foundRefs.length; i++) {\n     // foundRefs.forEach(function(val) {\n       var val = foundRefs[i];\n       if (val.state === 'fulfilled') {\n         var propValue = utils.getId(val.value)\n         var prop = refProps[propValue];\n         newResource[prop] = val.value;\n         newResource[prop].id = propValue\n         if (!newResource[prop].title)\n            newResource[prop].title = utils.getDisplayName(newResource, meta);\n       }\n     }\n     return newResource;\n  },\n  getDependencies(resultList) {\n    var self = this;\n    var newResult = resultList.map(function(resource) {\n      return self.getItem(resource);\n    });\n    return newResult;\n  },\n  getRefs(resource, foundRefs, props) {\n    var refProps = [];\n    for (var p in resource) {\n      if (props[p] &&  props[p].type === 'object') {\n        var ref = props[p].ref;\n        if (ref  &&  resource[p]) {\n          // reference property could be set as a full resource (for char to have all info at hand when displaying the message)\n          // or resource id\n          let rValue = utils.getId(resource[p])\n\n          refProps[rValue] = p;\n          if (list[rValue]) {\n            var elm = {value: list[rValue].value, state: 'fulfilled'};\n            foundRefs.push(elm);\n          }\n        }\n      }\n    }\n    return refProps;\n  },\n  onAddModelFromUrl(url) {\n    var self = this;\n    var model, props;\n    return fetch(url)\n    .then((response) => response.json())\n    .then(function(responseData) {\n      model = responseData;\n      props = model.properties;\n\n      var err = '';\n      var id = model.id;\n\n      if (!id)\n        err += '\"id\" is required. Could be something like \"myGithubId.nameOfTheModel\"';\n      var key = id;\n      // if (models[key])\n      //   err += '\"id\" is not unique';\n      var message = model.message;\n      var from = props.from;\n      if (!from)\n        err += '\"from\" is required. Should have {ref: \"' + PROFILE + '\"}';\n\n      var to = props.to;\n      if (!to)\n        err += '\"to\" is required. Should have {ref: \"' + PROFILE + '\"}';\n      var time = props.time;\n      if (!time)\n        err += '\"time\" is required';\n\n      if (err.length) {\n        self.trigger({action: 'newModelAdded', err: err});\n        return;\n      }\n      model.interfaces = [];\n      model.interfaces.push(MESSAGE);\n      var rootHash = sha(model);\n      model[ROOT_HASH] = rootHash;\n      model[constants.OWNER] = self.buildRef(me)\n      // model[constants.OWNER] = {\n      //   id: PROFILE + '_' + me[ROOT_HASH],\n      //   title: utils.getDisplayName(me, self.getModel(PROFILE).value.properties),\n        // photos: me.photos\n      // }\n      // Wil need to publish new model\n      return db.put(key, model);\n    })\n    .then(function() {\n      if (!me.myModels)\n        me.myModels = [];\n      var key = model.id;\n      me.myModels.push({key: key, title: model.title});\n\n      self.setPropertyNames(props);\n\n      models[key] = {\n        key: key,\n        value: model\n      };\n      self.trigger({action: 'newModelAdded', newModel: model});\n    })\n    .catch(function(err) {\n      err = err;\n    })\n    .done();\n  },\n  setPropertyNames(props) {\n    for (var p in props) {\n      var val = props[p]\n      if (!val.name && typeof val !== 'function')\n        props[p].name = p;\n      if (!val.title)\n        val.title = utils.makeLabel(p);\n    }\n  },\n  onSaveTemporary(resource) {\n    temporaryResources[resource[TYPE]] = resource\n  },\n  onGetTemporary(type) {\n    var r = temporaryResources[type]\n    // if (!r) {\n    //   r = {_t: type}\n    //   if (type === SETTINGS)\n    //     r.url = SERVICE_PROVIDERS_BASE_URL || SERVICE_PROVIDERS_BASE_URL_DEFAULT\n    // }\n    this.trigger({action: 'getTemporary', resource: r})\n  },\n  onAddItem(params) {\n    var self = this;\n    var value = params.value;\n    var resource = params.resource;\n    delete temporaryResources[resource[TYPE]]\n    var meta = params.meta;\n    var shareWith = params.shareWith\n\n    var isRegistration = params.isRegistration;\n    var additionalInfo = params.additionalInfo;\n    // Check if there are references to other resources\n    var refProps = {};\n    var promises = [];\n    var foundRefs = [];\n    var props = meta.properties;\n\n    if (meta.id == VERIFICATION  ||  meta.subClassOf === VERIFICATION)\n      return this.onAddVerification(resource, true);\n\n    let isSelfIntroduction = meta[TYPE] === SELF_INTRODUCTION\n    var isNew = !resource[ROOT_HASH];\n\n    var checkPublish\n    var isSwitchingToEmployeeMode = isNew ? false : self.isSwitchingToEmployeeMode(resource)\n    // Data were obtained by scanning QR code of the forms that were entered on Web\n    if (meta.id === GUEST_SESSION_PROOF || isSwitchingToEmployeeMode) {\n      checkPublish = this.getDriver(me)\n      .then(function () {\n        // if (publishRequestSent)\n          return meDriver.identityPublishStatus()\n      })\n      .then(function(status) {\n        if (!status.watches.link  &&  !status.link) {\n          if (isSwitchingToEmployeeMode)\n            self.publishMyIdentity(self.getRepresentative(utils.getId(resource.organization)))\n          else\n            self.publishMyIdentity(list[utils.getId(resource.to)].value)\n        }\n        else if (isSwitchingToEmployeeMode) {\n          let orgId = utils.getId(resource.organization)\n          let orgRep = self.getRepresentative(orgId)\n\n          var msg = {\n            message: me.firstName + ' is waiting for the response',\n            [TYPE]: SELF_INTRODUCTION,\n            identity: meDriver.identity,\n            name: me.firstName,\n            from: me,\n            to: orgRep\n          }\n          checkPublish = self.onAddMessage(msg)\n        }\n      })\n    } else {\n      checkPublish = Q()\n    }\n\n    return checkPublish\n    .then(() => {\n      for (var p in resource) {\n        if (props[p] &&  props[p].type === 'object') {\n          var ref = props[p].ref;\n          if (ref  &&  resource[p])  {\n            let refModel = this.getModel(ref).value\n            if (refModel.inlined  ||  refModel.subClassOf === ENUM)\n              continue;\n\n            var rValue = utils.getId(resource[p])\n            refProps[rValue] = p;\n            if (list[rValue]) {\n              var elm = {value: list[rValue].value, state: 'fulfilled'};\n              foundRefs.push(elm);\n            }\n            else\n              promises.push(Q.ninvoke(db, 'get', rValue));\n          }\n        }\n      }\n      // Add items properties if they were created\n      var json = utils.clone(value) // maybe not the best way to copy, try `clone`?\n      for (p in resource) {\n        if (props[p]  &&  props[p].type === 'array')\n          json[p] = resource[p];\n      }\n      if (!json[TYPE])\n        json[TYPE] = meta.id;\n      var error = this.checkRequired(json, props);\n      if (error) {\n        foundRefs.forEach(function(val) {\n          var propValue = utils.getId(val.value)\n          var prop = refProps[propValue];\n          json[prop] = val.value;\n        });\n\n        this.trigger({\n          action: 'addItem',\n          // list: list,\n          resource: json,\n          error: error\n        });\n        return;\n      }\n      // if (error) {\n      //   this.listenables[0].addItem.failed(error);\n      //   return;\n      // }\n      var returnVal\n      var identity\n      // if (!isNew) // make sure that the values of ref props are not the whole resources but their references\n      if (!isSelfIntroduction)\n        utils.optimizeResource(resource)\n\n      var isMessage = meta.isInterface  ||  (meta.interfaces  &&  meta.interfaces.indexOf(MESSAGE) != -1);\n      Q.allSettled(promises)\n      .then(function(results) {\n        let allFoundRefs = foundRefs.concat(results);\n        allFoundRefs.forEach(function(val) {\n          if (val.state === 'fulfilled') {\n            var value = val.value;\n            var propValue = utils.getId(value)\n            var prop = refProps[propValue];\n\n            var title = utils.getDisplayName(value, self.getModel(value[TYPE]).value.properties);\n            json[prop] = self.buildRef(value)\n            if (isMessage  &&  !json.documentCreated)\n              json.time = new Date().getTime();\n          }\n        });\n        // if (isNew  &&  !resource.time)\n        if (isNew  ||  !value.documentCreated) //(meta.id !== FORM_ERROR  &&  meta.id !== FORM_REQUEST  &&  !meta.id === FORM_ERROR))\n          resource.time = new Date().getTime();\n\n        if (!resource  ||  isNew)\n          returnVal = json\n        else {\n          returnVal = {};\n          extend(true, returnVal, resource);\n          for (var p in json)\n            if (!returnVal[p])\n              returnVal[p] = json[p];\n            else if (!props[p])\n              continue\n            else if (!props[p].readOnly  &&  !props[p].immutable)\n              returnVal[p] = json[p];\n        }\n\n        // utils.optimizeResource(returnVal)\n        if (!isRegistration) {\n          // HACK to not to republish identity\n          if (returnVal[TYPE] !== PROFILE)\n            returnVal[NONCE] = self.getNonce()\n        }\n        if (params.chat) {\n          let chatId = utils.getId(params.chat)\n          returnVal.to = self.buildRef(self.getRepresentative(chatId))\n        }\n\n        if (isRegistration)\n          return handleRegistration()\n        else if (isMessage)\n          return handleMessage()\n        else\n          return save(isSwitchingToEmployeeMode)\n      })\n      .then(() => {\n        if (isSwitchingToEmployeeMode) {\n          let orgId = utils.getId(resource.organization)\n          let orgRep = self.getRepresentative(orgId)\n\n          let msg = {\n            [TYPE]: PRODUCT_APPLICATION,\n            product: EMPLOYEE_ONBOARDING,\n            [NONCE]: self.getNonce(),\n            time: new Date().getTime()\n          }\n          self.trigger({action: 'employeeOnboarding', to: list[orgId].value})\n          meDriver.signAndSend({\n            object: msg,\n            to: { fingerprint: self.getFingerprint(list[utils.getId(IDENTITY + '_' + orgRep[ROOT_HASH])].value) }\n          })\n          .catch(function (err) {\n            debugger\n          })\n        }\n      })\n\n      function handleRegistration () {\n        self.trigger({action: 'runVideo'})\n        return Q.all([\n            self.loadDB(),\n            utils.resetPasswords()\n          ])\n          .then(function () {\n            return self.getDriver(returnVal)\n          })\n          .then(function () {\n            if (!resource || isNew) {\n              returnVal[ROOT_HASH] = protocol.linkString(meDriver.identity)\n            }\n\n            return save()\n          })\n      }\n\n      function handleMessage () {\n        // TODO: fix hack\n        // hack: we don't know root hash yet, use a fake\n        if (returnVal.documentCreated)  {\n          var params = {action: 'addItem', resource: returnVal}\n          self.disableOtherFormRequestsLikeThis(returnVal)\n          // don't save until the real resource is created\n          list[utils.getId(returnVal)].value = returnVal\n          self.trigger(params);\n          return self.waitForTransitionToEnd()\n          .then(() => {\n            save()\n          })\n          .catch(function(err) {\n            debugger\n          })\n        }\n        // Trigger painting before send. for that set ROOT_HASH to some temporary value like NONCE\n        // and reset it after the real root hash will be known\n        let isNew = returnVal[ROOT_HASH] == null\n        let isForm = self.getModel(returnVal[TYPE]).value.subClassOf === FORM\n        if (isNew)\n          returnVal[ROOT_HASH] = returnVal[NONCE]\n        else if (isForm) {\n          let prevRes = list[returnVal[TYPE] + '_' + returnVal[ROOT_HASH] + '_' + returnVal[CUR_HASH]].value\n          if (utils.compare(returnVal, prevRes)) {\n            self.trigger({action: 'noChanges'})\n            return\n          }\n          returnVal[PREV_HASH] = returnVal[CUR_HASH]\n          returnVal[CUR_HASH] = returnVal[NONCE]\n        }\n\n        var returnValKey = utils.getId(returnVal)\n\n        self._setItem(returnValKey, returnVal)\n\n        let org = list[utils.getId(returnVal.to)].value.organization\n        let orgId = utils.getId(org)\n        self.addMessagesToChat(orgId, returnVal)\n\n        var params;\n        if (returnVal[TYPE] === GUEST_SESSION_PROOF) {\n          org = list[utils.getId(org)].value\n          params = {action: 'getForms', to: org}\n        }\n        else {\n          params = {\n            action: 'addItem',\n            resource: utils.clone(returnVal)\n          }\n        }\n        var m = self.getModel(returnVal[TYPE]).value\n\n        // if (m.subClassOf === FORM)\n        //   params.sendStatus = sendStatus\n\n\n//         var to = returnVal.to\n//         Object.defineProperty(returnVal, 'to', {\n//           get: function () {\n//             return to\n//           },\n//           set: function () {\n//             debugger\n//             console.log('yay!')\n//           }\n//         })\n\n//         var organization = to.organization\n//         Object.defineProperty(to, 'organization', {\n//           get: function () {\n//             return organization\n//           },\n//           set: function () {\n//             debugger\n//             console.log('yay!')\n//           }\n//         })\n\n        try {\n          self.trigger(params);\n        } catch (err) {\n          debugger\n        }\n\n        return self.waitForTransitionToEnd()\n        .then(function () {\n          let rId = utils.getId(returnVal.to)\n          let to = list[rId].value\n\n          var toChain = {}\n          if (!isNew) {\n            // returnVal[PREV_HASH] = returnVal[CUR_HASH] || returnVal[ROOT_HASH]\n            toChain[PREV_HASH] = returnVal[PREV_HASH]\n          }\n\n          let exclude = ['to', 'from', 'verifications', CUR_HASH, 'sharedWith', '_sendStatus']\n          if (isNew)\n            exclude.push(ROOT_HASH)\n          extend(toChain, returnVal)\n          for (let p of exclude)\n            delete toChain[p]\n\n          toChain.time = returnVal.time\n\n          var key = IDENTITY + '_' + to[ROOT_HASH]\n\n          let sendParams = self.packMessage(returnVal, toChain)\n\n          return meDriver.signAndSend(sendParams)\n          // return meDriver.signAndSend({\n          //   object: toChain,\n          //   to: { fingerprint: self.getFingerprint(list[key].value) }\n          // })\n        })\n        .then(function (result) {\n          // TODO: fix hack\n          // we now have a real root hash,\n          // scrap the placeholder\n          // if (isNew ||  !shareWith)\n          if (isNew  ||  isForm) {\n            delete list[returnValKey]\n            self.deleteMessageFromChat(orgId, returnVal)\n\n          }\n\n          returnVal[CUR_HASH] = result.object.link\n          returnVal[ROOT_HASH] = result.object.permalink\n          var sendStatus = (self.isConnected) ? SENDING : QUEUED\n          returnVal._sendStatus = sendStatus\n\n//           let org = list[utils.getId(returnVal.to)].value.organization\n//           self.addMessagesToChat(utils.getId(org), returnVal)\n          delete returnVal.sharedWith\n          delete returnVal.verifications\n          // if (shareWith) {\n          //   let oldValue = list[returnValKey]\n          //   for (let p in shareWith) {\n          //     if (shareWith[p])\n          //       this.onShare(returnVal, list[p].value)\n          //   }\n          // }\n          return save(true)\n        })\n        .then(() => {\n          let rId = utils.getId(returnVal.to)\n          let to = list[rId].value\n\n          if (!isNew  ||  self.getModel(returnVal[TYPE]).value.subClassOf !== FORM)\n            return\n          let allFormRequests = self.searchMessages({modelName: FORM_REQUEST, to: to})\n          let formRequests = allFormRequests  &&  allFormRequests.filter((r) => {\n            if (r.document === returnVal[NONCE])\n              return true\n          })\n          if (formRequests  &&  formRequests.length) {\n            let req = formRequests[0]\n            req.document = utils.getId(returnVal)\n            returnVal = req\n            save(true)\n          }\n        })\n      }\n      function save (noTrigger) {\n        return self._putResourceInDB({\n          type: returnVal[TYPE],\n          resource: returnVal,\n          roothash: returnVal[ROOT_HASH],\n          isRegistration: isRegistration,\n          noTrigger: noTrigger\n        })\n      }\n    })\n  },\n  isSwitchingToEmployeeMode(resource) {\n    if (resource[TYPE] !== PROFILE  ||  !resource.organization)\n      return\n    let org = list[utils.getId(resource)].value.organization\n    let newOrgId = utils.getId(resource.organization)\n    let settingOrg = !org || utils.getId(org) !== newOrgId\n    if (settingOrg) {\n      let o = SERVICE_PROVIDERS.filter((r) => {\n        return r.org == newOrgId ? true : false\n      })\n      if (o  &&  o.length)\n        return true\n    }\n    else if (org) {\n      let result = this.searchMessages({to: me, modelName: MY_EMPLOYEE_PASS})\n      if (!result)\n        return true\n      let meOrgId = utils.getId(me.organization)\n      let repId = utils.getId(this.getRepresentative(meOrgId))\n      let fresult = result.some((r) => {\n        return repId === utils.getId(r.to)\n      })\n      return fresult.length\n    }\n  },\n  onGetMe() {\n    this.trigger({action: 'getMe', me: me})\n  },\n  onCleanup() {\n    // var me  = utils.getMe()\n    if (!me)\n      return\n    var result = this.searchMessages({to: me, modelName: CUSTOMER_WAITING, isForgetting: true});\n    if (!result)\n      return\n    if (result.length)\n      delete result[result.length - 1]\n\n    return this.cleanup(result)\n    .then(() => {\n      result = this.searchMessages({to: me, modelName: PRODUCT_LIST, isForgetting: true});\n      if (result  &&  result.length) {\n        delete result[result.length - 1]\n        return this.cleanup(result)\n      }\n    })\n\n  },\n  onShare(resource, shareWithList, formResource) {\n    if (!Array.isArray(shareWithList))\n      return this.onShareOne(resource, shareWithList, formResource)\n    let promisses = []\n    shareWithList.forEach((r) => {\n      promisses.push(this.onShareOne(resource, list[r].value))\n    })\n    Q.all(promisses)\n    .then((results) => {\n      debugger\n    })\n  },\n\n  onShareOne(resource, to, formResource) {\n    var self = this\n    var toOrgId\n    if (to[TYPE] === ORGANIZATION) {\n      toOrgId = utils.getId(to)\n      to = this.getRepresentative(ORGANIZATION + '_' + to[ROOT_HASH])\n    }\n    else\n      toOrgId = utils.getId(to.organization)\n    if (!to)\n      return\n\n    var ikey = IDENTITY + '_' + to[ROOT_HASH]\n    var opts = {\n      to: {fingerprint: this.getFingerprint(list[ikey].value)},\n      // share seal if it exists\n      seal: true\n    }\n\n    var promise = meDriver.send({...opts, link: resource.document[CUR_HASH]})\n    return promise\n    .then(function () {\n      return resource[CUR_HASH] ? meDriver.send({...opts, link: resource[CUR_HASH]}) : Q()\n      // return meDriver.send({...opts, link: resource.document[ROOT_HASH]})\n    })\n    .then(function() {\n      var key = utils.getId(formResource)\n      var r = list[key].value\n      r.documentCreated = true\n      if (r[TYPE] === FORM_REQUEST)\n        r.document = resource[TYPE] === VERIFICATION\n                   ? utils.getId(resource.document)\n                   : utils.getId(resource)\n\n      var batch = []\n      batch.push({type: 'put', key: key, value: r})\n      var toId = utils.getId(to)\n      var time = new Date().getTime()\n      // let sh = {\n      //   [TYPE]: SHARED_RESOURCE,\n      //   [ROOT_HASH]: self.getNonce(),\n      //   resource: self.buildRef(resource),\n      //   from: resource.from,\n      //   to: resource.to,\n      //   time: time\n      // }\n      // batch.push({type: 'put', key: utils.getId(sh), value: sh})\n      if (resource[ROOT_HASH]) {\n        key = utils.getId(resource)\n        var ver = list[key].value\n        if (!ver.sharedWith)\n          ver.sharedWith = []\n\n        ver.sharedWith.push(self.createSharedWith(toId, time))\n        utils.optimizeResource(ver)\n        batch.push({type: 'put', key: key, value: ver})\n      }\n      var formId = utils.getId(resource.document)\n      var form = list[formId].value\n      if (!form.sharedWith) {\n        form.sharedWith = []\n        form.sharedWith.push(self.createSharedWith(utils.getId(form.to), form.time))\n      }\n\n      form.sharedWith.push(self.createSharedWith(toId, time))\n      self.addMessagesToChat(toOrgId, form, false, time)\n      if (ver)\n        self.addMessagesToChat(toOrgId, ver, false, time)\n\n      utils.optimizeResource(form)\n      self.addLastMessage(form, batch, to)\n      batch.push({type: 'put', key: formId, value: form})\n      return db.batch(batch)\n    })\n//     .then(() => {\n//       self.trigger({action: 'list', list: self.searchNotMessages({modelName: ORGANIZATION, to: resource})})\n//     })\n    .catch(function(err) {\n      debugger\n    })\n  },\n  createSharedWith(toId, time) {\n    return {\n      bankRepresentative: toId,\n      timeShared: time\n    }\n  },\n  checkRequired(resource, meta) {\n    var type = resource[TYPE];\n    var rootHash = resource[ROOT_HASH];\n    var oldResource = (rootHash) ? list[type + '_' + rootHash] : null;\n    var required = meta.required;\n    if (!required)\n      return;\n    for (var i=0; i<required.length; i++) {\n      var prop = required[i];\n      if (!resource[prop] && (!oldResource || !oldResource[prop]))\n        return 'Please add \"' + meta.properties[prop].title + '\"';\n    }\n  },\n  onReloadModels() {\n    this.loadModels()\n  },\n  onRequestWipe() {\n    Alert.alert(translate('areYouSureAboutWipe'), '', [\n      {\n        text: 'Cancel',\n        onPress: () => {}\n      },\n      {\n        text: 'OK',\n        onPress: () => Actions.reloadDB()\n      }\n    ])\n  },\n  wipe() {\n    if (utils.isWeb()) {\n      return this.wipeWeb()\n    } else {\n      return this.wipeMobile()\n    }\n  },\n\n  wipeWeb() {\n    if (localStorage) localStorage.clear()\n    if (sessionStorage) sessionStorage.clear()\n    if (leveldown.destroyAll) return leveldown.destroyAll()\n  },\n\n  wipeMobile() {\n    return Q.all([\n      AsyncStorage.clear(),\n      utils.resetPasswords()\n    ])\n    .then(() => AsyncStorage.getAllKeys())\n    .then(keys => console.log('AsyncStorage has ' + keys.length + ' keys'))\n  },\n  onReloadDB() {\n    var self = this\n\n    var destroyTim = meDriver ? meDriver.destroy() : Q()\n    return destroyTim\n      .then(() => this.wipe())\n      .then(() => {\n        // Alert.alert('please refresh')\n        return utils.restartApp()// Q.Promise(function (resolve) {})\n      })\n      // .then(function() {\n      //   list = {};\n      //   models = {};\n      //   me = null;\n      //   return\n      //   // return self.loadModels()\n      // })\n      // .then(function() {\n      //   self.trigger({action: 'reloadDB', models: models});\n      // })\n      // .catch(function(err) {\n      //   err = err;\n      // });\n    // var togo = 1;\n    // // this.loadModels()\n    // // var name = me.firstName.toLowerCase();\n    // var self = this\n    // meDriver.destroy()\n    // .then(function() {\n    //   meDriver = null\n    //   driverPromise = null\n\n    //   rimraf('./', function () {\n    //     console.log('rimraf done')\n    //     finish()\n    //   })\n    //   ;[\n    //     'addressBook.db',\n    //     'msg-log.db',\n    //     'messages.db',\n    //     'txs.db'\n    //   ].forEach(function (dbName) {\n    //     ;[name].forEach(function (name) {\n    //       togo++\n    //       leveldown.destroy(TIM_PATH_PREFIX + '-' + dbName, finish)\n    //     })\n    //   })\n\n    //   function finish () {\n    //     if (--togo === 0)  {\n    //       isLoaded = false;\n    //       self.onReloadDB1()\n    //     }\n    //   }\n    // })\n    // .catch(function(err) {\n    //   err = err\n    // })\n  },\n  onMessageList(params) {\n    this.onList(params);\n  },\n  onList(params) {\n    var self = this;\n    if (isLoaded)\n      this.getList(params);\n    else {\n      this.loadDB()\n      .then(function() {\n        isLoaded = true;\n        if (params.modelName)\n          self.getList(params);\n      });\n    }\n  },\n  getList(params) {\n    var meta = this.getModel(params.modelName).value;\n    var isMessage = meta.isInterface  ||  (meta.interfaces  &&  meta.interfaces.indexOf(MESSAGE) != -1);\n    if (!isMessage) {\n      params.fromView = true\n      let result = this.searchNotMessages(params);\n      if (!result) {\n        // First time. No connection no providers yet loaded\n        if (!this.isConnected  &&  params.modelName === ORGANIZATION)\n          this.trigger({action: 'list', alert: translate('noConnection')})\n\n        return\n      }\n      if (params.isAggregation)\n        result = this.getDependencies(result);\n      var shareableResources;\n      var retParams = {\n        action: 'list',\n        list: result,\n        spinner: params.spinner,\n        isAggregation: params.isAggregation\n      }\n      if (params.prop)\n        retParams.prop = params.prop;\n      this.trigger(retParams);\n      return\n    }\n\n    return this._searchMessages(params)\n    .then((result) => {\n      if (!result)\n        return\n      if (params.isAggregation)\n        result = this.getDependencies(result);\n\n      var retParams = {\n        action: !params.prop ? 'messageList' : 'list',\n        list: result,\n        spinner: params.spinner,\n        isAggregation: params.isAggregation\n      }\n      var shareableResources;\n      let hasMore = params.limit  &&  result.length > params.limit\n      if (params.loadEarlierMessages || hasMore) {\n        if (hasMore)  {\n          result.splice(0, 1)\n          retParams.allLoaded = true\n        }\n        retParams.loadEarlierMessages = true\n      }\n      if (!params.isAggregation  &&  params.to) {\n        // let to = list[utils.getId(params.to)].value\n        // if (to  &&  to[TYPE] === ORGANIZATION)\n          shareableResources = this.getShareableResources(result, params.to)\n      }\n      if (params.to) {\n        let orgId\n        if (params.to.organization)\n          orgId = utils.getId(params.to.organization)\n        else {\n          if (params.to[TYPE] === ORGANIZATION)\n            orgId = utils.getId(params.to)\n        }\n        if (orgId) {\n          let rep = this.getRepresentative(orgId)\n          if (rep  &&  !rep.bot)\n            retParams.isEmployee = true\n        }\n      }\n\n      if (shareableResources)\n        retParams.shareableResources = shareableResources;\n      if (params.prop)\n        retParams.prop = params.prop;\n      this.trigger(retParams);\n    })\n  },\n  getList1(params) {\n    var result = this.searchResources(params);\n    if (params.isAggregation)\n      result = this.getDependencies(result);\n    if (!result) {\n      // First time. No connection no providers yet loaded\n      if (!this.isConnected  &&  params.modelName === ORGANIZATION)\n        this.trigger({action: 'list', alert: translate('noConnection')})\n\n      return\n    }\n\n    var model = this.getModel(params.modelName).value;\n    var isMessage = model.isInterface  ||  (model.interfaces  &&  model.interfaces.indexOf(MESSAGE) != -1);\n\n    var resultList = result\n    var shareableResources;\n    var retParams = {\n      action: isMessage  &&  !params.prop ? 'messageList' : 'list',\n      list: resultList,\n      spinner: params.spinner,\n      isAggregation: params.isAggregation\n    }\n    if (isMessage) {\n      let hasMore = params.limit  &&  result.length > params.limit\n      if (params.loadEarlierMessages || hasMore) {\n        if (hasMore)  {\n          result.splice(0, 1)\n          retParams.allLoaded = true\n        }\n        retParams.loadEarlierMessages = true\n      }\n      if (!params.isAggregation  &&  params.to) {\n        // let to = list[utils.getId(params.to)].value\n        // if (to  &&  to[TYPE] === ORGANIZATION)\n          shareableResources = this.getShareableResources(result, params.to)\n      }\n      if (params.to) {\n        let orgId\n        if (params.to.organization)\n          orgId = utils.getId(params.to.organization)\n        else {\n          if (params.to[TYPE] === ORGANIZATION)\n            orgId = utils.getId(params.to)\n        }\n        if (orgId) {\n          let rep = this.getRepresentative(orgId)\n          if (rep  &&  !rep.bot)\n            retParams.isEmployee = true\n        }\n      }\n    }\n    // if (isMessage) {\n    //   let orgId = utils.getId(params.to)\n    //   let styles\n    //   if (SERVICE_PROVIDERS)\n    //      styles = SERVICE_PROVIDERS.filter((sp) => {\n    //         if (sp.org === orgId)\n    //           return true\n    //       })\n    //   if (styles  &&  styles.length)\n    //     retParams.style = styles[0].style\n    // }\n\n    if (shareableResources)\n      retParams.shareableResources = shareableResources;\n    if (params.prop)\n      retParams.prop = params.prop;\n\n    this.trigger(retParams);\n  },\n\n  searchResources(params) {\n    var meta = this.getModel(params.modelName).value;\n    var isMessage = meta.isInterface  ||  (meta.interfaces  &&  meta.interfaces.indexOf(MESSAGE) != -1);\n    if (isMessage)\n      return this._searchMessages(params);\n    else {\n      params.fromView = true\n      return this.searchNotMessages(params);\n    }\n  },\n  onListSharedWith(resource, chat) {\n    let sharedWith = resource.sharedWith\n    if (!sharedWith)\n      return null\n    let chatId = utils.getId(chat)\n    let shareWithMapping = {}\n    let result = []\n    sharedWith.forEach((r) => {\n      let bot = list[r.bankRepresentative].value\n      let org = list[utils.getId(bot.organization)].value\n      if (utils.getId(org) === chatId)\n        return\n      result.push(org)\n      shareWithMapping[r.bankRepresentative] = org\n    })\n    this.trigger({action: 'listSharedWith', list: result, sharedWith: shareWithMapping})\n  },\n  searchNotMessages(params) {\n    var foundResources = {};\n    var modelName = params.modelName;\n    var to = params.to;\n    var notVerified = params.notVerified\n    var meta = this.getModel(modelName).value;\n    var props = meta.properties;\n    var containerProp, resourceId;\n\n    let isOrg = params.modelName == ORGANIZATION\n    let sortProp = params.sortProperty\n                 ? params.sortProperty\n                 : isOrg  &&  !params.sortProperty ? LAST_MESSAGE_TIME : null\n\n    var isIdentity = modelName === PROFILE;\n    // to variable if present is a container resource as for example subreddit for posts or post for comments\n    // if to is passed then resources only of this container need to be returned\n    if (to) {\n      for (var p in props) {\n        if (props[p].ref  &&  props[p].ref === to[TYPE]) {\n          containerProp = p;\n          resourceId = utils.getId(to)\n        }\n      }\n    }\n    var query = params.query;\n\n    var required = meta.required;\n    var meId = me ? utils.getId(me) : null\n    var subclasses = utils.getAllSubclasses(modelName).map(function(r) {\n      return r.id\n    })\n    let orgToForm = {}\n    for (var key in list) {\n      var r = list[key].value;\n      if (key.indexOf(modelName + '_') == -1) {\n        var s = key.split('_')[0]\n        if (isOrg) {\n          if (this.getModel(s).value.subClassOf !== FORM)\n            continue\n          let toId = utils.getId(list[key].value.to)\n          // The resource was never shared or it has a shared with party in it\n          if (r.sharedWith) {\n            let wasShared\n            r.sharedWith.forEach((o) => {\n              let org = list[o.bankRepresentative].value.organization\n              let orgId = utils.getId(org)\n              if (orgToForm[orgId])\n                orgToForm[orgId] = ++orgToForm[orgId]\n              else\n                orgToForm[orgId] = 1\n            })\n          }\n          else {\n            let org = list[toId].value.organization\n            if (!org) {\n              let fromId = utils.getId(list[key].value.from)\n              org = list[fromId].value.organization\n            }\n            let orgId = utils.getId(org)\n            if (orgToForm[orgId])\n              orgToForm[orgId] = ++orgToForm[orgId]\n            else\n              orgToForm[orgId] = 1\n          }\n          continue\n        }\n        if (subclasses) {\n          if (subclasses.indexOf(s) === -1)\n            continue;\n        }\n        else\n          continue\n      }\n      else if (params.fromView  &&  isIdentity  &&  r.bot)\n        continue\n      else if (notVerified  &&  (r.verifications  &&  r.verifications.length))\n        continue\n      if (r.canceled)\n        continue;\n      // if (r[constants.OWNER]) {\n      //   var id = utils.getId(r[constants.OWNER]);\n      //   if (id != me[TYPE] + '_' + me[ROOT_HASH])\n      //     continue;\n      // }\n      if (containerProp  &&  (!r[containerProp]  ||  utils.getId(r[containerProp]) !== resourceId))\n        continue;\n      if (!query) {\n        foundResources[key] = r\n        continue;\n      }\n       // primitive filtering for this commit\n      var combinedValue = '';\n      for (var rr in props) {\n        if (r[rr] instanceof Array)\n          continue;\n        combinedValue += combinedValue ? ' ' + r[rr] : r[rr];\n      }\n      if (!combinedValue  ||  (combinedValue  &&  (!query || combinedValue.toLowerCase().indexOf(query.toLowerCase()) != -1))) {\n        foundResources[key] = r\n      }\n    }\n    // Don't show current 'me' contact in contact list or my identities list\n    if (!containerProp  &&  me  &&  isIdentity) {\n      if (sampleData.getMyId())\n        delete foundResources[utils.getId(me)];\n      else if (!isTest) {\n        var myIdentities = list[MY_IDENTITIES].value.allIdentities;\n        myIdentities.forEach((meId) =>  {\n          if (foundResources[meId.id])\n             delete foundResources[meId.id];\n        })\n      }\n    }\n    if (utils.isEmpty(foundResources))\n      return\n    var result = utils.objectToArray(foundResources);\n    // if (isIdentity) {\n    //   result.forEach(function(r) {\n    //     if (r.organization) {\n    //       var res = list[utils.getId(r.organization.id)];\n    //       if (res  &&  res.value) {\n    //         var photos = res.value.photos;\n    //         if (photos)\n    //           r.organization.photo = photos[0].url;\n    //       }\n    //     }\n    //   });\n    // }\n    if (isIdentity  && !params.all && me.isEmployee) {\n      let retPeople = []\n      // Filter out the employees of other service providers from contact list\n      // This will go away when thru-bot communications will deployed\n      result.forEach((r) => {\n        if (!r.organization) {\n          retPeople.push(r)\n          return\n        }\n        let orgId = utils.getId(r.organization)\n        if (r.isEmployee  &&  utils.getId(r.organization) !== orgId) {\n          let orgs = SERVICE_PROVIDERS.filter((rr) => {\n            return rr.org === orgId ? true : false\n          })\n          if (!orgs.length)\n            retPeople.push(r)\n        }\n      })\n      result = retPeople\n    }\n    if (result.length === 1)\n      return result\n    // var sortProp = params.sortProperty;\n    if (sortProp) {\n      var asc = (typeof params.asc != 'undefined') ? params.asc : false;\n      if (props[sortProp].type == 'date') {\n        result.sort(function(a,b) {\n          var aVal = a[sortProp] ? a[sortProp] : 0;\n          var bVal = b[sortProp] ? b[sortProp] : 0;\n          if (asc)\n            return aVal - bVal;\n          else\n            return bVal - aVal;\n        });\n      }\n      else if (props[sortProp].type == 'string')  {\n        result.sort();\n        if (asc)\n          result = result.reverse();\n      }\n      else if (props[sortProp].type == 'number') {\n        result.sort(function(a, b) {\n          return asc ? a - b : b - a\n        });\n      }\n    }\n\n    if (isOrg) {\n      // cloning orgs to re-render the org list with the correct number of forms\n      let retOrgs = []\n      result.forEach((r) => {\n        let oId = utils.getId(r)\n        let rr = {}\n        extend(true, rr, r)\n        retOrgs.push(rr)\n        rr.numberOfForms = orgToForm[oId]\n      })\n      result = retOrgs\n    }\n    return result;\n  },\n  _searchMessages(params) {\n    return this._loadedResourcesDefer.promise\n      .then(() => {\n        return this.searchMessages(params)\n      })\n  },\n  searchMessages(params) {\n    var query = params.query;\n    var modelName = params.modelName;\n    var meta = this.getModel(modelName).value;\n    var prop = params.prop;\n    if (typeof prop === 'string')\n      prop = meta[prop];\n    var backlink = prop ? (prop.items ? prop.items.backlink : prop) : null;\n    var foundResources = [];\n    var props = meta.properties;\n\n    // var required = meta.required;\n    var meId = utils.getId(me)\n    var meOrgId = me.isEmployee ? utils.getId(me.organization) : null;\n\n    var chatTo = params.to\n    if (chatTo  &&  chatTo.id)\n      chatTo = list[utils.getId(chatTo)].value\n    var chatId = chatTo ? utils.getId(chatTo) : null;\n    var isChatWithOrg = chatTo  &&  chatTo[TYPE] === ORGANIZATION;\n    var toOrgId\n    var toOrg\n    let thisChatMessages\n\n    if (isChatWithOrg) {\n      var rep = this.getRepresentative(chatId)\n      if (!rep)\n        return\n      chatTo = rep\n      chatId = utils.getId(chatTo)\n      // isChatWithOrg = false\n      toOrgId = utils.getId(params.to)\n      toOrg = list[toOrgId].value\n      thisChatMessages = chatMessages[toOrgId]\n    }\n    else {\n      if (chatTo) {\n        if (chatTo.organization  &&  !meOrgId) {\n          toOrgId = utils.getId(chatTo.organization)\n          thisChatMessages = chatMessages[toOrgId]\n        }\n        else\n          thisChatMessages = chatMessages[utils.getId(chatTo)]\n      }\n//       else if (chatId === meId) {\n// console.log('What are we doing here!!! chatId: ' + chatId)\n//         thisChatMessages = chatMessages[chatId]\n//       }\n    }\n    if (!thisChatMessages  &&  (!params.to  ||  chatId === meId)) {\n      thisChatMessages = []\n      Object.keys(list).filter((key) => {\n        let type = list[key].value[TYPE]\n        let m = this.getModel(type)\n        if (!m)\n          return false\n        if (type === modelName                      ||\n           m.value.subClassOf === modelName         ||\n           (modelName === MESSAGE  &&  m.value.interfaces)) {\n          thisChatMessages.push({id: key, time: list[key].value.time})\n          return true\n        }\n      })\n    }\n\n    if (!thisChatMessages  ||  !thisChatMessages.length)\n      return null\n    // if (isChatWithOrg  &&  !chatTo.name) {\n    //   chatTo = list[chatId].value;\n    // }\n    var testMe = chatTo ? chatTo.me : null;\n    if (testMe) {\n      if (testMe === 'me') {\n        if (!originalMe)\n          originalMe = me;\n        testMe = originalMe[ROOT_HASH];\n      }\n\n      isTest = true;\n      var meId = constants.TYPES.PROFILE + '_' + testMe;\n      me = list[meId].value;\n      this.setMe(me);\n      var myIdentities = list[MY_IDENTITIES].value;\n      if (myIdentities)\n        myIdentities.currentIdentity = meId;\n    }\n    // var lastPL\n    // var sharedWithTimePairs = []\n    var from = params.from\n    var limit = params.limit ? params.limit + 1 : null\n    var isAllMessages = meta.isInterface;\n    var implementors = isAllMessages ? utils.getImplementors(modelName) : null;\n    var isVerification = modelName === VERIFICATION  ||  meta.subClassOf === VERIFICATION;\n\n    // for (var key in list) {\n    let lastId = params.lastId\n    let ii = thisChatMessages.length - 1\n    if (lastId) {\n      for (; ii>=0; ii--) {\n        if (thisChatMessages[ii].id === lastId) {\n          ii--\n          break\n        }\n      }\n    }\n    let resourceId = params.resource ? utils.getId(params.resource) : null\n    for (let i=ii; i>=0; i--) {\n      var key = thisChatMessages[i].id\n      var iMeta = null;\n      if (isAllMessages)\n        iMeta = utils.getModel(key.split('_')[0]).value\n      else if (list[key].value[TYPE] !== modelName) {\n        var rModel = this.getModel(list[key].value[TYPE])\n        if (!rModel)\n          continue\n        rModel = rModel.value;\n        // Checks for the first level of subClasses\n        if (rModel.subClassOf !== modelName)\n          continue;\n      }\n      if (!iMeta)\n        iMeta = meta;\n      var r = list[key].value;\n      if (r.canceled)\n        continue;\n      var isFormError = isAllMessages && r[TYPE] === FORM_ERROR\n      // Make sure that the messages that are showing in chat belong to the conversation between these participants\n      if (isVerification) {\n        if (r.document) {\n          var d = list[utils.getId(r.document)]\n          if (!d)\n            continue\n\n          if (params.resource  &&  resourceId !== meId  && utils.getId(params.resource) !== utils.getId(d.value))\n            continue\n          r.document = d.value;\n        }\n      }\n      else if (isFormError)\n        r.prefill = list[utils.getId(r.prefill)] ? list[utils.getId(r.prefill)].value : r.prefill\n\n      // HACK to not show service message in customer stream\n      else if (r.message  &&  r.message.length)  {\n        if (r[TYPE] === SELF_INTRODUCTION  &&  !params.isForgetting && (utils.getId(r.to) !== meId))\n          continue\n        if (r.message === '[already published](tradle.Identity)')\n          continue\n        var m = utils.splitMessage(r.message)\n\n        if (m.length === 2) {\n          if (m[1] === PROFILE)\n            continue;\n        }\n        if (chatTo.organization  &&  r[TYPE] === constants.TYPES.CUSTOMER_WAITING) {\n          var rid = utils.getId(chatTo.organization);\n\n          var org = list[utils.getId(r.to)].value.organization\n          var orgId = utils.getId(org)\n          if (!utils.isEmployee(list[utils.getId(chatTo.organization)].value))\n            continue;\n        }\n\n      }\n\n      var isSharedWith = false, timeResourcePair = null\n      if (r.sharedWith  &&  toOrgId) {\n        var sharedWith = r.sharedWith.filter(function(r) {\n          let org = list[r.bankRepresentative].value.organization\n          return (org) ? utils.getId(org) === toOrgId : false\n        })\n        isSharedWith = sharedWith.length !== 0\n        if (isSharedWith) {\n          timeResourcePair = {\n            time: sharedWith[0].timeShared,\n            resource: r\n          }\n        }\n      }\n\n      if (chatTo) {\n        // backlinks like myVerifications, myDocuments etc. on Profile\n        if (backlink  &&  r[backlink]) {\n          var s = params.resource ? utils.getId(params.resource) : chatId\n          if (s === utils.getId(r[backlink])) {\n            foundResources.push(r)\n            // for Loading earlier resources we don't need to check limit untill we get to the lastId\n            if (limit  &&  foundResources.length === limit)\n              break\n          }\n\n          continue;\n        }\n\n        var m = this.getModel(r[TYPE]).value\n        var isVerificationR = r[TYPE] === VERIFICATION  ||  m.subClassOf === VERIFICATION\n        var isForm = m.subClassOf === FORM\n        var isMyProduct = m.subClassOf === MY_PRODUCT\n        let isProductApplication = m.id === PRODUCT_APPLICATION\n        if ((!r.message  ||  r.message.trim().length === 0) && !r.photos &&  !isVerificationR  &&  !isForm  &&  !isMyProduct && !isProductApplication)\n          // check if this is verification resource\n          continue;\n        // var fromID = utils.getId(r.from);\n        var toID = utils.getId(r.to);\n\n        if (params.strict) {\n          if (chatId !== toID)\n            continue\n        }\n      }\n      if (params.strict  &&  chatId !== utils.getId(r.to))\n        continue\n\n      if (r.sharedWith  &&  toOrgId  &&  !isSharedWith)\n        continue\n      if (isVerificationR  ||  r[TYPE] === ADDITIONAL_INFO) {\n        var doc = {};\n        var rDoc = list[utils.getId(r.document)]\n        if (!rDoc) {\n          if (params.isForgetting)\n            foundResources.push(r)\n          continue\n        }\n\n        // TODO: check if we can copy by reference\n        for (var p in rDoc.value) {\n          if (p === 'verifications' || p === 'additionalInfo') continue\n\n          var val = rDoc.value[p]\n          switch (typeof val) {\n            case 'object':\n              if (val) {\n                if (Array.isArray(val))\n                  doc[p] = val.slice(0)\n                else\n                  doc[p] = extend(true, {}, val)\n              }\n              break\n            default:\n              doc[p] = val\n              break\n          }\n        }\n\n        r.document = doc;\n      }\n\n      if (!query) {\n        var msg = this.fillMessage(r);\n        if (!msg)\n          msg = r\n        // foundResources[key] = msg;\n        foundResources.push(msg)\n        if (limit  &&  foundResources.length === limit)\n          break\n\n        continue;\n      }\n       // primitive filtering for this commit\n      var combinedValue = '';\n      for (var rr in props) {\n        if (r[rr] instanceof Array)\n         continue;\n        combinedValue += combinedValue ? ' ' + r[rr] : r[rr];\n      }\n      if (!combinedValue  ||  (combinedValue  &&  (!query || combinedValue.toLowerCase().indexOf(query.toLowerCase()) != -1))) {\n        // foundResources[key] = this.fillMessage(r);\n        foundResources.push(this.fillMessage(r))\n\n        if (limit  &&  foundResources.length === limit)\n          break\n      }\n    }\n    if (!foundResources.length)\n      return\n    return foundResources.reverse()\n  },\n\n  getSearchResult(result) {\n    return result.map((r) => {\n      return r.value\n    })\n  },\n\n  fillMessage(r) {\n    return r\n\n    var resource = {};\n    extend(resource, r);\n    if (!r.verifications  ||  !r.verifications.length)\n      return resource;\n    for (var i=0; i<resource.verifications.length; i++) {\n      var v = resource.verifications[i];\n      var vId = utils.getId(v)\n      var ver = {};\n      extend(ver, list[vId].value);\n      resource.verifications[i] = ver;\n      if (ver.organization  &&  !ver.organization.photos) {\n        var orgPhotos = list[utils.getId(ver.organization.id)].value.photos;\n        if (orgPhotos)\n          ver.organization.photo = orgPhotos[0].url;\n      }\n      // resource.time = ver.time;\n    }\n    return resource;\n  },\n\n  // Gathers resources that were created on this official account to figure out if the\n  // customer has some other official accounts where he already submitted this information\n  getShareableResources(foundResources, to) {\n    if (!foundResources)\n      return\n    var verTypes = [];\n    var meId = utils.getId(me)\n    var simpleLinkMessages = {}\n    var meId = utils.getId(utils.getMe())\n    for (var i=0; i<foundResources.length; i++) {\n      var r = foundResources[i]\n      if (me  &&  utils.getId(r.to) !== meId  &&  utils.getId(r.from) !== meId)\n        continue;\n      // documentCreated identifier is set when the document of this type was created\n      // and we don't want to create it again from this same notification\n      if (r[TYPE] !== FORM_REQUEST  ||  r.documentCreated)\n        continue;\n      if (utils.getId(r.to)  !==  meId)\n        continue\n      // var msgParts = utils.splitMessage(r.message);\n      // // Case when the needed form was sent along with the message\n      // if (msgParts.length !== 2)\n      //   continue;\n      // Case when customer already has resource to SHARE on the screen but accidentally\n      // or otherwise clicked on PRODUCT list link. To avoid the multiple shares\n      // of the same resource with the same financial institution\n      // let rr = simpleLinkMessages[msgParts[1]]\n      let rr = simpleLinkMessages[r.form]\n      if (rr) {\n        rr.documentCreated = true\n        list[utils.getId(rr)].value.documentCreated = true\n        continue\n      }\n      simpleLinkMessages[r.form] = r\n      var msgModel = this.getModel(r.form);\n      if (msgModel  &&  msgModel.value.subClassOf !== MY_PRODUCT)\n        verTypes.push(msgModel.value.id);\n    }\n    var shareableResources = {};\n    var shareableResourcesRootToR = {}\n\n    var isOrg = to  &&  to[TYPE] === ORGANIZATION\n    var org = isOrg ? to : (to.organization ? list[utils.getId(to.organization)].value : null)\n    var reps\n    if (isOrg)\n      reps = this.getRepresentatives(utils.getId(org))\n    else\n      reps = [utils.getId(to)]\n\n    var productsToShare = this.searchMessages({modelName: MY_PRODUCT, to: utils.getMe(), strict: true})\n    if (productsToShare  &&  productsToShare.length) {\n      productsToShare.forEach((r) => {\n        let fromId = utils.getId(r.from)\n        if (r.sharedWith) {\n          let sw = r.sharedWith.filter((r) => {\n            if (reps.filter((rep) => {\n                    if (utils.getId(rep) === r.bankRepresentative)\n                      return true\n                  }).length)\n              return true\n          })\n          if (sw.length)\n            return\n        }\n        if (shareableResourcesRootToR[r[ROOT_HASH]]) {\n          let arr = shareableResources[r[TYPE]]\n          let skip\n          for (let i=0; i<arr.length  &&  !skip; i++) {\n            if (r[ROOT_HASH] === rr[ROOT_HASH]) {\n              if (r.time < rr.time)\n                skip = true\n              else\n                arr.splice(i, 1)\n            }\n          }\n          if (skip)\n            return\n        }\n        let rr = {\n          [TYPE]: VERIFICATION,\n          document: r,\n          organization: list[utils.getId(r.from)].value.organization\n        }\n\n        addAndCheckShareable(rr)\n      })\n    }\n    if (!verTypes.length)\n      return shareableResources\n\n    let toId = utils.getId(to)\n    var l = this.searchMessages({modelName: VERIFICATION})\n    if (l)\n      l.forEach((val) => {\n        var doc = val.document\n        var docType = (doc.id && doc.id.split('_')[0]) || doc[TYPE];\n        if (verTypes.indexOf(docType) === -1)\n          return;\n        var id = utils.getId(val.to.id);\n        if (id !== meId)\n          return\n        // Filter out the verification from the same company\n        var fromId = utils.getId(val.from)\n        var fromOrgId = utils.getId(list[fromId].value.organization)\n        if (fromOrgId === toId)\n          return\n        var document = doc.id ? list[utils.getId(doc.id)]  &&  list[utils.getId(doc.id)].value : doc;\n        if (!document)\n          return;\n        if (to  &&  org  &&  document.verifications) {\n          var thisCompanyVerification;\n          for (var i=0; i<document.verifications.length; i++) {\n            var v = list[utils.getId(document.verifications[i])].value;\n\n            if (v.organization  &&  utils.getId(org) === utils.getId(v.organization)) {\n              let sharedWith = doc.sharedWith\n              if (!sharedWith)\n                thisCompanyVerification = true;\n              else {\n                let sw = sharedWith.filter((r) => {\n                  if (reps.filter((rep) => {\n                          if (utils.getId(rep) === r.bankRepresentative)\n                            return true\n                        }).length)\n                    return true\n                })\n                if (sw.length)\n                  thisCompanyVerification = true\n              }\n              break;\n            }\n          }\n          // if (thisCompanyVerification)\n          //   return;\n        }\n        var value = {};\n        extend(value, val);\n        value.document = document;\n\n        addAndCheckShareable(value)\n      })\n    // Allow sharing non-verified forms\n    verTypes.forEach((verType) => {\n      var l = this.searchNotMessages({modelName: verType, notVerified: true})\n      if (!l)\n        return\n      l.forEach((r) => {\n        let rr = {\n          [TYPE]: VERIFICATION,\n          document: r,\n          organization: list[utils.getId(r.to)].value.organization\n        }\n        addAndCheckShareable(rr)\n      })\n    })\n\n    return shareableResources\n    // Allow sharing only the last version of the resource\n    function addAndCheckShareable(verification) {\n      let r = verification.document\n      // Allow sharing only of resources that were filled out by me\n      // if (utils.getId(r.from) !== utils.getId(me))\n      //   return\n      let docType = r[TYPE]\n      var v = shareableResources[docType];\n      if (!v)\n        shareableResources[docType] = [];\n      else if (shareableResourcesRootToR[r[ROOT_HASH]]) {\n        let arr = shareableResources[r[TYPE]]\n        for (let i=0; i<arr.length; i++) {\n          let rr = arr[i].document\n          if (r[ROOT_HASH] === rr[ROOT_HASH]) {\n            if (r.time < rr.time)\n              return\n            else\n              arr.splice(i, 1)\n          }\n        }\n      }\n      // Check that this is not the resource that was send to me as to an employee\n      if (utils.getId(r.to) !== meId) {\n        shareableResources[docType].push(verification)\n        shareableResourcesRootToR[r[ROOT_HASH]] = r\n      }\n    }\n  },\n\n  getNonce() {\n    return crypto.randomBytes(32).toString('hex')\n  },\n  _putResourceInDB(params) {\n    var self = this;\n    var modelName = params.type\n    var value = params.resource\n    var dhtKey = params.roothash\n    var isRegistration = params.isRegistration\n    var noTrigger = params.noTrigger\n    // Cleanup null form values\n    for (var p in value) {\n      if (!value[p]  &&  (typeof value[p] === 'undefined'))\n        delete value[p];\n    }\n    if (!value[TYPE])\n      value[TYPE] = modelName;\n\n    var model = this.getModel(modelName).value;\n    var props = model.properties;\n    var newLanguage\n\n    var isMessage = model.isInterface  ||  (model.interfaces  &&  model.interfaces.indexOf(MESSAGE) != -1)\n    var originalR = list[utils.getId(value)]\n    var isNew = !value[ROOT_HASH] || !value[CUR_HASH] || (!isMessage  &&  !originalR)\n    if (value[TYPE] === SETTINGS) {\n      if (isNew) {\n        if (SERVICE_PROVIDERS_BASE_URL_DEFAULTS.includes(value.url))\n          isNew = false\n        else {\n          value[ROOT_HASH] = 1\n          value[CUR_HASH] = 1\n        }\n      }\n      if (!isNew  &&  (!value.urls  ||  (value.urls  &&  value.urls.indexOf(value.url) !== -1))) {\n        this.trigger({action: 'addItem', resource: value, error: 'The \"' + props.url.title + '\" was already added'})\n        return\n      }\n    }\n    else if (isNew)\n      value[CUR_HASH] = dhtKey //isNew ? dhtKey : value[ROOT_HASH]\n\n    var batch = [];\n    if (isNew) {\n      var creator =  me\n                  ?  me\n                  :  isRegistration ? value : null;\n      // if (creator)\n      //   value[constants.OWNER] = this.buildRef(creator)\n\n      if (value[TYPE] === ADDITIONAL_INFO) {\n        var verificationRequest = value.document;\n\n        var vrId = utils.getId(verificationRequest);\n        var vr = list[vrId].value;\n        if (!vr.additionalInfo  ||  !vr.additionalInfo.length)\n          vr.additionalInfo = [];\n        vr.additionalInfo.push(this.buildRef(value))\n        batch.push({type: 'put', key: vrId, value: vr});\n      }\n    }\n\n    value.time = value.time || new Date().getTime();\n    if (isMessage) {\n      let isForm = model.subClassOf === FORM\n      if (/*isNew  &&*/  isForm) {\n        if (!value.sharedWith)\n          value.sharedWith = []\n        value.sharedWith.push(this.createSharedWith(utils.getId(value.to), new Date().getTime()))\n      }\n      if (!isNew  &&  isForm) {\n        let prevRes = list[value[TYPE] + '_' + value[ROOT_HASH] + '_' + value[PREV_HASH]]\n        if (prevRes) {\n          prevRes = prevRes.value\n          prevRes[NEXT_HASH] = value[CUR_HASH]\n          utils.optimizeResource(prevRes)\n          batch.push({type: 'put', key: utils.getId(prevRes), value: prevRes})\n        }\n      }\n\n      if (props['to']  &&  props['from'])\n        self.addLastMessage(value, batch)\n    }\n    var iKey = utils.getId(value) //modelName + '_' + value[ROOT_HASH];\n    batch.push({type: 'put', key: iKey, value: value});\n\n    var mid;\n\n    if (isRegistration) {\n      this.registration(value)\n      return\n    }\n\n    if (value[TYPE] === SETTINGS)\n      return this.addSettings(value)\n\n    let meId = utils.getId(me)\n\n    db.batch(batch)\n    .then(function() {\n      return db.get(iKey)\n    })\n    .then(function(value) {\n      self._setItem(iKey, value)\n      if (isMessage) {\n        let toId = utils.getId(value.to)\n        if (toId === meId)\n          toId = utils.getId(value.from)\n\n        let org = list[toId].value.organization\n        self.addMessagesToChat(utils.getId(org), value)\n      }\n      if (mid)\n        self._setItem(MY_IDENTITIES, mid)\n      else if (!isNew  &&  iKey === meId) {\n        if (me.language || value.language) {\n          if (value.language) {\n            if (!me.language  ||  (utils.getId(me.language) !== utils.getId(value.language)))\n              newLanguage = list[utils.getId(value.language)].value\n          }\n        }\n\n        extend(true, me, value)\n        self.setMe(me)\n        if (newLanguage) {\n          let lang = list[utils.getId(me.language)].value\n          value.languageCode = lang.code\n          db.put(iKey, value)\n\n          me.language = lang\n          me.languageCode = lang.code\n          self.setMe(me)\n          var urls = []\n          if (SERVICE_PROVIDERS) {\n            SERVICE_PROVIDERS.forEach((sp) => {\n              if (urls.indexOf(sp.url) === -1)\n                urls.push(sp.url)\n            })\n            return self.getInfo(urls)\n          }\n        }\n      }\n    })\n    .then(function() {\n      var  params = {action: newLanguage ? 'languageChange' : 'addItem', resource: value};\n      // registration or profile editing\n      if (!noTrigger) {\n        self.trigger(params);\n      }\n      if (model.subClassOf === FORM) {\n        let mlist = self.searchMessages({modelName: FORM})\n        let olist = self.searchNotMessages({modelName: ORGANIZATION})\n        self.trigger({action: 'list', modelName: ORGANIZATION, list: olist, forceUpdate: true})\n      }\n    })\n    .catch(function(err) {\n      if (!noTrigger) {\n        self.trigger({action: 'addItem', error: err.message, resource: value})\n      }\n      err = err;\n    });\n  },\n  addLastMessage(value, batch, sharedWith) {\n    let model = this.getModel(value[TYPE]).value\n    if (model.id === CUSTOMER_WAITING || model.id === SELF_INTRODUCTION)\n      return\n    if (model.id === SIMPLE_MESSAGE  &&  value.message  && value.message === '[already published](tradle.Identity)')\n      return\n\n    let to = list[utils.getId(value.to)].value;\n    let toId = utils.getId(to)\n    if (toId !== meId  &&  to.bot)\n      to = list[utils.getId(to.organization)].value\n\n    let dn\n    let messageType = model.id\n    if (sharedWith) {\n      let sharedWithOrg = list[utils.getId(sharedWith.organization)].value\n      let orgName = utils.getDisplayName(to, this.getModel(ORGANIZATION).value.properties)\n      if (model.subClassOf !== MY_PRODUCT && model.subClassOf !== FORM)\n        return\n      dn = translate('sharedForm', translate(model), orgName)\n      sharedWithOrg.lastMessage = dn\n      sharedWithOrg.lastMessageTime = value.time;\n      sharedWithOrg.lastMessageType = messageType\n      batch.push({type: 'put', key: utils.getId(sharedWithOrg), value: sharedWithOrg});\n      this.trigger({action: 'list', list: this.searchNotMessages({modelName: ORGANIZATION}), forceUpdate: true})\n      return\n    }\n\n    let from = list[utils.getId(value.from)].value;\n    let fromId = utils.getId(from)\n    let meId = utils.getId(me)\n    let isNew = !value[ROOT_HASH] || !list[utils.getId(value)]\n\n    if (fromId !== meId  &&  from.bot)\n      from = list[utils.getId(from.organization)].value\n\n    if (model.id === FORM_REQUEST  &&  value.product) {\n      let m = this.getModel(value.product).value\n      if (m.forms.indexOf(value.form) !== 0)\n        return\n      dn = translate('formRequest', translate(this.getModel(value.product).value))\n      messageType = FINANCIAL_PRODUCT\n    }\n    else if (model.id === VERIFICATION) {\n      let docType = utils.getId(value.document).split('_')[0]\n      dn = translate('receivedVerification', translate(this.getModel(docType).value))\n    }\n    else if (model.subClassOf === MY_PRODUCT)\n      dn = translate('receivedProduct', translate(model))\n    else if (model.subClassOf === FORM) {\n      if (isNew)\n        dn = translate('submittingForm', translate(model))\n      else if (fromId !== meId)\n        dn = translate('receivedForm', translate(model))\n      else\n        dn = translate('submittingModifiedForm', translate(model))\n    }\n    else {\n      dn = value.message || utils.getDisplayName(value, model.properties);\n      if (!dn)\n        return\n    }\n    let r\n    if (toId !== meId) {\n      r = to\n      to.lastMessage = 'You: ' + dn\n    }\n    else {\n      r = from\n      from.lastMessage = dn\n    }\n    r.lastMessageTime = value.time;\n    r.lastMessageType = messageType\n    batch.push({type: 'put', key: utils.getId(r), value: r});\n    this.trigger({action: 'list', list: this.searchNotMessages({modelName: ORGANIZATION}), forceUpdate: true})\n  },\n\n  registration(value) {\n    var self = this\n    isLoaded = true;\n    me = value\n    // meDriver = null\n    var pKey = utils.getId(me)\n    var batch = [];\n    var publishedIdentity = meDriver.identity\n    var mid = {\n      [TYPE]: MY_IDENTITIES_TYPE,\n      currentIdentity: pKey,\n      allIdentities: [{\n        id: pKey,\n        title: utils.getDisplayName(value, models[me[TYPE]].value.properties),\n        privkeys: me.privkeys,\n        publishedIdentity: publishedIdentity\n      }]};\n    delete me.privkeys\n\n    batch.push({type: 'put', key: pKey, value: me});\n    batch.push({type: 'put', key: MY_IDENTITIES, value: mid});///\n    var identity = {}\n    identity[ROOT_HASH] = me[ROOT_HASH]\n    extend(true, identity, publishedIdentity)\n    var iKey = IDENTITY + '_' + identity[ROOT_HASH]\n    if (me.language) {\n      me.language = list[utils.getId(me.language)].value\n      me.languageCode = me.language.code\n    }\n    batch.push({type: 'put', key: iKey, value: identity});\n    return db.batch(batch)\n    .then(function() {\n      var  params = {action: 'addItem', resource: value, me: value};\n      self.setMe(me)\n      return self.trigger(params);\n    })\n    .then(function(value) {\n      self._setItem(iKey, identity)\n      self._setItem(pKey, me)\n      if (mid)\n        self._setItem(MY_IDENTITIES, mid)\n      self.monitorTim()\n      // return self.initIdentity(me)\n    })\n    .catch(function(err) {\n      err = err;\n    });\n  },\n  addSettings(value) {\n    var self = this\n    var v = value.url\n    if (v.charAt(v.length - 1) === '/')\n      v = v.substring(0, v.length - 1)\n    var key = SETTINGS + '_1'\n    var togo\n    return this.getInfo([v])\n    .then(function(json) {\n      var settings = list[key]\n      if (settings) {\n        const curVal = list[key].value\n        self._mergeItem(key, { urls: [...curVal.urls, v] })\n      }\n      else {\n        value.urls = SERVICE_PROVIDERS_BASE_URL_DEFAULTS.concat(v)\n        self._setItem(key, value)\n      }\n    })\n    .then(function() {\n      // if (me)\n      //   self.monitorTim()\n      self.trigger({action: 'addItem', resource: value})\n      db.put(key, list[key].value)\n    })\n    .catch((err) => {\n      self.trigger({action: 'addItem', error: err.message, resource: value})\n    })\n  },\n  forgetAndReset() {\n    var orgs = this.searchNotMessages({modelName: ORGANIZATION})\n    var togo = orgs.length\n    var promises = []\n\n    for (let org of orgs)\n      promises.push(this.onForgetMe(org, true))\n\n    return Q.all(promises)\n    .then(function() {\n      // debugger\n      // wait for all ForgotYou messages or timeout before changing the server url\n      var defer = Q.defer()\n      setTimeout(() => defer.reject('forget me request was timed out'), 10000)\n      meDriver.on('message', onMessage)\n      return defer.promise\n\n      function onMessage (meta) {\n        if (meta[TYPE] === FORGOT_YOU) {\n          if (--togo === 0) {\n            meDriver.removeListener('message', onMessage)\n            defer.resolve()\n          }\n        }\n      }\n   })\n   .then(function() {\n      // debugger\n      return meDriver.destroy()\n   })\n\n  },\n  getFingerprint(r) {\n    var pubkeys = r.pubkeys\n    if (!pubkeys) {\n      // Choose any employee from the company to send the notification about the customer\n      if (r[TYPE] === ORGANIZATION) {\n        // var secCodes = this.searchNotMessages({modelName: 'tradle.SecurityCode', to: r})\n        var employees = this.searchNotMessages({modelName: PROFILE, prop: 'organization', to: r})\n\n        if (employees) {\n          // RABOBANK case\n          // if (secCodes) {\n          //   var codes = [];\n          //   secCodes.forEach(function(sc) {\n          //     codes.push(sc.code)\n          //   })\n\n          //   for (var i=0; i<employees.length  &&  !pubkeys; i++) {\n          //     if (employees[i].securityCode  && codes.indexOf(employees[i].securityCode) != -1) {\n          //       pubkeys = list[IDENTITY + '_' + employees[i][ROOT_HASH]].pubkeys\n          //     }\n          //   }\n          // }\n          // // LLOYDS case\n          // else\n            pubkeys = list[IDENTITY + '_' + employees[0][ROOT_HASH]].pubkeys\n        }\n      }\n    }\n    if (pubkeys) {\n      for (var i=0; i<pubkeys.length; i++) {\n        var key = pubkeys[i]\n        if (key.purpose === 'sign'  &&  key.type === 'ec')\n          return key.fingerprint\n      }\n    }\n  },\n\n  // TODO: simplify getDriver to use this\n  loadIdentityAndKeys(me) {\n    var mePub = me[ROOT_HASH] ? list[IDENTITY + '_' + me[ROOT_HASH]].value.pubkeys : me.pubkeys\n    var mePriv\n    var identity\n    var allMyIdentities = list[MY_IDENTITIES]\n    if (allMyIdentities) {\n      var all = allMyIdentities.value.allIdentities\n      var curId = allMyIdentities.value.currentIdentity\n      all.some(id => {\n        if (id.id === curId) {\n          // currentIdentity = id\n          mePriv = id.privkeys\n          identity = id.publishedIdentity\n          mePub = mePub || identity.pubkeys\n          return true\n        }\n      })\n    }\n\n    if (mePub) {\n      const lookupKeys = Keychain\n        ? Keychain.lookupKeys(mePub)\n        : Q.resolve(mePriv.map(k => tradleUtils.importKey(k)))\n\n      return Q.all([\n        lookupKeys,\n        utils.getPassword(ENCRYPTION_KEY)\n      ])\n      .spread((keys, encryptionKey) => {\n        return { keys, encryptionKey, identity }\n      })\n    }\n\n    return this.createNewIdentity()\n      .spread((encryptionKey, identityInfo) => {\n        return {\n          ...identityInfo,\n          encryptionKey\n        }\n      })\n  },\n\n  getDriver(me) {\n    if (driverPromise) return driverPromise\n\n    // var loadIdentityAndKeys\n    // var allMyIdentities = list[MY_IDENTITIES]\n    // var currentIdentity\n\n    // var mePub = me[ROOT_HASH] ? list[IDENTITY + '_' + me[ROOT_HASH]].value.pubkeys : me.pubkeys\n    // var mePriv\n    // var publishedIdentity\n    // if (allMyIdentities) {\n    //   var all = allMyIdentities.value.allIdentities\n    //   var curId = allMyIdentities.value.currentIdentity\n    //   all.forEach(function(id) {\n    //     if (id.id === curId) {\n    //       currentIdentity = id\n    //       mePriv = id.privkeys\n    //       publishedIdentity = id.publishedIdentity\n    //       mePub = mePub || publishedIdentity.pubkeys\n    //     }\n    //   })\n    // }\n    // // debugger\n    // if (!mePub  &&  !mePriv) {\n    //   // if (__DEV__  &&  !me.securityCode) {\n    //   //   var profiles = {}\n    //   //   var identities = {}\n    //   //   myIdentity.forEach(function(r) {\n    //   //     if (r[TYPE] == IDENTITY)\n    //   //       identities[r[ROOT_HASH]] = r\n    //   //     else\n    //   //       profiles[r[ROOT_HASH]] = r\n    //   //   })\n    //   //   for (var hash in profiles) {\n    //   //     if (!profiles[hash].securityCode  &&  me.firstName === profiles[hash].firstName) {\n    //   //       var identity = identities[hash]\n    //   //       mePub = identity.pubkeys  // hardcoded on device\n    //   //       mePriv = identity.privkeys\n    //   //       me[NONCE] = identity[NONCE]\n    //   //       break\n    //   //     }\n    //   //   }\n    //   // }\n    //   let encryptionKey\n    //   loadIdentityAndKeys = this.createNewIdentity()\n    //   .spread((eKey, identityInfo) => {\n    //     encryptionKey = eKey\n    //     publishedIdentity = identityInfo.identity\n    //     mePub = publishedIdentity.pubkeys\n    //     mePriv = identityInfo.keys\n    //     return encryptionKey\n    //   })\n    //   // const encryptionKey = crypto.randomBytes(32).toString('hex')\n    //   // const globalSalt = crypto.randomBytes(32).toString('hex')\n    //   // const genIdentity = Q.ninvoke(tradleUtils, 'newIdentity', {\n    //   //     networkName,\n    //   //     keys: KEY_SET\n    //   //   })\n    //   //   .then(identityInfo => {\n    //   //     publishedIdentity = identityInfo.identity\n    //   //     mePub = publishedIdentity.pubkeys\n    //   //     mePriv = identityInfo.keys\n    //   //   })\n\n    //   // loadIdentityAndKeys = Q.all([\n    //   //   utils.setPassword(ENCRYPTION_KEY, encryptionKey).then(() => encryptionKey),\n    //   //   genIdentity\n    //   // ])\n    //   // .spread(encryptionKey => encryptionKey)\n\n    //     // bringing it back!\n    //     // if (__DEV__  &&  !keys.some((k) => k.type() === 'dsa')) {\n    //     // if (!keys.some((k) => k.type() === 'dsa')) {\n    //     //   keys.push(Keys.DSA.gen({\n    //     //     purpose: 'sign'\n    //     //   }))\n    //     // }\n    // }\n    // else\n    //   loadIdentityAndKeys = utils.getPassword(ENCRYPTION_KEY)\n\n    if (me.language)\n      language = list[utils.getId(me.language)] && list[utils.getId(me.language)].value\n\n    return driverPromise = this.loadIdentityAndKeys(me)\n    .then(result => {\n      if (!Keychain) {\n        let privkeys = result.keys.map(k => {\n          return k.toJSON ? k.toJSON(true) : k\n        })\n        let myIdentities = list[MY_IDENTITIES]\n        if (myIdentities) {\n          myIdentities = myIdentities.value\n\n\n          let currentIdentity = myIdentities.currentIdentity\n          myIdentities.allIdentities.forEach((r) => {\n             if (r.id === currentIdentity)\n               r.privkeys = privkeys\n          })\n          db.put(MY_IDENTITIES, myIdentities)\n        }\n        else\n          me.privkeys = privkeys\n        // me['privkeys'] = result.keys.map(k => {\n        //   return k.toJSON ? k.toJSON(true) : k\n        // })\n      }\n\n      // if (!Keychain) me['privkeys'] = result.keys.map(k => k.toJSON(true))\n      me[NONCE] = me[NONCE] || this.getNonce()\n      // driverInfo.deviceID = result.deviceID\n      return this.buildDriver({\n        identity: result.identity,\n        keys: result.keys,\n        encryption: {\n          key: new Buffer(result.encryptionKey, 'hex')\n        }\n      })\n    })\n    .then(node => {\n      // no need to wait for this to finish\n      Push.init({ me, node, Store: this })\n      return node\n    }, err => {\n      debugger\n      throw err\n    })\n    // .then(node => {\n    //   if (!me.registeredForPushNotifications) {\n    //     return utils.setupPushNotifications({ node })\n    //       .then(() => Actions.updateMe({ registeredForPushNotifications: true }))\n    //   } else {\n    //     return utils.setupPushNotifications({ requestPermissions: false })\n    //   }\n\n    //   return node\n    // })\n  },\n  createNewIdentity() {\n    const encryptionKey = crypto.randomBytes(32).toString('hex')\n    // const globalSalt = crypto.randomBytes(32).toString('hex')\n    const genIdentity = Keychain\n      ? Keychain.generateNewSet({ networkName })\n          .then(keys => Q.ninvoke(tradleUtils, 'newIdentityForKeys', keys))\n      : Q.ninvoke(tradleUtils, 'newIdentity', { networkName })\n\n    return Q.all([\n      utils.setPassword(ENCRYPTION_KEY, encryptionKey).then(() => encryptionKey),\n      genIdentity\n    ])\n  },\n\n  // makePublishingIdentity(me, pubkeys) {\n  //   var meIdentity = new Identity()\n  //                       .name({\n  //                         firstName: me.firstName,\n  //                         formatted: me.firstName + (me.lastName ? ' ' + me.lastName : '')\n  //                       })\n  //                       .set([NONCE], me[NONCE] || this.getNonce())\n  //   if (me.isEmployee) {\n  //     var org = this.buildRef(me.organization)\n  //     meIdentity.set('organization', org)\n  //   }\n\n  //   pubkeys.forEach(meIdentity.addKey, meIdentity)\n  //   return meIdentity.toJSON()\n  // },\n\n  publishMyIdentity(orgRep) {\n    var self = this\n    var msg = {\n      [TYPE]: IDENTITY_PUBLISHING_REQUEST,\n      [NONCE]: self.getNonce(),\n      identity: meDriver.identity,\n      profile: {\n        firstName: me.firstName\n      }\n    }\n    var key = IDENTITY + '_' + orgRep[ROOT_HASH]\n\n    return meDriver.signAndSend({\n      object: msg,\n      to: { fingerprint: self.getFingerprint(list[key].value) }\n    })\n    .catch(function(err) {\n      debugger\n    })\n  },\n  // loadAddressBook() {\n  //   return\n\n  //   var self = this;\n  //   return Q.ninvoke(AddressBook, 'checkPermission')\n  //   .then(function(permission) {\n  //     // AddressBook.PERMISSION_AUTHORIZED || AddressBook.PERMISSION_UNDEFINED || AddressBook.PERMISSION_DENIED\n  //     if(permission === AddressBook.PERMISSION_UNDEFINED)\n  //       return Q.ninvoke(AddressBook, 'requestPermission')\n  //              .then(function(permission) {\n  //                if (permission === AddressBook.PERMISSION_AUTHORIZED)\n  //                  return self.storeContacts.bind(self);\n  //              });\n  //     else if (permission === AddressBook.PERMISSION_AUTHORIZED)\n  //       return self.storeContacts()\n  //     else if (permission === AddressBook.PERMISSION_DENIED) {\n  //       //handle permission denied\n  //       return\n  //     }\n  //   })\n  // },\n  // storeContacts() {\n  //   var dfd = Q.defer();\n  //   var self = this;\n  //   var batch = [];\n  //   var props = models[PROFILE].value.properties;\n  //   AddressBook.getContacts(function(err, contacts) {\n  //     contacts.forEach(function(contact) {\n  //       var contactInfo = [];\n  //       var newIdentity = {\n  //         firstName: contact.firstName,\n  //         lastName: contact.lastName,\n  //         // formatted: contact.firstName + ' ' + contact.lastName,\n  //         contactInfo: contactInfo\n  //       };\n  //       newIdentity[TYPE] = PROFILE;\n  //       var me = list[MY_IDENTITIES];\n  //       if (me)  {\n  //         var currentIdentity = me.value.currentIdentity;\n  //         newIdentity[constants.OWNER] = {\n  //           id: currentIdentity,\n  //           title: utils.getDisplayName(me, props)\n  //         };\n  //         // if (me.organization) {\n  //         //   var photos = list[utils.getId(me.organization.id)].value.photos;\n  //         //   if (photos)\n  //         //     me.organization.photo = photos[0].url;\n  //         // }\n  //       }\n\n  //       if (contact.thumbnailPath  &&  contact.thumbnailPath.length)\n  //         newIdentity.photos = [{type: 'address book', url: contact.thumbnailPath}];\n  //       var phoneNumbers = contact.phoneNumbers;\n  //       if (phoneNumbers) {\n  //         phoneNumbers.forEach(function(phone) {\n  //           contactInfo.push({identifier: phone.number, type: phone.label + ' phone'})\n  //         })\n  //       }\n  //       var emailAddresses = contact.emailAddresses;\n  //       if (emailAddresses)\n  //         emailAddresses.forEach(function(email) {\n  //           contactInfo.push({identifier: email.email, type: email.label + ' email'})\n  //         });\n  //       newIdentity[ROOT_HASH] = sha(newIdentity);\n  //       newIdentity[CUR_HASH] = newIdentity[ROOT_HASH];\n  //       var key = PROFILE + '_' + newIdentity[ROOT_HASH];\n  //       if (!list[key])\n  //         batch.push({type: 'put', key: key, value: newIdentity});\n  //     });\n  //     if (batch.length)\n  //       // identityDb.batch(batch, function(err, value) {\n  //       db.batch(batch, function(err, value) {\n  //         if (err)\n  //           dfd.reject(err);\n  //         else {\n  //           self.loadMyResources()\n  //           .then(function() {\n  //             dfd.resolve();\n  //           })\n  //         }\n  //       });\n  //     else\n  //       dfd.resolve();\n  //   })\n  //   return dfd.promise;\n  // },\n  monitorTim() {\n    var self = this\n    // meDriver.ready()\n    // .then(function() {\n    //   console.log(meDriver.name(), 'is ready')\n      // d.publishMyIdentity()\n\n      // meDriver.identities().createReadStream()\n      // .on('data', function (data) {\n      //   console.log(data)\n      // })\n      //   var key = PROFILE + '_' + data.key\n      //   var v;\n      //   if (me  &&  data.key == me[ROOT_HASH])\n      //     v = me\n      //   else {\n      //     if (list[key])\n      //       v = list[key].value\n      //     else\n      //       v = {}\n      //   }\n      //   var val = data.value.identity\n      //   val[ROOT_HASH] = data.value[ROOT_HASH]\n      //   val[CUR_HASH] = data.value[CUR_HASH]\n\n      //   var name = val.name;\n      //   delete val.name\n      //   for (var p in name)\n      //     val[p] = name[p]\n\n      //   extend(v, val)\n\n      //   db.put(key, v)\n      //   .then(function() {\n      //     list[key] = {\n      //       key: key,\n      //       value: v\n      //     }\n      //     if (v.securityCode)\n      //       employees[data.value.securityCode] = data.value\n      //   })\n      // })\n\n      // var ellens = 0\n      // meDriver.messages().createValueStream()\n      // .on('data', function (data) {\n      //   meDriver.lookupObject(data)\n      //   .then(function (obj) {\n      //     // return\n      //     console.log('from msgs.db', obj)\n      //     // self.putInDb(obj)\n      //     // console.log('msg', obj)\n      //   })\n      // })\n\n      // Object was successfully read off chain\n      meDriver.on('readseal', function (seal) {\n        const link = seal.link\n        meDriver.objects.get(link)\n          .then(function(obj) {\n            if (obj.object[TYPE] === IDENTITY && obj.link === meDriver.link) {\n              return\n            }\n\n            const wrapper = { ...seal, ...obj }\n            save(wrapper)\n          })\n\n        function save (wrapper) {\n            // return\n          const getFromTo = wrapper.type === 'tradle.Message'\n            ? Q(wrapper)\n            : getAuthorForObject(wrapper)\n\n          return getFromTo\n            .then(msgInfo => {\n              wrapper.from = { [ROOT_HASH]: msgInfo.author }\n              wrapper.to = { [ROOT_HASH]: msgInfo.recipient }\n              wrapper = utils.toOldStyleWrapper(wrapper)\n              if (!wrapper.objectinfo) {\n                wrapper.objectinfo = tradleUtils.pick(wrapper, 'author', 'type', 'link', 'permalink', 'prevlink')\n              }\n\n              return self.putInDb(wrapper)\n            })\n            .catch(function (err) {\n              console.error('unable to get message for object', wrapper)\n              debugger\n            })\n        }\n\n        function getAuthorForObject (wrapper) {\n          // objects don't really have a from/to\n          // so this will need to be redesigned\n          const msgStream = meDriver.objects.messagesWithObject({\n            permalink: wrapper.permalink,\n            link: link\n          })\n\n          return Q.all([\n            meDriver.addressBook.lookupIdentity({ permalink: wrapper.author }),\n            Q.nfcall(collect, msgStream)\n          ])\n          .spread(function (authorInfo, messages) {\n            const match = messages.filter(m => m.author === authorInfo.permalink)[0]\n            // if (!match) throw new Error('unable to get message for object')\n            if (!match) {\n              console.error('unable to get message for object', wrapper)\n              throw new Error('unable to get message for object')\n            }\n            return match\n          })\n        }\n      })\n\n      // meDriver.on('unchained-self', function (info) {\n      //   console.log('unchained self!')\n      //   // meDriver.lookupObject(info)\n      //   // .then(function(obj) {\n      //   //   // return\n      //     return self.updateMe()\n      //   // })\n      //   // .catch(function (err) {\n      //   //   debugger\n      //   // })\n      // })\n\n      meDriver.on('error', function (err) {\n        debugger\n        console.log(err)\n      })\n\n      meDriver.on('sent', function (msg) {\n        const obj = utils.toOldStyleWrapper(msg)\n        var model = self.getModel(obj[TYPE]).value\n        var isForm = model.subClassOf === FORM\n        // if (isForm  ||  model.id === PRODUCT_APPLICATION) {\n          let key = obj[TYPE] + '_' + obj[ROOT_HASH] + (isForm ? '_' +  obj[CUR_HASH] : '')\n          var r = list[key]\n          if (r) {\n            r = r.value\n            self.trigger({action: 'updateItem', sendStatus: SENT, resource: r})\n            r._sendStatus = SENT\n            db.put(key, r)\n          }\n          // var o = {}\n          // extend(o, obj)\n          // var from = o.from\n          // o.from = o.to\n          // o.to = from\n          // o.txId = Math.random() + '';\n          // setTimeout(() => {\n          //   self.putInDb(o)\n          // }, 5000);\n        // }\n\n        self.maybeWatchSeal(msg)\n      })\n\n      meDriver.on('message', function (msg) {\n        if (msg.object.object[TYPE] === MESSAGE) {\n          return\n        }\n\n        const old = utils.toOldStyleWrapper(msg)\n        old.to = { [ROOT_HASH]: meDriver.permalink }\n        self.putInDb(old, true)\n          .then(() => {\n            self.trigger({ action: 'receivedMessage', msg: msg })\n          }, err => {\n            console.error(err)\n            debugger\n          })\n\n        self.maybeWatchSeal(msg)\n      })\n    // })\n    // return meDriver.ready()\n  },\n\n  maybeWatchSeal(msg) {\n    const payload = msg.object.object\n    const type = payload[TYPE]\n    let model = this.getModel(type)\n    if (!model) return\n\n    model = model.value\n    const sup = model.subClassOf\n    let link\n    if (type === IDENTITY_PUBLISHING_REQUEST) {\n      link = protocol.linkString(payload.identity)\n    } else {\n      switch (sup) {\n      case FORM:\n      case MY_PRODUCT:\n      case VERIFICATION:\n        link = protocol.linkString(payload)\n        break\n      default:\n        return\n      }\n    }\n\n    let otherGuy = msg.author === meDriver.permalink ? msg.recipient : msg.author\n    return meDriver.addressBook.lookupIdentity({ permalink: otherGuy })\n      .then(identityInfo => {\n        const chainPubKey = tradleUtils.chainPubKey(identityInfo.object)\n        return meDriver.watchSeal({\n          link: link,\n          basePubKey: chainPubKey\n        })\n      })\n      .catch(err => {\n        console.error(err)\n        debugger\n      })\n\n    // meDriver.watchSeal({\n    //   link: msg.link,\n    //   basePubKey: msg.object.recipientPubKey\n    // }).done()\n  },\n\n  // updateMe() {\n  //   db.put(utils.getId(me), me)\n  // },\n\n  putInDb(obj, onMessage) {\n    return this._putInDb(obj, onMessage) || Q()\n  },\n  _putInDb(obj, onMessage) {\n    // defensive copy\n    var self = this\n    var val = extend(true, {}, obj.parsed.data)\n    if (!val)\n      return\n\n    val[ROOT_HASH] = val[ROOT_HASH]  ||  obj[ROOT_HASH]\n    val[CUR_HASH] = obj[CUR_HASH]\n\n    var fromId = obj.objectinfo\n               ? obj.objectinfo.author\n               : obj.txId ? obj.from[ROOT_HASH] : null\n    fromId = PROFILE + '_' + fromId\n    var from = list[fromId].value\n    var me = utils.getMe()\n    if (utils.getId(me) === fromId)\n      val.time = val.time || obj.timestamp\n    else {\n      val.time = new Date().getTime()\n      val.sentTime = val.time || obj.timestamp\n    }\n    // var from = list[PROFILE + '_' + obj.from[ROOT_HASH]].value\n    var type = val[TYPE]\n    if (type === FORGET_ME) {\n      // Alert.alert(\"Received ForgetMe from \" + obj.from[ROOT_HASH])\n      this.forgetMe(from)\n      return\n    }\n    if (onMessage  &&  val[TYPE] === FORGOT_YOU) {\n      // this.trigger({action: 'messageList', to: me})\n      this.forgotYou(from)\n      return\n    }\n    var isConfirmation\n    var model = this.getModel(type)  &&  this.getModel(type).value\n    if (!model) {\n      if (val.message  &&  val.message.indexOf('Congratulations! You were approved for: ') != -1) {\n        isMessage = true\n        type = SIMPLE_MESSAGE\n        val[TYPE] = type\n        model = models[SIMPLE_MESSAGE].value\n        isConfirmation = true\n      }\n      else\n        return;\n    }\n    if (obj.txId)\n      val.txId = obj.txId\n    val.permissionKey = obj.permissionKey\n    var key = utils.getId(val)\n    var batch = []\n    var representativeAddedTo, noTrigger\n    // var isServiceMessage\n    if (model.id === IDENTITY)\n      representativeAddedTo = this.putIdentityInDB(val, batch)\n    else {\n      var isMessage = model.interfaces  &&  model.interfaces.indexOf(MESSAGE) != -1\n      if (isMessage) {\n        noTrigger = this.putMessageInDB(val, obj, batch, onMessage)\n        if (type === VERIFICATION)\n          return\n      }\n    }\n    if (model.subClassOf === MY_PRODUCT)\n      val.sharedWith = [this.createSharedWith(utils.getId(val.from.id), new Date().getTime())]\n\n    self._mergeItem(key, val)\n    var retParams = {\n      action: isMessage ? 'messageList' : 'list'\n    }\n\n    var resultList\n    if (isMessage) {\n      var toId = PROFILE + '_' + obj.to[ROOT_HASH]\n      var meId = PROFILE + '_' + me[ROOT_HASH]\n      var isSelfIntroduction = model.id === SELF_INTRODUCTION\n      var id = !isSelfIntroduction  &&  toId === meId ? fromId : toId\n      var to = list[id].value\n      if (!noTrigger) {\n        if (to.organization) {\n          var org =  list[utils.getId(to.organization)].value\n          resultList = this.searchMessages({to: org, modelName: MESSAGE})\n        }\n        else\n          resultList = this.searchMessages({to: to, modelName: MESSAGE})\n        retParams.list = resultList\n        var shareableResources = this.getShareableResources(resultList, to);\n        if (shareableResources)\n          retParams.shareableResources = shareableResources\n        retParams.resource = to\n      }\n      // if (to.organization) {\n      //    if (!to.bot)\n      //     retParams.isEmployee = true\n      // }\n    }\n    else if (!onMessage  &&  val[TYPE] != PROFILE) {\n      resultList = this.searchNotMessages({modelName: val[TYPE]})\n      retParams.list = resultList\n    }\n\n    return db.batch(batch)\n    .then(() => {\n      // if (onMessage  &&  val[TYPE] === FORGOT_YOU) {\n      //   this.forgotYou(from)\n      // }\n\n      // else\n      if (model.id === PRODUCT_LIST) {\n        // var orgList = this.searchNotMessages({modelName: ORGANIZATION})\n        // this.trigger({action: 'list', list: orgList, forceUpdate: true})\n        this.trigger({action: 'getItem', resource: list[utils.getId(from.organization)].value})\n      }\n\n      if (isConfirmation) {\n        var fOrg = from.organization\n        var org = fOrg ? list[utils.getId(fOrg)].value : null\n        var msg = {\n          message: me.firstName + ' is waiting for the response',\n          [TYPE]: constants.TYPES.CUSTOMER_WAITING,\n          from: me,\n          to: org,\n          time: new Date().getTime()\n        }\n        this.onAddMessage(msg, true)\n      }\n      else if (isMessage  &&  !noTrigger)\n        this.trigger({action: 'addItem', resource: val})\n      else if (representativeAddedTo  &&  !triggeredOrgs) {\n        var orgList = this.searchNotMessages({modelName: ORGANIZATION})\n        this.trigger({action: 'list', list: orgList, forceUpdate: true})\n      }\n//       else\n        // this.trigger(retParams)\n    })\n  },\n  putIdentityInDB(val, batch) {\n    var profile = {}\n    // var me = utils.getMe()\n    if (val.name) {\n      for (var p in val.name) {\n        profile[p] = val.name[p]\n      }\n      delete val.name\n    }\n    if (val.location) {\n      for (var p in val.location)\n        profile[p] = val.location[p]\n      delete val.location\n    }\n    extend(true, profile, val)\n    profile[TYPE] = PROFILE\n    delete profile.pubkeys\n    delete profile.v\n    let key = utils.getId(val)\n    var profileKey = utils.getId(profile)\n    let v = list[key] ? list[profileKey].value : null\n    if (!v  &&  me  &&  val[ROOT_HASH] === me[ROOT_HASH])\n      v = me\n    if (v)  {\n      var vv = {}\n      extend(vv, v)\n      extend(vv, profile)\n      profile = vv\n    }\n    var org\n    if (val.organization) {\n      // if (val.organization.title === 'Rabobank'  &&  val.securityCode)\n      //   return\n      org = list[utils.getId(val.organization)]  &&  list[utils.getId(val.organization)].value\n      if (org) {\n        profile.organization = val.organization\n        delete val.organization\n      }\n    }\n    batch.push({type: 'put', key: profileKey, value: profile})\n    this._setItem(profileKey, profile)\n    var representativeAddedTo\n    batch.push({type: 'put', key: key, value: val})\n    if (org) {\n      var doAdd\n      if (!org.contacts)\n        doAdd = true\n      else {\n        var i = 0\n        for (; i<org.contacts.length; i++) {\n          if (org.contacts[i][ROOT_HASH] === key)\n            break\n        }\n        doAdd = i !== org.contacts.length\n      }\n      if (doAdd)  {\n        var representative = {\n          id: key,\n          title: val.formatted || val.firstName\n        }\n        var oo = {}\n        extend(oo, org)\n        if (!oo.contacts)\n          oo.contacts = []\n        oo.contacts.push(representative)\n        var orgKey = utils.getId(org)\n        this._setItem(orgKey, oo)\n        batch.push({type: 'put', key: orgKey, value: oo})\n        representativeAddedTo = org[ROOT_HASH]\n      }\n    }\n    return representativeAddedTo\n  },\n  putMessageInDB(val, obj, batch, onMessage) {\n    var fromProfile = PROFILE + '_' + (obj.objectinfo ? obj.objectinfo.author : obj.from[ROOT_HASH])\n    var fromR = list[fromProfile]\n\n    if (!fromR) {\n      if (val[TYPE] !== SELF_INTRODUCTION)\n        return\n      let name = val.name || (val.identity.name && val.identity.name.formatted)\n      fromR = {\n        key: fromProfile,\n        value: {\n          [TYPE]: PROFILE,\n          [ROOT_HASH]: obj.objectinfo.author,\n          firstName: name ?  name.charAt(0).toUpperCase() + name.slice(1) : 'NewCustomer' + Object.keys(list).length\n        }\n      }\n    }\n    let key = utils.getId(val)\n    var from = fromR.value\n\n    // if (me  &&  from[ROOT_HASH] === me[ROOT_HASH])\n    //   return\n\n    var to = list[PROFILE + '_' + obj.to[ROOT_HASH]].value\n    var fOrg = (me  &&  from[ROOT_HASH] === me[ROOT_HASH]) ? to.organization : from.organization\n    var org = fOrg ? list[utils.getId(fOrg)].value : null\n\n    if (onMessage) {\n      let profileModel = this.getModel(PROFILE).value\n      val.from = {\n        id: utils.getId(from),\n        title: from.formatted || from.firstName\n      }\n      val.to = {\n        id: utils.getId(to),\n        title: to.formatted || to.firstName\n      }\n\n      // self.fillFromAndTo(obj, val)\n    }\n    else {\n      let inDB = list[key].value\n      val.from = inDB.from\n      val.to = inDB.to\n    }\n\n    // if (onMessage  &&  val[TYPE] === FORGOT_YOU) {\n    //   this.forgotYou(from)\n    //   return\n    // }\n\n    var isProductList = val[TYPE] === PRODUCT_LIST\n    var noTrigger\n    if (isProductList) {\n      var pList = val.list\n      // var fOrg = obj.from.identity.toJSON().organization\n      // org = list[utils.getId(fOrg)].value\n      org.products = []\n      pList.forEach((m) => {\n        this.addNameAndTitleProps(m)\n        models[m.id] = {\n          key: m.id,\n          value: m\n        }\n        if (m.subClassOf === FINANCIAL_PRODUCT)\n          org.products.push(m.id)\n        this.addVerificationsToFormModel(m)\n        if (!m[ROOT_HASH])\n          m[ROOT_HASH] = sha(m)\n        batch.push({type: 'put', key: m.id, value: m})\n      })\n      utils.setModels(models)\n      let orgId = utils.getId(org)\n      list[orgId].value = org\n      batch.push({type: 'put', key: utils.getId(org), value: org})\n      noTrigger = this.hasNoTrigger(orgId)\n    }\n    if (!val.time)\n      val.time = obj.timestamp\n\n    let type = val[TYPE]\n    var model = this.getModel(type)  &&  this.getModel(type).value\n    let isVerification = type === VERIFICATION  || (model  && model.subClassOf === VERIFICATION)\n    if (isVerification) {\n      this.onAddVerification(val, false, true)\n      // if (!val.txId) {\n      //   var o = {}\n      //   extend(o, obj)\n      //   o.txId = Math.random() + '';\n      //   setTimeout(() => {\n      //     self.putInDb(o)\n\n      //   }, 5000);\n      // }\n      return\n    }\n    if (!isProductList) {\n    //   if (!from.lastMessageTime || (new Date() - from.lastMessageTime) > WELCOME_INTERVAL)\n    //     batch.push({type: 'put', key: key, value: val})\n    // }\n    // else {\n      if (val[TYPE] === MY_EMPLOYEE_PASS) {\n        to.isEmployee = true\n        to.organization = this.buildRef(org)\n        this.setMe(to)\n        batch.push({type: 'put', key: utils.getId(to), value: to})\n      }\n\n      this.addLastMessage(val, batch)\n    }\n    if (list[key]) {\n      let v = {}\n      extend(true, v, val)\n      this._setItem(key, v)\n    }\n    this.addMessagesToChat(utils.getId(org ? org : from), val)\n    batch.push({type: 'put', key: key, value: val})\n    return noTrigger\n  },\n  // if the last message showing was PRODUCT_LIST. No need to re-render\n  hasNoTrigger(orgId) {\n    let messages = chatMessages[orgId]\n    if (!messages)\n      return false\n    let i=messages.length - 1\n    let type\n    // Skip all SELF_INTRODUCTION messages since they are not showing anyways on customer screen\n    for (; i>=0; i--) {\n      type = messages[i].id.split('_')[0]\n      if (type  !== SELF_INTRODUCTION)\n        break\n    }\n    if (type === PRODUCT_LIST)\n      return true\n    // Don't trigger re-rendering the list if the current and previous messages were of PRODUCT_LIST type\n    return false\n  },\n  fillFromAndTo(obj, val) {\n    var whoAmI = obj.parsed.data._i.split(':')[0]\n    var from = list[PROFILE + '_' + obj.objectinfo.author].value\n    var to = list[PROFILE + '_' + obj.to[ROOT_HASH]].value\n\n    if (whoAmI !== from[ROOT_HASH]) {\n      // swap from and to\n      [from, to] = [to, from]\n    }\n\n    val.to = {\n      id: utils.getId(to),\n      title: to.formatted || to.firstName\n    }\n\n    val.from = {\n      id: utils.getId(from),\n      title: from.formatted || from.firstName\n    }\n  },\n  addNameAndTitleProps(m, aprops) {\n    var mprops = aprops  ||  m.properties\n    for (var p in mprops) {\n      if (p.charAt(0) === '_')\n        continue\n      if (!mprops[p].name)\n        mprops[p].name = p\n      if (!mprops[p].title)\n        mprops[p].title = utils.makeLabel(p)\n      if (mprops[p].type === 'array') {\n        var aprops = mprops[p].items.properties\n        if (aprops)\n          this.addNameAndTitleProps(m, aprops)\n      }\n    }\n  },\n  addVerificationsToFormModel(m) {\n    if (m.subClassOf !== FORM  ||  m.verifications)\n      return\n    m.properties.verifications = {\n      type: 'array',\n      readOnly: true,\n      title: 'Verifications',\n      name: 'verifications',\n      items: {\n        backlink: 'document',\n        ref: VERIFICATION\n      }\n    }\n  },\n  loadMyResources() {\n    var self = this;\n    var myId = sampleData.getMyId();\n    if (myId)\n      myId = PROFILE + '_' + myId;\n\n    // console.time('dbStream')\n    var orgContacts = {}\n    return utils.dangerousReadDB(db)\n    .then((results) => {\n      if (!results.length)\n        return self.loadModels();\n\n      results.forEach((data) => {\n        if (data.value == null) return\n\n        if (data.value.type === MODEL) {\n          models[data.key] = data;\n          self.setPropertyNames(data.value.properties)\n          return\n        }\n        isLoaded = true\n        if (!myId  &&  data.key === MY_IDENTITIES) {\n          myId = data.value.currentIdentity;\n          if (list[myId])\n            me = list[myId].value;\n        }\n        if (!me  &&  myId  && data.key == myId)\n          me = data.value;\n        if (data.value[TYPE] === PROFILE) {\n          if (data.value.securityCode)\n            employees[data.value.securityCode] = data.value\n          if (data.value.organization) {\n            if (!orgContacts[utils.getId(data.value.organization)])\n              orgContacts[utils.getId(data.value.organization)] = []\n            var c = orgContacts[utils.getId(data.value.organization)]\n            c.push(self.buildRef(data.value))\n          }\n        }\n        self._setItem(data.key, data.value)\n      })\n      var sameContactList = {}\n      for (var p in orgContacts) {\n        if (!list[p])\n          continue\n        var org = list[p].value\n        if (!org.contacts  ||  org.contacts.length !== orgContacts[p].length) {\n          org.contacts = orgContacts[p]\n          continue\n        }\n        var newContact\n        orgContacts[p].forEach(function(c) {\n          var i = 0\n          for (; i<org.contacts.length; i++) {\n            var id = utils.getId(org.contacts[i])\n            if (c[constants.TYPE] + '_' + c[constants.ROOT_HASH] === id)\n              break\n          }\n          if (i !== org.contacts.length)\n            newContact = true\n        })\n        if (newContact)\n          org.contacts = orgContacts[p]\n        else\n          sameContactList[p] = p\n      }\n      this.loadStaticData()\n\n      for (var s in sameContactList)\n        delete orgContacts[s]\n      if (!utils.isEmpty(orgContacts)) {\n        var results = this.searchNotMessages({modelName: constants.TYPES.ORGANIZATION})\n        self.trigger({action: 'list', list: results})\n      }\n\n      console.log('Stream ended');\n      // console.timeEnd('dbStream')\n      // if (me)\n      //   utils.setMe(me);\n      var noModels = utils.isEmpty(models);\n      if (noModels)\n        return self.loadModels();\n      if (me  &&  (!list[me[TYPE] + '_' + me[ROOT_HASH]] || !list[IDENTITY + '_' + me[ROOT_HASH]]))\n        me = null\n      console.log('Stream closed');\n      utils.setModels(models);\n    })\n    .then(() => {\n      if (me  &&  utils.isEmpty(chatMessages))\n        this.initChats()\n      this._loadedResourcesDefer.resolve()\n    })\n    .catch(err => {\n      debugger\n      console.error('err:' + err);\n    })\n  },\n  // Received by employee/bot request from customer. And all the customer resources on FI side gets deleted\n  forgetMe(resource) {\n    let self = this\n    let result = this.searchMessages({modelName: MESSAGE, to: resource, isForgetting: true})\n    let batch = []\n    let ids = []\n    result.forEach((r) => {\n      let id = utils.getId(r)\n      batch.push({type: 'del', key: id})\n      ids.push(id)\n    })\n    let id = utils.getId(resource)\n    ids.push(id)\n    batch.push({type: 'del', key: id})\n    return db.batch(batch)\n    .then(() => {\n      ids.forEach((id) => {\n        self.deleteMessageFromChat(utils.getId(resource), list[id].value)\n        delete list[id]\n      })\n      self.trigger({action: 'messageList', modelName: MESSAGE, forgetMeFromCustomer: true})\n      return meDriver.signAndSend({\n        object: { [TYPE]: FORGOT_YOU },\n        to: { permalink: resource[ROOT_HASH] }\n      })\n    })\n    .catch((err) => {\n      debugger\n    })\n  },\n  // Cleanup and notify customer that FI successfully forgotten him\n  forgotYou(resource) {\n    var self = this\n    var org = list[utils.getId(resource.organization)].value\n    var orgId = utils.getId(org)\n    var msg = {\n      [TYPE]: FORGOT_YOU,\n      [NONCE]: this.getNonce(),\n      message: translate('youAreForgotten'),\n      from: this.buildRef(org),\n      to: this.buildRef(me)\n    }\n    msg.id = sha(msg)\n\n    var reps = this.getRepresentatives(utils.getId(org))\n    var promises = []\n    reps.forEach((r) =>\n      promises.push(meDriver.forget(r[ROOT_HASH]))\n    )\n    var batch = []\n    return Q.allSettled(promises)\n    .then(function(result) {\n      result.forEach(function(data) {\n        if (data.state !== 'fulfilled')\n          return\n        data.value.forEach(function(r) {\n          r = utils.toOldStyleWrapper(r)\n          var rId = utils.getId(r)\n          var res = list[rId] && list[rId].value\n          if (!res) {\n            let idx = r[TYPE].indexOf('Confirmation')\n            if (idx === -1)\n              return\n            let realProductType = r[TYPE].substring(0, r[TYPE].length - 'Confirmation'.length)\n            let m = utils.getModel(realProductType)\n            if (!m  ||  m.value.subClassOf !== FINANCIAL_PRODUCT)\n              return\n            // This is confirmation for getting the product\n            rId = SIMPLE_MESSAGE + '_' +  r[ROOT_HASH]\n            res = list[rId]\n            if (!res)\n              return\n            res = res.value\n            r = res\n          }\n          var isVerification = r[TYPE] === VERIFICATION\n          var model = self.getModel(r[TYPE]).value\n          var isForm = !isVerification  &&  model.subClassOf === FORM\n          var deleted = !(res.sharedWith && res.sharedWith.length > 1)\n          if (!deleted) {\n            var fromId = utils.getId(res.from)\n            var toId = utils.getId(res.to)\n            var sharedWith = res.sharedWith || []\n            var sharedWithKeys = sharedWith.map(function(r) {\n              return r.bankRepresentative\n            })\n            reps.forEach(function(r) {\n              var rId = utils.getId(r)\n              var idx = sharedWithKeys.indexOf(rId)\n              if (idx !== -1)\n                sharedWith.splice(idx, 1)\n            })\n            utils.optimizeResource(res)\n            batch.push({type: 'put', key: rId, value: res})\n          }\n          if (isVerification) {\n            // var myVerifications = me.myVerifications.filter(function(r) {\n            //   var verification = list[utils.getId(r)]\n            //   if (!verification)\n            //     return false\n            //   verification = verification.value\n            //   return utils.getId(verification) === rId ? false : true\n            // })\n            // if (myVerifications.length != me.myVerifications.length) {\n            //   me.myVerifications = myVerifications\n            //   batch.push({type: 'put', key: utils.getId(me), value: me})\n            // }\n            // Cleanup form from the deleted verification\n            if (deleted) {\n              var docPair = list[utils.getId(res.document)]\n              if (docPair) {\n                var doc = list[utils.getId(res.document)].value\n                if (doc.verifications) {\n                  var verifications = doc.verifications.filter(function(r) {\n                    return (utils.getId(r) === rId) ? false : true\n                  })\n                  if (doc.verifications.length != verifications.length) {\n                    doc.verifications = verifications\n                    utils.optimizeResource(doc)\n                    for (var i=0; i<data.length; i++) {\n                      if (data[i][ROOT_HASH] === doc[ROOT_HASH]  &&  !data[i].deleted)\n                        batch.push({type: 'put', key: utils.getId(doc), value: doc})\n                    }\n                  }\n                }\n              }\n            }\n          }\n          if (deleted) {\n            if (res.sharedWith) {\n              res.sharedWith.forEach((r) => {\n                let org = list[r.bankRepresentative].value.organization\n                // self.deleteMessageFromChat(utils.getId(org), res)\n              })\n            }\n            delete list[rId]\n            // self.deleteMessageFromChat(orgId, r)\n            batch.push({type: 'del', key: rId})\n          }\n        })\n      })\n      self.trigger({action: 'messageList', list: [msg], resource: org})\n      chatMessages[orgId] = []\n\n      return db.batch(batch)\n    })\n    .then(function() {\n      var result = self.searchMessages({to: org, modelName: MESSAGE, isForgetting: true});\n      batch = []\n      if (result)\n        result.forEach(function(r) {\n          let doDelete = r[TYPE] === SELF_INTRODUCTION  ||  (r[TYPE] === SIMPLE_MESSAGE  &&  r.message  &&  r.message.indexOf('Congratulations') === 0)\n          if (doDelete) {\n            var id = utils.getId(r)\n            batch.push({type: 'del', key: id})\n            delete list[id]\n          }\n        })\n\n      // resource.numberOfForms = 0\n\n      // reps.forEach((r) => {\n      //   r.lastMessageTime = null\n      //   r.lastMessage = null\n      //   delete publishRequestSent[utils.getId(r.organization)]\n      // })\n      delete publishRequestSent[orgId]\n\n      org.lastMessage = null\n      org.lastMessageTime = null\n      org.lastMessageType = null\n      self.trigger({action: 'list', list: self.searchNotMessages({modelName: ORGANIZATION, to: org})})\n      batch.push({type: 'put', key: orgId, value: org})\n      if (batch.length)\n        return db.batch(batch)\n    })\n    .catch(function(err) {\n      debugger\n    })\n  },\n\n  cleanup(result) {\n    var self = this\n    if (!result.length)\n      return Q()\n\n    var batch = []\n    var docs = []\n    result.forEach(function(r){\n      batch.push({type: 'del', key: utils.getId(r), value: r})\n    })\n    return db.batch(batch)\n    .then(function() {\n      result.forEach(function(r) {\n        if (this.getModel(r[TYPE]).value.interfaces) {\n          let id = (utils.getId(r.from) === meId) ? utils.getId(r.from) : utils.getId(r.to)\n          let rep = list[id].value\n          let orgId = rep.organization ? utils.getId(rep.organization) : utils.getId(rep)\n\n          self.deleteMessageFromChat(orgId, r)\n        }\n        delete list[utils.getId(r)]\n      })\n    })\n    .catch(function(err) {\n      err = err\n    })\n  },\n  onTalkToRepresentative(resource, org) {\n    var self = this\n    var orgRep = resource[TYPE] === ORGANIZATION\n               ? this.getRepresentative(utils.getId(resource))\n               : resource\n    if (!orgRep) {\n      var msg = {\n        [TYPE]: SIMPLE_MESSAGE,\n        [NONCE]: this.getNonce(),\n        message: 'All representatives are currently assisting other customers. Please try again later'\n      }\n      msgFrom.from = this.buildRef(resource)\n      msgFrom.to = this.buildRef(me)\n      msg.id = sha(msg)\n      result.push(msg)\n      self.trigger({action: 'messageList', list: result, resource: resource})\n      return\n    }\n    var result = self.searchMessages({to: resource, modelName: MESSAGE});\n    var msg = {\n      [TYPE]: SIMPLE_MESSAGE,\n      [NONCE]: this.getNonce(),\n      message: 'Representative will be with you shortly. Please tell us how can we help you today?'\n    }\n    msgFrom.from = this.buildRef(resource)\n    msgFrom.to = this.buildRef(me)\n    msg.id = sha(msg)\n    result.push(msg)\n    self.trigger({action: 'messageList', list: result, resource: resource})\n    var key = IDENTITY + '_' + orgRep[ROOT_HASH]\n\n    return meDriver.signAndSend({\n      object: msg,\n      to: { fingerprint: self.getFingerprint(list[key].value) }\n    })\n  },\n  onForgetMe(resource, noTrigger) {\n    // var me = utils.getMe()\n    var msg = {\n      [TYPE]: FORGET_ME,\n      [NONCE]: this.getNonce()\n    }\n    var rId = utils.getId(resource)\n    var orgReps = resource[TYPE] === ORGANIZATION\n                ? this.getRepresentatives(rId)\n                : [resource]\n\n    let promises = []\n\n    for (let rep of orgReps) {\n      promises.push(meDriver.signAndSend({\n        object: msg,\n        to: { fingerprint: this.getFingerprint(list[IDENTITY + '_' + rep[ROOT_HASH]].value) }\n      })\n    )}\n\n    return Q.all(promises)\n    .then((results) => {\n      if (noTrigger)\n        return\n      // var result = this.searchMessages({to: resource, modelName: MESSAGE});\n      msg[ROOT_HASH] = results[0].object.permalink\n      msg.message = translate('inProgress')\n      // reverse to and from to display as from assistent\n      msg.from = this.buildRef(list[PROFILE + '_' + results[0].message.recipient].value)\n      msg.to = this.buildRef(me)\n\n      let mId = utils.getId(msg)\n      list[mId] = {\n        key: mId,\n        value: msg\n      }\n      let batch = []\n\n      this.addMessagesToChat(utils.getId(rId), msg)\n\n      batch.push({type: 'put', key: mId, value: msg})\n      // result.push(msg)\n      this.trigger({action: 'addMessage', to: resource, resource: msg})\n\n      resource.lastMessage = translate('requestedForgetMe')\n      resource.lastMessageTime = new Date().getTime()\n      resource.lastMessageType = FORGET_ME\n      this.trigger({action: 'list', list: this.searchNotMessages({modelName: ORGANIZATION}), forceUpdate: true})\n\n      batch.push({type: 'put', key: rId, value: resource})\n      db.batch(batch)\n    })\n    .catch(function (err) {\n      debugger\n    })\n  },\n  // Devices one\n  onGenPairingData() {\n    if (!SERVICE_PROVIDERS) {\n      this.trigger({action: 'genPairingData', error: 'Can\\'t connect to server'})\n      return\n    }\n    let pairingData = {\n      nonce: crypto.randomBytes(32).toString('base64'),\n      identity: meDriver.link,\n      firstName: me.firstName,\n      rendezvous: {\n        url: SERVICE_PROVIDERS[0].url + '/' + SERVICE_PROVIDERS[0].id\n      }\n    }\n    let dbPairingData = utils.clone(pairingData)\n    dbPairingData[TYPE] = PAIRING_DATA\n    // db.put(PAIRING_DATA + '_1', pairingData)\n    list[PAIRING_DATA + '_1'] = {key: PAIRING_DATA + '_1', value: dbPairingData}\n    this.trigger({action: 'genPairingData', pairingData: JSON.stringify(pairingData)})\n  },\n\n  onSendPairingRequest (pairingData) {\n    // device 2 sends pairing request\n    let publishedIdentity\n    let deviceId\n\n    let myIdentities = list[MY_IDENTITIES]\n    if (myIdentities) {\n      myIdentities = myIdentities.value\n      publishedIdentity = myIdentities.allIdentities[0].publishedIdentity\n      deviceId = list[IDENTITY + '_' + pairingData.identity].value.deviceId\n    }\n\n    let promise = myIdentities\n                ? Q()\n                : this.createNewIdentity()\n                // : Q.ninvoke(tradleUtils, 'newIdentity', {\n                //       networkName,\n                //       keys: KEY_SET\n                //   })\n    return promise\n    .spread((encryptionKey, identityInfo) => {\n      if (!identityInfo)\n        return\n      publishedIdentity = identityInfo.identity\n      let mePub = publishedIdentity.pubkeys\n      let mePriv = identityInfo.keys\n      let currentIdentity = PROFILE + '_' + pairingData.identity\n      var myIdentities = {\n        [TYPE]: MY_IDENTITIES_TYPE,\n        currentIdentity: currentIdentity,\n        allIdentities: [{\n          id: currentIdentity,\n          // title: utils.getDisplayName(value, models[me[TYPE]].value.properties),\n          privkeys: mePriv,\n          publishedIdentity: publishedIdentity\n        }]\n      }\n      var profile = {\n        [TYPE]: PROFILE,\n        [ROOT_HASH]: pairingData.identity,\n        firstName: pairingData.firstName,\n        formatted: pairingData.firstName,\n      }\n      deviceId = identityInfo.link\n      var identity = {\n        [TYPE]: IDENTITY,\n        [ROOT_HASH]: pairingData.identity,\n        pubkeys: mePub,\n        deviceId: deviceId\n      }\n      let batch = []\n      list[currentIdentity] = {\n        key: currentIdentity,\n        value: profile\n      }\n      let identityId = utils.getId(identity)\n      list[identityId] = {\n        key: identityId,\n        value: identity\n      }\n      list[MY_IDENTITIES] = {\n        key: MY_IDENTITIES,\n        value: myIdentities\n      }\n      batch.push({type: 'put', key: MY_IDENTITIES, value: myIdentities})\n      batch.push({type: 'put', key: currentIdentity, value: profile})\n      batch.push({type: 'put', key: utils.getId(identity), value: identity})\n      db.batch(batch)\n    })\n   .then(() => {\n      const pairingReq = {\n        [TYPE]: PAIRING_REQUEST,\n        identity: publishedIdentity\n      }\n\n      const hmac = crypto.createHmac('sha256', pairingData.nonce)\n      hmac.update(tradleUtils.stringify(pairingReq))\n      pairingReq.auth = hmac.digest('base64')\n\n      const url = pairingData.rendezvous.url\n      let transport = driverInfo.wsClients[url]\n      if (!transport) {\n        let wsClient = this.getWsClient(url, deviceId)\n        transport = this.getTransport(wsClient, deviceId)\n        driverInfo.wsClients[url] = transport\n      }\n      let self = this\n      transport.on('message', function (msg, from) {\n        try {\n          const payload = JSON.parse(msg)\n          if (payload[TYPE] === PAIRING_RESPONSE) {\n            transport.destroy()\n            delete driverInfo.wsClients[url]\n\n            return self.onProcessPairingResponse(list[PAIRING_DATA + '_1'].value, payload)\n            .then(() => {\n              debugger\n              Alert.alert('Pairing was successful')\n              self.trigger({action: 'pairingSuccessful'})\n            })\n            .catch((err) => {\n              debugger\n              Alert.alert(err)\n            })\n          }\n        } catch (err) {\n          debugger\n        }\n      })\n\n      // if (!transport) {\n      //   let wsClient = this.getWsClient(url, meDriver.permalink)\n      //   transport = this.getTransport(wsClient, meDriver.permalink)\n      //   driverInfo.wsClients[url] = transport\n      // }\n      const pairingReqStr = tradleUtils.stringify(pairingReq)\n\n      function send () {\n        return Q.ninvoke(transport, 'send', pairingData.identity, pairingReqStr)\n          .then(() => {\n            // debugger\n            let dbPairingData = utils.clone(pairingData)\n            dbPairingData[TYPE] = PAIRING_DATA\n            // db.put(PAIRING_DATA + '_1', pairingData)\n            list[PAIRING_DATA + '_1'] = {key: PAIRING_DATA + '_1', value: dbPairingData}\n          })\n          .catch((err) => {\n            debugger\n          })\n      }\n\n      return utils.tryWithExponentialBackoff(send)\n    })\n      // .then(() => {\n      //   this.trigger({action: 'sentPairingRequest', pairingData: pairingData})\n      // })\n  },\n\n  onProcessPairingRequest(pairingData, pairingReq) {\n    const myPubKeys = meDriver.identity.pubkeys\n    const alreadyPaired = pairingReq.identity.pubkeys.some(a => {\n      return myPubKeys.some(b => {\n        return a.pub === b.pub\n      })\n    })\n\n    const verify = crypto.createHmac('sha256', pairingData.nonce)\n    verify.update(tradleUtils.stringify(tradleUtils.omit(pairingReq, 'auth')))\n    if (verify.digest('base64') !== pairingReq.auth) {\n      return Promise.reject(new Error('invalidPairingRequest'))\n    }\n\n    if (alreadyPaired) {\n      // won't work because prev is not right\n      return sendResponse()\n    }\n\n    const allPubKeys = meDriver.identity.pubkeys.concat(pairingReq.identity.pubkeys)\n    const pubkeys = allPubKeys.map(pk => tradleUtils.clone(pk))\n    let identity = {\n            keys: meDriver.keys.concat(pairingReq.identity.pubkeys),\n            identity: tradleUtils.clone(meDriver.identity, {\n              pubkeys: pubkeys // allPubKeys.map(pk => tradleUtils.clone(pk))\n            })\n          }\n    return Q.ninvoke(meDriver, 'updateIdentity', identity)\n    .then(() => {\n      let batch = []\n      batch.push({type: 'put', key: PAIRING_REQUEST + '_1', value: pairingReq})\n      this.updatePubkeys(batch)\n      // let batch = []\n      // let id = IDENTITY + '_' + utils.getMe()[ROOT_HASH]\n      // let myIdentity = list[id].value\n\n      // myIdentity.pubkeys = allPubKeys.map(pk => tradleUtils.clone(pk))\n\n      // updatePubkeys(myIdentity.pubkeys)\n      // let myIdentities = list[MY_IDENTITIES].value\n      // let currentIdentity = myIdentities.currentIdentity\n      // myIdentities.allIdentities.forEach((r) => {\n      //   if (r.id === currentIdentity)\n      //     r.publishedIdentity.pubkeys = utils.clone(myIdentity.pubkeys)\n      // })\n\n      // batch.push({type: 'put', key: MY_IDENTITIES, value: myIdentities})\n      // batch.push({type: 'put', key: id, value: myIdentity})\n      // batch.push({type: 'put', key: PAIRING_REQUEST + '_1', value: pairingReq})\n\n      // // If pairing request was not verified what do we want to do\n      // db.batch(batch)\n    })\n    .then(() => {\n      return sendResponse()\n    })\n\n    function sendResponse () {\n      const getPrev = meDriver.identity[PREV_HASH] ? Q.ninvoke(meDriver.keeper, 'get',  meDriver.identity[PREV_HASH]) : Promise.resolve(meDriver.identity)\n      return getPrev.then(prev => {\n        const pairingRes = {\n          [TYPE]: PAIRING_RESPONSE,\n          // can we make it secure without sending prev?\n          prev: prev,\n          identity: meDriver.identity\n        }\n\n        const url = pairingData.rendezvous.url\n        let transport = driverInfo.wsClients[url]\n        const pairingResStr = tradleUtils.stringify(pairingRes)\n        return utils.tryWithExponentialBackoff(send)\n\n        function send () {\n          return Q.ninvoke(transport, 'send', tradleUtils.hexLink(pairingReq.identity), pairingResStr)\n            .then(() => {\n              db.put(PAIRING_RESPONSE + '_1', pairingRes)\n              debugger\n            })\n            .catch((err) => {\n              debugger\n            })\n        }\n      })\n    }\n  },\n  updatePubkeys(batch, identity) {\n    let myIdentities = list[MY_IDENTITIES].value\n    let currentIdentity = myIdentities.currentIdentity\n\n    let id = currentIdentity.replace(PROFILE, IDENTITY)\n    list[id].value = identity || meDriver.identity\n\n    myIdentities.allIdentities.forEach((r) => {\n      if (r.id === currentIdentity)\n        r.publishedIdentity = list[id].value\n    })\n\n    batch.push({type: 'put', key: MY_IDENTITIES, value: myIdentities})\n    batch.push({type: 'put', key: id, value: list[id].value})\n\n    // If pairing request was not verified what do we want to do\n    db.batch(batch)\n  },\n\n  onProcessPairingResponse (pairingData, pairingRes) {\n    // device 2 validate response\n    if (tradleUtils.hexLink(pairingRes.prev) !== pairingData.identity)\n      return Promise.reject(new Error('prev identity does not match expected'))\n\n    let pubkeys = list[IDENTITY + '_' + pairingData.identity].value.pubkeys\n    const hasMyKeys = pubkeys.every(myKey => {\n      return pairingRes.identity.pubkeys.some(theirKey => {\n        return deepEqual(theirKey, myKey)\n      })\n    })\n    // const hasMyKeys = meDriver.identity.pubkeys.every(myKey => {\n    //   return pairingRes.identity.pubkeys.some(theirKey => {\n    //     return deepEqual(theirKey, myKey)\n    //   })\n    // })\n\n    if (!hasMyKeys)\n      return Promise.reject(new Error(translate('deviceDoesNotHaveMyKeys')))\n\n    let batch = []\n    this.updatePubkeys(batch, pairingRes.identity)\n\n\n    // let myIdentities = list[MY_IDENTITIES].value\n    // let currentIdentity = myIdentities.currentIdentity\n\n    // myIdentities.allIdentities.forEach((r) => {\n    //   if (r.id === currentIdentity)\n    //     r.publishedIdentity.pubkeys = pairingRes.identity.pubkeys\n    // })\n\n    // let id = IDENTITY + '_' + pairingData.identity\n    // list[id].value.pubkeys = utils.clone(pairingRes.identity.pubkeys)\n    // let batch = []\n    // batch.push({type: 'put', key: MY_IDENTITIES, value: myIdentities})\n    // batch.push({type: 'put', key: id, value: list[id].value})\n    // db.batch(batch)\n\n    let me = list[PROFILE + '_' + pairingData.identity].value\n    return this.getDriver(me)\n    .then(() =>  meDriver.addContact(pairingRes.prev))\n    .then(() => {\n      Q.ninvoke(meDriver, 'setIdentity', {\n        keys: meDriver.keys.concat(pairingRes.identity.pubkeys),\n        identity: pairingRes.identity\n      })\n    })\n    .then(() => {\n      this.setMe(me)\n      // let me = utils.getMe()\n      // let oldId = IDENTITY + '_' + me[ROOT_HASH]\n      // delete list[oldId]\n\n      // let oldProfileId = utils.getId(me)\n      // let profile = list[oldProfileId].value\n      // delete list[oldProfileId]\n\n      // profile[ROOT_HASH] = pairingRes.identity[ROOT_HASH]\n      // profile[CUR_HASH] = pairingRes.identity[ROOT_HASH]\n\n      // let newId = IDENTITY + '_' + pairingRes.identity[ROOT_HASH]\n      // list[newId] = {\n      //   key: newId,\n      //   value: utils.clone(pairingRes.identity)\n      // }\n      // let newProfileId = PROFILE + '_' +  pairingRes.identity[ROOT_HASH]\n      // list[newProfileId] = {\n      //   key: newProfileId,\n      //   value: profile\n      // }\n      // let myIdentities = list[MY_IDENTITIES].value\n      // myIdentities.currentIdentity = newProfileId\n      // myIdentities.allIdentities.forEach((r) => {\n      //   if (r.id !== oldProfileId)\n      //     return\n      //   r.id = newProfileId,\n      //   r.publishedIdentity.pubkeys = utils.clone(pairingRes.identity.pubkeys)\n      // })\n\n      // let batch = []\n      // batch.push({type: 'del', key: oldId})\n      // batch.push({type: 'del', key: oldProfileId})\n      // batch.push({type: 'put', key: MY_IDENTITIES, value: list[MY_IDENTITIES].value})\n      // batch.push({type: 'put', key: newId, value: list[newId].value})\n      // batch.push({type: 'put', key: newProfileId, value: list[newProfileId].value})\n      // batch.push({type: 'put', key: PAIRING_RESPONSE + '_1', value: pairingRes})\n      // db.batch(batch)\n    })\n  },\n\n  getModel(modelName) {\n    return models[modelName];\n  },\n  loadDB() {\n    if (utils.isEmpty(models)) {\n      voc.forEach(function(m) {\n        if (!m[ROOT_HASH])\n          m[ROOT_HASH] = sha(m);\n        let key = utils.getId(m)\n        models[key] = {\n          key: key,\n          value: m\n        }\n      });\n    }\n\n    return this.loadStaticDbData(true)\n    .then(() => {\n      return this.loadMyResources()\n    })\n    // .then(self.loadAddressBook)\n    .catch(function(err) {\n      err = err;\n      });\n  },\n  loadStaticData() {\n    sampleData.getResources().forEach((r) => {\n      this.loadStaticItem(r)\n    });\n  },\n  loadStaticDbData(saveInDB) {\n    let batch = []\n    let sData = [currencies, nationalities, countries]\n    sData.forEach((arr) => {\n      arr.forEach((r) => {\n        this.loadStaticItem(r, saveInDB, batch)\n      })\n    })\n    return batch.length ? db.batch(batch) : Q()\n  },\n  loadStaticItem(r, saveInDB, batch) {\n    if (!r[ROOT_HASH])\n      r[ROOT_HASH] = sha(r)\n\n    r[CUR_HASH] = r[ROOT_HASH]\n    let id = utils.getId(r)\n    if (!list[id])\n      this._setItem(id, r)\n    if (saveInDB)\n      batch.push({type: 'put', key: id, value: r})\n  },\n\n  loadModels() {\n    var self = this\n    var batch = [];\n    voc.forEach(function(m) {\n      if (!m[ROOT_HASH]) {\n        m[ROOT_HASH] = sha(m);\n        self.addNameAndTitleProps(m)\n      }\n\n      batch.push({type: 'put', key: m.id, value: m});\n    });\n\n    // return Promise.resolve()\n    return db.batch(batch)\n          .then(function() {\n            return self.loadMyResources();\n          })\n          .catch(function(err) {\n            err = err;\n          });\n  },\n  clearDb() {\n    var self = this;\n    return db.createReadStream()\n    .on('data', function(data) {\n       db.del(data.key, function(err) {\n         err = err;\n       })\n    })\n    .on('error', function (err) {\n      console.log('Oh my!', err.name + ': ' + err.message)\n    })\n    .on('close', function (err) {\n      console.log('Stream closed');\n    })\n    .on('end', function () {\n      console.log('Stream end');\n    })\n  },\n\n  onStartTransition() {\n    if (PAUSE_ON_TRANSITION) {\n      if (meDriver) meDriver.pause(2000)\n    }\n  },\n  onEndTransition() {\n    if (PAUSE_ON_TRANSITION) {\n      if (meDriver) meDriver.resume()\n    }\n\n    if (this._transitionCallbacks) {\n      // defensive copy\n      var cbs = this._transitionCallbacks.slice()\n      this._transitionCallbacks.length = 0\n      cbs.forEach((fn) => fn())\n    }\n  },\n  waitForTransitionToEnd(fn) {\n    if (!this._transitionCallbacks) {\n      this._transitionCallbacks = []\n    }\n\n    var defer = Q.defer()\n    this._transitionCallbacks.push(defer.resolve)\n    return defer.promise\n  },\n  buildRef(resource) {\n    if (!resource[TYPE] && resource.id)\n      return resource\n    let isForm = this.getModel(resource[TYPE]).value.subClassOf === FORM\n    // let id = utils.getId(resource)\n    // if (isForm)\n    //   id += '_' + resource[CUR_HASH]\n    let ref = {\n      id: utils.getId(resource),\n      title: resource.id ? resource.title : utils.getDisplayName(resource, this.getModel(resource[TYPE]).value.properties)\n    }\n    if (resource.time)\n      ref.time = resource.time\n    return ref\n  },\n  _setItem(key, value) {\n    list[key] = { key, value }\n  },\n  _mergeItem(key, value) {\n    const current = list[key] || {}\n    list[key] = { key, value: { ...current.value, ...value } }\n  },\n})\n// );\n\nmodule.exports = Store;\n\nfunction getProviderUrl (provider) {\n  return provider.id ? utils.joinURL(provider.url, provider.id) : provider.url\n}\n  // searchFormsToShare(params) {\n  //   var modelName = params.modelName;\n  //   var meta = this.getModel(modelName).value;\n  //   var chatFrom = params.from\n  //   chatFrom = list[utils.getId(chatFrom)].value\n\n  //   var foundResources = {};\n  //   var isAllMessages = meta.isInterface;\n  //   var props = meta.properties;\n\n  //   var implementors = isAllMessages ? utils.getAllSubclasses(modelName) : null;\n\n  //   var required = meta.required;\n  //   var meRootHash = me  &&  me[ROOT_HASH];\n  //   var meId = PROFILE + '_' + meRootHash;\n  //   var meOrgId = me.organization ? utils.getId(me.organization) : null;\n\n  //   var chatId = chatFrom ? utils.getId(chatFrom) : null;\n  //   var isChatWithOrg = chatFrom  &&  chatFrom[TYPE] === ORGANIZATION;\n  //   var fromId\n  //   var fromOrg\n  //   if (isChatWithOrg) {\n  //     var rep = this.getRepresentative(chatId)\n  //     if (!rep)\n  //       return\n  //     chatFrom = rep\n  //     chatId = utils.getId(chatFrom)\n  //     // isChatWithOrg = false\n  //     fromId = utils.getId(params.from)\n  //     fromOrg = list[fromId].value\n  //   }\n  //   else {\n  //     if (chatFrom  &&  chatFrom.organization) {\n  //       fromId = utils.getId(chatFrom.organization)\n  //     }\n  //   }\n  //   var lastPL\n  //   var sharedWithTimePairs = []\n  //   for (var key in list) {\n  //     var iMeta = null;\n  //     if (isAllMessages) {\n  //       if (implementors) {\n  //         implementors.some((impl) => {\n  //           if (impl.id === key.split('_')[0]) {\n  //             iMeta = impl;\n  //             return true\n  //           }\n  //         })\n  //         if (!iMeta)\n  //           continue;\n  //       }\n  //     }\n  //     else if (key.indexOf(modelName + '_') === -1) {\n  //       var rModel = this.getModel(key.split('_')[0])\n  //       if (!rModel)\n  //         continue\n  //       rModel = rModel.value;\n  //       if (rModel.subClassOf !== modelName)\n  //         continue;\n  //     }\n  //     if (!iMeta)\n  //       iMeta = meta;\n  //     var r = list[key].value;\n  //     if (r.canceled)\n  //       continue;\n  //     // Make sure that the messages that are showing in chat belong to the conversation between these participants\n  //     // HACK to not show service message in customer stream\n  //     if (r.message  &&  r.message.length)  {\n  //       if (r.message === '[already published](tradle.Identity)')\n  //         continue\n  //       var m = utils.splitMessage(r.message)\n\n  //       if (m.length === 2) {\n  //         if (m[1] === PROFILE)\n  //           continue;\n  //       }\n  //     }\n  //     var isSharedWith = false, timeResourcePair = null\n  //     if (r.sharedWith  &&  fromId) {\n  //       var sharedWith = r.sharedWith.filter(function(r) {\n  //         let org = list[r.bankRepresentative].value.organization\n  //         return (org) ? utils.getId(org) === fromId : false\n  //       })\n  //       isSharedWith = sharedWith.length !== 0\n  //       if (isSharedWith) {\n  //         timeResourcePair = {\n  //           time: sharedWith[0].timeShared,\n  //           resource: r\n  //         }\n  //       }\n  //     }\n\n  //     if (chatFrom) {\n  //       var isForm = this.getModel(r[TYPE]).value.subClassOf === FORM\n  //       var fromID = utils.getId(r.from);\n  //       var toID = utils.getId(r.to);\n\n  //       if (fromID !== meId  &&  toID !== meId  &&  toID != meOrgId)\n  //         continue;\n  //       if (isChatWithOrg) {\n  //         var msgOrg = list[toID].value.organization\n  //         if (!msgOrg)\n  //           msgOrg = list[fromID].value.organization\n  //         let msgOrgId = utils.getId(msgOrg)\n  //         if (fromId !== msgOrgId  &&  !isSharedWith) // do not show shared verifications\n  //           continue\n  //       }\n  //       else {\n  //         if (!isSharedWith  &&  fromID !== chatId  &&  toID != chatId  &&  toID != meOrgId)\n  //           continue;\n  //       }\n  //     }\n  //     if (r.sharedWith  &&  fromId  &&  !isSharedWith)\n  //       continue\n\n  //     var msg = this.fillMessage(r);\n  //     if (!msg)\n  //       msg = r\n  //     foundResources[key] = msg;\n  //     if (!timeResourcePair)\n  //       sharedWithTimePairs.push({\n  //         time: r.time,\n  //         resource: msg\n  //       })\n  //     else {\n  //       timeResourcePair.resource = msg\n  //       sharedWithTimePairs.push(timeResourcePair)\n  //     }\n  //     if (params.limit  &&  Object.keys(foundResources).length === params.limit)\n  //       break;\n  //   }\n\n  //   sharedWithTimePairs.sort(function(a, b) {\n  //     return a.time - b.time;\n  //   });\n\n  //   var result = []\n  //   sharedWithTimePairs.forEach((r) => {\n  //     result.push(r.resource)\n  //   })\n\n  //   if (!params.isForgetting) {\n  //     result = result.filter((r, i) => {\n  //       if (r[TYPE] === PRODUCT_LIST) {\n  //         var next = result[i + 1]\n  //         if (next && next[TYPE] === PRODUCT_LIST) {\n  //           return false\n  //         }\n  //       }\n\n  //       return true\n  //     })\n  //   }\n\n  //   // not for subreddit\n  //   result.forEach((r) =>  {\n  //     r.from.photos = list[utils.getId(r.from)].value.photos;\n  //     var to = list[utils.getId(r.to)]\n  //     if (!to) console.log(r.to)\n  //     r.to.photos = to && to.value.photos;\n  //   })\n  //   return result;\n  // },\n\n  /*\n     params:\n       modelName - type of the resources to search\n       to: who am I talking to - usually company representatice.\n           In non-strict mode the result will be array that contains resources where\n           either 'to' or 'from' properties could be the representative of 'to' organization'\n       strict: 'to' exclusively should have the params.to value\n  */\n  // parseForm(val, model) {\n  //   let properties = model.properties\n  //   for (let p in val) {\n  //     let prop = properties[p]\n  //     if (!prop)\n  //       continue\n  //     if (prop.type !== 'array')\n  //       continue\n  //     let v = JSON.parse(val[p])\n  //     val[p] = Array.isArray(v) ? v : [v]\n  //     let iprops = prop.properties\n  //     if (!iprop)\n  //       continue\n  //     for (let item of val[p]) {\n  //       for (let itemProp in item) {\n  //         let ip = iprops[itemProp]\n  //         if (!ip.ref)\n  //           continue\n  //         let im = utils.getModel(ip.ref)\n  //         if (im.subClassOf !== 'ENUM')\n  //           continue\n  //         let result = this.searchNotMessages({modelName: im._id})\n  //         let enumProp\n  //         for (let ep in im.properties)\n  //           if (ep.charAt(0) !== '_') {\n  //             enumProp = ep\n  //             break\n  //           }\n  //         let rValue = result.filter((r) => r[enumProp] === item[enumProp])\n  //         item[enumProp] = { id: utils.getId(rValue[0]), title: item[enumProp] }\n  //       }\n  //     }\n  //   }\n\n  // },\n\n  // searchMessagesNew(params) {\n  //   let bankID = utils.getId(params.to)\n  //   let messages = chatMessages[bankID]\n  //   let promise = messages ? Q() : this.getConversation(params)\n  //   let result = []\n  //   let self = this\n  //   return promise\n  //   .then((data) => {\n  //     if (data)\n  //       return data\n  //     data = Object.keys(messages)\n  //     var defer = Q.defer()\n  //     var togo = Object.keys(data).length\n  //     for (let r of data) {\n  //       meDriver.lookupObjectsByRootHash(r.split('_')[1])\n  //       .then(function (objs) {\n  //         var obj = objs[objs.length - 1]\n  //         var res = obj.parsed.data\n  //         var val = extend(true, res)\n  //         self.fillFromAndTo(obj, val)\n\n  //         val[ROOT_HASH] = obj[ROOT_HASH]\n  //         result.push(val)\n  //         if (--togo === 0)\n  //           defer.resolve(result)\n  //       })\n  //       .catch((err) => {\n  //         debugger\n  //       })\n  //     }\n  //     return result\n  //   })\n  // },\n\n  // getConversation(params) {\n  //   var self = this\n  //   var list = {}\n  //   var hasVerifications\n  //   var excludeTypes = [\n  //     CUSTOMER_WAITING,\n  //     FORGOT_YOU,\n  //     FORGET_ME,\n  //     IDENTITY_PUBLISHING_REQUEST\n  //   ]\n  //   var bankID = utils.getId(params.to)\n  //   var reps = params.to[TYPE] === constants.TYPES.ORGANIZATION\n  //            ? this.getRepresentatives(bankID)\n  //            : [params.to]\n  //   var messages = {}\n  //   chatMessages[bankID] = messages\n  //   return meDriver.getConversation(reps[0][ROOT_HASH])\n  //   .then(function(data) {\n  //     var result = []\n  //     var defer = Q.defer()\n  //     var togo = data.length\n  //     var hasPL\n  //     for (var i=data.length - 1; i>=0; i--) {\n  //       var r = data[i]\n  //       if (excludeTypes.indexOf(r[TYPE]) !== -1 ||\n  //           !self.getModel(r[TYPE])) {\n  //         --togo\n  //         continue\n  //       }\n  //       if (r[TYPE] === PRODUCT_LIST) {\n  //         if (hasPL) {\n  //           --togo\n  //           continue\n  //         }\n  //         hasPL = true\n  //       }\n\n  //       meDriver.lookupObject(r)\n  //       .then(function (obj) {\n  //         var res = obj.parsed.data\n  //         var val = extend(true, res)\n  //         self.fillFromAndTo(obj, val)\n\n  //         val[ROOT_HASH] = obj[ROOT_HASH]\n  //         result.push(val)\n  //         let rid = utils.getId(val)\n  //         list[rid] = {\n  //           key: rid,\n  //           value: {\n  //             id: rid,\n  //             title: utils.getDisplayName(val, utils.getModel(obj[TYPE]).value.properties),\n  //             time: val.time\n  //           }\n  //         }\n  //         if (val.photos)\n  //           list[rid].value.photos = [val.photos[0]]\n  //         if (val[TYPE] === VERIFICATION)\n  //           hasVerifications = true\n\n  //         if (--togo === 0)\n  //           defer.resolve(result)\n  //       })\n  //       .catch(function(err) {\n  //         debugger\n  //       })\n  //     }\n  //     return defer.promise\n  //   })\n  //   .then(function(result) {\n  //     if (hasVerifications) {\n  //       result.forEach(function(r) {\n  //         if (r[TYPE] === VERIFICATION)\n  //           r.document = list[utils.getId(r.document)]\n  //       })\n  //     }\n  //     result.sort(function(a, b) {\n  //       return a.time - b.time;\n  //     });\n  //     result.forEach(function(r) {\n  //       messages[utils.getId(r)] = r.time\n  //     })\n  //     // var shareableResources;\n  //     // if (!params.isAggregation  &&  params.to)\n  //     //   shareableResources = self.getShareableResources(result, params.to);\n\n  //     // var retParams = {\n  //     //   action: !params.prop ? 'messageList' : 'list',\n  //     //   list: result,\n  //     //   spinner: params.spinner,\n  //     //   isAggregation: params.isAggregation\n  //     // }\n  //     // if (shareableResources)\n  //     //   retParams.shareableResources = shareableResources;\n  //     // if (params.prop)\n  //     //   retParams.prop = params.prop;\n\n  //     // self.trigger(retParams);\n  //     return result\n  //   })\n  //   .catch(function(err) {\n  //     debugger\n  //   })\n  // },\n\n  // // extractReferences(val) {\n  // //   let props = utils.getModel(val[TYPE]).value.properties\n  // //   let r = {_t: val[TYPE]}\n  // //   for (let p in val) {\n  // //     if (props[p].ref) {\n  // //       if (props[p].ref !== constants.TYPE.MONEY)\n  // //         r[p] = val[p]\n  // //     }\n  // //     else if (props[p].type === 'array') {\n  // //       if\n  // //     }\n  // //   }\n  // // },\n  // getMessagesBefore(params) {\n  //   var bankID = utils.getId(params.to)\n  //   var messages\n  //   var self = this\n  //   var promise = chatMessages[bankID] ? Q() : this.searchMessagesNew(params)\n  //   return promise\n  //   .then(function(result) {\n  //     var limit = params.limit\n  //     var allMessages = chatMessages[bankID]\n\n  //     var ids = Object.keys(allMessages)\n  //     var start = ids.indexOf(utils.getId(params.lastId))\n  //     var end = Math.max(0, start - limit)\n  //     var result = []\n  //     for (var i=start - 1; i > end &&  i >= 0; i--) {\n  //       var val = list[ids[i]]\n  //       if (val)\n  //         result.push(val.value)\n  //     }\n  //     self.trigger({action: 'messageList', loadingEarlierMessages: true, list: result})\n  //   })\n  // },\n/*\n  searchMessages1(params) {\n    // if (params.loadingEarlierMessages)\n    //   return this.getMessagesBefore(params)\n\n    var query = params.query;\n    var modelName = params.modelName;\n    var meta = this.getModel(modelName).value;\n    var prop = params.prop;\n    if (typeof prop === 'string')\n      prop = meta[prop];\n    var backlink = prop ? (prop.items ? prop.items.backlink : prop) : null;\n    var foundResources = {};\n    var props = meta.properties;\n\n    // var required = meta.required;\n    var meId = utils.getId(me)\n    var meOrgId = me.isEmployee ? utils.getId(me.organization) : null;\n\n    var chatTo = params.to\n    if (chatTo  &&  chatTo.id)\n      chatTo = list[utils.getId(chatTo)].value\n    var chatId = chatTo ? utils.getId(chatTo) : null;\n    var isChatWithOrg = chatTo  &&  chatTo[TYPE] === ORGANIZATION;\n    var toId\n    var toOrg\n    let thisChatMessages\n    if (isChatWithOrg) {\n      var rep = this.getRepresentative(chatId)\n      if (!rep)\n        return\n      chatTo = rep\n      chatId = utils.getId(chatTo)\n      // isChatWithOrg = false\n      toId = utils.getId(params.to)\n      toOrg = list[toId].value\n      thisChatMessages = chatMessages[toId]\n    }\n    else {\n      if (chatTo  &&  chatTo.organization  &&  !meOrgId) {\n        toId = utils.getId(chatTo.organization)\n        thisChatMessages = chatMessages[toId]\n      }\n      else\n        thisChatMessages = chatMessages[chatId]\n    }\n    if (!thisChatMessages  &&  !params.to) {\n      thisChatMessages = []\n      Object.keys(list).filter((key) => {\n        if (list[key].value[TYPE] === modelName                           ||\n           utils.getModel(list[key].value[TYPE]).subClassOf === modelName ||\n           modelName === MESSAGE  &&  utils.getModel(list[key].value[TYPE]).interfaces) {\n          thisChatMessages.push({id: key, time: list[key].value.time})\n          return true\n        }\n      })\n    }\n    if (!thisChatMessages)\n      return null\n    // if (isChatWithOrg  &&  !chatTo.name) {\n    //   chatTo = list[chatId].value;\n    // }\n    var testMe = chatTo ? chatTo.me : null;\n    if (testMe) {\n      if (testMe === 'me') {\n        if (!originalMe)\n          originalMe = me;\n        testMe = originalMe[ROOT_HASH];\n      }\n\n      isTest = true;\n      var meId = constants.TYPES.PROFILE + '_' + testMe;\n      me = list[meId].value;\n      this.setMe(me);\n      var myIdentities = list[MY_IDENTITIES].value;\n      if (myIdentities)\n        myIdentities.currentIdentity = meId;\n    }\n    // var lastPL\n    // var sharedWithTimePairs = []\n    var from = params.from\n    var limit = params.limit ? params.limit + 1 : null\n    var isAllMessages = meta.isInterface;\n    var implementors = isAllMessages ? utils.getImplementors(modelName) : null;\n    var isVerification = modelName === VERIFICATION  ||  meta.subClassOf === VERIFICATION;\n\n    // for (var key in list) {\n    let lastId = params.lastId\n    let lastIdIdx = -1\n    for (let i=thisChatMessages.length - 1; i>=0; i--) {\n      var key = thisChatMessages[i].id\n      if (lastId && lastIdIdx === -1  &&  key === lastId) {\n        let result = this.filterResult(foundResources)\n        lastIdIdx = result.length\n        limit = result.length + limit\n        params.limit = limit - 1\n        foundResources = this.packResult(result)\n//         foundResources = {}\n//         result.forEach((fr) => {\n//           foundResources[utils.getId(fr)] = fr\n//         })\n      }\n      var iMeta = null;\n      if (isAllMessages) {\n        if (implementors) {\n          implementors.some((impl) => {\n            if (impl.id === key.split('_')[0]) {\n              iMeta = impl;\n              return true\n            }\n          })\n          if (!iMeta)\n            continue;\n        }\n      }\n      else if (list[key].value[TYPE] !== modelName) {\n        var rModel = this.getModel(list[key].value[TYPE])\n        if (!rModel)\n          continue\n        rModel = rModel.value;\n        if (rModel.subClassOf !== modelName)\n          continue;\n      }\n      if (!iMeta)\n        iMeta = meta;\n      var r = list[key].value;\n      if (r.canceled)\n        continue;\n      var isFormError = isAllMessages && r[TYPE] === FORM_ERROR\n      // Make sure that the messages that are showing in chat belong to the conversation between these participants\n      if (isVerification) {\n        // if (r.organization) {\n        //   if (!r.organization.photos) {\n        //     var orgPhotos = list[utils.getId(r.organization.id)].value.photos;\n        //     if (orgPhotos)\n        //       r.organization.photos = [orgPhotos[0]];\n        //   }\n        // }\n        if (r.document) {\n          var d = list[utils.getId(r.document)]\n          if (!d)\n            continue\n          if (params.resource  &&  utils.getId(params.resource) !== utils.getId(d.value))\n            continue\n          r.document = d.value;\n        }\n      }\n      else if (isFormError) {\n        r.prefill = list[utils.getId(r.prefill)] ? list[utils.getId(r.prefill)].value : r.prefill\n      }\n      // HACK to not show service message in customer stream\n      else if (r.message  &&  r.message.length)  {\n        if (r[TYPE] === SELF_INTRODUCTION  &&  !params.isForgetting && (utils.getId(r.to) !== meId))\n          continue\n        if (r.message === '[already published](tradle.Identity)')\n          continue\n        var m = utils.splitMessage(r.message)\n\n        if (m.length === 2) {\n          if (m[1] === PROFILE)\n            continue;\n        }\n        if (chatTo.organization  &&  r[TYPE] === constants.TYPES.CUSTOMER_WAITING) {\n          var rid = utils.getId(chatTo.organization);\n\n          // if (rid.indexOf(ORGANIZATION) === 0) {\n          var org = list[utils.getId(r.to)].value.organization\n          var orgId = utils.getId(org)\n          // if (params.isForgetting  &&  orgId === rid) {\n          //   // foundResources[key] = r\n          //   sharedWithTimePairs.push({\n          //      time: r.time,\n          //      resource: r\n          //   })\n          // }\n          if (!utils.isEmployee(list[utils.getId(chatTo.organization)].value))\n          // if (!me.isEmployee  ||  rid !== utils.getId(me.organization))\n            continue;\n         // }\n        }\n\n        // Show only the last 'Choose the product' message\n        // else if (r[TYPE] === PRODUCT_LIST) {\n          // if (!lastPL  ||  lastPL.time < r.time) {\n          //   var id = utils.getId(r.from)\n          //   if (utils.getId(list[id].value.organization) === toId)\n          //     lastPL = r\n          // }\n          // continue;\n        // }\n        // else if (m.length === 2  &&  m[0] === '[application for') {\n          // continue\n          // var id = utils.getId(r.to)\n          // if (id === toId) {\n          //   var fr = foundResources[foundResources.length - 1]\n          //   if ()\n          // }\n        // }\n      }\n      var isSharedWith = false, timeResourcePair = null\n      if (r.sharedWith  &&  toId) {\n        var sharedWith = r.sharedWith.filter(function(r) {\n          let org = list[r.bankRepresentative].value.organization\n          return (org) ? utils.getId(org) === toId : false\n        })\n        isSharedWith = sharedWith.length !== 0\n        if (isSharedWith) {\n          timeResourcePair = {\n            time: sharedWith[0].timeShared,\n            resource: r\n          }\n        }\n      }\n\n      if (chatTo) {\n        if (backlink  &&  r[backlink]) {\n          var s = params.resource ? utils.getId(params.resource) : chatId\n          if (s === utils.getId(r[backlink])) {\n            foundResources[key] = r;\n            // if (timeResourcePair)\n            //   sharedWithTimePairs.push(timeResourcePair)\n            // else\n            //   sharedWithTimePairs.push({\n            //     time: r.time,\n            //     resource: r\n            //   })\n            // for Loading earlier resources we don't need to check limit untill we get to the lastId\n            if (lastId && lastIdIdx === -1)\n              continue\n            if (limit  &&  Object.keys(foundResources).length === limit) {\n              let result = this.filterResult(foundResources)\n              if (result.length === limit)\n                return result\n              else\n                foundResources = this.packResult(result)\n            }\n          }\n\n          continue;\n        }\n\n        var m = this.getModel(r[TYPE]).value\n        var isVerificationR = r[TYPE] === VERIFICATION  ||  m.subClassOf === VERIFICATION\n        var isForm = m.subClassOf === FORM\n        var isMyProduct = m.subClassOf === MY_PRODUCT\n        let isProductApplication = m.id === PRODUCT_APPLICATION\n        if ((!r.message  ||  r.message.trim().length === 0) && !r.photos &&  !isVerificationR  &&  !isForm  &&  !isMyProduct && !isProductApplication)\n          // check if this is verification resource\n          continue;\n        var fromID = utils.getId(r.from);\n        var toID = utils.getId(r.to);\n\n        if (params.strict) {\n          if (chatId !== toID)\n            continue\n        }\n        if (fromID !== meId  &&  toID !== meId  &&  toID != meOrgId)\n          continue;\n        if (isChatWithOrg) {\n          if (isVerificationR) {\n            let org = list[fromID].value.organization\n            if (!org)\n              org = list[toID].value.organization\n\n            let msgOrgId = utils.getId(org)\n            if (toId !== msgOrgId) {\n              // if (!isSharedWith)\n                continue\n              // let sharedWithThisOrg = r.sharedWith.filter((s) => {\n              //   let rep = list[s.bankRepresentative].value\n              //   if (utils.getId(rep.organization) === toId)\n              //     return true\n              // })\n              // if (!sharedWithThisOrg  ||  !sharedWithThisOrg.length)\n              //   continue\n            }\n          }\n          else {\n            let msgOrg\n            if (toID !== meId) {\n              msgOrg = list[toID].value.organization\n              if (!msgOrg)\n                msgOrg = list[fromID].value.organization\n            }\n            else {\n              msgOrg = list[fromID].value.organization\n              if (!msgOrg)\n                msgOrg = list[toID].value.organization\n            }\n            let msgOrgId = utils.getId(msgOrg)\n            if (toId !== msgOrgId  &&  (!isSharedWith || isVerificationR)) // do not show shared verifications\n              continue\n           //   let msgOrgTo = list[toID].value.organization\n          //   let msgOrgFrom = list[fromID].value.organization\n          // // if (toID === meId)\n          // //   continue\n          //   let msgOrg\n          //   if (!msgOrgTo  ||  (msgOrgFrom  &&  toID !== meId))\n          //     msgOrg = msgOrgFrom\n          //   else\n          //     msgOrg = msgOrgTo\n\n          //   let msgOrgId = utils.getId(msgOrg)\n          //   if (toId !== msgOrgId  &&  !isSharedWith)\n          //     continue\n          }\n        }\n        else {\n          if (!isSharedWith  &&  fromID !== chatId  &&  toID != chatId  &&  toID != meOrgId)\n            continue;\n        }\n      }\n      if (params.strict  &&  chatId !== utils.getId(r.to))\n        continue\n\n      if (r.sharedWith  &&  toId  &&  !isSharedWith)\n        continue\n      // if (r.sharedWith  &&  toId) {\n      //   var arr = r.sharedWith.filter(function(r) {\n      //     return utils.getId(list[r.bankRepresentative].value.organization) === toId\n      //   })\n      //   if (!arr.length)\n      //     continue\n      //  }\n       if (isVerificationR  ||  r[TYPE] === ADDITIONAL_INFO) {\n        // if (!isSharedWith)\n        //   continue\n        var doc = {};\n        var rDoc = list[utils.getId(r.document)]\n        if (!rDoc) {\n          if (params.isForgetting) {\n            foundResources[key] = r\n            // if (timeResourcePair)\n            //   sharedWithTimePairs.push(timeResourcePair)\n            // else\n            //   sharedWithTimePairs.push({\n            //     time: r.time,\n            //     resource: r\n            //   })\n          }\n          continue\n        }\n\n        // extend(true, doc, rDoc.value);\n        // TODO: check if we can copy by reference\n        for (var p in rDoc.value) {\n          if (p === 'verifications' || p === 'additionalInfo') continue\n\n          var val = rDoc.value[p]\n          switch (typeof val) {\n            case 'object':\n              if (val) {\n                if (Array.isArray(val))\n                  doc[p] = val.slice(0)\n                else\n                  doc[p] = extend(true, {}, val)\n              }\n              break\n            default:\n              doc[p] = val\n              break\n          }\n        }\n\n        r.document = doc;\n      }\n\n      if (!query) {\n        var msg = this.fillMessage(r);\n        if (!msg)\n          msg = r\n        foundResources[key] = msg;\n        // if (!timeResourcePair)\n        //   sharedWithTimePairs.push({\n        //     time: r.time,\n        //     resource: msg\n        //   })\n        // else {\n        //   timeResourcePair.resource = msg\n        //   sharedWithTimePairs.push(timeResourcePair)\n        // }\n        if (lastId  &&  lastIdIdx === -1)\n          continue\n        if (limit  &&  Object.keys(foundResources).length === limit) {\n          let result = this.filterResult(foundResources)\n          if (result.length === limit)\n            return result\n          foundResources = this.packResult(result)\n        }\n\n        continue;\n      }\n       // primitive filtering for this commit\n      var combinedValue = '';\n      for (var rr in props) {\n        if (r[rr] instanceof Array)\n         continue;\n        combinedValue += combinedValue ? ' ' + r[rr] : r[rr];\n      }\n      if (!combinedValue  ||  (combinedValue  &&  (!query || combinedValue.toLowerCase().indexOf(query.toLowerCase()) != -1))) {\n        foundResources[key] = this.fillMessage(r);\n        // if (timeResourcePair)\n        //   sharedWithTimePairs.push(timeResourcePair)\n        // else\n        //   sharedWithTimePairs.push({\n        //     time: r.time,\n        //     resource: r\n        //   })\n\n        if (limit  &&  Object.keys(foundResources).length === limit) {\n          let result = this.filterResult(foundResources)\n          if (result.length === limit)\n            return result\n          foundResources = this.packResult(result)\n        }\n      }\n    }\n\n//     sharedWithTimePairs.sort(function(a, b) {\n//       return a.time - b.time;\n//     });\n\n      let result = this.filterResult(foundResources)\n//           if (result.length === limit)\n//             break;\n//           else {\n//             foundResources = {}\n//             result.forEach((fr) => {\n//               foundResources[utils.getId(fr)] = fr\n//             })\n//           }\n\n//        var result = Object.values(foundResources)\n//     var result = []\n//     sharedWithTimePairs.forEach((r) => {\n//       result.push(r.resource)\n//     })\n\n    // var result = utils.objectToArray(foundResources);\n    // if (lastPL)\n    //   result.push(lastPL)\n\n    if (params.isForgetting)\n      return result\n    // let paRequests = {}\n    // let formRequests = {}\n//     this.filterResult(result)\n    // There was a case when FormRequest was following ProductList over and over with the same form\n    // let curFormRequest\n    // let removeNext\n    // result = result.filter((r, i) => {\n    //   if (r[TYPE] === PRODUCT_LIST) {\n    //     var next = result[i + 1]\n    //     if (next) {\n    //        if (next[TYPE] === PRODUCT_LIST)\n    //         return false\n    //       else if (next[TYPE] === FORM_REQUEST  &&  !next.documentCreated) {\n    //         if (!curFormRequest)\n    //           return true\n    //         if (curFormRequest === next.product)\n    //           return false\n    //       }\n    //     }\n    //   }\n    //   else if (r[TYPE] === FORM_REQUEST) {\n    //     if (r.documentCreated)\n    //       return true\n    //     if (r.product === curFormRequest)\n    //      return false\n    //     curFormRequest = r.product\n    //   }\n    //   return true\n    // })\n    return result //.reverse();\n  },\n\n  // filterResult(result, lastId, toOrgId) {\n  //   if (!result)\n  //     return\n  //   if (!Array.isArray(result))\n  //     result = Object.values(result) //.reverse()\n  //   if (!result  ||  !result.length)\n  //     return\n\n  //   result.sort(function(a, b) {\n  //     return a.time - b.time;\n  //   });\n\n  //   let meId = utils.getId(me)\n  //   let newResult = result.filter((rr, i) => {\n  //     let time = rr.time\n  //     let r = rr.value\n  //     if (r[TYPE] === PRODUCT_LIST  &&  i !== result.length - 1) {\n  //       var next = result[i + 1].value\n  //       if (next && next[TYPE] === PRODUCT_LIST)\n  //         return false\n  //     }\n  //     // if (r[TYPE] === CUSTOMER_WAITING) {\n  //     //   let f = list[utils.getId(r.from)].value.organization\n  //     //   let t = list[utils.getId(r.to)].value.organization\n  //     //   if (utils.getId(f) === utils.getId(t))\n  //     //     return false\n  //     // }\n  //     if (r[TYPE] === SELF_INTRODUCTION) {\n  //       // var next = result[i + 1]\n  //       // if (next && next[TYPE] === SELF_INTRODUCTION)\n  //         return false\n  //     }\n  //     // Check if there was request for the next form after multy-entry form\n  //     if (r[TYPE] === FORM_REQUEST  &&  !r.document && r.documentCreated)\n  //       return false\n  //     // Gather info about duplicate requests for the same product\n  //     // if (r[TYPE] === PRODUCT_APPLICATION)  {\n  //     //   if (!paRequests[r.product])\n  //     //     paRequests[r.product] = []\n  //     //   paRequests[r.product].push(i)\n  //     // }\n  //     // if (r[TYPE] === SIMPLE_MESSAGE  &&  r.message) {\n  //     //   let parts = utils.splitMessage(r.message)\n  //     //   if (parts.length === 2) {\n  //     //     let formM = utils.getModel(parts[1])\n  //     //     if (formM) {\n  //     //       if (!formRequests[parts[1]])\n  //     //         formRequests[parts[1]] = []\n  //     //       formRequests[parts[1]].push(i)\n  //     //     }\n  //     //   }\n  //     // }\n  //     let fromId = utils.getId(r.from)\n\n  //     if (!me.isEmployee  &&  fromId !== meId  &&  list[fromId]) {\n  //       let rFrom = list[fromId].value\n  //       if (!rFrom.bot) {\n  //         let photos = list[fromId].value.photos\n  //         if (photos)\n  //           r.from.photo = photos[0]\n  //         else\n  //           r.from.photo = employee\n  //       }\n  //     }\n  //     let m = this.getModel(r[TYPE]).value\n  //     let isMyProduct = m.subClassOf === MY_PRODUCT\n  //     let isForm = !isMyProduct && m.subClassOf === FORM\n  //     // r.from.photos = list[utils.getId(r.from)].value.photos;\n  //     // var to = list[utils.getId(r.to)]\n  //     // if (!to) console.log(r.to)\n  //     // r.to.photos = to  &&  to.value.photos;\n  //     if (isMyProduct)\n  //       r.from.organization = list[utils.getId(r.from)].value.organization\n  //     else if (isForm) {\n  //       // set organization and photos for items properties for better displaying\n  //       let form = list[utils.getId(r.to)].value\n  //       if (toOrgId  &&  r.sharedWith  &&  r.sharedWith.length > 1) {\n  //         // if (utils.getId(r.to.organization) !== toOrgId) {\n  //         //   let filteredVerifications = this.getSharedVerificationsAboutThisForm(r, toOrgId)\n  //         // }\n  //       }\n  //       r.to.organization = form.organization\n  //       for (var p in r) {\n  //         if (!m.properties[p]  ||  m.properties[p].type !== 'array' ||  !m.properties[p].items.ref)\n  //           continue\n  //         let pModel = this.getModel(m.properties[p].items.ref).value\n  //         if (pModel.properties.photos) {\n  //           let items = r[p]\n  //           items.forEach((ir) => {\n  //             let itemPhotos = list[utils.getId(ir)].value.photos\n  //             if (itemPhotos)\n  //               ir.photo = itemPhotos[0].url\n  //           })\n  //         }\n  //       }\n  //     }\n  //     return true\n  //   })\n  //   if (lastId  &&  lastId.split('_')[0] === PRODUCT_LIST) {\n  //     let i=newResult.length - 1\n  //     for (; i>=0; i--)\n  //       if (newResult[i][TYPE] !== PRODUCT_LIST)\n  //         break\n  //       newResult.splice(i, 1)\n  //   }\n  //   return newResult\n  //   // return newResult.reverse()\n  // },\n  // getSharedVerificationsAboutThisForm(form, toOrgId) {\n  //   let result = this.searchMessages({modelName: VERIFICATION, to: utils.getMe(), strict: true})\n  //   // let result = this.searchMessages({modelName: VERIFICATION, to: to, strict: true, filterProps: {from: utils.getMe(), document: utils.getId(form)}})\n  //   let formId = utils.getId(form)\n  //   return result.filter((r) => {\n  //     if (utils.getId(r.document) !== formId)\n  //       return false\n  //     let fromOrgId = utils.getId(list[utils.getId(r.from)].value.organization)\n  //     if (fromOrgId === toOrgId)\n  //       return false\n  //     return true\n  //   })\n  // },\n  searchMessages(params) {\n    var query = params.query;\n    var modelName = params.modelName;\n    var meta = this.getModel(modelName).value;\n    var prop = params.prop;\n    if (typeof prop === 'string')\n      prop = meta[prop];\n    var backlink = prop ? (prop.items ? prop.items.backlink : prop) : null;\n    var foundResources = [];\n    var props = meta.properties;\n\n    // var required = meta.required;\n    var meId = utils.getId(me)\n    var meOrgId = me.isEmployee ? utils.getId(me.organization) : null;\n\n    var chatTo = params.to\n    if (chatTo  &&  chatTo.id)\n      chatTo = list[utils.getId(chatTo)].value\n    var chatId = chatTo ? utils.getId(chatTo) : null;\n    var isChatWithOrg = chatTo  &&  chatTo[TYPE] === ORGANIZATION;\n    var toOrgId\n    var toOrg\n    let thisChatMessages\n\n    if (isChatWithOrg) {\n      var rep = this.getRepresentative(chatId)\n      if (!rep)\n        return\n      chatTo = rep\n      chatId = utils.getId(chatTo)\n      // isChatWithOrg = false\n      toOrgId = utils.getId(params.to)\n      toOrg = list[toOrgId].value\n      thisChatMessages = chatMessages[toOrgId]\n    }\n    else {\n      if (chatTo) {\n        if (chatTo.organization  &&  !meOrgId) {\n          toOrgId = utils.getId(chatTo.organization)\n          thisChatMessages = chatMessages[toOrgId]\n        }\n        else\n          thisChatMessages = chatMessages[utils.getId(chatTo)]\n      }\n//       else if (chatId === meId) {\n// console.log('What are we doing here!!! chatId: ' + chatId)\n//         thisChatMessages = chatMessages[chatId]\n//       }\n    }\n    if (!thisChatMessages  &&  (!params.to  ||  chatId === meId)) {\n      thisChatMessages = []\n      Object.keys(list).filter((key) => {\n        let type = list[key].value[TYPE]\n        let m = this.getModel(type)\n        if (!m)\n          return false\n        if (type === modelName                      ||\n           m.value.subClassOf === modelName         ||\n           (modelName === MESSAGE  &&  m.value.interfaces)) {\n          thisChatMessages.push({id: key, time: list[key].value.time})\n          return true\n        }\n      })\n    }\n\n    if (!thisChatMessages  ||  !thisChatMessages.length)\n      return null\n    // if (isChatWithOrg  &&  !chatTo.name) {\n    //   chatTo = list[chatId].value;\n    // }\n    var testMe = chatTo ? chatTo.me : null;\n    if (testMe) {\n      if (testMe === 'me') {\n        if (!originalMe)\n          originalMe = me;\n        testMe = originalMe[ROOT_HASH];\n      }\n\n      isTest = true;\n      var meId = constants.TYPES.PROFILE + '_' + testMe;\n      me = list[meId].value;\n      this.setMe(me);\n      var myIdentities = list[MY_IDENTITIES].value;\n      if (myIdentities)\n        myIdentities.currentIdentity = meId;\n    }\n    // var lastPL\n    // var sharedWithTimePairs = []\n    var from = params.from\n    var limit = params.limit ? params.limit + 1 : null\n    var isAllMessages = meta.isInterface;\n    var implementors = isAllMessages ? utils.getImplementors(modelName) : null;\n    var isVerification = modelName === VERIFICATION  ||  meta.subClassOf === VERIFICATION;\n\n    // for (var key in list) {\n    let lastId = params.lastId\n    let ii = thisChatMessages.length - 1\n    if (lastId) {\n      for (; ii>=0; ii--) {\n        if (thisChatMessages[ii].id === lastId) {\n          ii--\n          break\n        }\n      }\n    }\n    let resourceId = params.resource ? utils.getId(params.resource) : null\n    for (let i=ii; i>=0; i--) {\n      var key = thisChatMessages[i].id\n      var iMeta = null;\n      if (isAllMessages) {\n        iMeta = utils.getModel(key.split('_')[0]).value\n        // if (implementors) {\n        //   implementors.some((impl) => {\n        //     if (impl.id === key.split('_')[0]) {\n        //       iMeta = impl;\n        //       return true\n        //     }\n        //   })\n        //   if (!iMeta)\n        //     continue;\n        // }\n      }\n      else if (list[key].value[TYPE] !== modelName) {\n        var rModel = this.getModel(list[key].value[TYPE])\n        if (!rModel)\n          continue\n        rModel = rModel.value;\n        // Checks for the first level of subClasses\n        if (rModel.subClassOf !== modelName)\n          continue;\n      }\n      if (!iMeta)\n        iMeta = meta;\n      var r = list[key].value;\n      if (r.canceled)\n        continue;\n      var isFormError = isAllMessages && r[TYPE] === FORM_ERROR\n      // Make sure that the messages that are showing in chat belong to the conversation between these participants\n      if (isVerification) {\n        if (r.document) {\n          var d = list[utils.getId(r.document)]\n          if (!d)\n            continue\n\n          if (params.resource  &&  resourceId !== meId  && utils.getId(params.resource) !== utils.getId(d.value))\n            continue\n          r.document = d.value;\n        }\n      }\n      else if (isFormError)\n        r.prefill = list[utils.getId(r.prefill)] ? list[utils.getId(r.prefill)].value : r.prefill\n\n      // HACK to not show service message in customer stream\n      else if (r.message  &&  r.message.length)  {\n        if (r[TYPE] === SELF_INTRODUCTION  &&  !params.isForgetting && (utils.getId(r.to) !== meId))\n          continue\n        if (r.message === '[already published](tradle.Identity)')\n          continue\n        var m = utils.splitMessage(r.message)\n\n        if (m.length === 2) {\n          if (m[1] === PROFILE)\n            continue;\n        }\n        if (chatTo.organization  &&  r[TYPE] === constants.TYPES.CUSTOMER_WAITING) {\n          var rid = utils.getId(chatTo.organization);\n\n          var org = list[utils.getId(r.to)].value.organization\n          var orgId = utils.getId(org)\n          if (!utils.isEmployee(list[utils.getId(chatTo.organization)].value))\n            continue;\n        }\n\n      }\n\n      var isSharedWith = false, timeResourcePair = null\n      if (r.sharedWith  &&  toOrgId) {\n        var sharedWith = r.sharedWith.filter(function(r) {\n          let org = list[r.bankRepresentative].value.organization\n          return (org) ? utils.getId(org) === toOrgId : false\n        })\n        isSharedWith = sharedWith.length !== 0\n        if (isSharedWith) {\n          timeResourcePair = {\n            time: sharedWith[0].timeShared,\n            resource: r\n          }\n        }\n      }\n\n      if (chatTo) {\n        // backlinks like myVerifications, myDocuments etc. on Profile\n        if (backlink  &&  r[backlink]) {\n          var s = params.resource ? utils.getId(params.resource) : chatId\n          if (s === utils.getId(r[backlink])) {\n            foundResources.push(r)\n            // for Loading earlier resources we don't need to check limit untill we get to the lastId\n            if (limit  &&  foundResources.length === limit)\n              return foundResources.reverse()\n          }\n\n          continue;\n        }\n\n        var m = this.getModel(r[TYPE]).value\n        var isVerificationR = r[TYPE] === VERIFICATION  ||  m.subClassOf === VERIFICATION\n        var isForm = m.subClassOf === FORM\n        var isMyProduct = m.subClassOf === MY_PRODUCT\n        let isProductApplication = m.id === PRODUCT_APPLICATION\n        if ((!r.message  ||  r.message.trim().length === 0) && !r.photos &&  !isVerificationR  &&  !isForm  &&  !isMyProduct && !isProductApplication)\n          // check if this is verification resource\n          continue;\n        var fromID = utils.getId(r.from);\n        var toID = utils.getId(r.to);\n\n        if (params.strict) {\n          if (chatId !== toID)\n            continue\n        }\n\n        // if (fromID !== meId  &&  toID !== meId  &&  toID != meOrgId)\n        //   continue;\n        // if (isChatWithOrg) {\n          // if (isVerificationR) {\n          //   let org = list[fromID].value.organization\n          //   if (!org)\n          //     org = list[toID].value.organization\n\n          //   let msgOrgId = utils.getId(org)\n          //   if (toOrgId !== msgOrgId) {\n          //     // if (!isSharedWith)\n          //       continue\n          //     // let sharedWithThisOrg = r.sharedWith.filter((s) => {\n          //     //   let rep = list[s.bankRepresentative].value\n          //     //   if (utils.getId(rep.organization) === toOrgId)\n          //     //     return true\n          //     // })\n          //     // if (!sharedWithThisOrg  ||  !sharedWithThisOrg.length)\n          //     //   continue\n          //   }\n          // }\n          // else {\n          //   let msgOrg\n          //   if (toID !== meId) {\n          //     msgOrg = list[toID].value.organization\n          //     if (!msgOrg)\n          //       msgOrg = list[fromID].value.organization\n          //   }\n          //   else {\n          //     msgOrg = list[fromID].value.organization\n          //     if (!msgOrg)\n          //       msgOrg = list[toID].value.organization\n          //   }\n          //   let msgOrgId = utils.getId(msgOrg)\n          //   if (toOrgId !== msgOrgId  &&  (!isSharedWith || isVerificationR)) // do not show shared verifications\n          //     continue\n          // }\n      //   }\n      //   else {\n      //     if (!isSharedWith  &&  fromID !== chatId  &&  toID != chatId  &&  toID != meOrgId)\n      //       continue;\n      //   }\n      }\n      if (params.strict  &&  chatId !== utils.getId(r.to))\n        continue\n\n      if (r.sharedWith  &&  toOrgId  &&  !isSharedWith)\n        continue\n      if (isVerificationR  ||  r[TYPE] === ADDITIONAL_INFO) {\n        var doc = {};\n        var rDoc = list[utils.getId(r.document)]\n        if (!rDoc) {\n          if (params.isForgetting)\n            foundResources.push(r)\n          continue\n        }\n\n        // TODO: check if we can copy by reference\n        for (var p in rDoc.value) {\n          if (p === 'verifications' || p === 'additionalInfo') continue\n\n          var val = rDoc.value[p]\n          switch (typeof val) {\n            case 'object':\n              if (val) {\n                if (Array.isArray(val))\n                  doc[p] = val.slice(0)\n                else\n                  doc[p] = extend(true, {}, val)\n              }\n              break\n            default:\n              doc[p] = val\n              break\n          }\n        }\n\n        r.document = doc;\n      }\n\n      if (!query) {\n        var msg = this.fillMessage(r);\n        if (!msg)\n          msg = r\n        // foundResources[key] = msg;\n        foundResources.push(msg)\n        if (limit  &&  foundResources.length === limit)\n          return foundResources.reverse()\n\n        continue;\n      }\n       // primitive filtering for this commit\n      var combinedValue = '';\n      for (var rr in props) {\n        if (r[rr] instanceof Array)\n         continue;\n        combinedValue += combinedValue ? ' ' + r[rr] : r[rr];\n      }\n      if (!combinedValue  ||  (combinedValue  &&  (!query || combinedValue.toLowerCase().indexOf(query.toLowerCase()) != -1))) {\n        // foundResources[key] = this.fillMessage(r);\n        foundResources.push(this.fillMessage(r))\n\n        if (limit  &&  foundResources.length === limit)\n          return foundResources.reverse()\n      }\n    }\n    if (!foundResources.length)\n      return\n    return foundResources.reverse()// this.filterResult(foundResources, lastId, toOrg ? utils.getId(toOrg) : null)\n    // result.sort(function(a, b) {\n    //   return a.time - b.time;\n    // });\n    // return this.getSearchResult(result)\n\n    // if (params.isForgetting)\n    //   return result\n    // return result //.reverse();\n  },\n  searchMessages(params) {\n    var query = params.query;\n    var modelName = params.modelName;\n    var meta = this.getModel(modelName).value;\n    var prop = params.prop;\n    if (typeof prop === 'string')\n      prop = meta[prop];\n    var backlink = prop ? (prop.items ? prop.items.backlink : prop) : null;\n    var foundResources = [];\n    var props = meta.properties;\n\n    // var required = meta.required;\n    var meId = utils.getId(me)\n    var meOrgId = me.isEmployee ? utils.getId(me.organization) : null;\n\n    var chatTo = params.to\n    if (chatTo  &&  chatTo.id)\n      chatTo = list[utils.getId(chatTo)].value\n    var chatId = chatTo ? utils.getId(chatTo) : null;\n    var isChatWithOrg = chatTo  &&  chatTo[TYPE] === ORGANIZATION;\n    var toOrgId\n    var toOrg\n    let thisChatMessages\n\n    if (isChatWithOrg) {\n      var rep = this.getRepresentative(chatId)\n      if (!rep)\n        return\n      chatTo = rep\n      chatId = utils.getId(chatTo)\n      // isChatWithOrg = false\n      toOrgId = utils.getId(params.to)\n      toOrg = list[toOrgId].value\n      thisChatMessages = chatMessages[toOrgId]\n    }\n    else {\n      if (chatTo) {\n        if (chatTo.organization  &&  !meOrgId) {\n          toOrgId = utils.getId(chatTo.organization)\n          thisChatMessages = chatMessages[toOrgId]\n        }\n        else\n          thisChatMessages = chatMessages[utils.getId(chatTo)]\n      }\n//       else if (chatId === meId) {\n// console.log('What are we doing here!!! chatId: ' + chatId)\n//         thisChatMessages = chatMessages[chatId]\n//       }\n    }\n    if (!thisChatMessages  &&  (!params.to  ||  chatId === meId)) {\n      thisChatMessages = []\n      Object.keys(list).filter((key) => {\n        let type = list[key].value[TYPE]\n        let m = this.getModel(type)\n        if (!m)\n          return false\n        if (type === modelName                      ||\n           m.value.subClassOf === modelName         ||\n           (modelName === MESSAGE  &&  m.value.interfaces)) {\n          thisChatMessages.push({id: key, time: list[key].value.time})\n          return true\n        }\n      })\n    }\n\n    if (!thisChatMessages  ||  !thisChatMessages.length)\n      return null\n    // if (isChatWithOrg  &&  !chatTo.name) {\n    //   chatTo = list[chatId].value;\n    // }\n    var testMe = chatTo ? chatTo.me : null;\n    if (testMe) {\n      if (testMe === 'me') {\n        if (!originalMe)\n          originalMe = me;\n        testMe = originalMe[ROOT_HASH];\n      }\n\n      isTest = true;\n      var meId = constants.TYPES.PROFILE + '_' + testMe;\n      me = list[meId].value;\n      this.setMe(me);\n      var myIdentities = list[MY_IDENTITIES].value;\n      if (myIdentities)\n        myIdentities.currentIdentity = meId;\n    }\n    // var lastPL\n    // var sharedWithTimePairs = []\n    var from = params.from\n    var limit = params.limit ? params.limit + 1 : null\n    var isAllMessages = meta.isInterface;\n    var implementors = isAllMessages ? utils.getImplementors(modelName) : null;\n    var isVerification = modelName === VERIFICATION  ||  meta.subClassOf === VERIFICATION;\n\n    // for (var key in list) {\n    let lastId = params.lastId\n    let ii = thisChatMessages.length - 1\n    if (lastId) {\n      for (; ii>=0; ii--) {\n        if (thisChatMessages[ii].id === lastId) {\n          ii--\n          break\n        }\n      }\n    }\n    let resourceId = params.resource ? utils.getId(params.resource) : null\n    for (let i=ii; i>=0; i--) {\n      var key = thisChatMessages[i].id\n      var iMeta = null;\n      if (isAllMessages) {\n        iMeta = utils.getModel(key.split('_')[0]).value\n        // if (implementors) {\n        //   implementors.some((impl) => {\n        //     if (impl.id === key.split('_')[0]) {\n        //       iMeta = impl;\n        //       return true\n        //     }\n        //   })\n        //   if (!iMeta)\n        //     continue;\n        // }\n      }\n      else if (list[key].value[TYPE] !== modelName) {\n        var rModel = this.getModel(list[key].value[TYPE])\n        if (!rModel)\n          continue\n        rModel = rModel.value;\n        // Checks for the first level of subClasses\n        if (rModel.subClassOf !== modelName)\n          continue;\n      }\n      if (!iMeta)\n        iMeta = meta;\n      var r = list[key].value;\n      if (r.canceled)\n        continue;\n      var isFormError = isAllMessages && r[TYPE] === FORM_ERROR\n      // Make sure that the messages that are showing in chat belong to the conversation between these participants\n      if (isVerification) {\n        if (r.document) {\n          var d = list[utils.getId(r.document)]\n          if (!d)\n            continue\n\n          if (params.resource  &&  resourceId !== meId  && utils.getId(params.resource) !== utils.getId(d.value))\n            continue\n          r.document = d.value;\n        }\n      }\n      else if (isFormError)\n        r.prefill = list[utils.getId(r.prefill)] ? list[utils.getId(r.prefill)].value : r.prefill\n\n      // HACK to not show service message in customer stream\n      else if (r.message  &&  r.message.length)  {\n        if (r[TYPE] === SELF_INTRODUCTION  &&  !params.isForgetting && (utils.getId(r.to) !== meId))\n          continue\n        if (r.message === '[already published](tradle.Identity)')\n          continue\n        var m = utils.splitMessage(r.message)\n\n        if (m.length === 2) {\n          if (m[1] === PROFILE)\n            continue;\n        }\n        if (chatTo.organization  &&  r[TYPE] === constants.TYPES.CUSTOMER_WAITING) {\n          var rid = utils.getId(chatTo.organization);\n\n          var org = list[utils.getId(r.to)].value.organization\n          var orgId = utils.getId(org)\n          if (!utils.isEmployee(list[utils.getId(chatTo.organization)].value))\n            continue;\n        }\n\n      }\n\n      var isSharedWith = false, timeResourcePair = null\n      if (r.sharedWith  &&  toOrgId) {\n        var sharedWith = r.sharedWith.filter(function(r) {\n          let org = list[r.bankRepresentative].value.organization\n          return (org) ? utils.getId(org) === toOrgId : false\n        })\n        isSharedWith = sharedWith.length !== 0\n        if (isSharedWith) {\n          timeResourcePair = {\n            time: sharedWith[0].timeShared,\n            resource: r\n          }\n        }\n      }\n\n      if (chatTo) {\n        // backlinks like myVerifications, myDocuments etc. on Profile\n        if (backlink  &&  r[backlink]) {\n          var s = params.resource ? utils.getId(params.resource) : chatId\n          if (s === utils.getId(r[backlink])) {\n            foundResources.push(r)\n            // for Loading earlier resources we don't need to check limit untill we get to the lastId\n            if (limit  &&  foundResources.length === limit)\n              return foundResources.reverse()\n          }\n\n          continue;\n        }\n\n        var m = this.getModel(r[TYPE]).value\n        var isVerificationR = r[TYPE] === VERIFICATION  ||  m.subClassOf === VERIFICATION\n        var isForm = m.subClassOf === FORM\n        var isMyProduct = m.subClassOf === MY_PRODUCT\n        let isProductApplication = m.id === PRODUCT_APPLICATION\n        if ((!r.message  ||  r.message.trim().length === 0) && !r.photos &&  !isVerificationR  &&  !isForm  &&  !isMyProduct && !isProductApplication)\n          // check if this is verification resource\n          continue;\n        var fromID = utils.getId(r.from);\n        var toID = utils.getId(r.to);\n\n        if (params.strict) {\n          if (chatId !== toID)\n            continue\n        }\n      }\n      if (params.strict  &&  chatId !== utils.getId(r.to))\n        continue\n\n      if (r.sharedWith  &&  toOrgId  &&  !isSharedWith)\n        continue\n      if (isVerificationR  ||  r[TYPE] === ADDITIONAL_INFO) {\n        var doc = {};\n        var rDoc = list[utils.getId(r.document)]\n        if (!rDoc) {\n          if (params.isForgetting)\n            foundResources.push(r)\n          continue\n        }\n\n        // TODO: check if we can copy by reference\n        for (var p in rDoc.value) {\n          if (p === 'verifications' || p === 'additionalInfo') continue\n\n          var val = rDoc.value[p]\n          switch (typeof val) {\n            case 'object':\n              if (val) {\n                if (Array.isArray(val))\n                  doc[p] = val.slice(0)\n                else\n                  doc[p] = extend(true, {}, val)\n              }\n              break\n            default:\n              doc[p] = val\n              break\n          }\n        }\n\n        r.document = doc;\n      }\n\n      if (!query) {\n        var msg = this.fillMessage(r);\n        if (!msg)\n          msg = r\n        // foundResources[key] = msg;\n        foundResources.push(msg)\n        if (limit  &&  foundResources.length === limit)\n          return foundResources.reverse()\n\n        continue;\n      }\n       // primitive filtering for this commit\n      var combinedValue = '';\n      for (var rr in props) {\n        if (r[rr] instanceof Array)\n         continue;\n        combinedValue += combinedValue ? ' ' + r[rr] : r[rr];\n      }\n      if (!combinedValue  ||  (combinedValue  &&  (!query || combinedValue.toLowerCase().indexOf(query.toLowerCase()) != -1))) {\n        // foundResources[key] = this.fillMessage(r);\n        foundResources.push(this.fillMessage(r))\n\n        if (limit  &&  foundResources.length === limit)\n          return foundResources.reverse()\n      }\n    }\n    if (!foundResources.length)\n      return\n    return foundResources.reverse()// this.filterResult(foundResources, lastId, toOrg ? utils.getId(toOrg) : null)\n    // result.sort(function(a, b) {\n    //   return a.time - b.time;\n    // });\n    // return this.getSearchResult(result)\n\n    // if (params.isForgetting)\n    //   return result\n    // return result //.reverse();\n  },\n  createFromIdentity(r) {\n    var rr = {};\n    if (r.name) {\n      for (var p in r.name)\n        rr[p] = r.name[p];\n    }\n    if (r.location) {\n      for (var p in r.location)\n        rr[p] = r.location[p];\n    }\n    for (var p in r)\n      if (p !== 'name' && p !== 'location')\n        rr[p] = r[p];\n    return rr;\n  },\n  onAddApp(serverUrl) {\n    let parts = serverUrl.split(';')\n    // let idx = serverUrl.lastIndexOf('/')\n    // let id = parts[parts.length - 1]\n    // let url = parts.slice(0, parts.length - 1).join('/')\n\n    return this.getInfo([parts[0]], false, parts[1])\n    .then(() => {\n      this.trigger({action: 'addApp'})\n      // let list = self.searchNotMessages({modelName: ORGANIZATION})\n      // this.trigger({\n      //   action: 'list',\n      //   list: list,\n      // })\n    })\n  },\n\n  packResult(result) {\n    let foundResources = {}\n    result.forEach((fr) => {\n      foundResources[utils.getId(fr.value)] = fr\n    })\n    return foundResources\n  },\n*/\n\n\n\n/** WEBPACK FOOTER **\n ** ./Store/Store.js\n **/","module.exports = {\n\t\"url\": \"data:image/png;base64,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\"\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./people/employee.json\n ** module id = 1730\n ** module chunks = 0\n **/","module.exports = {\n\t\"appName\": \"Tradle-Dev\",\n\t\"topLevelProviders\": [\n\t\t{\n\t\t\t\"name\": \"Tradle\",\n\t\t\t\"baseUrl\": \"https://lloyds.tradle.io\"\n\t\t}\n\t]\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./environment.json\n ** module id = 1731\n ** module chunks = 0\n **/","module.exports = {\n\t\"msg\": \"Welcome {firstName}! It is a pleasure to have you here!\"\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./data/welcome.json\n ** module id = 1733\n ** module chunks = 0\n **/","import { createHash } from 'crypto'\nimport typeforce from 'typeforce'\nimport Q from 'q'\nimport * as ec from 'react-native-ecc'\nimport utils from './utils'\nimport { serviceID, accessGroup } from './env'\nec.setServiceID(serviceID)\nif (accessGroup) ec.setAccessGroup(accessGroup)\n\nimport { ec as ellipticEC } from 'elliptic'\nimport { utils as tradleUtils } from '@tradle/engine'\nimport nkeySE from './nkey-se'\nimport nkeyECDSA from 'nkey-ecdsa'\n\nif (utils.isIOS()) {\n  nkeyECDSA.setImplementationForCurve('p256', nkeySE)\n  nkeyECDSA.setImplementationForCurve('prime256v1', nkeySE)\n}\n\nconst debug = require('debug')('tradle:app:keychain')\nconst ellipticCurves = {}\nconst DEFAULT_KEY_SET = tradleUtils.defaultKeySet()\n\nexport const PASSWORD_ITEM_KEY = 'app-password'\n\nexport function generateNewSet (opts = {}) {\n  typeforce({\n    networkName: 'String'\n  }, opts)\n\n  return Promise.all(DEFAULT_KEY_SET.map(function (keyProps) {\n    keyProps = { ...keyProps } // defensive copy\n    const gen = isKeyInSecureEnclave(keyProps)\n      ? createSecureEnclaveKey(keyProps)\n      : createKeychainKey(keyProps, opts.networkName)\n\n    return gen.then(key => {\n      key.set('purpose', keyProps.purpose)\n      return key\n    })\n  }))\n}\n\nexport function saveKey (pub, priv) {\n  typeforce('String', pub)\n  typeforce('String', priv)\n  console.log('saving', pub)\n  return utils.setPassword(\n    pub,\n    priv\n  )\n}\n\nexport function lookupKeys (keys) {\n  return Promise.all(keys.map(key => lookupKeyUntilFound(key)))\n}\n\nfunction lookupKeyUntilFound (pubKey, delay) {\n  delay = delay || 1000\n  return utils.tryWithExponentialBackoff(() => {\n    return lookupKey(pubKey)\n      .catch(err => {\n        debug('key not found, will retry', err)\n        throw err\n     })\n  }, {\n    intialDelay: 1000,\n    maxDelay: 20000\n  })\n}\n\nfunction lookupKey (pubKey) {\n  typeforce({\n    pub: 'String'\n  }, pubKey)\n\n  if (!isKeyInSecureEnclave(pubKey)) {\n    return fromKeychain()\n  }\n\n  return lookupSecureEnclaveKey(pubKey)\n    .catch(function (err) {\n      if (err.message !== 'NotFound') throw err\n\n      return fromKeychain()\n    })\n\n  function fromKeychain () {\n    return lookupKeychainKey(pubKey)\n      .then(function (priv) {\n        var priv = { ...pubKey, priv }\n        return tradleUtils.importKey(priv)\n      })\n      .catch(function (err) {\n        console.error('key not found', pubKey)\n        throw err\n      })\n  }\n}\n\nfunction lookupKeychainKey (pubKey) {\n  return utils.getPassword(pubKey.pub)\n}\n\nasync function lookupSecureEnclaveKey (pubKey) {\n  const keyPair = getCurve(pubKey.curve).keyFromPublic(new Buffer(pubKey.pub, 'hex'))\n  // const compressed = keyPair.getPublic(true, true)\n  const uncompressed = keyPair.getPublic(false, true)\n  // const tryCompressed = Q.ninvoke(ec, 'lookupKey', new Buffer(compressed))\n  // const tryUncompressed = Q.ninvoke(ec, 'lookupKey', new Buffer(uncompressed))\n  // let key\n  // try {\n  //   key = await tryCompressed\n  // } catch (err) {\n  //   key = await tryUncompressed\n  // }\n\n  const key = await Q.ninvoke(ec, 'lookupKey', new Buffer(uncompressed))\n  return nkeySE.fromJSON({ ...pubKey, ...key })\n}\n\nfunction createKeychainKey (keyProps, networkName) {\n  keyProps = { ...keyProps }\n  if (keyProps.type === 'bitcoin') {\n    keyProps.networkName = networkName\n  }\n\n  const key = tradleUtils.genKey(keyProps)\n  return saveKey(key.pubKeyString, key.toJSON(true).priv)\n    .then(() => key)\n}\n\nfunction createSecureEnclaveKey (keyProps) {\n  // { sign, verify, pub }\n  return Q.ninvoke(nkeySE, 'gen', keyProps)\n  // return Q.ninvoke(ec, 'keyPair', keyProps.curve)\n  //   .then((key) => {\n  //     console.log('made', key.pub.toString('hex'))\n  //     return extendKey(key, keyProps)\n  //   })\n}\n\nfunction rejectNotFound () {\n  return Promise.reject(new Error('NotFound'))\n}\n\nfunction getCurve (name) {\n  if (!ellipticCurves[name]) ellipticCurves[name] = new ellipticEC(name)\n\n  return ellipticCurves[name]\n}\n\nfunction isKeyInSecureEnclave (key) {\n  return utils.isIOS() && key.type === 'ec' && key.curve in ec.curves //key.curve === 'p256'\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./utils/keychain.js\n **/","\nimport crypto from 'crypto'\nimport * as ec from 'react-native-ecc'\nimport thunky from 'thunky'\nimport nkey from 'nkey'\nconst type = 'ec'\n\nmodule.exports = exports = nkey.wrapAPI({\n  gen, fromJSON\n})\n\nexports.DEFAULT_ALGORITHM = 'sha256'\n\nfunction gen (opts, cb) {\n  ec.keyPair(opts.curve, function (err, key) {\n    if (err) return cb(err)\n\n    cb(null, fromJSON({ ...opts, ...key }))\n  })\n}\n\nfunction fromJSON (json) {\n  const pubKeyString = json.pub.toString('hex')\n  const pub = Buffer.isBuffer(json.pub) ? json.pub : new Buffer(json.pub, 'hex')\n  const fingerprint = crypto.createHash('sha256').update(pub).digest('hex')\n  const curve = json.curve\n  const doSign = json.sign\n  const doVerify = json.verify\n  if (doSign) {\n    return nkey.wrapInstance({\n      ...json,\n      type,\n      pubKeyString,\n      fingerprint,\n      toJSON,\n      sign,\n      verify,\n      isPrivateKey: true\n    })\n  }\n\n  return fromJSON({\n    ...json,\n    ...ec.keyFromPublic(pub)\n  })\n\n  function sign (data, algorithm, cb) {\n    if (typeof algorithm === 'function') {\n      cb = algorithm\n      algorithm = exports.DEFAULT_ALGORITHM\n    }\n\n    doSign({ data, algorithm }, cb)\n  }\n\n  function verify (data, algorithm, sig, cb) {\n    if (typeof sig === 'function') {\n      cb = sig\n      sig = algorithm\n      algorithm = exports.DEFAULT_ALGORITHM\n    }\n\n    doVerify({ data, algorithm, sig }, cb)\n  }\n\n  function toJSON (exportPrivateKey) {\n    if (exportPrivateKey) throw new Error('cannot export private key')\n\n    return {\n      type,\n      curve,\n      pub: pubKeyString,\n      fingerprint\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./utils/nkey-se.js\n **/","\nimport Q from 'q'\nimport { Platform } from 'react-native'\nimport browser from '../utils/browser'\n\nvar async = require('async')\nvar leveldown\nvar levelup = require('levelup')\n// var updown = require('level-updown')\nif (Platform.OS === 'web') {\n  console.log('browser', browser)\n  if (browser.isIE) {\n    leveldown = require('localstorage-down')\n  } else {\n    var leveljs = require('level-js')\n    var dbs = []\n    leveldown = function () {\n      var result = leveljs.apply(this, arguments)\n      dbs.push(result)\n      return result\n    }\n\n    leveldown.destroyAll = function () {\n      return Q.allSettled(dbs.map(db => Q.ninvoke(db, 'close')))\n        .then(() => {\n          return Q.all(dbs.map(db => Q.ninvoke(leveljs, 'destroy', db)))\n        })\n    }\n  }\n}\nelse {\n  var asyncstorageDown = require('asyncstorage-down')\n  leveldown = require('cachedown')\n  leveldown.setLeveldown(asyncstorageDown)\n}\n\nmodule.exports = leveldown\n\n\n\n/** WEBPACK FOOTER **\n ** ./Store/leveldown.js\n **/","\nimport { Platform } from 'react-native'\n\nmodule.exports = {\n  isIE: (function isIE () {\n    if (Platform.OS !== 'web') return false\n\n    var ua = global.navigator.userAgent\n    var msie = ua.indexOf(\"MSIE \")\n    if (msie > 0) return true\n\n    // IE11\n    return !(global.ActiveXObject) && \"ActiveXObject\" in global\n  })()\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./utils/browser.js\n **/","\nconst levelup = require('levelup')\nconst  leveldown = require('./leveldown')\n\nmodule.exports = exports = level\n\nfunction level (loc, opts) {\n  opts = opts || {}\n  opts.db = opts.db || function () {\n    const db = leveldown.apply(null, arguments)\n    if (db.maxSize) db.maxSize(100) // max cache size\n\n    return db\n  }\n\n  return levelup(loc, opts)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./Store/level.js\n **/","import {\n  StyleSheet,\n  View,\n  InteractionManager\n} from 'react-native'\n\nimport ActivityIndicator from './ActivityIndicator'\n\nvar extend = require('xtend')\nvar QRCode = require('react-native-qrcode')\nvar DEFAULT_DIM = 370\n\nimport React, { Component, PropTypes } from 'react'\n\nclass QRCodeView extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      renderPlaceholderOnly: true\n    }\n  }\n  propTypes: {\n    content: PropTypes.string.isRequired,\n    dimension: PropTypes.number,\n    bgColor: PropTypes.string.isRequired,\n    fgColor: PropTypes.string.isRequired,\n    fullScreen: PropTypes.bool\n  };\n  defaultProps: {\n    dimension: 200,\n    bgColor: 'white',\n    fgColor: 'black',\n    fullScreen: false\n  };\n  componentDidMount() {\n    InteractionManager.runAfterInteractions(() => {\n      this.setState({\n        renderPlaceholderOnly: false\n      });\n    });\n  }\n  render() {\n    var code\n    if (this.state.renderPlaceholderOnly) {\n      return <ActivityIndicator hidden='true' size='large' style={this.state.style} />\n    }\n\n    var code = <QRCode\n      value={this.props.content}\n      style={this.state.style}\n      size={this.props.dimension}\n      bgColor={this.props.bgColor}\n      fgColor={this.props.fgColor}\n      />\n\n    if (!this.props.fullScreen) return code\n\n    return (\n      <View style={styles.container}>\n        {code}\n      </View>\n    )\n  }\n}\n\n// function getStyle (dim) {\n//   return {\n//     alignSelf: 'center',\n//     height: dim,\n//     width: dim\n//   }\n// }\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'transparent'\n  }\n})\n\n// QRCodeView.PropTypes = {\n//   size: PropTypes.number.isRequired,\n//   bgColor: PropTypes.string.isRequired,\n//   fgColor: PropTypes.string.isRequired,\n// }\n\nmodule.exports = QRCodeView\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/QRCode.js\n **/","'use strict';\n\nvar MessageView = require('./MessageView')\nvar MessageRow = require('./MessageRow')\nvar MyProductMessageRow = require('./MyProductMessageRow')\nvar VerificationMessageRow = require('./VerificationMessageRow')\nvar FormMessageRow = require('./FormMessageRow')\nvar NoResources = require('./NoResources')\nvar NewResource = require('./NewResource')\nvar ProductChooser = require('./ProductChooser')\nvar PageView = require('./PageView')\nvar Icon = require('react-native-vector-icons/Ionicons')\nvar utils = require('../utils/utils')\nvar translate = utils.translate\nvar reactMixin = require('react-mixin')\nvar equal = require('deep-equal')\nvar Store = require('../Store/Store')\nvar Actions = require('../Actions/Actions')\nvar Reflux = require('reflux')\nvar constants = require('@tradle/constants')\nvar GiftedMessenger = require('react-native-gifted-messenger')\nvar NetworkInfoProvider = require('./NetworkInfoProvider')\nvar extend = require('extend');\n\nimport ActionSheet from 'react-native-actionsheet'\nimport { makeResponsive } from 'react-native-orient'\n\n// var AddNewMessage = require('./AddNewMessage')\n// var SearchBar = require('react-native-search-bar')\n// var ResourceTypesScreen = require('./ResourceTypesScreen')\n\nvar LINK_COLOR\nvar LIMIT = 300\nvar NEXT_HASH = '_n'\nconst PRODUCT_APPLICATION = 'tradle.ProductApplication'\nconst MY_PRODUCT = 'tradle.MyProduct'\nconst FORM_REQUEST = 'tradle.FormRequest'\n\nimport React, { Component } from 'react'\nimport {\n  ListView,\n  StyleSheet,\n  PropTypes,\n  Navigator,\n  Platform,\n  View,\n  Text,\n  TouchableOpacity,\n  Alert,\n  TouchableHighlight\n} from 'react-native'\n\nimport ActivityIndicator from './ActivityIndicator'\n\nimport platformStyles, {MenuIcon} from '../styles/platform'\n\nvar currentMessageTime\n\nclass MessageList extends Component {\n  props: {\n    navigator: PropTypes.object.isRequired,\n    modelName: PropTypes.string.isRequired,\n    resource: PropTypes.object.isRequired,\n    returnRoute: PropTypes.object,\n    callback: PropTypes.func,\n    filter: PropTypes.string,\n    isAggregation: PropTypes.bool\n  };\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      selectedAssets: {},\n      isConnected: this.props.navigator.isConnected,\n      show: false,\n      // dataSource: new ListView.DataSource({\n      //   rowHasChanged: (row1, row2) => {\n      //     if (row1 !== row2) {\n      //       return true\n      //     }\n      //   }\n      // }),\n      isEmployee: utils.isEmployee(props.resource),\n      filter: this.props.filter,\n      userInput: '',\n      progress: 0,\n      indeterminate: true,\n      allLoaded: false\n    };\n  }\n  componentWillMount() {\n    var params = {\n      modelName: this.props.modelName,\n      to: this.props.resource,\n      prop: this.props.prop,\n      limit: LIMIT\n    }\n    if (this.props.isAggregation)\n      params.isAggregation = true;\n\n    utils.onNextTransitionEnd(this.props.navigator, () => Actions.messageList(params));\n  }\n  componentDidMount() {\n    this.listenTo(Store, 'onAction');\n    this._watchSubmit()\n  }\n\n  _watchSubmit() {\n    const self = this\n    if (!utils.isWeb() || !this._GiftedMessenger) return\n\n    const input = this._GiftedMessenger.refs.textInput.refs.input\n    if (this._watchedInput === input) return\n\n    this._watchedInput = input\n    input.addEventListener('keydown', e => {\n      if (!input.value) return\n\n      const code = e.keyCode ? e.keyCode : e.which\n      if (code == 13) { //Enter keycode\n        this.onSubmitEditing(input.value)\n        // yuckity yuck\n        this._GiftedMessenger.setState({text:''})\n      }\n    })\n  }\n\n  onAction(params) {\n    if (params.error)\n      return\n    if (params.action === 'connectivity') {\n      // if (params.isConnected  &&  !this.state.isForgetting) {\n      //   this.state.isConnected = params.isConnected\n      //   let me = utils.getMe()\n      //   let msg = {\n      //     message: me.firstName + ' is waiting for the response',\n      //     _t: constants.TYPES.CUSTOMER_WAITING,\n      //     from: me,\n      //     to: this.props.resource,\n      //     time: new Date().getTime()\n      //   }\n      //   Actions.addMessage(msg, true)\n      // }\n      // else\n      this.setState({isConnected: params.isConnected})\n\n      return\n    }\n    if (params.action === 'addItem'  ||  params.action === 'addVerification') {\n      var actionParams = {\n        query: this.state.filter,\n        modelName: this.props.modelName,\n        to: this.props.resource,\n        limit: this.state.list ? this.state.list.length + 1 : LIMIT\n      }\n\n      // if (params.sendStatus) {\n      //   this.state.sendStatus = params.sendStatus\n      //   this.state.sendResource = params.resource\n      // }\n      if (params.resource._sendStatus) {\n        this.state.sendStatus = params.resource._sendStatus\n        this.state.sendResource = params.resource\n      }\n      Actions.messageList(actionParams);\n      return;\n    }\n    this.state.newItem = false\n    if (params.action === 'updateItem') {\n      this.setState({\n        sendStatus: params.sendStatus,\n        sendResource: params.resource\n      })\n      return\n    }\n    if (params.action === 'addMessage') {\n      Actions.messageList({modelName: this.props.modelName, to: this.props.resource, limit: this.state.list ? this.state.list.length + 1 : LIMIT});\n      return\n    }\n    if ( params.action !== 'messageList'                   ||\n        (!params.list  &&  !params.forgetMeFromCustomer)   ||\n        params.isAggregation !== this.props.isAggregation)\n      return;\n    if (params.forgetMeFromCustomer) {\n      Actions.list({modelName: constants.TYPES.PROFILE})\n      let routes = this.props.navigator.getCurrentRoutes()\n      if (routes[routes.length - 1].component )\n      this.props.navigator.popToRoute(routes[1])\n      // ComponentUtils.showContacts(this.props.navigator, constants.TYPES.PROFILE)\n      return\n    }\n    if (params.resource  &&  params.resource[constants.ROOT_HASH] != this.props.resource[constants.ROOT_HASH]) {\n      var doUpdate\n      if (this.props.resource[constants.TYPE] === constants.TYPES.ORGANIZATION  &&  params.resource.organization) {\n        if (this.props.resource[constants.TYPE] + '_' + this.props.resource[constants.ROOT_HASH] === utils.getId(params.resource.organization))\n          doUpdate = true\n      }\n      if (!doUpdate)\n        return;\n    }\n    var list = params.list;\n    // if (this.state.sendStatus) {\n    //   list.forEach((r) => {\n    //     if (r[constants.ROOT_HASH] === this.state.sendResource[constants.ROOT_HASH])\n    //       r.status = this.state.sendStatus\n    //   })\n    // }\n    if (params.loadEarlierMessages  &&  this.state.postLoad) {\n      if (!list || !list.length) {\n        this.state.postLoad([], true)\n        this.state = {\n          allLoaded: true, isLoading: false, noScroll: true, loadEarlierMessages: false,\n          ...this.state\n        }\n//         this.setState({allLoaded: true, isLoading: false, noScroll: true, loadEarlierMessages: false})\n      }\n      else {\n        this.state.postLoad(list, false)\n//         this.state.list = list\n        let allLoaded = list.length < LIMIT\n        this.state.list.forEach((r) => {\n          list.push(r)\n        })\n        let productToForms = this.gatherForms(list)\n        this.setState({\n          list: list,\n          noScroll: true,\n          allLoaded: allLoaded,\n          productToForms: productToForms,\n          loadEarlierMessages: !allLoaded\n        })\n        // this.setState({list: list, noScroll: true, allLoaded: allLoaded, loadEarlierMessages: !allLoaded})\n      }\n      return\n    }\n    LINK_COLOR = this.props.bankStyle.LINK_COLOR\n    let isEmployee = utils.isEmployee(this.props.resource)\n    if (list.length || (this.state.filter  &&  this.state.filter.length)) {\n      let productToForms = this.gatherForms(list)\n\n      var type = list[0][constants.TYPE];\n      if (type  !== this.props.modelName) {\n        var model = utils.getModel(this.props.modelName).value;\n        if (!model.isInterface)\n          return;\n\n        var rModel = utils.getModel(type).value;\n        if (!rModel.interfaces  ||  rModel.interfaces.indexOf(this.props.modelName) === -1)\n          return;\n      }\n      let me = utils.getMe()\n      this.setState({\n        // dataSource: this.state.dataSource.cloneWithRows(list),\n        isLoading: false,\n        list: list,\n        shareableResources: params.shareableResources,\n        allLoaded: false,\n        isEmployee: isEmployee,\n        loadEarlierMessages: params.loadEarlierMessages,\n        productToForms: productToForms\n      });\n    }\n    else\n      this.setState({isLoading: false, isEmployee: isEmployee})\n  }\n  gatherForms(list) {\n    let productToForms = {}\n    list.forEach((r) => {\n      if (r[constants.TYPE] === FORM_REQUEST  &&  r.documentCreated  &&  r.document) {\n        var l = productToForms[r.product]\n        if (!l) {\n          l = {}\n          productToForms[r.product] = l\n        }\n        let forms = l[r.form]\n        if (!forms) {\n          forms = []\n          l[r.form] = forms\n        }\n        forms.push(r.document)\n      }\n    })\n    return productToForms\n  }\n  shouldComponentUpdate(nextProps, nextState) {\n    // Eliminating repeated alerts when connection returns after ForgetMe action\n    if (!this.state.isConnected && !this.state.list  && !nextState.list && this.state.isLoading === nextState.isLoading)\n      return false\n    if (nextState.isConnected !== this.state.isConnected)\n      return true\n    if (this.state.show !== nextState.show)\n      return true\n    if (!this.state.list                                  ||\n        !nextState.list                                   ||\n         this.props.orientation !== nextProps.orientation ||\n         this.state.allLoaded !== nextState.allLoaded     ||\n         this.state.list.length !== nextState.list.length ||\n         this.state.sendStatus !== nextState.sendStatus)\n         // this.state.sendResource  &&  this.state.sendResource[constants.ROOT_HASH] === nextState.sendResource[constants.ROOT_HASH]))\n      return true\n    for (var i=0; i<this.state.list.length; i++) {\n      let r = this.state.list[i]\n      let nr = nextState.list[i]\n      if (r[constants.TYPE] !== nr[constants.TYPE]            ||\n          r[constants.ROOT_HASH] !== nr[constants.ROOT_HASH]  ||\n          r[constants.CUR_HASH] !== nr[constants.CUR_HASH])\n        return true\n    }\n    return false\n  }\n  share(resource, to, formResource) {\n    console.log('Share')\n    Actions.share(resource, to, formResource)\n  }\n\n  selectResource(resource, verification) {\n    // Case when resource is a model. In this case the form for creating a new resource of this type will be displayed\n    if (!resource[constants.TYPE])\n      return;\n    var model = utils.getModel(resource[constants.TYPE]).value;\n    var title = model.title; //utils.getDisplayName(resource, model.properties);\n    var newTitle = title;\n    // if (title.length > 20) {\n    //   var t = title.split(' ');\n    //   newTitle = '';\n    //   t.forEach(function(word) {\n    //     if (newTitle.length + word.length > 20)\n    //       return;\n    //     newTitle += newTitle.length ? ' ' + word : word;\n    //   })\n    // }\n    let me = utils.getMe()\n    // Check if I am a customer or a verifier and if I already verified this resource\n    let isVerifier = !verification && utils.isVerifier(resource)\n    let isEmployee = utils.isEmployee(this.props.resource)\n    var route = {\n      title: newTitle,\n      id: 5,\n      backButtonTitle: translate('back'),\n      component: MessageView,\n      parentMeta: model,\n      passProps: {\n        bankStyle: this.props.bankStyle,\n        resource: resource,\n        currency: this.props.currency,\n        verification: verification,\n        // createFormError: isVerifier && !utils.isMyMessage(resource),\n        isVerifier: isVerifier\n      }\n    }\n    // Allow to edit resource that was not previously changed\n    if (!isEmployee  &&  !resource[NEXT_HASH]  &&  model.subClassOf !== MY_PRODUCT) {\n      route.rightButtonTitle = translate('edit')\n      route.onRightButtonPress = {\n        title: newTitle, //utils.getDisplayName(resource),\n        id: 4,\n        component: NewResource,\n        // titleTextColor: '#7AAAC3',\n        backButtonTitle: translate('back'),\n        rightButtonTitle: translate('done'),\n        passProps: {\n          model: model,\n          resource: resource,\n          chat: this.props.resource,\n          bankStyle: this.props.bankStyle\n        }\n      }\n    }\n    if (isVerifier) {\n      route.rightButtonTitle = 'Done' //ribbon-b|ios-close'\n      route.help = translate('verifierHelp')  // will show in alert when clicked on help icon in navbar\n    }\n\n    this.props.navigator.push(route);\n  }\n\n  onSearchChange(text) {\n    var actionParams = {\n      query: text,\n      modelName: this.props.modelName,\n      to: this.props.resource,\n      limit: this.state.list ? this.state.list.length + 1 : LIMIT\n    }\n    this.state.emptySearch = true\n    Actions.messageList(actionParams);\n  }\n\n  renderRow(resource, sectionId, rowId)  {\n    var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n    var isMessage = model.interfaces  &&  model.interfaces.indexOf(constants.TYPES.MESSAGE) != -1;\n    var isAggregation = this.props.isAggregation;\n    var me = utils.getMe();\n    // var MessageRow = require('./MessageRow');\n    var previousMessageTime = currentMessageTime;\n    currentMessageTime = resource.time;\n    var props = {\n      onSelect: this.selectResource.bind(this),\n      resource: resource,\n      bankStyle: this.props.bankStyle,\n      to: isAggregation ? resource.to : this.props.resource,\n      navigator: this.props.navigator,\n    }\n    if (model.subClassOf === 'tradle.MyProduct')\n      return  <MyProductMessageRow {...props} />\n\n      // messageNumber: rowId,\n    let sendStatus = this.state.sendStatus &&  this.state.sendResource[constants.ROOT_HASH] === resource[constants.ROOT_HASH]\n                   ? this.state.sendStatus : (resource._sendStatus === 'Sent' ? null : resource._sendStatus)\n    var moreProps = {\n      share: this.share.bind(this),\n      sendStatus: sendStatus,\n      currency: this.props.currency,\n      previousMessageTime: previousMessageTime,\n    }\n\n    props = extend(props, moreProps)\n    if (model.id === constants.TYPES.VERIFICATION)\n      return  <VerificationMessageRow {...props} />\n    if (model.subClassOf === constants.TYPES.FORM)\n      return <FormMessageRow {...props} />\n\n    props.isLast = rowId === this.state.list.length - 1,\n    props.productToForms = this.state.productToForms\n    props.shareableResources = this.state.shareableResources,\n    props.isAggregation = isAggregation\n\n    return   <MessageRow {...props} />\n  }\n  addedMessage(text) {\n    Actions.messageList({modelName: this.props.modelName, to: this.props.resource,  limit: this.state.list ? this.state.list.length + 1 : LIMIT});\n  }\n\n  componentDidUpdate() {\n    clearTimeout(this._scrollTimeout)\n    if (this.state.allLoaded  ||  this.state.noScroll)\n      this.state.noScroll = false\n    else {\n      this._scrollTimeout = setTimeout(() => {\n        // inspired by http://stackoverflow.com/a/34838513/1385109\n        this._GiftedMessenger  &&  this._GiftedMessenger.scrollToBottom()\n      }, 200)\n    }\n\n    this._watchSubmit()\n  }\n\n  render() {\n    currentMessageTime = null;\n    var content;\n\n    var model = utils.getModel(this.props.modelName).value;\n                    // <Text style={{fontSize: 17, alignSelf: 'center', color: '#ffffff'}}>{'Sending...'}</Text>\n    // var isVisible = this.state.sendStatus  &&  this.state.sendStatus !== null\n    // var spinner = isVisible\n    //             ? <Text style={{alignSelf: 'flex-end', fontSize: 14, color: '#757575', marginHorizontal: 15}}>{thus.state.sendStatus}</Text>\n    //             : <View/>\n    // var spinner = <LoadingOverlay isVisible={isVisible} onDismiss={() => {this.setState({isVisible:false})}} position=\"bottom\">\n    //                 <TouchableOpacity onPress={() => { Alert.alert('Pressed on text!') }}>\n    //                   <Text style={styles.bannerText}>{this.state.sendStatus}</Text>\n    //                 </TouchableOpacity>\n    //               </LoadingOverlay>\n\n    // var spinner = isVisible\n    //             ? <Progress.Bar\n    //                 style={styles.progress}\n    //                 progress={this.state.progress}\n    //                 indeterminate={this.state.indeterminate}\n    //               />\n    //             : <View/>\n    var bgStyle = this.props.bankStyle.BACKGROUND_COLOR ? {backgroundColor: this.props.bankStyle.BACKGROUND_COLOR} : {backgroundColor: '#f7f7f7'}\n    var alert = <View />\n    if (!this.state.list || !this.state.list.length) {\n      if (this.props.navigator.isConnected  &&  this.props.resource[constants.TYPE] === constants.TYPES.ORGANIZATION) {\n        if (this.state.isLoading) {\n          content = <View style={{flex: 1}}>\n                      <View style={[platformStyles.container, bgStyle]}>\n                        <Text style={{fontSize: 17, alignSelf: 'center', marginTop: 80, color: '#629BCA'}}>{'Loading...'}</Text>\n                        <ActivityIndicator size='large' style={{alignSelf: 'center', marginTop: 20}} />\n                      </View>\n                      <View style={styles.footer}>\n                        {this.paintMenuButton()}\n                      </View>\n                    </View>\n        }\n      }\n      else {\n        if (!this.state.isLoading  &&  !this.props.navigator.isConnected) {\n          alert = (this.props.resource[constants.TYPE] === constants.TYPES.ORGANIZATION)\n                ? Alert.alert(translate('noConnectionForPL', this.props.resource.name))\n                : Alert.alert(translate('noConnection'))\n        }\n        // content =  <NoResources\n        //             filter={this.state.filter}\n        //             model={model}\n        //             isLoading={this.state.isLoading}/>\n      }\n    }\n\n    if (!content) {\n      var isAllMessages = model.isInterface  &&  model.id === constants.TYPES.MESSAGE;\n      var maxHeight = utils.dimensions(MessageList).height -\n                      (Platform.OS === 'android' ? 77 : 64) - (this.state.isConnected ? 0 : 35)\n      // content = <GiftedMessenger style={{paddingHorizontal: 10, marginBottom: Platform.OS === 'android' ? 0 : 20}} //, marginTop: Platform.OS === 'android' ?  0 : -5}}\n      content = <GiftedMessenger style={{paddingHorizontal: 10}} //, marginTop: Platform.OS === 'android' ?  0 : -5}}\n        ref={(c) => this._GiftedMessenger = c}\n        loadEarlierMessagesButton={this.state.loadEarlierMessages}\n        onLoadEarlierMessages={this.onLoadEarlierMessages.bind(this)}\n        messages={this.state.list}\n        messageSent={this.state.sendResource}\n        messageSentStatus={this.state.sendStatus}\n        enableEmptySections={true}\n        autoFocus={false}\n        textRef={'chat'}\n        renderCustomMessage={this.renderRow.bind(this)}\n        handleSend={this.onSubmitEditing.bind(this)}\n        submitOnReturn={true}\n        menu={this.generateMenu.bind(this)}\n        keyboardShouldPersistTaps={utils.isWeb() ? false : true}\n        keyboardDismissMode={utils.isWeb() ? 'none' : 'on-drag'}\n        maxHeight={maxHeight} // 64 for the navBar; 110 - with SearchBar\n      />\n        // returnKeyType={false}\n        // keyboardShouldPersistTaps={false}\n        // keyboardDismissMode='none'\n    }\n\n    // var addNew = (model.isInterface)\n    //        ? <AddNewMessage navigator={this.props.navigator}\n    //                         resource={this.props.resource}\n    //                         modelName={this.props.modelName}\n    //                         onAddNewPressed={this.onAddNewPressed.bind(this)}\n    //                         onMenu={this.showMenu.bind(this)}\n    //                         onPhotoSelect={this.onPhotoSelect.bind(this)}\n    //                         callback={this.addedMessage.bind(this)} />\n    //        : <View/>;\n                            // onTakePicPressed={this.onTakePicPressed.bind(this)}\n    var isOrg = !this.props.isAggregation  &&  this.props.resource  &&  this.props.resource[constants.TYPE] === constants.TYPES.ORGANIZATION\n    var chooser\n    if (isOrg)\n      chooser =  <View style={{flex:1, marginTop: 8}}>\n                  <TouchableHighlight underlayColor='transparent' onPress={this.onAddNewPressed.bind(this, true)}>\n                    <Icon name={'ios-arrow-round-down'} size={25} style={styles.imageOutline} />\n                  </TouchableHighlight>\n                </View>\n    else\n      chooser = <View/>\n\n    var sepStyle = { height: 1,backgroundColor: LINK_COLOR }\n    if (!this.state.allLoaded  && !this.props.navigator.isConnected  &&  this.state.isForgetting)\n      Alert.alert(translate('noConnectionWillProcessLater'))\n          // <View style={{flex: 10}}>\n          //   <SearchBar\n          //     onChangeText={this.onSearchChange.bind(this)}\n          //     placeholder='Search'\n          //     showsCancelButton={false}\n          //     hideBackground={true} />\n          // </View>\n    // if (this.state.isEmployee) {\n      // let buttons = {[\n      //   {\n      //     onPress: this.chooseFormForCustomer.bind(this)\n      //     title: translate('formChooser')\n      //   }\n      // ]}\n    let me = utils.getMe()\n    let buttons = this.state.isEmployee  &&  this.props.resource[constants.TYPE] !== constants.TYPES.ORGANIZATION\n                ? [translate('formChooser'), translate('cancel')]\n                : [translate('forgetMe'), translate('cancel')]\n    return (\n      <PageView style={[platformStyles.container, bgStyle]}>\n        <NetworkInfoProvider connected={this.state.isConnected} resource={this.props.resource} />\n        <View style={ sepStyle } />\n        {content}\n        <ActionSheet\n          ref={(o) => {\n            this.ActionSheet = o\n          }}\n          options={buttons}\n          cancelButtonIndex={1}\n          onPress={(index) => {\n            if (index === 0) {\n              if (this.state.isEmployee)\n                this.chooseFormForCustomer()\n              else\n                this.forgetMe()\n            }\n          }}\n        />\n        {alert}\n      </PageView>\n    );\n        // {addNew}\n  }\n  generateMenu(show) {\n    if (!show)\n      return <View/>\n    // {\n    //   return <TouchableHighlight underlayColor='transparent' onPress={this.onSubmitEditing.bind(this)}>\n    //            <View style={[platformStyles.menuButton, {backgroundColor: LINK_COLOR,}]}>\n    //              <Icon name='ios-send'  size={33}  color='#ffffff' />\n    //            </View>\n    //         </TouchableHighlight>\n    // }\n    return  <TouchableHighlight underlayColor='transparent' onPress={() => this.ActionSheet.show()}>\n              {this.paintMenuButton()}\n            </TouchableHighlight>\n  }\n  paintMenuButton() {\n    return  <View style={[platformStyles.menuButtonNarrow, {opacity: 0.5}]}>\n              <Icon name={MenuIcon.name}  size={33}  color={MenuIcon.color} />\n            </View>\n  }\n\n\n  onLoadEarlierMessages(oldestMessage = {}, callback = () => {}) {\n    this.state.loadEarlierMessages = true\n    // Your logic here\n    // Eg: Retrieve old messages from your server\n\n    // newest messages have to be at the begining of the array\n    var list = this.state.list;\n    var id = utils.getId(list[0])\n    Actions.messageList({\n      lastId: id,\n      limit: LIMIT,\n      loadEarlierMessages: true,\n      modelName: this.props.modelName,\n      to: this.props.resource,\n    })\n    // var list = this.state.list\n    var earlierMessages = []\n    //   list[list.length - 1],\n    //   list[list.length - 2],\n    //   list[list.length - 3]\n    // ];\n    this.state.postLoad = callback\n    // setTimeout(() => {\n    //   callback(earlierMessages, false); // when second parameter is true, the \"Load earlier messages\" button will be hidden\n    // }, 1000);\n  }\n  checkStart(evt) {\n    evt = evt\n  }\n\n  chooseFormForCustomer() {\n    var currentRoutes = this.props.navigator.getCurrentRoutes();\n    var resource = this.props.resource\n    this.setState({show: false})\n    this.props.navigator.push({\n      title: translate(utils.getModel(constants.TYPES.FORM).value),\n      id: 15,\n      component: ProductChooser,\n      sceneConfig: Navigator.SceneConfigs.FloatFromBottom,\n      backButtonTitle: translate('cancel'),\n      passProps: {\n        resource: resource,\n        returnRoute: currentRoutes[currentRoutes.length - 1],\n        callback: this.props.callback,\n        type: constants.TYPES.FORM\n      },\n      // rightButtonTitle: 'ion|plus',\n      // onRightButtonPress: {\n      //   id: 4,\n      //   title: translate('newProduct'),\n      //   component: NewResource,\n      //   backButtonTitle: translate('back'),\n      //   // titleTextColor: '#999999',\n      //   rightButtonTitle: translate('done'),\n      //   passProps: {\n      //     model: utils.getModel('tradle.NewMessageModel').value,\n      //     currency: resource.currency,\n      //     // callback: this.modelAdded.bind(this)\n      //   }\n      // }\n    });\n  }\n  forgetMe() {\n    var resource = this.props.resource\n    this.setState({show: false})\n    Alert.alert(\n      translate('confirmForgetMe', utils.getDisplayName(resource, utils.getModel(resource[constants.TYPE]).value.properties)), //Are you sure you want \\'' + utils.getDisplayName(resource, utils.getModel(resource[constants.TYPE]).value.properties) + '\\' to forget you',\n      translate('testForgetMe'), //'This is a test mechanism to reset all communications with this provider',\n      [\n        {text: translate('cancel'), onPress: () => console.log('Cancel')},\n        {text: 'OK', onPress: () => {\n          this.state.isForgetting = true\n          Actions.forgetMe(resource)\n        }},\n      ]\n    )\n  }\n\n  onPhotoSelect(asset) {\n    var selectedAssets = this.state.selectedAssets;\n    // unselect if was selected before\n    if (selectedAssets[asset.node.image.uri])\n      delete selectedAssets[asset.node.image.uri];\n    else\n      selectedAssets[asset.node.image.uri] = asset;\n  }\n  onAddNewPressed(sendForm) {\n    var modelName = this.props.modelName;\n    var model = utils.getModel(modelName).value;\n    var isInterface = model.isInterface;\n    if (!isInterface)\n      return;\n\n    var self = this;\n    var currentRoutes = self.props.navigator.getCurrentRoutes();\n    var resource = this.props.resource\n    var currentRoutes = self.props.navigator.getCurrentRoutes();\n    this.props.navigator.push({\n      title: translate(utils.getModel(constants.TYPES.FINANCIAL_PRODUCT).value),\n      id: 15,\n      component: ProductChooser,\n      sceneConfig: Navigator.SceneConfigs.FloatFromBottom,\n      backButtonTitle: translate('cancel'),\n      passProps: {\n        resource: resource,\n        returnRoute: currentRoutes[currentRoutes.length - 1],\n        callback: this.props.callback,\n        type: PRODUCT_APPLICATION\n      },\n      rightButtonTitle: 'ion|plus',\n      onRightButtonPress: {\n        id: 4,\n        title: translate('newProduct'),\n        component: NewResource,\n        backButtonTitle: translate('back'),\n        // titleTextColor: '#999999',\n        rightButtonTitle: translate('done'),\n        passProps: {\n          model: utils.getModel('tradle.NewMessageModel').value,\n          currency: resource.currency,\n          // callback: this.modelAdded.bind(this)\n        }\n      }\n    });\n  }\n  onTakePicPressed() {\n    var self = this;\n    this.props.navigator.push({\n      title: 'Take a pic',\n      backButtonTitle: 'Cancel',\n      id: 12,\n      component: CameraView,\n      sceneConfig: Navigator.SceneConfigs.FloatFromBottom,\n      passProps: {\n        onTakePic: self.onTakePic.bind(this),\n      }\n    });\n  }\n  onTakePic(data) {\n    var msg = {\n      from: utils.getMe(),\n      to: this.props.resource,\n      time: new Date().getTime(),\n      photos: [{\n        url: data\n      }]\n    }\n    msg[constants.TYPE] = constants.TYPES.SIMPLE_MESSAGE;\n    this.props.navigator.pop();\n    Actions.addMessage(msg);\n  }\n  getNextFrom(resource) {\n    Actions.addMessage({\n      from: resource.from,\n      to: resource.to,\n      [constants.TYPE]: NEW_FORM_REQUEST,\n      after: resource.form\n    })\n  }\n  onSubmitEditing(msg) {\n    var me = utils.getMe();\n    var resource = {from: utils.getMe(), to: this.props.resource};\n    var model = utils.getModel(this.props.modelName).value;\n\n    var toName = utils.getDisplayName(resource.to, utils.getModel(resource.to[constants.TYPE]).value.properties);\n    var meta = utils.getModel(me[constants.TYPE]).value.properties;\n    var meName = utils.getDisplayName(me, meta);\n    var modelName = constants.TYPES.SIMPLE_MESSAGE;\n    var value = {\n      message: msg\n              ?  model.isInterface ? msg : '[' + this.state.userInput + '](' + this.props.modelName + ')'\n              : '',\n      from: me,\n      to: resource.to,\n      time: new Date().getTime()\n    }\n    value[constants.TYPE] = modelName;\n    this.setState({userInput: '', selectedAssets: {}});\n    if (this.state.clearCallback)\n      this.state.clearCallback();\n    Actions.addMessage(value); //, this.state.resource, utils.getModel(modelName).value);\n  }\n\n}\nreactMixin(MessageList.prototype, Reflux.ListenerMixin);\nMessageList = makeResponsive(MessageList)\n\nvar styles = StyleSheet.create({\n  imageOutline: {\n    width: 25,\n    height: 25,\n    borderRadius: 13,\n    borderColor: '#aaaaaa',\n    paddingLeft: 6,\n    borderWidth: 1,\n    color: '#79AAF2'\n  },\n  footer: {\n    flexDirection: 'row',\n    flexWrap: 'nowrap',\n    justifyContent: 'flex-end',\n    height: 45,\n    // width: Dimensions.get('window').width,\n    backgroundColor: '#eeeeee',\n    borderColor: '#eeeeee',\n    borderWidth: 1,\n    borderTopColor: '#cccccc',\n    paddingRight: 10\n  },\n});\nmodule.exports = MessageList;\n\n/* Adding new model from URL\n    this.props.navigator.push({\n      title: utils.makeLabel(model.title) + ' type',\n      id: 2,\n      component: ResourceTypesScreen,\n      sceneConfig: Navigator.SceneConfigs.FloatFromBottom,\n      backButtonTitle: 'Chat',\n      passProps: {\n        resource: self.props.resource,\n        returnRoute: currentRoutes[currentRoutes.length - 1],\n        modelName: modelName,\n        sendForm: sendForm,\n        callback: this.props.callback\n      },\n      rightButtonTitle: 'ion|plus',\n      onRightButtonPress: {\n        id: 4,\n        title: 'New model url',\n        component: NewResource,\n        backButtonTitle: 'Back',\n        titleTextColor: '#7AAAC3',\n        rightButtonTitle: 'Done',\n        passProps: {\n          model: utils.getModel('tradle.NewMessageModel').value,\n          callback: this.modelAdded.bind(this)\n        }\n      }\n    });\n\n  modelAdded(resource) {\n    if (resource.url)\n      Actions.addModelFromUrl(resource.url);\n  }\n  // showEmployeeMenu() {\n  //   // var buttons = ['Talk to representative', 'Forget me', 'Cancel']\n  //   var buttons = [translate('formChooser'), translate('cancel')] // ['Forget me', 'Cancel']\n  //   var self = this;\n\n  //   ActionSheetIOS.showActionSheetWithOptions({\n  //     options: buttons,\n  //     cancelButtonIndex: 1\n  //   }, function(buttonIndex) {\n  //     switch (buttonIndex) {\n  //     // case 0:\n  //     //   Actions.talkToRepresentative(self.props.resource)\n  //     //   break\n  //     case 0:\n  //       self.chooseFormForCustomer()\n  //       break;\n  //     default:\n  //       return\n  //     }\n  //   });\n  // }\n  // showMenu() {\n  //   // var buttons = ['Talk to representative', 'Forget me', 'Cancel']\n  //   var self = this;\n  //   ActionSheetIOS.showActionSheetWithOptions({\n  //     options: buttons,\n  //     cancelButtonIndex: 1\n  //   }, function(buttonIndex) {\n  //     switch (buttonIndex) {\n  //     // case 0:\n  //     //   Actions.talkToRepresentative(self.props.resource)\n  //     //   break\n  //     case 0:\n  //       self.forgetMe()\n  //       break;\n  //     default:\n  //       return\n  //     }\n  //   });\n  // }\n      // 'Are you sure you want \\'' + utils.getDisplayName(resource, utils.getModel(resource[constants.TYPE]).value.properties) + '\\' to forget you',\n*/\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/MessageList.js\n **/","'use strict';\n\nvar utils = require('../utils/utils');\nvar translate = utils.translate\nvar constants = require('@tradle/constants');\nvar ArticleView = require('./ArticleView');\n// var FromToView = require('./FromToView');\nvar PhotoList = require('./PhotoList');\nvar PhotoView = require('./PhotoView');\nvar ShowPropertiesView = require('./ShowPropertiesView');\nvar ShowMessageRefList = require('./ShowMessageRefList');\n// var MoreLikeThis = require('./MoreLikeThis');\nvar NewResource = require('./NewResource');\nvar PageView = require('./PageView')\n\n// var VerificationButton = require('./VerificationButton');\nvar Actions = require('../Actions/Actions');\nvar Reflux = require('reflux');\nvar Store = require('../Store/Store');\nvar reactMixin = require('react-mixin');\nvar extend = require('extend');\nvar ResourceMixin = require('./ResourceMixin');\nvar buttonStyles = require('../styles/buttonStyles');\nvar HELP_COLOR = 'blue'\nvar NetworkInfoProvider = require('./NetworkInfoProvider')\n// import Prompt from 'react-native-prompt'\n\nimport {\n  StyleSheet,\n  ScrollView,\n  View,\n  Text,\n  PropTypes,\n  Alert,\n  Platform\n} from 'react-native'\n\nimport React, { Component } from 'react'\nimport platformStyles from '../styles/platform'\n\nclass MessageView extends Component {\n  props: {\n    navigator: PropTypes.object.isRequired,\n    resource: PropTypes.object.isRequired,\n    verification: PropTypes.object,\n    // verify: PropTypes.func\n  };\n  constructor(props) {\n    super(props);\n    this.state = {\n      resource: props.resource,\n      isConnected: this.props.navigator.isConnected,\n      promptVisible: false\n    };\n    var currentRoutes = this.props.navigator.getCurrentRoutes();\n    var len = currentRoutes.length;\n    if (!currentRoutes[len - 1].onRightButtonPress  &&  currentRoutes[len - 1].rightButtonTitle)\n      currentRoutes[len - 1].onRightButtonPress = this.verifyOrCreateError.bind(this)\n  }\n  componentDidMount() {\n    this.listenTo(Store, 'onAction');\n  }\n  onAction(params) {\n    if (params.action === 'addVerification' ||  params.action === 'addAdditionalInfo') {\n      var currentRoutes = this.props.navigator.getCurrentRoutes();\n      var len = currentRoutes.length;\n      if (currentRoutes[len - 1].id === 5)\n        this.props.navigator.pop();\n      Actions.messageList({\n        modelName: constants.TYPES.MESSAGE,\n        to: params.resource\n      });\n    }\n    else if (params.action == 'connectivity') {\n      this.setState({isConnected: params.isConnected})\n    }\n  }\n  verifyOrCreateError() {\n    let resource = this.props.resource\n    let model = utils.getModel(resource[constants.TYPE]).value\n    if (utils.isEmpty(this.state.errorProps)) {\n      Alert.alert(\n        'Verify ' + utils.getDisplayName(resource, model.properties),\n        null,\n        [\n          {text: 'Cancel', onPress: () => console.log('Canceled!')},\n          {text: 'Ok', onPress: this.verify.bind(this)},\n        ]\n      )\n    }\n    else {\n      let properties = utils.getModel(this.state.resource[constants.TYPE]).value.properties\n      let msg = ''\n      for (var p in this.state.errorProps)\n        msg += msg ? ', ' + properties[p].title : properties[p].title\n      msg = 'Please correct or fill out the following fields: ' + msg\n\n      Alert.alert(\n        'Sending message to ' + resource.from.title,\n        msg,\n        [\n          {text: 'Cancel', onPress: () => console.log('Canceled!')},\n          {text: 'Ok', onPress: this.createError.bind(this, msg)},\n        ]\n      )\n      // AlertIOS.prompt(\n      //   'Please write a message to the customer',\n      //   null,\n      //   [\n      //     {text: 'Submit', onPress: this.createError.bind(this)},\n      //     {text: 'Cancel', null},\n      //   ]\n      // )\n   }\n  }\n  createError(text) {\n    let errors = []\n    for (let p in this.state.errorProps) {\n      errors.push({name: p, error: this.state.errorProps[p] || 'Please correct this property'})\n    }\n    let resource = this.props.resource\n\n    let formError = {\n      _t: 'tradle.FormError',\n      errors: errors,\n      prefill: resource,\n      from: resource.to,\n      to: resource.from,\n      message: text || translate('pleaseCorrectTheErrors')\n    }\n    Actions.addMessage(formError)\n    this.props.navigator.pop()\n\n  }\n  onCheck(prop, message) {\n    let errorProps = {}\n\n    if (this.state.errorProps)\n      extend(errorProps, this.state.errorProps)\n    if (this.state.errorProps  &&  this.state.errorProps[prop.name])\n      delete errorProps[prop.name]\n    else\n      errorProps[prop.name] = message\n    this.setState({errorProps: errorProps})\n  }\n\n  getRefResource(resource, prop) {\n    var model = utils.getModel(this.props.resource[constants.TYPE]).value;\n\n    this.state.prop = prop;\n    this.state.propValue = utils.getId(resource.id);\n    this.showRefResource(resource, prop)\n    // Actions.getItem(resource.id);\n  }\n  render() {\n    var resource = this.state.resource;\n    var modelName = resource[constants.TYPE];\n    var model = utils.getModel(modelName).value;\n    var date = utils.formatDate(new Date(resource.time))\n    var inRow = resource.photos ? resource.photos.length : 0\n    if (inRow  &&  inRow > 4)\n      inRow = 5;\n    var actionPanel =\n          <ShowMessageRefList resource={resource}\n                              navigator={this.props.navigator}\n                              additionalInfo={this.additionalInfo.bind(this)}\n                              currency={this.props.currency}\n                              bankStyle={this.props.bankStyle} />\n        // <FromToView resource={resource} navigator={this.props.navigator} />\n        // <MoreLikeThis resource={resource} navigator={this.props.navigator}/>\n    var verificationTxID, separator\n    if (this.props.verification  &&  this.props.verification.txId) {\n      verificationTxID =\n          <View style={{padding :10, flex: 1}}>\n            <Text style={styles.title}>Verification Transaction Id</Text>\n            <Text style={styles.verification} onPress={this.onPress.bind(this, 'http://tbtc.blockr.io/tx/info/' + this.props.verification.txId)}>{this.props.verification.txId}</Text>\n          </View>\n      separator = <View style={styles.separator}></View>\n    }\n    else {\n      verificationTxID = <View />\n      separator = <View />\n    }\n\n    // let verificationButton = this.props.isVerifier\n    //                        ? <VerificationButton resource={resource} verify={this.verify.bind(this)} verificationList={this.showResources.bind(this)} edit={this.edit.bind(this)} />\n    //                        : <View />\n    // let editButton = this.props.isVerifier\n    //                ? <VerificationButton resource={resource} edit={this.edit.bind(this)} />\n    //                : <View />\n    // let message = <View style={{padding: 10}}>\n    //                 <Text style={styles.itemTitle}>click done for verifying or check the properties that should be corrected and click Done button</Text>\n    //               </View>\n    let msg = resource.message  &&  resource.message.length\n            ? <View><Text style={styles.itemTitle}>{resource.message}</Text></View>\n            : <View/>\n\n    return (\n      <PageView style={platformStyles.container}>\n      <ScrollView  ref='this'>\n        <View style={[styles.band, {borderBottomColor: this.props.bankStyle.PRODUCT_ROW_BG_COLOR, borderTopColor: '#dddddd'}]}><Text style={styles.date}>{date}</Text></View>\n        <View style={styles.photoBG}>\n          <PhotoView resource={resource} navigator={this.props.navigator}/>\n        </View>\n        {actionPanel}\n        <View style={{marginTop: -3}}>\n          <View style={styles.photoListStyle}>\n            <PhotoList photos={resource.photos} resource={resource} isView={true} navigator={this.props.navigator} numberInRow={inRow} />\n          </View>\n          <View style={styles.rowContainer}>\n            {msg}\n            <ShowPropertiesView navigator={this.props.navigator}\n                                resource={resource}\n                                bankStyle={this.props.bankStyle}\n                                errorProps={this.state.errorProps}\n                                currency={this.props.currency}\n                                checkProperties={this.props.isVerifier ? this.onCheck.bind(this) : null}\n                                excludedProperties={['tradle.Message.message', 'time', 'photos']}\n                                showRefResource={this.getRefResource.bind(this)}/>\n            {separator}\n            {verificationTxID}\n          </View>\n        </View>\n      </ScrollView>\n      </PageView>\n    );\n  }\n  onPress(url) {\n    this.props.navigator.push({\n      id: 7,\n      component: ArticleView,\n      backButtonTitle: translate('back'),\n      passProps: {url: url}\n    });\n  }\n\n  additionalInfo(resource, prop, msg) {\n    var rmodel = utils.getModel(resource[constants.TYPE]).value;\n    msg = msg.length ? msg : 'Please submit more info';\n    var r = {\n      _t: prop.items.ref,\n      from: utils.getMe(),\n      to: resource.from,\n      time: new Date().getTime(),\n      message: msg\n    };\n    r[prop.items.backlink] = {\n      id: utils.getId(resource),\n      title: utils.getDisplayName(resource, rmodel.properties)\n    }\n    Actions.addVerification(r);\n  }\n\n  verify() {\n    var resource = this.props.resource;\n    var model = utils.getModel(resource[constants.TYPE]).value;\n    // this.props.navigator.pop();\n    var me = utils.getMe();\n    var from = this.props.resource.from;\n    var verificationModel = constants.TYPES.VERIFICATION // model.properties.verifications.items.ref;\n    var verification = {\n      document: {\n        id: utils.getId(resource),\n        title: resource.message ? resource.message : model.title\n      },\n      to: {\n        id: from.id,\n        title: from.title\n      },\n      from: {\n        id: utils.getId(me),\n        title: utils.getDisplayName(me, utils.getModel(me[constants.TYPE]).value.properties)\n      },\n      time: new Date().getTime()\n    }\n    verification[constants.TYPE] = verificationModel;\n\n    if (verificationModel === constants.TYPES.VERIFICATION)\n      Actions.addVerification(verification);\n    else {\n      this.props.navigator.replace({\n        title: resource.message,\n        id: 4,\n        component: NewResource,\n        backButtonTitle: resource.firstName,\n        rightButtonTitle: 'Done',\n        titleTextColor: '#7AAAC3',\n        passProps: {\n          model: utils.getModel(verificationModel).value,\n          resource: verification,\n          // callback: this.createVerification.bind(self)\n        }\n      });\n    }\n  }\n  createVerification(resource) {\n    Actions.addVerification(resource, true);\n  }\n}\nreactMixin(MessageView.prototype, Reflux.ListenerMixin);\nreactMixin(MessageView.prototype, ResourceMixin);\n\nvar styles = StyleSheet.create({\n  itemTitle: {\n    fontSize: 18,\n    margin: 5,\n    marginBottom: 0,\n    color: '#7AAAC3'\n  },\n  title: {\n    fontSize: 18,\n    fontFamily: 'Avenir Next',\n    marginHorizontal: 7,\n    color: '#9b9b9b'\n  },\n  verification: {\n    fontSize: 18,\n    marginVertical: 3,\n    marginHorizontal: 7,\n    color: '#7AAAC3',\n  },\n  separator: {\n    height: 1,\n    backgroundColor: '#eeeeee',\n    marginHorizontal: 15\n  },\n  photoBG: {\n    backgroundColor: '#f7f7f7',\n    alignItems: 'center',\n  },\n  photoListStyle: {\n    flexDirection: 'row',\n    // alignSelf: 'center',\n  },\n  band: {\n    height: 30,\n    backgroundColor: '#f7f7f7',\n    borderColor:  '#f7f7f7',\n    borderWidth: 1,\n    alignSelf: 'stretch',\n    // paddingRight: 10,\n    // paddingTop: 3,\n    // marginTop: -10,\n  },\n  rowContainer: {\n    paddingBottom: 10,\n    // paddingHorizontal: 10\n  },\n  date: {\n    fontSize: 14,\n    marginTop: 5,\n    marginRight: 10,\n    alignSelf: 'flex-end',\n    color: '#2E3B4E'\n    // color: '#b4c3cb'\n  },\n});\n\nmodule.exports = MessageView;\n  // edit() {\n  //   let rmodel = utils.getModel('tradle.FormError').value\n  //   let title = translate(rmodel)\n  //   // let form = this.props.resource\n\n  //   this.props.navigator.push({\n  //     title: title,\n  //     id: 4,\n  //     component: MessageView,\n  //     // titleTextColor: '#999999',\n  //     backButtonTitle: translate('back'),\n  //     rightButtonTitle: translate('done'),\n  //     passProps: {\n  //       model: rmodel,\n  //       createFormError: true,\n  //       resource: this.props.resource,\n  //       // resource: {\n  //       //   to: form.from,\n  //       //   from: form.to,\n  //       //   _t: 'tradle.FormError',\n  //       //   prefill: form,\n  //       //   message: translate('pleaseCorrectTheErrors', translate(rmodel), form.from.formatted)\n  //       // },\n  //     }\n  //   })\n  // }\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/MessageView.js\n **/","'use strict';\n\nvar utils = require('../utils/utils');\nvar translate = utils.translate\nvar ResourceList = require('./ResourceList');\nvar MessageList = require('./MessageList');\nvar Icon = require('react-native-vector-icons/Ionicons');\nvar buttonStyles = require('../styles/buttonStyles');\nvar constants = require('@tradle/constants');\nvar reactMixin = require('react-mixin');\nvar ResourceMixin = require('./ResourceMixin');\nvar RowMixin = require('./RowMixin');\n\nimport {\n  View,\n  AlertIOS,\n  Text,\n  TextInput,\n  TouchableHighlight,\n} from 'react-native'\n\nimport React, { Component } from 'react'\n\nclass ShowMessageRefList extends Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    var resource = this.props.resource;\n    var model = utils.getModel(resource[constants.TYPE]).value;\n    var props = model.properties;\n\n    var refList = [];\n    var isIdentity = model.id === constants.TYPES.PROFILE;\n    var isMe = isIdentity ? resource[constants.ROOT_HASH] === utils.getMe()[constants.ROOT_HASH] : true;\n    let backlinks = []\n    for (var p in props) {\n      if (isIdentity  &&  !isMe  &&  props[p].allowRoles  &&  props[p].allowRoles === 'me')\n        continue;\n      if (p.charAt(0) === '_'  ||  !props[p].items  ||  !props[p].items.backlink)\n        continue;\n      backlinks.push(props[p])\n    }\n    backlinks.forEach((prop) => {\n      // if (isIdentity  &&  !isMe  &&  props[p].allowRoles  &&  props[p].allowRoles === 'me')\n      //   continue;\n      // if (p.charAt(0) === '_'  ||  !props[p].items  ||  !props[p].items.backlink)\n      //   continue;\n      var icon = props[p].icon  ||  utils.getModel(props[p].items.ref).value.icon;\n      if (!icon)\n        icon = 'ios-checkmark';\n      let style = (backlinks.length === 1)\n                ? [buttonStyles.container, {width: utils.dimensions(ShowMessageRefList).width}]\n                :  buttonStyles.container\n      refList.push(\n        <View style={style} key={this.getNextKey()}>\n           <TouchableHighlight onPress={this.showResources.bind(this, this.props.resource, props[p])} underlayColor='transparent'>\n             <View style={{alignItems: 'center'}}>\n               <Icon name={icon}  size={35}  color='#ffffff' />\n               <Text style={buttonStyles.text}>{translate(props[p], model)}</Text>\n             </View>\n           </TouchableHighlight>\n         </View>\n        );\n      // }\n     })\n\n     var backlinksBg = this.props.bankStyle && this.props.bankStyle.PRODUCT_ROW_BG_COLOR ? {backgroundColor: this.props.bankStyle.PRODUCT_ROW_BG_COLOR} : {backgroundColor: '#a0a0a0'}\n     return refList.length\n             ? (\n               <View style={[buttonStyles.buttons, backlinksBg, {flexDirection: 'row'}]}>\n                  {refList}\n                </View>\n              )\n             : <View/>;\n  }\n  showMoreLikeThis() {\n    var self = this;\n    var modelName = this.props.resource[constants.TYPE];\n    this.props.navigator.push({\n      title: translate(utils.getModel(modelName).value),\n      component: MessageList,\n      id: 11,\n      backButtonTitle: 'Back',\n      passProps: {\n        resource: utils.getMe(),\n        filter: '',\n        isAggregation: true,\n        modelName: modelName,\n      }\n    });\n  }\n}\nreactMixin(ShowMessageRefList.prototype, ResourceMixin);\nreactMixin(ShowMessageRefList.prototype, RowMixin);\n\nmodule.exports = ShowMessageRefList;\n\n  // additionalInfo(resource, prop) {\n  //   var rmodel = utils.getModel(resource[constants.TYPE]).value;\n  //   var r = {\n  //     _t: prop.items.ref,\n  //     from: utils.getMe(),\n  //     to: resource.from\n  //   };\n  //   r[prop.items.backlink] = {\n  //     id: resource[constants.TYPE] + '_' + resource[constants.ROOT_HASH],\n  //     title: utils.getDisplayName(resource, rmodel.properties)\n  //   }\n  //   var model = utils.getModel(prop.items.ref).value;\n  //   this.props.navigator.push({\n  //     title: model.title,\n  //     id: 4,\n  //     component: NewResource,\n  //     titleTextColor: '#7AAAC3',\n  //     backButtonTitle: 'Back',\n  //     rightButtonTitle: 'Done',\n  //     passProps: {\n  //       model: model,\n  //       resource: r,\n  //       callback: () => Actions.list({\n  //         modelName: prop.items.ref,\n  //         to: this.props.resource,\n  //         resource: r\n  //       }),\n  //     }\n  //   })\n\n  // }\n\n\n      // if (props[p].items.ref === constants.TYPES.ADDITIONAL_INFO) {\n      //   if (utils.getMe().organization)\n      //     refList.push(\n      //       <View style={buttonStyles.container} key={this.getNextKey()}>\n      //          <TouchableHighlight onPress={() => {\n      //             var buttons = [{\n      //               text: 'Cancel',\n      //             },\n      //             {\n      //               text: 'OK',\n      //               onPress: this.props.additionalInfo.bind(this, this.props.resource, props[p])\n      //             }];\n      //             var to = this.props.resource;\n      //             AlertIOS.prompt(\n      //               'Sending ' + resource.title + ' form to ' + utils.getDisplayName(to, utils.getModel(to[constants.TYPE]).value.properties),\n      //               buttons\n      //             );\n\n      //            }\n      //          } underlayColor='transparent'>\n      //            <View style={{alignItems: 'center'}}>\n      //              <Icon name={icon}  size={35}  color='#ffffff' />\n      //              <Text style={buttonStyles.text}>{translate(props[p], model)}</Text>\n      //            </View>\n      //          </TouchableHighlight>\n      //        </View>\n      //     );\n      // }\n      // else {\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/ShowMessageRefList.js\n **/","'use strict';\n\nvar debug = require('debug')('NewResource')\nvar utils = require('../utils/utils');\nvar translate = utils.translate\nvar NewItem = require('./NewItem');\nvar ResourceList = require('./ResourceList')\nvar GridItemsList = require('./GridItemsList')\nvar PhotoView = require('./PhotoView');\nvar ResourceView = require('./ResourceView');\nvar ResourceMixin = require('./ResourceMixin');\nvar PageView = require('./PageView')\nvar t = require('tcomb-form-native');\nvar extend = require('extend');\nvar Actions = require('../Actions/Actions');\nvar Store = require('../Store/Store');\nvar Reflux = require('reflux');\nvar reactMixin = require('react-mixin');\nvar Icon = require('react-native-vector-icons/Ionicons');\nvar myStyles = require('../styles/styles');\nvar rStyles = require('../styles/registrationStyles');\nvar NewResourceMixin = require('./NewResourceMixin');\nvar PageView = require('./PageView')\nvar reactMixin = require('react-mixin');\nvar BG_IMAGE = require('../img/bg.png')\nvar equal = require('deep-equal')\nvar constants = require('@tradle/constants');\nvar termsAndConditions = require('../termsAndConditions.json')\n\nimport ImagePicker from 'react-native-image-picker';\nimport ImageInput from './ImageInput'\nimport CustomIcon from '../styles/customicons'\nvar ENUM = 'tradle.Enum'\nvar LINK_COLOR, DEFAULT_LINK_COLOR = '#a94442'\nvar FORM_ERROR = 'tradle.FormError'\n\nvar Form = t.form.Form;\nvar stylesheet = require('../styles/styles')\n\nimport Native, {\n  StyleSheet,\n  View,\n  Text,\n  TextInput,\n  ScrollView,\n  Image,\n  Platform,\n  // StatusBar,\n  Alert,\n  Navigator,\n  TouchableHighlight,\n  Animated,\n  NativeModules,\n} from 'react-native';\n\nvar Keyboard\nif (Platform.OS !== 'web') {\n  Keyboard = require('Keyboard')\n}\n\nimport React, { Component, PropTypes } from 'react'\nimport ActivityIndicator from './ActivityIndicator'\nimport platformStyles from '../styles/platform'\nimport { makeResponsive } from 'react-native-orient'\nimport BackgroundImage from './BackgroundImage'\n\n// DeviceHeight = Dimensions.get('window').height;\n// DeviceWidth = Dimensions.get('window').width\n\nclass NewResource extends Component {\n  static displayName = 'NewResource';\n  props: {\n    navigator: PropTypes.object.isRequired,\n    model: PropTypes.object.isRequired,\n    resource: PropTypes.object.isRequired,\n    originatingMessage: PropTypes.object,\n    editCols: PropTypes.string,\n    callback: PropTypes.func,\n    returnRoute: PropTypes.object,\n    additionalInfo: PropTypes.bool\n  };\n\n  constructor(props) {\n    super(props);\n    if (this.props.bankStyle)\n      LINK_COLOR = this.props.bankStyle.LINK_COLOR || DEFAULT_LINK_COLOR\n    else\n      LINK_COLOR = DEFAULT_LINK_COLOR\n    var r = {};\n    if (props.resource)\n      r = utils.clone(props.resource) //extend(true, r, props.resource)\n    else\n      r[constants.TYPE] = props.model.id\n    var isRegistration = !utils.getMe()  && this.props.model.id === constants.TYPES.PROFILE  &&  (!this.props.resource || !this.props.resource[constants.ROOT_HASH]);\n\n    this.state = {\n      resource: r,\n      // modalVisible: false,\n      date: new Date(),\n      isUploading: !isRegistration  &&  (!r[constants.ROOT_HASH] || Object.keys(r).length === 2),\n      isRegistration: isRegistration,\n      isLoadingVideo: false,\n      isPrefilled: this.props.isPrefilled,\n      modal: {},\n      // offSet: new Animated.Value(Dimensions.get('window').height),\n      termsAccepted: isRegistration ? false : true\n    }\n    var currentRoutes = this.props.navigator.getCurrentRoutes()\n    var currentRoutesLength = currentRoutes.length\n    currentRoutes[currentRoutesLength - 1].onRightButtonPress = this.onSavePressed.bind(this)\n\n    // this._contentOffset = { x: 0, y: 0 }\n    this.scrollviewProps = {\n      automaticallyAdjustContentInsets:true,\n      scrollEventThrottle: 50,\n      onScroll: this.onScroll.bind(this)\n    };\n  }\n  shouldComponentUpdate(nextProps, nextState) {\n    let isUpdate = nextState.err                             ||\n           this.props.orientation !== nextProps.orientation  ||\n           nextState.missedRequiredOrErrorValue              ||\n           this.state.modal !== nextState.modal              ||\n           this.state.prop !== nextState.prop                ||\n           this.state.isUploading !== nextState.isUploading  ||\n           this.state.itemsCount !== nextState.itemsCount    ||\n           this.state.isLoadingVideo !== nextState.isLoadingVideo  ||\n           this.state.keyboardSpace !== nextState.keyboardSpace    ||\n           // this.state.termsAccepted !== nextState.termsAccepted    ||\n          !equal(this.state.resource, nextState.resource)\n\n    if (!isUpdate)\n      utils.compare(this.props.resource, nextProps.resource)\n    return isUpdate\n           // nextState.isModalOpen !== this.state.isModalOpen  ||\n           // this.state.modalVisible != nextState.modalVisible ||\n  }\n  componentWillMount() {\n    if (this.state.resource[constants.ROOT_HASH]  &&  Object.keys(this.state.resource).length === 2)\n      Actions.getItem(utils.getId(this.state.resource))\n    else if (this.state.isUploading)\n      Actions.getTemporary(this.state.resource[constants.TYPE])\n  }\n\n  componentDidMount() {\n    this.listenTo(Store, 'itemAdded');\n    if (!Keyboard) return\n\n    Keyboard.addListener('keyboardWillShow', (e) => {\n      this.updateKeyboardSpace(e)\n    });\n\n    Keyboard.addListener('keyboardWillHide', (e) => {\n      this.resetKeyboardSpace(e)\n    })\n  }\n\n\n  componentDidUpdate() {\n    if (!this.state.missedRequiredOrErrorValue  ||  utils.isEmpty(this.state.missedRequiredOrErrorValue)) return\n\n    let viewCols = this.props.model.viewCols\n    let first\n    for (let p in this.state.missedRequiredOrErrorValue) {\n      if (!viewCols) {\n        first = p\n        break\n      }\n\n      if (!first || viewCols.indexOf(p) < viewCols.indexOf(first)) {\n        first = p\n      }\n    }\n    let ref = this.refs.form.getComponent(first) || this.refs[first]\n    if (!ref) return\n\n    if (!utils.isEmpty(this.state.missedRequiredOrErrorValue)  &&  !this.state.noScroll) {\n      utils.scrollComponentIntoView(this, ref)\n      this.state.noScroll = true\n    }\n  }\n\n  itemAdded(params) {\n    var resource = params.resource;\n    if (params.action === 'languageChange') {\n      this.props.navigator.popToTop()\n      return\n    }\n    if (params.action === 'noChanges') {\n      this.setState({err: translate('nothingChanged'), submitted: false})\n      return\n    }\n    if (params.action === 'getItem'  &&  utils.getId(this.state.resource) === utils.getId(params.resource)) {\n      this.setState({\n        resource: params.resource,\n        isUploading: false\n      })\n      return\n    }\n    if (params.action === 'getTemporary') {\n      var r = {}\n      extend(r, this.state.resource)\n      extend(r, params.resource)\n      this.setState({\n        resource: r,\n        isUploading: false\n      })\n      return\n    }\n\n    if (params.action === 'runVideo'  && this.state.isRegistration) {\n      if (this.props.callback)\n        this.setState({isLoadingVideo: true})\n      return;\n    }\n    if (!resource  &&  params.error &&  params.action === 'addItem') {\n      this.state.submitted = false\n      console.log('addItem: submitted = false')\n      Alert.alert(\n        params.error,\n        // this.props.navigator.pop()\n      )\n      var actionParams = {\n        query: this.state.filter,\n        modelName: this.props.modelName,\n        to: this.props.resource,\n      }\n      return\n    }\n    if (!resource  ||  (params.action !== 'addItem'  &&  params.action !== 'addMessage')) {\n//       console.log('addItem1: submitted = false')\n//       this.state.submitted = false\n      return;\n    }\n    if (this.state.resource[constants.TYPE] !== resource[constants.TYPE])\n      return\n    if (params.error) {\n      if (resource[constants.TYPE] == this.state.resource[constants.TYPE])\n        this.setState({err: params.error, resource: resource, isRegistration: this.state.isRegistration});\n      console.log('addItem error: submitted = false')\n      this.state.submitted = false\n      return;\n    }\n    if (params.action === 'addItem'  &&  resource.sharedWith  &&  resource.sharedWith.length > 1) {\n      this.showSharedWithList(params.resource)\n      return\n    }\n    if (this.props.callback) {\n      this.state.submitted = false\n      console.log('callback: submitted = false')\n      this.props.callback(resource);\n      return;\n    }\n\n    var self = this;\n    var title = utils.getDisplayName(resource, this.props.model.properties);\n    var isMessage = this.props.model.interfaces  &&  this.props.model.interfaces.indexOf(constants.TYPES.MESSAGE) != -1;\n    // When message created the return page is the chat window,\n    // When profile or some contact info changed/added the return page is Profile view page\n    if (isMessage) {\n      if (this.props.originatingMessage  &&  resource[constants.ROOT_HASH] !== this.props.originatingMessage[constants.ROOT_HASH]) {\n        var params = {\n          value: {documentCreated: true, document: resource[constants.NONCE]},\n          resource: this.props.originatingMessage,\n          meta: utils.getModel(this.props.originatingMessage[constants.TYPE]).value\n        }\n        Actions.addItem(params)\n        this.props.navigator.pop();\n        return;\n      }\n    }\n    var currentRoutes = self.props.navigator.getCurrentRoutes();\n    var currentRoutesLength = currentRoutes.length;\n    var navigateTo = (currentRoutesLength == 2)\n             ? this.props.navigator.replace\n             : this.props.navigator.replacePrevious\n    // Editing form originated from chat\n    if (this.props.chat) {\n      let routes = this.props.navigator.getCurrentRoutes()\n      this.props.navigator.popToRoute(routes[routes.length - 3])\n      return\n    }\n    navigateTo({\n      id: 3,\n      title: title,\n      component: ResourceView,\n      titleTextColor: '#7AAAC3',\n      rightButtonTitle: translate('edit'),\n      backButtonTitle: translate('back'),\n      onRightButtonPress: {\n        title: title,\n        id: 4,\n        component: NewResource,\n        rightButtonTitle: translate('done'),\n        backButtonTitle: translate('back'),\n        titleTextColor: '#7AAAC3',\n        passProps: {\n          model: self.props.model,\n          resource: resource,\n          currency: this.props.currency,\n          bankStyle: this.props.bankStyle\n        }\n      },\n      passProps: {\n        resource: resource,\n        currency: this.props.currency,\n        bankStyle: this.props.bankStyle\n      }\n    });\n    if (currentRoutesLength != 2)\n      this.props.navigator.pop();\n//     console.log('itemAdded: submitted = false')\n//     this.state.submitted = false\n  }\n  showSharedWithList(newResource) {\n    if (!this.props.resource  ||  !this.props.resource.sharedWith)\n      // this.onSavePressed1()\n      return\n    this.props.navigator.replace({\n      id: 10,\n      title: translate('shareChangesWith'),\n      backButtonTitle: translate('back'),\n      component: ResourceList,\n      rightButtonTitle: translate('Done'),\n      passProps: {\n        message: translate('chooseCompaniesToShareChangesWith'),\n        modelName: constants.TYPES.ORGANIZATION,\n        to: this.state.resource.to,\n        resource: this.props.resource,\n        callback:  this.shareWith.bind(this, newResource),\n        chat: this.props.chat,\n        bankStyle: this.props.bankStyle,\n        currency: this.props.currency\n      }\n    });\n  }\n  shareWith(newResource, list) {\n    if (list.length)\n      Actions.share(newResource, list)\n    this.props.navigator.pop()\n  }\n  onSavePressed() {\n    if (this.state.submitted)\n      return\n\n    this.state.submitted = true\n    this.state.noScroll = false\n    var resource = this.state.resource;\n    var value = this.refs.form.getValue();\n    if (!value) {\n      value = this.refs.form.refs.input.state.value;\n      if (!value)\n        value = {}\n    }\n    // value is a tcomb Struct\n    var json = utils.clone(value);\n    this.checkEnums(json, resource)\n    if (this.floatingProps) {\n      for (var p in this.floatingProps) {\n        json[p] = this.floatingProps[p]\n      }\n    }\n    var required = this.props.model.required;\n    if (!required) {\n      required = []\n      for (var p in this.props.model.properties) {\n        if (p.charAt(0) !== '_')\n          required.push(p)\n      }\n    }\n    var missedRequiredOrErrorValue = {}\n    required.forEach((p) =>  {\n      var v = (typeof json[p] !== 'undefined') || json[p] ? json[p] : (this.props.resource ? this.props.resource[p] : null); //resource[p];\n      if (v) {\n        if (typeof v === 'string'  &&  !v.length) {\n          v = null\n          delete json[p]\n        }\n        else if (typeof v === 'object')  {\n          let ref = this.props.model.properties[p].ref\n          if (ref) {\n            let rModel = utils.getModel(ref).value\n            if (ref === constants.TYPES.MONEY) {\n              if (!v.value || !v.value.length) {\n                missedRequiredOrErrorValue[p] = translate('thisFieldIsRequired')\n                return\n              }\n            }\n            else if (!rModel.subClassOf  ||  rModel.subClassOf !== ENUM) {\n              var units = this.props.model.properties[p].units\n              if (units)\n                v = v.value\n              else {\n                if (v.value === '')\n                  v = null\n                delete json[p]\n              }\n              return\n            }\n          }\n          else if (this.props.model.properties[p].type === 'array'  &&  !v.length) {\n            missedRequiredOrErrorValue[p] = translate('thisFieldIsRequired')\n            return\n          }\n        }\n      }\n      if (this.props.model.properties[p].type  === 'boolean'  &&  typeof v !== 'undefined')\n        return\n      var isDate = Object.prototype.toString.call(v) === '[object Date]'\n      if (!v  ||  (isDate  &&  isNaN(v.getTime())))  {\n        var prop = this.props.model.properties[p]\n        if (prop.items  &&  prop.items.backlink)\n          return\n        if ((prop.ref) ||  isDate  ||  prop.items) {\n          if (resource && resource[p])\n            return;\n          missedRequiredOrErrorValue[p] = translate('thisFieldIsRequired') //'This field is required'\n        }\n        else if (!prop.displayAs)\n          missedRequiredOrErrorValue[p] = translate('thisFieldIsRequired')\n      }\n    })\n    // if (this.props.resource                      &&\n    //     this.props.resource[constants.ROOT_HASH] &&\n    //     this.compare(json, this.props.resource)  &&\n    //     this.compare(resource, this.props.resource)) {\n    //   this.setState({err: translate('nothingChanged'), submitted: false})\n    //   return\n    // }\n\n    var err = this.validateProperties(json)\n    for (var p in err)\n      missedRequiredOrErrorValue[p] = err[p]\n\n    if (!utils.isEmpty(missedRequiredOrErrorValue)) {\n      console.log('onSavePressed not all required: submitted = false')\n\n      this.state.submitted = false\n      var state = {\n        missedRequiredOrErrorValue: missedRequiredOrErrorValue\n      }\n      this.setState(state)\n      return;\n    }\n    // if (msg) {\n    //   this.setState({ err: msg });\n    //   this.state.submitted = false\n    //   return;\n    // }\n    if (!value)\n      debugger\n    // if (!value) {\n    //   var errors = this.refs.form.refs.input.getValue().errors;\n    //   var msg = '';\n    //   var errMsg = errors.forEach(function(err) {\n    //      msg += ' ' + err.message;\n    //   });\n    //   this.setState({ err: msg });\n    //   this.state.submitted = false\n    //   return;\n    // }\n\n    // var json = JSON.parse(JSON.stringify(value));\n\n    if (!resource) {\n      resource = {};\n      resource[constants.TYPE] = this.props.model.id;\n    }\n    // var isRegistration = !utils.getMe()  && this.props.model.id === constants.TYPES.PROFILE  &&  (!resource || !resource[constants.ROOT_HASH]);\n    // if (isRegistration)\n    //   this.state.isRegistration = true;\n    // if (this.props.chat) {\n    //   let toId = utils.getId(resource.to)\n    //   // resource modifications should be related to the chat where it was changed\n    //   // Check if the resource modified was originally created in this chat\n    //   let chatReps = this.props.chat.contacts\n    //   let foundRep = this.props.chat.contacts.filter((rep) => {\n    //     return rep.id === toId\n    //   })\n    //   if (foundRep.length)\n    //     foundRep = foundRep[0]\n    //   else {\n    //     // find the right representative from the sharedWith property of the resource\n    //     let sharedWith = resource.sharedWith\n    //     sharedWith.forEach(rep => {\n    //       let r = chatReps.filter(r => {\n    //         return r.id === rep.bankRepresentative\n    //       })\n    //       if (r.length)\n    //         foundRep = r[0]\n    //     })\n    //   }\n    //   json.to = foundRep\n    // }\n\n    var r = {}\n    extend(true, r, resource)\n    delete r.url\n    var params = {\n      value: json,\n      resource: r,\n      meta: this.props.model,\n      isRegistration: this.state.isRegistration\n    };\n    if (this.props.additionalInfo)\n      params.additionalInfo = additionalInfo\n    if (this.props.chat)\n      params.chat = this.props.chat\n    // if (list)\n    //   params.shareWith = list\n    Actions.addItem(params)\n  }\n  // HACK: the value for property of the type that is subClassOf Enum is set on resource\n  // and it is different from what tcomb sets in the text field\n  checkEnums(json, resource) {\n    var props = this.props.model.properties\n    for (var p in json) {\n      if (!props[p]  ||  !props[p].ref)\n        continue\n      let m = utils.getModel(props[p].ref).value\n      if (m.subClassOf  &&  m.subClassOf === ENUM)\n        json[p] = resource[p]\n    }\n  }\n  addFormValues() {\n    var value = this.refs.form.getValue();\n    // var json = value ? JSON.parse(JSON.stringify(value)) : this.refs.form.refs.input.state.value;\n    var json = value ? value : this.refs.form.refs.input.state.value;\n    var resource = this.state.resource;\n    if (!resource) {\n      resource = {};\n      resource[constants.TYPE] = this.props.model.id;\n    }\n    for (var p in json)\n      if (!resource[p] && json[p])\n        resource[p] = json[p];\n    return resource;\n  }\n\n  onAddItem(propName, item) {\n    if (!item)\n      return;\n    var resource = this.addFormValues();\n    var items = resource[propName];\n    if (!items) {\n      items = [];\n      resource[propName] = items;\n    }\n    items.push(item);\n    var itemsCount = this.state.itemsCount ? this.state.itemsCount  + 1 : 1\n    if (this.state.missedRequiredOrErrorValue)\n      delete this.state.missedRequiredOrErrorValue[propName]\n    this.setState({\n      resource: resource,\n      itemsCount: itemsCount,\n      prop: propName\n    });\n  }\n  onNewPressed(bl) {\n    // if (bl.items.backlink) {\n    //   var model = utils.getModel(bl.items.ref).value;\n    //   var resource = {};\n    //   resource[constants.TYPE] = bl.items.ref;\n    //   resource[bl.items.backlink] = this.props.resource;\n    //   var passProps = {\n    //     model: model,\n    //     // callback: this.props.navigator.pop,\n    //     resource: resource\n    //   }\n    //   this.props.navigator.push({\n    //     id: 4,\n    //     title: 'Add new ' + bl.title,\n    //     backButtonTitle: 'Back',\n    //     component: NewResource,\n    //     rightButtonTitle: 'Done',\n    //     passProps: passProps,\n    //   });\n    //   return;\n    // }\n    var resource = this.addFormValues();\n    this.setState({resource: resource, err: ''});\n    // if (bl.name === 'photos') {\n    //   this.showChoice(bl);\n    //   return;\n    // }\n    var blmodel = bl.items.ref ? utils.getModel(bl.items.ref).value : this.props.model\n    if (bl.items.ref  &&  bl.allowToAdd) {\n      this.props.navigator.push({\n        id: 10,\n        title: translate(bl, blmodel), // Add new ' + bl.title,\n        backButtonTitle: translate('back'),\n        component: ResourceList,\n        passProps: {\n          modelName: bl.items.ref,\n          to: this.state.resource.to,\n          resource: this.state.resource,\n          isChooser: true,\n          prop: bl,\n          callback:    this.setChosenValue.bind(this),\n          // onAddItem: this.onAddItem.bind(this),\n          bankStyle: this.props.bankStyle,\n          currency: this.props.currency\n        }\n      });\n      return\n    }\n    this.props.navigator.push({\n      id: 6,\n      title: translate('addNew', translate(bl, blmodel)), // Add new ' + bl.title,\n      backButtonTitle: translate('back'),\n      component: NewItem,\n      rightButtonTitle: translate('done'),\n      // onRightButtonPress: {\n      //   stateChange: this.onAddItem.bind(this, bl, ),\n      //   before: this.done.bind(this)\n      // },\n      passProps: {\n        metadata: bl,\n        resource: this.state.resource,\n        parentMeta: this.props.parentMeta,\n        onAddItem: this.onAddItem.bind(this),\n        currency: this.props.currency\n      }\n    });\n  }\n  // showChoice(prop) {\n  //   var self = this;\n  //   ImagePicker.showImagePicker({\n  //     returnIsVertical: true,\n  //     chooseFromLibraryButtonTitle: utils.isSimulator() || prop._allowPicturesFromLibrary ? 'Choose from Library' : null,\n  //     takePhotoButtonTitle: utils.isSimulator() ? null : 'Take Photo…',\n  //     quality: utils.imageQuality\n  //   }, (response) => {\n  //     if (response.didCancel)\n  //       return;\n  //     if (response.error) {\n  //       console.log('ImagePickerManager Error: ', response.error);\n  //       return\n  //     }\n  //     var item = {\n  //       // title: 'photo',\n  //       url: 'data:image/jpeg;base64,' + response.data,\n  //       isVertical: response.isVertical,\n  //       width: response.width,\n  //       height: response.height,\n  //       chooseFromLibraryButtonTitle: ''\n  //     };\n  //     self.onAddItem('photos', item);\n  //   });\n  // }\n\n  render() {\n    if (this.state.isUploading)\n      return <View/>\n    var props = this.props;\n    var parentBG = {backgroundColor: '#7AAAC3'};\n    var resource = this.state.resource;\n\n    var meta =  props.model;\n    if (this.props.setProperty)\n      this.state.resource[this.props.setProperty.name] = this.props.setProperty.value;\n    var data = {};\n    var model = {};\n    var arrays = [];\n    extend(true, data, resource);\n    var isMessage = meta.interfaces  &&  meta.interfaces.indexOf(constants.TYPES.MESSAGE) != -1;\n    var isFinancialProduct = isMessage  &&  this.props.model.subClassOf && this.props.model.subClassOf === constants.TYPES.FINANCIAL_PRODUCT\n    var showSendVerificationForm = false;\n    var formToDisplay;\n    if (isMessage) {\n      var len = resource.message  &&  utils.splitMessage(resource.message).length;\n      if (len < 2)\n        showSendVerificationForm = true;\n      else\n        data.message = '';\n    }\n    var params = {\n        meta: meta,\n        data: data,\n        model: model,\n        items: arrays,\n        onEndEditing: this.onEndEditing.bind(this),\n        component: NewResource\n      };\n    if (this.props.editCols)\n      params.editCols = this.props.editCols;\n    if (this.state.isRegistration)\n      params.isRegistration = true\n    if (this.props.originatingMessage  &&  this.props.originatingMessage[constants.TYPE] === FORM_ERROR) {\n      params.errors = {}\n      this.props.originatingMessage.errors.forEach((r) => {\n        params.errors[r.name] = r.error\n      })\n    }\n\n    var options = this.getFormFields(params);\n\n    var Model = t.struct(model);\n\n    var itemsMeta\n    if (this.props.editCols) {\n      itemsMeta = []\n      this.props.editCols.forEach(function(p) {\n        if (meta.properties[p].type === 'array')\n          itemsMeta.push(meta.properties[p])\n      })\n    }\n    else\n      itemsMeta = utils.getItemsMeta(meta);\n\n    var self = this;\n    var arrayItems = [];\n    var itemsArray\n    for (var p in itemsMeta) {\n      var bl = itemsMeta[p]\n      if (bl.icon === 'ios-telephone-outline') {\n        bl.icon = 'ios-call-outline'\n      }\n\n      if (bl.readOnly  ||  bl.items.backlink) {\n        arrayItems.push(<View key={this.getNextKey()} ref={bl.name} />)\n        continue\n      }\n      let blmodel = meta\n      var counter, count = 0\n      itemsArray = null\n      var count = resource  &&  resource[bl.name] ? resource[bl.name].length : 0\n      if (count  &&  bl.name === 'photos')\n        arrayItems.push(this.getPhotoItem(bl, styles))\n      else\n        arrayItems.push(this.getItem(bl, styles))\n    }\n    if (this.state.isRegistration)\n      Form.stylesheet = rStyles\n    else\n      Form.stylesheet = stylesheet\n\n    // var style = this.state.isRegistration\n    //           ? DeviceHeight < 600 ? {marginTop: 100} : {marginTop: DeviceHeight / 4}\n    //           : platformStyles.container\n    var {width, height} = utils.dimensions(NewResource)\n    // var style = [platformStyles.container, {backgroundColor: 'transparent', height: DeviceHeight}]\n    // var style = [platformStyles.container, {backgroundColor: 'transparent'}, utils.isWeb() &&  !this.state.isRegistration ?  {borderWidth: StyleSheet.hairlineWidth, borderColor: 'transparent', borderTopColor: '#7AAAC3'} : {borderWidth: 0}]\n    var style = {backgroundColor: 'transparent'}\n    if (!options)\n      options = {}\n    options.auto = 'placeholders';\n    options.tintColor = 'red'\n    var photoStyle = /*isMessage && !isFinancialProduct ? {marginTop: -35} :*/ styles.photoBG;\n    var button = this.state.isRegistration\n               ? <View>\n                   <TouchableHighlight style={styles.thumbButton}\n                        underlayColor='transparent' onPress={() => {\n                          if (this.state.termsAccepted)\n                            this.onSavePressed()\n                          else\n                            this.showTermsAndConditions()\n                        }}>\n                      <View style={styles.getStarted}>\n                         <Text style={styles.getStartedText}>ENTER</Text>\n                      </View>\n                   </TouchableHighlight>\n                   <TouchableHighlight underlayColor='transparent' style={{flexDirection: 'row', alignSelf: 'center', paddingTop: 7}} onPress={this.showTermsAndConditions.bind(this)}>\n                     <View style={{flexDirection: 'row'}}>\n                       <Text style={{fontSize: 16, color: '#A6DBF5'}}>{translate('acceptTermsAndConditions')}</Text>\n                     </View>\n                   </TouchableHighlight>\n                 </View>\n               : <View style={{height: 0}} />\n    var formStyle = this.state.isRegistration\n                  ? {justifyContent: 'center', height: height - (height > 1000 ? 0 : 100)}\n                  : {justifyContent: 'flex-start'}\n    var content =\n      <ScrollView style={{backgroundColor: 'transparent'}}\n                  ref='scrollView' {...this.scrollviewProps}\n                  keyboardShouldPersistTaps={true}\n                  keyboardDismissMode={this.state.isRegistration || Platform.OS === 'ios' ? 'on-drag' : 'interactive'}>\n        <View style={[styles.container, formStyle]}>\n          { utils.isWeb()\n            ? <View/>\n            : <View style={photoStyle}>\n                <PhotoView resource={resource} navigator={this.props.navigator}/>\n              </View>\n          }\n          <View style={this.state.isRegistration ? {marginHorizontal: height > 1000 ? 50 : 30} : {marginHorizontal: 10}}>\n            <Form ref='form' type={Model} options={options} value={data} onChange={this.onChange.bind(this)}/>\n            {button}\n            <View style={{marginTop: this.state.isRegistration ? 0 : -10}}>\n              {arrayItems}\n             </View>\n              <View style={{alignItems: 'center', marginTop: 50}}>\n               {this.state.isLoadingVideo\n                    ? <ActivityIndicator animating={true} size='large' color='#ffffff'/>\n                    : <View/>\n                 }\n              </View>\n          </View>\n        </View>\n      </ScrollView>\n\n    // StatusBar.setHidden(true);\n    if (!this.state.isRegistration) {\n      if (this.state.err) {\n        Alert.alert(this.state.err)\n        this.state.err = null\n      }\n      return <PageView style={platformStyles.container}>{content}</PageView>\n    }\n    // return (\n    //   <View style={{height: height}}>\n    //     <Image source={BG_IMAGE} style={styles.bgImage} />\n    //     <View style={{justifyContent: 'center', height: height}}>\n    //     {content}\n    //     </View>\n    //     {this.state.isRegistration\n    //       ? <View style={styles.logo}>\n    //           <CustomIcon name='tradle' size={40} color='#ffffff' />\n    //         </View>\n    //       : <View/>\n    //     }\n    //   </View>\n    // )\n    return (\n      <View style={{height: height}}>\n        <BackgroundImage source={BG_IMAGE} style={styles.bgImage} />\n        <View style={{justifyContent: 'center', height: height}}>\n        {this.state.isRegistration\n          ? <View style={styles.logo}>\n              <CustomIcon name='tradle' size={40} color='#ffffff' style={{padding: 10}}/>\n            </View>\n          : <View/>\n        }\n        {content}\n        <View/>\n        </View>\n      </View>\n    )\n  }\n  showTermsAndConditions() {\n    this.props.navigator.push({\n      id: 3,\n      component: ResourceView,\n      title: translate('termsAndConditions'),\n      backButtonTitle: translate('back'),\n      rightButtonTitle: translate('Accept'),\n      passProps: {\n        resource: termsAndConditions,\n        action: this.acceptTsAndCs.bind(this)\n      }\n   })\n  }\n  acceptTsAndCs() {\n    this.setState({termsAccepted: true})\n    if (this.state.resource.firstName)\n      this.onSavePressed()\n    else\n      this.props.navigator.pop()\n  }\n\n  cancelItem(pMeta, item) {\n    var list = this.state.resource[pMeta.name];\n    for (var i=0; i<list.length; i++) {\n      if (equal(list[i], item)) {\n        list.splice(i, 1);\n        this.setState({\n          resource: this.state.resource,\n          itemsCount: list.length\n        })\n        return\n      }\n    }\n  }\n\n  showItems(prop, model, event) {\n    var resource = this.state.resource;\n    var model = (this.props.model  ||  this.props.metadata)\n    if (!resource) {\n      resource = {};\n      resource[constants.TYPE] = model.id;\n    }\n\n    var currentRoutes = this.props.navigator.getCurrentRoutes();\n    this.props.navigator.push({\n      title: translate('tapToRemovePhotos'), //Tap to remove photos',\n      titleTintColor: 'red',\n      id: 19,\n      component: GridItemsList,\n      noLeftButton: true,\n      rightButtonTitle: translate('done'),\n      passProps: {\n        prop:        prop.name,\n        resource:    resource,\n        onAddItem:   this.onAddItem.bind(this),\n        list:        resource[prop.name],\n        returnRoute: currentRoutes[currentRoutes.length - 1],\n        callback:    this.setChosenValue.bind(this),\n      }\n    });\n  }\n  getItem(bl, styles) {\n    let meta = this.props.model\n    let resource = this.state.resource\n    let blmodel = meta\n    var counter, count = 0\n    let itemsArray = null\n    var count = resource  &&  resource[bl.name] ? resource[bl.name].length : 0\n\n    if (count) {\n      let val = <View>{this.renderItems(resource[bl.name], bl, this.cancelItem.bind(this))}</View>\n\n      var separator = <View style={styles.separator}></View>\n      let cstyle = count ? styles.activePropTitle : styles.noItemsText\n      itemsArray = <View>\n                     <Text style={cstyle}>{translate(bl, blmodel)}</Text>\n                     {val}\n                   </View>\n\n      counter = <View style={[styles.itemsCounterEmpty, {paddingBottom: 10, marginTop: 15}]}>\n                  <Icon name={bl.icon || 'md-add'} size={bl.icon ? 25 : 20}  color={LINK_COLOR} />\n                </View>\n    }\n    else {\n      itemsArray = <Text style={count ? styles.itemsText : styles.noItemsText}>{translate(bl, blmodel)}</Text>\n      counter = <View style={[styles.itemsCounterEmpty]}>{\n                  bl.name === 'photos'\n                    ? <Icon name='ios-camera-outline'  size={25} color={LINK_COLOR} />\n                    : <Icon name={bl.icon || 'md-add'}   size={bl.icon ? 25 : 20} color={LINK_COLOR} />\n                  }\n\n                </View>\n    }\n    var title = translate(bl, blmodel) //.title || utils.makeLabel(p)\n    var err = this.state.missedRequiredOrErrorValue\n            ? this.state.missedRequiredOrErrorValue[bl.name]\n            : null\n    var errTitle = translate('thisFieldIsRequired')\n    var error = err\n              ? <View style={styles.error}>\n                  <Text style={styles.errorText}>{errTitle}</Text>\n                </View>\n              : <View/>\n\n    var aiStyle = [{flex: 7}, count ? {paddingTop: 0} : {paddingTop: 15, paddingBottom: 7}]\n    var actionableItem = bl.name === 'photos'\n      ? <ImageInput prop={bl} style={aiStyle} onImage={item => this.onAddItem(bl.name, item)}>\n          {itemsArray}\n        </ImageInput>\n      : <TouchableHighlight style={aiStyle} underlayColor='transparent'\n            onPress={this.onNewPressed.bind(this, bl, meta)}>\n          {itemsArray}\n        </TouchableHighlight>\n\n    let istyle = [styles.itemButton]\n    if (err)\n      istyle.push({marginBottom: 10})\n    else if (!count)\n      istyle.push({paddingBottom: 0, height: 70})\n    else {\n      let height = resource[bl.name].photo ? 55 : 45\n      istyle.push({paddingBottom: 0, height: count * height + 35})\n    }\n\n    let acStyle = [{flex: 1, position: 'absolute', right: 0},\n                   count || utils.isWeb() ? {paddingTop: 0} : {marginTop: 15, paddingBottom: 7}\n                 ]\n    var actionableCounter = bl.name === 'photos'\n      ? <ImageInput prop={bl} style={acStyle} onImage={item => this.onAddItem(bl.name, item)}>\n          {counter}\n        </ImageInput>\n      : <TouchableHighlight underlayColor='transparent' style={acStyle}\n            onPress={this.onNewPressed.bind(this, bl, meta)}>\n          {counter}\n        </TouchableHighlight>\n\n    return (\n      <View key={this.getNextKey()}>\n        <View style={[istyle, {marginHorizontal: 10}]} ref={bl.name}>\n          <View style={styles.items}>\n            {actionableItem}\n            {actionableCounter}\n          </View>\n        </View>\n        {error}\n      </View>\n    );\n  }\n\n  getPhotoItem(bl, styles) {\n    let meta = this.props.model\n    let resource = this.state.resource\n    let blmodel = meta\n    var counter, count = 0\n    let itemsArray = null\n    var count = resource  &&  resource[bl.name] ? resource[bl.name].length : 0\n    if (count) {\n      var items = []\n      var arr = resource[bl.name]\n      var n = Math.min(arr.length, utils.isWeb() ? utils.dimensions().width - 100 / 40 :  7)\n      for (var i=0; i<n; i++) {\n        items.push(<Image resizeMode='cover' style={styles.thumb} source={{uri: arr[i].url}}  key={this.getNextKey()} onPress={() => {\n          this.openModal(arr[i])\n        }}/>)\n      }\n      itemsArray =\n        <View style={[styles.photoStrip, count ? {marginTop: -25} : {marginTop: 0}]}>\n          <Text style={styles.activePropTitle}>{translate(bl, blmodel)}</Text>\n          <View style={styles.photoStripItems}>{items}</View>\n        </View>\n      counter =\n        <View>\n          <View style={{marginTop: 25, paddingHorizontal: 5}}>\n            <Icon name='ios-camera-outline'  size={25} color={LINK_COLOR} />\n          </View>\n        </View>;\n    }\n    else {\n      itemsArray = <Text style={count ? styles.itemsText : styles.noItemsText}>{translate(bl, blmodel)}</Text>\n      counter = <View style={[styles.itemsCounterEmpty]}>\n                  <Icon name='ios-camera-outline'  size={25} color={LINK_COLOR} />\n                </View>\n    }\n    var title = translate(bl, blmodel) //.title || utils.makeLabel(p)\n    var err = this.state.missedRequiredOrErrorValue\n            ? this.state.missedRequiredOrErrorValue[bl.name]\n            : null\n    var errTitle = translate('thisFieldIsRequired')\n    var error = err\n              ? <View style={styles.error}>\n                  <Text style={styles.errorText}>{errTitle}</Text>\n                </View>\n              : <View/>\n    var actionableItem = count\n                       ?  <TouchableHighlight style={{flex: 7, paddingTop: 15}} underlayColor='transparent'\n                           onPress={this.showItems.bind(this, bl, meta)}>\n                            {itemsArray}\n                          </TouchableHighlight>\n                       : <ImageInput\n                           prop={bl}\n                           style={[{flex: 7}, count ? {paddingTop: 0} : {paddingTop: 15, paddingBottom: 7}]}\n                           underlayColor='transparent'\n                           onImage={item => this.onAddItem(bl.name, item)}>\n                           {itemsArray}\n                         </ImageInput>\n\n    let istyle = count ? styles.photoButton : styles.itemButton\n\n    return (\n      <View key={this.getNextKey()}>\n        <View style={[istyle, {marginHorizontal: 10}]} ref={bl.name}>\n          <View style={styles.items}>\n            {actionableItem}\n            <ImageInput\n                prop={bl}\n                underlayColor='transparent' style={[{flex: 1, position: 'absolute', right: 0}, count ? {marginTop: 15} : {marginTop: 15, paddingBottom: 7}]}\n                onImage={item => this.onAddItem(bl.name, item)}>\n              {counter}\n            </ImageInput>\n          </View>\n        </View>\n        {error}\n      </View>\n    );\n  }\n\n  onEndEditing(prop, event) {\n    if (this.state.resource[prop]  ||  event.nativeEvent.text.length)\n      this.state.resource[prop] = event.nativeEvent.text;\n  }\n  onChange(value, properties) {\n    if (!properties)\n      return\n    properties.forEach((p) => {\n      this.state.resource[p] = value[p];\n    })\n  }\n\n  onSubmitEditing(msg) {\n    msg = msg ? msg : this.state.userInput;\n    var assets = this.state.selectedAssets;\n    var isNoAssets = utils.isEmpty(assets);\n    if (!msg  &&  isNoAssets)\n      return;\n    var me = utils.getMe();\n    var resource = {from: utils.getMe(), to: this.props.resource.to};\n    var model = this.props.model;\n\n    var toName = utils.getDisplayName(resource.to, utils.getModel(resource.to[constants.TYPE]).value.properties);\n    var meta = utils.getModel(me[constants.TYPE]).value.properties;\n    var meName = utils.getDisplayName(me, meta);\n    var modelName = constants.TYPES.SIMPLE_MESSAGE;\n    var value = {\n      message: msg\n              ?  model.isInterface ? msg : '[' + msg + '](' + model.id + ')'\n              : '',\n\n      from: {\n        id: utils.getId(me),\n        title: meName\n      },\n      to: {\n        id: utils.getId(resource),\n        title: toName\n      },\n\n      time: new Date().getTime()\n    }\n    value[constants.TYPE] = modelName;\n\n    if (!isNoAssets) {\n      var photos = [];\n      for (var assetUri in assets)\n        photos.push({url: assetUri, title: 'photo'});\n\n      value.photos = photos;\n    }\n    this.setState({userInput: '', selectedAssets: {}});\n    // setTimeout(function() {\n    //   this.setState({textValue: this.state.userInput, selectedAssets: {}});\n    //   this.refs.chat.focus();\n    // }.bind(this), 0);\n    Actions.addMessage(value); //, this.state.resource, utils.getModel(modelName).value);\n  }\n}\nreactMixin(NewResource.prototype, Reflux.ListenerMixin);\nreactMixin(NewResource.prototype, NewResourceMixin);\nreactMixin(NewResource.prototype, ResourceMixin);\nNewResource = makeResponsive(NewResource)\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  noItemsText: {\n    fontSize: 18,\n    color: '#AAAAAA',\n    // alignSelf: 'center',\n    // paddingLeft: 10\n  },\n  itemsText: {\n    fontSize: 18,\n    color: '#000000',\n    // alignSelf: 'center',\n    paddingLeft: 10\n  },\n  itemsCounterEmpty: {\n    paddingHorizontal: 5\n  },\n  itemsCounter: {\n    borderColor: '#2E3B4E',\n    borderRadius: 10,\n    borderWidth: 1,\n    alignSelf: 'center',\n    paddingHorizontal: 5,\n  },\n  itemButton: {\n    height: 60,\n    marginLeft: 10,\n    // marginLeft: 10,\n    borderColor: '#ffffff',\n    borderBottomColor: '#cccccc',\n    borderBottomWidth: 1,\n    paddingBottom: 10,\n    justifyContent: 'flex-end',\n  },\n  photoButton: {\n    marginLeft: 10,\n    borderColor: '#ffffff',\n    borderBottomColor: '#cccccc',\n    borderBottomWidth: 1,\n    // paddingBottom: 5,\n  },\n\n  photoBG: {\n    // marginTop: -15,\n    alignItems: 'center',\n    paddingBottom: 10,\n    // backgroundColor: '#245D8C'\n  },\n  err: {\n    // paddingVertical: 10,\n    flexWrap: 'wrap',\n    paddingHorizontal: 25,\n    fontSize: 16,\n    color: 'darkred',\n  },\n  getStartedText: {\n    // color: '#f0f0f0',\n    color: '#eeeeee',\n    fontSize: 20,\n    fontWeight:'300',\n    alignSelf: 'center'\n  },\n  getStarted: {\n    backgroundColor: '#467EAE', //'#2892C6',\n    paddingVertical: 10,\n    marginHorizontal: 10,\n    // paddingHorizontal: 50,\n    alignSelf: 'stretch',\n  },\n  thumbButton: {\n    marginTop: 20,\n    alignSelf: 'stretch',\n    alignItems: 'center',\n    justifyContent: 'center',\n    // paddingHorizontal: 80,\n  },\n  thumb: {\n    width:  40,\n    height: 40,\n    marginRight: 2,\n    borderRadius: 5\n  },\n  error: {\n    // paddingLeft: 5,\n    // position: 'absolute',\n    // top: 70,\n    // marginBottom: -30,\n    marginTop: -10,\n    backgroundColor: 'transparent'\n  },\n  errorText: {\n    fontSize: 14,\n    marginLeft: 10,\n    color: '#a94442'\n  },\n  items: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    // paddingBottom: 5\n  },\n  activePropTitle: {\n    fontSize: 12,\n    marginTop: 20,\n    paddingBottom: 5,\n    // marginBottom: 5,\n    color: '#bbbbbb'\n  },\n  photoStrip: {\n    // marginLeft: 10,\n    // marginTop: -30,\n    paddingBottom: 5\n  },\n  photoStripItems: {\n    flexDirection: 'row'\n  },\n  logo: {\n    opacity: 0.7,\n    alignSelf: 'flex-end',\n  }\n})\n\nmodule.exports = makeResponsive(NewResource);\n\nfunction readFile (file, cb) {\n  var reader  = new FileReader();\n  reader.addEventListener('load', function () {\n    cb(null, reader.result)\n  }, false)\n\n  reader.addEventListener('error', cb)\n  reader.readAsDataURL(file)\n}\n\nfunction readImage (file, cb) {\n  readFile(file, function (err, dataUrl) {\n    var image = new window.Image()\n    image.addEventListener('error', function (err) {\n      if (!err) err = new Error('failed to load image')\n\n      cb(err)\n    })\n\n    image.addEventListener('load', function () {\n      cb(null, {\n        url: dataUrl,\n        width: image.width,\n        height: image.height\n      })\n    })\n\n    image.src = dataUrl\n  })\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/NewResource.js\n **/","\nimport React, {\n  Component,\n  PropTypes\n} from 'react'\n\nimport {\n  Platform,\n  TouchableHighlight,\n  View\n} from 'react-native'\n\nimport ReactDOM from 'react-dom'\nimport utils from '../utils/utils'\nconst FileInput = Platform.OS === 'web' && require('react-file-input')\n\nconst imageInputPropTypes = {\n  ...TouchableHighlight.propTypes,\n  prop: PropTypes.string.isRequired,\n  onImage: PropTypes.func.isRequired\n}\n\nclass ImageInput extends Component {\n  props: imageInputPropTypes;\n  constructor(props) {\n    super(props)\n    this._onPress = this._onPress.bind(this)\n  }\n  _onPress() {\n    if (this._pressing) return\n\n    this._pressing = true\n    setTimeout(() => this._pressing = false, 100)\n    this.showImagePicker()\n  }\n  showImagePicker() {\n    const me = ReactDOM.findDOMNode(this)\n    const inputs = me.getElementsByTagName('input')\n    const fileInput = [].filter.call(inputs, i => i.type === 'file')[0]\n    fileInput.click()\n  }\n  render() {\n    const touchableProps = { ...this.props }\n    delete touchableProps.prop\n    delete touchableProps.onImage\n\n    // allow override of onPress\n    return (\n      <View>\n        <TouchableHighlight\n          underlayColor='transparent'\n          {...touchableProps}\n          onPress={this.props.onPress || this._onPress}>\n          {this.props.children}\n        </TouchableHighlight>\n        {this.renderImageFileInput()}\n      </View>\n    )\n  }\n  renderImageFileInput() {\n    const { prop, onImage } = this.props\n    return (\n      <View style={{ width: 0, height: 0, opacity: 0 }}>\n        <FileInput\n          ref={ref => this._input = ref}\n          name={prop.name}\n          placeholder={prop.title || prop.name}\n          onChange={e => {\n            utils.readImage(e.target.files[0], function (err, item) {\n              if (err) return Alert.alert('Unable to process file', err.message)\n\n              onImage({\n                ...item,\n                isVertical: true\n              })\n            })\n          }} />\n      </View>\n    )\n  }\n}\n\nmodule.exports = ImageInput\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/ImageInput.web.js\n **/","import React, { Component } from 'react'\nimport {\n  Platform,\n  StyleSheet,\n  Image,\n  Dimensions,\n  View\n} from 'react-native'\n\nimport { makeResponsive, getDimensions } from 'react-native-orient'\n\nclass BackgroundImage extends Component {\n  render() {\n    const props = this.props\n    const { width, height } = Dimensions.get('window')\n    return (\n      <View {...props} style={[\n        props.style,\n        {\n          background: `url(${props.source.uri || props.source}) no-repeat center center fixed`,\n          backgroundSize: 'cover',\n          width: '100%',\n          height: '100%',\n          position: 'absolute',\n          top: 0,\n          left: 0\n        }\n      ]} />\n    )\n  }\n}\n\nmodule.exports = makeResponsive(BackgroundImage)\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/BackgroundImage.web.js\n **/","'use strict';\n\nvar t = require('tcomb-form-native');\nvar utils = require('../utils/utils');\nvar translate = utils.translate\nvar extend = require('extend');\n// var logError = require('logError');\n// var SelectPhotoList = require('./SelectPhotoList');\nvar myStyles = require('../styles/styles');\nvar constants = require('@tradle/constants');\nvar NewResourceMixin = require('./NewResourceMixin');\nvar reactMixin = require('react-mixin');\nimport platformStyles from '../styles/platform'\n\nvar Form = t.form.Form;\nForm.stylesheet = myStyles;\n\nimport {\n  StyleSheet,\n  View,\n  Text,\n  ScrollView,\n  TouchableHighlight,\n} from 'react-native'\n\nimport React, { Component } from 'react'\n\nclass NewItem extends Component {\n  static displayName = 'NewItem'\n  props: {\n    navigator: PropTypes.object.isRequired,\n    metadata: PropTypes.object.isRequired,\n    resource: PropTypes.object.isRequired,\n    onAddItem: PropTypes.func,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedAssets: {},\n      resource: this.props.resource\n    }\n\n    // if (this.props.resource[this.props.metadata.name])\n    //   this.state.data = this.props.resource[this.props.metadata.name]\n\n    var currentRoutes = this.props.navigator.getCurrentRoutes();\n    var currentRoutesLength = currentRoutes.length;\n    // currentRoutes[currentRoutesLength - 1].onRightButtonPress = {\n    //   stateChange: this.onSavePressed.bind(this)\n    // };\n    currentRoutes[currentRoutesLength - 1].onRightButtonPress = this.onSavePressed.bind(this)\n  }\n  onSavePressed() {\n    if (this.state.submitted)\n      return\n    this.state.submitted = true\n    var value = this.refs.form.getValue();\n    if (!value)\n      value = this.refs.form.refs.input.state.value;\n    if (!value) {\n      value = this.state.data\n      if (!value)\n        value = {}\n    }\n\n    if (this.floatingProps) {\n      for (var p in this.floatingProps)\n        value[p] = this.floatingProps[p]\n    }\n    var propName = this.props.metadata.name;\n    var resource = this.props.resource\n    // value is a tcomb Struct\n    var item = utils.clone(value);\n    var missedRequiredOrErrorValue = this.checkRequired(this.props.metadata, item, resource)\n    if (!utils.isEmpty(missedRequiredOrErrorValue)) {\n      this.state.submitted = false\n      var state = {\n        missedRequiredOrErrorValue: missedRequiredOrErrorValue\n      }\n      this.setState(state)\n      return;\n    }\n\n    if (this.props.metadata.items) {\n      // HACK ref props of array type props reside on resource for now\n      var props = this.props.metadata.items.properties\n      if (props) {\n        var rProps = utils.getModel(resource[constants.TYPE]).value.properties\n        for (var p in props) {\n          if (p === propName)\n            continue\n          if (props[p].ref  &&  resource[p]  &&  !rProps[p]) {\n            item[p] = resource[p]\n            delete resource[p]\n          }\n        }\n      }\n    }\n\n    if (!this.validateValues(this.props.metadata, item)) {\n      this.state.submitted = false\n      return;\n    }\n\n    // if (this.props.metadata.items.backlink)\n    //   item[this.props.metadata.items.backlink] = this.props.resource[constants.TYPE] + '_' + this.props.resource[constants.ROOT_HASH];\n\n    if (utils.isEmpty(this.state.selectedAssets))\n      this.props.onAddItem(propName, item);\n    else {\n      for (var assetUri in this.state.selectedAssets) {\n        var newItem = {};\n        extend(newItem, item);\n        newItem = {url: assetUri, title: 'photo'};\n        this.props.onAddItem(propName, newItem);\n      }\n    }\n    this.props.navigator.pop();\n  }\n\n  checkRequired(metadata, json, resource) {\n    var required = metadata.required;\n    if (!required) {\n      required = []\n      for (var p in metadata.items.properties) {\n        if (p.charAt(0) !== '_')\n          required.push(p)\n      }\n    }\n    var missedRequiredOrErrorValue = {}\n    required.forEach((p) =>  {\n      var v = json[p] ? json[p] : (this.props.resource ? this.props.resource[p] : null); //resource[p];\n      if (v) {\n        if (typeof v === 'string'  &&  !v.length) {\n          v = null\n          delete json[p]\n        }\n        else if (typeof v === 'object'  &&  metadata.items.properties[p].ref == constants.TYPES.MONEY) {\n          var units = metadata.items.properties[p].units\n          if (units)\n            v = v.value\n          else {\n            if (v.value === '')\n              v = null\n            delete json[p]\n          }\n        }\n      }\n      var isDate = Object.prototype.toString.call(v) === '[object Date]'\n      if (!v  ||  (isDate  &&  isNaN(v.getTime())))  {\n        var prop = metadata\n        if (prop.items  &&  prop.items.backlink)\n          return\n        if ((prop.ref) ||  isDate  ||  prop.items) {\n          if (resource && resource[p])\n            return;\n          missedRequiredOrErrorValue[p] = missedRequiredOrErrorValue[p] = translate('thisFieldIsRequired') //'This field is required'\n        }\n        else if (!prop.displayAs)\n          missedRequiredOrErrorValue[p] = missedRequiredOrErrorValue[p] = translate('thisFieldIsRequired') //'This field is required'\n      }\n    })\n    return missedRequiredOrErrorValue\n  }\n  validateValues(prop, item) {\n    var required = prop.required;\n    var hasError;\n    this.state.options = {\n      fields: {}\n    };\n    if (required) {\n      required.forEach((p) => {\n        if (!item[p]  &&  prop.name == 'photos') {\n          if (!utils.isEmpty(this.state.selectedAssets))\n            return;\n          hasError = true;\n          this.setState({err: 'Select the photo please'});\n        }\n      })\n    }\n    if (!hasError)\n      this.state.options = null;\n    return !hasError;\n  }\n  addItem() {\n    var propName = this.props.metadata.name;\n    var json = utils.clone(value);\n    this.props.onAddItem(propName, json);\n    return true;\n  }\n  render() {\n    var props = this.props;\n    var err = props.err || this.state.err || '';\n    var errStyle = err ? styles.err : {'padding': 0, 'height': 0};\n    var error = err\n              ? <Text style={errStyle}>{err}</Text>\n              : <View />\n\n\n    var meta =  props.metadata;\n    var model = {};\n    var params = {\n        meta: meta,\n        model: model,\n        // chooser: this.props.chooser.bind(this),\n        // template: this.props.template.bind(this),\n        onSubmitEditing: this.onSavePressed.bind(this),\n        component: NewItem\n    };\n    if (this.state.data)\n      params.data = this.state.data[0]\n\n    var options = this.getFormFields(params);\n    options.auto = 'placeholders';\n    var Model = t.struct(model);\n    if (this.state.options) {\n      for (var fieldName in this.state.options.fields) {\n        var fields = this.state.options.fields[fieldName]\n        for (var f in fields) {\n          options.fields[fieldName][f] = fields[f];\n        }\n      }\n    }\n\n        // <SelectPhotoList style={{marginTop: -40}}\n        //   metadata={this.props.metadata}\n        //   navigator={this.props.navigator}\n        //   onSelect={this.onSelect.bind(this)} />\n    return (\n      <View style={platformStyles.container}>\n        <View style={{marginLeft: 10, marginRight: 20, marginBottom: 15 }}>\n          <Form ref='form' type={Model} options={options} />\n        </View>\n        {error}\n      </View>\n    );\n  }\n  onSelect(asset) {\n    var selectedAssets = this.state.selectedAssets;\n    // unselect if was selected before\n    if (selectedAssets[asset.node.image.uri])\n      delete selectedAssets[asset.node.image.uri];\n    else\n      selectedAssets[asset.node.image.uri] = asset;\n  }\n}\nreactMixin(NewItem.prototype, NewResourceMixin);\n\nvar styles = StyleSheet.create({\n  imageContainer: {\n    flex: 1,\n  },\n  row: {\n    flexDirection: 'row',\n    flex: 1,\n    alignSelf: 'center'\n  },\n  buttons: {\n    flex: 1,\n    flexDirection: 'row',\n  },\n  buttonText: {\n    fontSize: 16,\n    color: 'white',\n    alignSelf: 'center',\n  },\n  button: {\n    height: 36,\n    width: 100,\n    flex: 1,\n    backgroundColor: '#ffffff',\n    borderColor: '#6093ae',\n    borderWidth: 1,\n    borderRadius: 8,\n    marginBottom: 10,\n    justifyContent: 'center',\n    alignSelf: 'center'\n  },\n  err: {\n    paddingVertical: 10,\n    fontSize: 20,\n    color: 'darkred',\n  }\n\n});\nmodule.exports = NewItem;\n\n// tryiing to add custom validation of typed props e.g email\n    // if (propName == 'contact'  &&  value.type === 'email') {\n    //    var validated = /(.)+@(.)+/.test(value);\n    //   if (!validate) {\n    //      this.setState({\n    //         options: {\n    //           fields: {\n    //             identifier: {\n    //               hasError: true,\n    //               error: 'Invalid email'\n    //             }\n    //           }\n    //         }\n    //     });\n    //     return;\n    //   }\n\n    // }\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/NewItem.js\n **/","/*\n\n  a bootstrap like style\n\n*/\n'use strict';\n\nvar LABEL_COLOR = '#cccccc';\nvar INPUT_COLOR = '#000000';\nvar ERROR_COLOR = '#a94442';\nvar HELP_COLOR = '#999999';\nvar BORDER_COLOR = '#bbbbbb';\nvar DISABLED_COLOR = '#777777';\nvar DISABLED_BACKGROUND_COLOR = '#eeeeee';\nvar FONT_SIZE = 20\nvar HELP_FONT_SIZE = 14\nvar LABEL_FONT_SIZE = 11\n\nvar FONT_WEIGHT = '400';\n\nvar stylesheet = Object.freeze({\n  fieldset: {},\n  // the style applied to the container of all inputs\n  formGroup: {\n    normal: {\n      marginBottom: 10\n    },\n    error: {\n      marginBottom: 10\n    }\n  },\n  controlLabel: {\n    normal: {\n      color: LABEL_COLOR,\n      fontSize: LABEL_FONT_SIZE,\n      marginBottom: 3,\n      paddingLeft: 15,\n      fontWeight: FONT_WEIGHT\n    },\n    // the style applied when a validation error occours\n    error: {\n      color: ERROR_COLOR,\n      fontSize: LABEL_FONT_SIZE,\n      marginBottom: 7,\n      fontWeight: FONT_WEIGHT\n    }\n  },\n  helpBlock: {\n    normal: {\n      color: HELP_COLOR,\n      fontSize: HELP_FONT_SIZE,\n      // marginLeft: 10,\n      marginTop: 5\n    },\n    // the style applied when a validation error occours\n    error: {\n      color: HELP_COLOR,\n      fontSize: HELP_FONT_SIZE,\n      // marginLeft: 10,\n      marginBottom: 2\n    }\n  },\n  errorBlock: {\n    fontSize: FONT_SIZE,\n    marginBottom: 2,\n    color: ERROR_COLOR\n  },\n  textbox: {\n    normal: {\n      color: INPUT_COLOR,\n      fontSize: FONT_SIZE,\n      // fontFamily: 'Helvetica Light',\n      height: 46,\n      padding: 7,\n      borderRadius: 4,\n      // textDecorationLine: 'underline',\n      // textDecorationStyle: 'solid',\n      // textDecorationColor: '#aaaaaa',\n      // lineHeight: 5,\n      borderColor: BORDER_COLOR,\n      borderBottomColor: BORDER_COLOR,\n      borderTopColor: '#ffffff',\n      borderLeftColor: '#ffffff',\n      borderRightColor: '#ffffff',\n      borderWidth: 0.5,\n      marginBottom: 0\n    },\n    // the style applied when a validation error occours\n    error: {\n      color: INPUT_COLOR,\n      fontSize: FONT_SIZE,\n      height: 36,\n      padding: 7,\n      borderRadius: 4,\n      borderColor: ERROR_COLOR,\n      borderWidth: 1,\n      marginBottom: 5\n    },\n    // the style applied when the textbox is not editable\n    notEditable: {\n      fontSize: FONT_SIZE,\n      height: 36,\n      padding: 7,\n      borderRadius: 4,\n      borderColor: BORDER_COLOR,\n      borderWidth: 1,\n      marginBottom: 5,\n      color: DISABLED_COLOR,\n      backgroundColor: DISABLED_BACKGROUND_COLOR\n    }\n  },\n  checkbox: {\n    normal: {\n      color: INPUT_COLOR,\n      marginBottom: 4\n    },\n    // the style applied when a validation error occours\n    error: {\n      color: INPUT_COLOR,\n      marginBottom: 4\n    }\n  },\n  select: {\n    normal: {\n      marginBottom: 4\n    },\n    // the style applied when a validation error occours\n    error: {\n      marginBottom: 4\n    }\n  },\n  datepicker: {\n    normal: {\n      marginBottom: 4,\n      marginLeft: 15\n    },\n    // the style applied when a validation error occours\n    error: {\n      marginBottom: 4,\n      marginLeft: 15\n    }\n  }\n});\n\nmodule.exports = stylesheet;\n\n\n/** WEBPACK FOOTER **\n ** ./styles/styles.js\n **/","'use strict';\n\nvar React = require('react');\nvar dateformat = require('dateformat')\nvar ResourceList = require('./ResourceList')\nvar EnumList = require('./EnumList')\nvar FloatLabel = require('react-native-floating-labels')\nvar Icon = require('react-native-vector-icons/Ionicons');\nvar utils = require('../utils/utils');\nvar CameraView = require('./CameraView')\nvar translate = utils.translate\nvar moment = require('moment')\n\nimport DatePicker from 'react-native-datepicker'\n\nvar constants = require('@tradle/constants');\nvar t = require('tcomb-form-native');\nvar Actions = require('../Actions/Actions');\nvar extend = require('extend');\nconst DEFAULT_CURRENCY_SYMBOL = '£';\nvar CURRENCY_SYMBOL\nconst ENUM = 'tradle.Enum'\nconst SETTINGS = 'tradle.Settings'\nconst YEAR = 3600 * 1000 * 24 * 365\nconst DAY  = 3600 * 1000 * 24\nconst HOUR = 3600 * 1000\nconst MINUTE = 60 * 1000\n\nvar cnt = 0;\nvar propTypesMap = {\n  'string': t.Str,\n  'boolean': t.Bool,\n  'date': t.Dat,\n  'number': t.Num\n};\nimport {\n  Text,\n  View,\n  TouchableHighlight,\n  Platform,\n  Image,\n  StyleSheet,\n  Navigator,\n  Switch,\n  DatePickerAndroid,\n} from 'react-native';\n\nvar LINK_COLOR, DEFAULT_LINK_COLOR = '#a94442'\n// import transform from 'tcomb-json-schema'\nvar component\n\nvar NewResourceMixin = {\n  onScroll(e) {\n    this._contentOffset = { ...e.nativeEvent.contentOffset }\n  },\n  getScrollOffset() {\n    return { ...this._contentOffset }\n  },\n  getFormFields(params) {\n    CURRENCY_SYMBOL = this.props.currency ? this.props.currency.symbol ||  this.props.currency : DEFAULT_CURRENCY_SYMBOL\n    component = params.component\n\n    if (this.props.bankStyle)\n      LINK_COLOR = this.props.bankStyle.LINK_COLOR || DEFAULT_LINK_COLOR\n    else\n      LINK_COLOR = DEFAULT_LINK_COLOR\n\n    var meta = this.props.model  ||  this.props.metadata;\n    var model = params.model;  // For the form\n    var isMessage = meta.interfaces\n    var onSubmitEditing = isMessage ? this.onSubmitEditing  ||  params.onSubmitEditing : this.onSavePressed\n    var onEndEditing = this.onEndEditing  ||  params.onEndEditing\n    var chooser = this.chooser  ||  this.props.chooser\n    var models = utils.getModels();\n    var data = params.data;\n    var options = {};\n    options.fields = {};\n\n    var props, bl;\n    if (!meta.items)\n      props = meta.properties;\n    else {\n      bl = meta.items.backlink;\n      if (!meta.items.ref)\n        props = meta.items.properties;\n      else\n        props = utils.getModel(meta.items.ref).value.properties;\n    }\n\n    var dModel = data  &&  models[data[constants.TYPE]]\n    if (!utils.isEmpty(data)) {\n      if (!meta.items && data[constants.TYPE] !== meta.id) {\n        var interfaces = meta.interfaces;\n        if (!interfaces  ||  interfaces.indexOf(data[constants.TYPE]) == -1)\n           return;\n\n        data[constants.TYPE] = meta.id;\n        for (let p in data) {\n          if (p == constants.TYPE)\n            continue;\n          if (props[p])\n            continue;\n        }\n      }\n    }\n\n    var editCols;\n    if (this.props.editCols) {\n      editCols = {};\n      this.props.editCols.forEach(function(r) {\n        editCols[r] = props[r];\n      })\n    }\n    else if (meta.editCols) {\n      utils.arrayToObject(meta.editCols);\n      editCols = {}\n      meta.editCols.forEach((p) => {\n        let idx = p.indexOf('_group')\n        if (idx === -1  ||  !props[p].list || props[p].title.toLowerCase() !== p)\n          editCols[p] = props[p]\n\n        if (idx !== -1  &&  props[p].list)\n          props[p].list.forEach((p) => editCols[p] = props[p])\n      })\n    }\n\n    var eCols\n    if (editCols)\n      eCols = editCols\n    else if (!meta.viewCols)\n      eCols = props\n    else {\n      eCols = {}\n      meta.viewCols.forEach((p) => {\n        eCols[p] = props[p]\n      })\n      for (let p in props) {\n        if (!eCols[p]  &&  !props[p].readOnly  &&  !props[p].hidden)\n          eCols[p] = props[p]\n      }\n    }\n\n    var required = utils.arrayToObject(meta.required);\n\n// var TcombType = transform({\n//   \"type\": \"string\",\n//   \"enum\": [\"Street\", \"Avenue\", \"Boulevard\"]\n// });\n\n// model['test'] = TcombType\n// options.fields['test'] = {\n//   placeholder: 'Test'\n// }\n    // var d = data ? data[i] : null;\n    for (var p in eCols) {\n      if (p === constants.TYPE  ||  p === bl  ||  (props[p].items  &&  props[p].items.backlink))\n        continue;\n\n      if (meta  &&  meta.hidden  &&  meta.hidden.indexOf(p) !== -1)\n        continue\n\n      var maybe = required  &&  !required.hasOwnProperty(p);\n\n      var type = props[p].type;\n      var formType = propTypesMap[type];\n      // Don't show readOnly property in edit mode if not set\n      let isReadOnly = props[p].readOnly\n      if (isReadOnly) //  &&  (type === 'date'  ||  !data  ||  !data[p]))\n        continue;\n\n      var label = translate(props[p], meta) //props[p].title;\n      if (!label)\n        label = utils.makeLabel(p);\n      let errMessage = (this.props.errs  &&  this.props.errs[p])\n                     ? this.props.errs[p]\n                     : translate('thisFieldIsRequired')\n      options.fields[p] = {\n        error: errMessage, //'This field is required',\n        bufferDelay: 20, // to eliminate missed keystrokes\n      }\n      var isRange\n      if (props[p].units) {\n        if (props[p].units.charAt(0) === '[') {\n          options.fields[p].placeholder = label  + ' ' + props[p].units\n          // isRange = type === 'number'  &&  props[p].units == '[min - max]'\n          // if (isRange) {\n          //   formType = t.Str\n          //   var Range = t.refinement(t.Str, function (n) {\n          //     var s = s.split(' - ')\n          //     if (s.length < 2  ||  s > 3)\n          //       return false\n\n          //     if (!s[0].match(/\\d{1,2}[\\,.]{1}\\d{1,2}/)  ||  !s[1].match(/\\d{1,2}[\\,.]{1}\\d{1,2}/))\n          //       return false\n          //     return true\n          //   });\n          //   model[p] = maybe ? t.maybe(Range) : Range;\n\n          // }\n        }\n        else\n          options.fields[p].placeholder = label + ' (' + props[p].units + ')'\n      }\n      // HACK for registration screen\n      // if (this.state.isRegistration  &&  params.editCols.length === 1)\n      //   options.fields[p].placeholder = translate('enterYourName')\n\n      if (props[p].description)\n        options.fields[p].help = props[p].description;\n      if (props[p].readOnly  ||  (props[p].immutable  &&  data  &&  data[p]))\n        options.fields[p] = {'editable':  false };\n      // if (formType  &&   (formType === t.Num  ||  formType === t.Str))\n      //   formType = null\n\n      if (formType) {\n        if (props[p].keyboard)\n          options.fields[p].keyboardType = props[p].keyboard\n\n        // if (this.onChange)\n        //   options.fields[p].onChange = this.onChange.bind(this);\n        model[p] = !model[p]  &&  (maybe ? t.maybe(formType) : formType);\n        if (data  &&  (type == 'date')) {\n          model[p] = t.Str\n          options.fields[p].template = this.myDateTemplate.bind(this, {\n                    label: label,\n                    prop:  props[p],\n                    model: meta,\n                    value: data[p] ? new Date(data[p]) : data[p]\n                  })\n          // if (!this.state.modal || typeof this.state.modal[p] === 'undefined')\n          //   this.state.modal[p] = false\n\n          if (data[p])\n            data[p] = new Date(data[p]);\n          options.fields[p].mode = 'date';\n          options.fields[p].auto = 'labels';\n          options.fields[p].label = label\n          options.fields[p].onDateChange = this.onDateChange\n        }\n        else if (type === 'boolean') {\n          // HACK for old values\n          let v = data && data[p]\n          if (v) {\n            if (typeof v !== 'boolean')\n              v = v.title === 'No' ? false : true\n          }\n\n          options.fields[p].template = this.myBooleanTemplate.bind(this, {\n                    label: label,\n                    prop:  props[p],\n                    model: meta,\n                    value: v,\n                    required: !maybe,\n                    errors: params.errors\n                  })\n\n          options.fields[p].onSubmitEditing = onSubmitEditing.bind(this);\n          if (onEndEditing)\n            options.fields[p].onEndEditing = onEndEditing.bind(this, p);\n          if (props[p].maxLength)\n            options.fields[p].maxLength = props[p].maxLength;\n          if (type === 'number') {\n            if (!props[p].keyboard)\n              options.fields[p].keyboardType = 'numeric'\n            if (data  &&  data[p]  &&  (typeof data[p] != 'number'))\n              data[p] = parseFloat(data[p])\n          }\n\n        }\n        else if (type === 'string') {\n          if (props[p].maxLength > 100)\n            options.fields[p].multiline = true;\n          options.fields[p].autoCorrect = false;\n          if (props[p].oneOf) {\n            model[p] = t.enums(props[p].oneOf);\n            options.fields[p].auto = 'labels';\n          }\n        }\n        if (type === 'string'  &&  p.length > 7  &&  p.indexOf('_group') === p.length - 6) {\n          options.fields[p].template = this.myTextTemplate.bind(this, {\n                    label: label,\n                    prop:  props[p],\n                    model: meta,\n                  })\n        }\n        else if (!options.fields[p].multiline && (type === 'string'  ||  type === 'number')) {\n          options.fields[p].template = this.myTextInputTemplate.bind(this, {\n                    label: label,\n                    prop:  props[p],\n                    model: meta,\n                    value: data  &&  data[p] ? data[p] + '' : null,\n                    required: !maybe,\n                    errors: params.errors,\n                    keyboard: props[p].keyboard ||  (type === 'number' ? 'numeric' : 'default'),\n                  })\n\n          options.fields[p].onSubmitEditing = onSubmitEditing.bind(this);\n          if (onEndEditing)\n            options.fields[p].onEndEditing = onEndEditing.bind(this, p);\n          if (props[p].maxLength)\n            options.fields[p].maxLength = props[p].maxLength;\n          if (type === 'number') {\n            if (!props[p].keyboard)\n              options.fields[p].keyboardType = 'numeric'\n            if (data  &&  data[p]  &&  (typeof data[p] != 'number'))\n              data[p] = parseFloat(data[p])\n          }\n        }\n      }\n      else if (props[p].oneOf) {\n        model[p] = t.enums(props[p].oneOf);\n        options.fields[p].auto = 'labels';\n      }\n      else if (type == 'enum') {\n        var facet = props[p].facet;\n        var values = models.filter(mod => {\n           return mod.type === facet ? mod.values : null;\n        });\n        if (values && values.length) {\n          var enumValues = {};\n          values[0].values.forEach(function(val) {\n            enumValues[val.label] = val.displayName;\n          });\n          // options.fields[p].factory = t.form.radio;\n          model[p] = t.enums(enumValues);\n        }\n        options.fields[p].auto = 'labels';\n      }\n      else {\n        var ref = props[p].ref;\n        if (!ref) {\n          if (type === 'number'  ||  type === 'string')\n            ref = constants.TYPES.MONEY\n          else\n            continue;\n        }\n        if (ref === constants.TYPES.MONEY) {\n          model[p] = maybe ? t.maybe(t.Num) : t.Num;\n          // if (data[p]  &&  (typeof data[p] != 'number'))\n          //   data[p] = data[p].value\n          var units = props[p].units\n          // options.fields[p].onFocus = chooser.bind(this, props[p], p)\n          var value = data[p]\n          if (value) {\n            if (typeof value !== 'object') {\n              value = {\n                value: value,\n                currency: CURRENCY_SYMBOL\n              }\n            }\n            else if (!value.currency)\n              value.currency = CURRENCY_SYMBOL\n          }\n          else {\n            value = {\n              currency: CURRENCY_SYMBOL\n            }\n          }\n          options.fields[p].template = this.myMoneyInputTemplate.bind(this, {\n                    label: label,\n                    prop:  props[p],\n                    value: value,\n                    model: meta,\n                    keyboard: 'numeric',\n                    required: !maybe,\n                    errors: params.errors,\n                  })\n\n\n          // options.fields[p].template = textTemplate.bind(this, {\n          //           label: label,\n          //           prop:  props[p],\n          //           value: data[p] ? data[p] + '' : null,\n          //           keyboard: units  &&  units.charAt(0) === '[' ? 'numbers-and-punctuation' : 'numeric',\n          //           required: !maybe,\n          //         })\n\n          // options.fields[p].template = moneyTemplate.bind({}, props[p])\n\n          options.fields[p].onSubmitEditing = onSubmitEditing.bind(this)\n          options.fields[p].onEndEditing = onEndEditing.bind(this, p);\n          continue;\n        }\n        model[p] = maybe ? t.maybe(t.Str) : t.Str;\n\n        var subModel = models[ref];\n        if (data  &&  data[p]) {\n          options.fields[p].value = data[p][constants.TYPE]\n                                  ? utils.getId(data[p])\n                                  : data[p].id;\n          data[p] = utils.getDisplayName(data[p], subModel.value.properties) || data[p].title;\n        }\n\n        options.fields[p].onFocus = chooser.bind(this, props[p], p)\n        options.fields[p].template = this.myCustomTemplate.bind(this, {\n            label: label,\n            prop:  p,\n            required: !maybe,\n            errors: params.errors,\n            chooser: options.fields[p].onFocus,\n          })\n\n        options.fields[p].nullOption = {value: '', label: 'Choose your ' + utils.makeLabel(p)};\n      }\n    }\n    /* Setting default server url on registration\n    if (this.state.isRegistration) {\n      model.url = t.maybe(t.Str)\n      var label = 'Server url'\n      options.fields.url = {\n        error: 'This field is required',\n        bufferDelay: 20, // to eliminate missed keystrokes\n        autoCorrect: false\n      }\n      if (onSubmitEditing)\n        options.fields.url.onSubmitEditing = onSubmitEditing.bind(this);\n      if (onEndEditing)\n        options.fields.url.onEndEditing = onEndEditing.bind(this, 'url')\n      options.fields.url.template = textTemplate.bind(this, {\n                label: label,\n                prop:  utils.getModel(SETTINGS).value.properties.url,\n                value: this.state.resource.url,\n                required: false,\n                keyboard: 'url'\n              })\n    }\n    */\n    // var order = []\n    // for (var p in model)\n    //   order.push(p)\n\n    // HACK for video\n    if (eCols.video) {\n      var maybe = required  &&  !required.hasOwnProperty('video');\n\n      model.video = maybe ? t.maybe(t.Str) : t.Str;\n\n      options.fields.video.template = this.myCustomTemplate.bind(this, {\n          label: translate(props.video, meta),\n          prop:  'video',\n          errors: params.errors,\n          required: !maybe\n        })\n    }\n\n    return options;\n  },\n  getNextKey() {\n    return (this.props.model  ||  this.props.metadata).id + '_' + cnt++\n  },\n  onChangeText(prop, value) {\n    var r = {}\n    extend(true, r, this.state.resource)\n    if(prop.type === 'number') {\n      let val = Number(value)\n      if (value.charAt(value.length - 1) === '.')\n        value = val + .00\n      else\n        value = val\n    }\n    if (!this.floatingProps)\n      this.floatingProps = {}\n    if (prop.ref == constants.TYPES.MONEY) {\n      if (!this.floatingProps[prop.name])\n        this.floatingProps[prop.name] = {}\n      this.floatingProps[prop.name].value = value\n      if (!r[prop.name])\n        r[prop.name] = {}\n      r[prop.name].value = value\n    }\n    else {\n      r[prop.name] = value\n      this.floatingProps[prop.name] = value\n    }\n    if (this.state.missedRequiredOrErrorValue)\n      delete this.state.missedRequiredOrErrorValue[prop.name]\n    this.setState({resource: r})\n    if (r[constants.TYPE] !== SETTINGS)\n      Actions.saveTemporary(r)\n  },\n  onChangeTextValue(prop, value, event) {\n    console.log(arguments)\n    this.state.resource[prop.name] = value\n    // this.setState({resource: this.state.resource})\n    if (!this.floatingProps)\n      this.floatingProps = {}\n    this.floatingProps[prop.name] = value;\n    // prop.type === 'object' && prop.ref === constants.TYPES.MONEY\n    //                                     ? {value: value}\n    //                                     : value\n    var r = {}\n    extend(r, this.state.resource)\n    for (var p in this.floatingProps)\n      r[p] = this.floatingProps[p]\n    Actions.saveTemporary(r)\n  },\n  showCamera(params) {\n    var self = this;\n    this.props.navigator.push({\n      title: 'Take a pic',\n      backButtonTitle: 'Cancel',\n      id: 12,\n      component: CameraView,\n      sceneConfig: Navigator.SceneConfigs.FloatFromBottom,\n      passProps: {\n        onTakePic: this.onTakePic.bind(this, params)\n      }\n    });\n  },\n\n  onTakePic(params, data) {\n    if (!data)\n      return\n    this.props.resource.video = data\n    if (!this.floatingProps)\n      this.floatingProps = {}\n\n    this.floatingProps.video = data\n    this.props.navigator.pop();\n  },\n\n  myTextTemplate(params) {\n    var label = translate(params.prop, params.model)\n\n    return (\n      <View style={[styles.divider, {backgroundColor: LINK_COLOR}]}>\n        <Text style={styles.dividerText}>{label}</Text>\n      </View>\n    );\n  },\n\n  myTextInputTemplate(params) {\n    var label = translate(params.prop, params.model)\n    if (params.prop.units) {\n      label += (params.prop.units.charAt(0) === '[')\n             ? ' ' + params.prop.units\n             : ' (' + params.prop.units + ')'\n    }\n    else\n      label += params.required ? '' : ' (' + translate('optional') + ')'\n    // label += (params.prop.ref  &&  params.prop.ref === constants.TYPES.MONEY)\n    //        ?  ' (' + CURRENCY_SYMBOL + ')'\n    //        : ''\n    // let paddingBottom = 20\n    let lStyle = styles.labelStyle\n\n    if (params.prop.ref  &&  params.prop.ref === constants.TYPES.MONEY  &&  !params.required) {\n      let maxChars = (utils.dimensions(component).width - 60)/utils.getFontSize(9)\n      // let some space for wrapping\n      if (maxChars < label.length)\n        lStyle = [styles.labelStyle, {marginTop: 0}]\n    }\n    // else  if (!params.value) {\n    //   let maxChars = (utils.dimensions(component).width)/utils.getFontSize(9)\n    //   if (maxChars < label.length)\n    //     label = label.substring(0, maxChars) + '...'\n    // }\n\n    if (this.state.isRegistration)\n      lStyle = [lStyle, {color: '#eeeeee'}]\n    return (\n      <View style={{flex: 5, paddingBottom: this.hasError(params.errors, params.prop.name) ? 10 : Platform.OS === 'ios' ? 10 : 7}}>\n        <FloatLabel\n          labelStyle={lStyle}\n          autoCorrect={false}\n          autoCapitalize={this.state.isRegistration  ||  (params.prop.name !== 'url' &&  (!params.prop.keyboard || params.prop.keyboard !== 'email-address')) ? 'sentences' : 'none'}\n          onFocus={this.inputFocused.bind(this, params.prop.name)}\n          inputStyle={this.state.isRegistration ? styles.regInput : styles.textInput}\n          style={styles.formInput}\n          value={params.value}\n          keyboardShouldPersistTaps={true}\n          keyboardType={params.keyboard || 'default'}\n          onChangeText={this.onChangeText.bind(this, params.prop)}\n        >{label}</FloatLabel>\n          {this.getErrorView(params)}\n      </View>\n    );\n  },\n\n  getErrorView(params) {\n    var error\n    if (params.noError)\n      error = <View />\n    else {\n      var err = this.state.missedRequiredOrErrorValue\n              ? this.state.missedRequiredOrErrorValue[params.prop.name]\n              : null\n      if (!err  &&  params.errors  &&  params.errors[params.prop.name])\n        err = params.errors[params.prop.name]\n\n      error = err\n                ? <View style={[styles.err, typeof params.paddingLeft !== 'undefined' ? {paddingLeft: params.paddingLeft} : {paddingLeft: 10}]} key={this.getNextKey()}>\n                    <Text style={{fontSize: 14, color: this.state.isRegistration ? '#eeeeee' : '#a94442'}}>{err}</Text>\n                  </View>\n                : <View key={this.getNextKey()} />\n    }\n    return error\n  },\n  myBooleanTemplate(params) {\n    var labelStyle = {color: '#aaaaaa', fontSize: 18};\n    var textStyle =  {marginTop: 5, color: this.state.isRegistration ? '#ffffff' : '#000000', fontSize: 18};\n\n    let prop = params.prop\n    let resource = this.state.resource\n\n    let style = (resource && (typeof resource[params.prop.name] !== 'undefined'))\n              ? textStyle\n              : labelStyle\n    // if (Platform.OS === 'ios')\n    //   style = [style, {paddingLeft: 10}]\n\n    var label = translate(params.prop, params.model)\n    if (params.prop.units) {\n      label += (params.prop.units.charAt(0) === '[')\n             ? ' ' + params.prop.units\n             : ' (' + params.prop.units + ')'\n    }\n    label += params.required ? '' : ' (' + translate('optional') + ')'\n\n    var value = params.value\n    var doWrap = label.length > 30\n    if (doWrap  && Platform.OS === 'android') {\n      label = label.substring(0, 27) + '...'\n      doWrap = false\n    }\n\n// , Platform.OS === 'ios' ? {paddingLeft: 0} : {paddingLeft: 10}\n    return (\n      <View style={{paddingBottom: 10, flex: 5}} key={this.getNextKey()} ref={prop.name}>\n        <TouchableHighlight underlayColor='transparent' onPress={\n          this.onChangeText.bind(this, prop, !value)\n        }>\n          <View style={styles.booleanContainer}>\n            <View style={styles.booleanContentStyle}>\n              <Text style={[style, { width: (utils.dimensions(component).width - 100)} : {}]}>{label}</Text>\n              <Switch onValueChange={value => this.onChangeText(prop, value)} value={value} onTintColor={LINK_COLOR} />\n            </View>\n          </View>\n        </TouchableHighlight>\n        {this.getErrorView(params)}\n      </View>\n    )\n  },\n  myDateTemplate(params) {\n    var prop = params.prop\n    let resource = this.state.resource\n    let label, style, propLabel\n    let hasValue = resource && resource[prop.name]\n    if (resource && resource[prop.name]) {\n      label = resource[prop.name].title\n      let st = utils.isWeb() ? {paddingBottom: 10, marginLeft: 0, backgroundColor: 'transparent'} : {marginLeft: 10}\n      let color = this.state.isRegistration ? '#eeeeee' : '#B1B1B1'\n      propLabel = <Text style={[st, {fontSize: 12, marginTop: 5, color: color}]}>{params.label}</Text>\n    }\n    else {\n      label = params.label\n      propLabel = <View style={{marginTop: 20}}/>\n    }\n\n    let valuePadding = 0 //Platform.OS === 'ios' ? 0 : (hasValue ? 10 : 0)\n    let format = 'MMMM Do, YYYY'\n    let value = params.value &&  moment(new Date(params.value)).format(format)\n    let dateProps = {}\n    let date\n    if (prop.maxDate  ||  prop.minDate) {\n      let maxDate = this.getDateRange(prop.maxDate)\n      let minDate = this.getDateRange(prop.minDate)\n      if (minDate  &&  maxDate)\n        dateProps = {maxDate: new Date(maxDate), minDate: new Date(minDate)}\n      else\n        dataProps = minDate ? {minDate: new Date(minDate)} : {maxDate: new Date(maxDate)}\n    }\n    if (prop.format)\n      dateProps.format = prop.format\n\n    if (!value)\n      value = translate(params.prop)\n    let st = utils.isWeb() ? {marginHorizontal: 10, borderWidth: StyleSheet.hairlineWidth, borderColor: 'transparent', borderBottomColor: '#cccccc'} : {}\n    return <View key={this.getNextKey()} ref={prop.name} style={[st, {paddingBottom: this.hasError(params.errors, prop.name) || utils.isWeb() ?  0 : 10}]}>\n          {propLabel}\n          <DatePicker\n            style={[styles.datePicker, {width: utils.dimensions(component).width - 30}]}\n            mode=\"date\"\n            placeholder={value}\n            format={format}\n            confirmBtnText=\"Confirm\"\n            cancelBtnText=\"Cancel\"\n            date={params.value ? new Date(params.value) : date ? date : null}\n            onDateChange={(date) => {\n              this.changeTime(params.prop, new Date(moment(date, format)))\n            }}\n            customStyles={{\n              dateInput: styles.dateInput,\n              dateText: styles.dateText,\n              placeholderText: [styles.placeholderText, {\n                color: params.value ? '#000000' : '#aaaaaa',\n                paddingLeft: params.value ? 10 : 0\n              }],\n              dateIconColor: {color: LINK_COLOR},\n              dateIcon: styles.dateIcon\n            }}\n            {...dateProps}\n          />\n          {this.getErrorView(params)}\n         </View>\n  },\n  getDateRange(dateStr) {\n    if (!dateStr)\n      return null\n    let parts = dateStr.split(' ')\n    if (parts.length === 1) {\n      switch(dateStr) {\n      case 'today':\n        return new Date().getTime()\n      case 'tomorrow':\n        return (new Date().getTime() + DAY)\n      }\n    }\n    let number = parts[0]\n    let measure = parts[1]\n    let beforeAfter = parts.length === 3 ? parts[2] : 'before'\n    let coef\n    switch (measure) {\n    case 'years':\n      coef = YEAR\n      break\n    case 'days':\n      coef = DAY\n      break\n    case 'hours':\n      coef = HOUR\n      break\n    case 'minutes':\n      coef = MINUTE\n      break\n    default:\n      coef = 1000\n    }\n    switch(beforeAfter) {\n    case 'before':\n      return new Date().getTime() - number * coef\n    case 'after':\n      return new Date().getTime() + number * coef\n    }\n  },\n  async showPicker(prop, stateKey, options) {\n    try {\n      // var newState = {};\n      const {action, year, month, day} = await DatePickerAndroid.open(options);\n      if (action !== DatePickerAndroid.dismissedAction) {\n      //   newState[stateKey + 'Text'] = 'dismissed';\n      // } else {\n        var date = new Date(year, month, day);\n        // newState[stateKey + 'Text'] = date.toLocaleDateString();\n        // newState[stateKey + 'Date'] = date;\n      }\n      // this.setState(newState);\n      this.changeTime(prop, date)\n    } catch ({code, message}) {\n      console.warn(`Error in example '${stateKey}': `, message);\n    }\n  },\n\n  changeTime: function(prop, date) {\n    var r = {}\n    extend(true, r, this.state.resource)\n    r[prop.name] = date.getTime()\n    if (!this.floatingProps)\n      this.floatingProps = {}\n    this.floatingProps[prop.name] = date\n    this.setState({\n      resource: r,\n    });\n\n   },\n\n  // myDateTemplate (prop) {\n  //   return (<NewDatePicker prop={prop}/>)\n  // },\n\n  inputFocused(refName) {\n    if (!this.state.isRegistration   &&\n         this.refs                   &&\n         this.refs.scrollView        &&\n         this.props.model            &&\n         Object.keys(this.props.model.properties).length > 5) {\n      utils.scrollComponentIntoView(this, this.refs.form.getComponent(refName))\n    }\n  },\n  // scrollDown (){\n  //   if (this.refs  &&  this.refs.scrollView) {\n  //      this.refs.scrollView.scrollTo(Dimensions.get('window').height * 2/3);\n  //   }\n  // },\n\n  myCustomTemplate(params) {\n    var labelStyle = styles.labelClean\n    var textStyle = styles.labelDirty\n    var resource = /*this.props.resource ||*/ this.state.resource\n    var label, style\n    var propLabel, propName\n    var isItem = this.props.metadata != null\n    var prop = this.props.model\n             ? this.props.model.properties[params.prop]\n             : this.props.metadata.items.properties[params.prop]\n\n    let isRequired = this.props.model && this.props.model.required  &&  this.props.model.required.indexOf(params.prop) !== -1\n    if (resource && resource[params.prop]) {\n      let rModel\n      var m = utils.getId(resource[params.prop]).split('_')[0]\n      rModel = utils.getModel(m).value\n      label = utils.getDisplayName(resource[params.prop], rModel.properties)\n      if (!label)\n        label = resource[params.prop].title\n      if (rModel.subClassOf  &&  rModel.subClassOf === ENUM)\n        label = utils.createAndTranslate(label, true)\n      style = textStyle\n      propLabel = <Text style={[styles.labelDirty, {color: this.state.isRegistration ? '#eeeeee' : '#B1B1B1'}]}>{params.label}</Text>\n    }\n    else {\n      let color = {color: this.state.isRegistration ? '#eeeeee' : '#B1B1B1'}\n      label = params.label\n      style = [labelStyle, color]\n      propLabel = <View/>\n    }\n    let maxChars = (utils.dimensions(component).width - 20)/10\n    if (maxChars < label.length)\n      label = label.substring(0, maxChars - 3) + '...'\n    if (this.state.isRegistration  &&  prop.ref  &&  prop.ref === 'tradle.Language'  &&  !resource[prop.name])\n      label += ' (' + utils.translate(utils.getDefaultLanguage()) + ')'\n    let isVideo = prop.name === 'video'\n    let isPhoto = prop.name === 'photos'\n      // <View key={this.getNextKey()} style={this.hasError(params) ? {paddingBottom: 0} : {paddingBottom: 10}} ref={prop.name}>\n    let color = this.state.isRegistration\n              ? {color: '#eeeeee'}\n              : {color: resource && resource[params.prop] ? '#000000' : '#AAAAAA'}\n    let iconColor = this.state.isRegistration ? '#eeeeee' : LINK_COLOR\n    return (\n      <View key={this.getNextKey()} style={{paddingBottom: this.hasError(params.errors, prop.name) ? 0 : 10, margin: 0}} ref={prop.name}>\n        {propLabel}\n        <TouchableHighlight underlayColor='transparent' onPress={\n          isVideo ? this.showCamera.bind(this, params) : this.chooser.bind(this, prop, params.prop)\n        }>\n          <View  style={[styles.chooserContainer, {flexDirection: 'row'}]}>\n            {this.state[prop.name + '_photo']\n             ? <View style={{flexDirection: 'row'}}>\n                 <Image source={{uri: this.state[prop.name + '_photo'].url}} style={styles.thumb} />\n                 <Text style={[styles.input, color]}>{label}</Text>\n               </View>\n             : <Text style={[styles.input, color]}>{label}</Text>\n            }\n              {isVideo\n                ? <Icon name='ios-play-outline'  size={25}  color={LINK_COLOR} />\n                : <Icon name='ios-arrow-down'  size={15}  color={iconColor}  style={[styles.icon1, styles.customIcon]} />\n              }\n          </View>\n        </TouchableHighlight>\n         {this.getErrorView({noError: params.noError, errors: params.errors, prop: prop, paddingBottom: 0})}\n      </View>\n    );\n  },\n  hasError(errors, propName) {\n    return (errors && errors[propName]) || this.state.missedRequiredOrErrorValue &&  this.state.missedRequiredOrErrorValue[propName]\n  },\n  chooser(prop, propName,event) {\n    var resource = this.state.resource;\n    var model = (this.props.model  ||  this.props.metadata)\n    if (!resource) {\n      resource = {};\n      resource[constants.TYPE] = model.id;\n    }\n\n    var isFinancialProduct = model.subClassOf  &&  model.subClassOf == constants.TYPES.FINANCIAL_PRODUCT\n    var value = this.refs.form.input;\n\n    var filter = event.nativeEvent.text;\n    var propRef = prop.ref\n    var m = utils.getModel(propRef).value;\n    var currentRoutes = this.props.navigator.getCurrentRoutes();\n    this.props.navigator.push({\n      title: translate(prop), //m.title,\n      titleTextColor: '#7AAAC3',\n      id: 10,\n      component: ResourceList,\n      backButtonTitle: translate('cancel'),\n      sceneConfig: isFinancialProduct ? Navigator.SceneConfigs.FloatFromBottom : Navigator.SceneConfigs.FloatFromRight,\n      passProps: {\n        filter:         filter,\n        isChooser:      true,\n        prop:           prop,\n        modelName:      propRef,\n        resource:       resource,\n        isRegistration: this.state.isRegistration,\n        returnRoute:    currentRoutes[currentRoutes.length - 1],\n        callback:       this.setChosenValue.bind(this),\n      }\n    });\n  },\n\n  // setting chosen from the list property on the resource like for ex. Organization on Contact\n  setChosenValue(propName, value) {\n    var resource = {}\n    extend(resource, this.state.resource)\n    if (typeof propName === 'object')\n      propName = propName.name\n    let setItemCount\n    // clause for the items properies - need to redesign\n    if (this.props.metadata  &&  this.props.metadata.type === 'array') {\n      if (!this.floatingProps)\n        this.floatingProps = {}\n      this.floatingProps[propName] = value\n      resource[propName] = value\n    }\n    else if (this.props.model.properties[propName].type === 'array') {\n      if (this.props.model.properties[propName].items  &&  this.props.model.properties[propName].items.ref) {\n        let v = {\n          id: utils.getId(value),\n          title: utils.getDisplayName(value, utils.getModel(value[constants.TYPE]).properties)\n        }\n        if (value.photos)\n          v.photo = value.photos[0].url\n        if (!resource[propName]) {\n          resource[propName] = []\n          resource[propName].push(v)\n        }\n        else {\n          let arr = resource[propName].filter((r) => {\n            return r.id === v.id\n          })\n          if (!arr.length)\n            resource[propName].push(v)\n        }\n\n        setItemCount = true\n      }\n      else\n        resource[propName] = value\n    }\n    else {\n      var id = utils.getId(value)\n      resource[propName] = {\n        id: id,\n        title: utils.getDisplayName(value, utils.getModel(value[constants.TYPE]).value.properties)\n      }\n\n      if (!this.floatingProps)\n        this.floatingProps = {}\n      this.floatingProps[propName] = resource[propName]\n\n      var data = this.refs.form.refs.input.state.value;\n      if (data) {\n        for (var p in data)\n          if (!resource[p])\n            resource[p] = data[p];\n      }\n    }\n    let state = {\n      resource: resource,\n      prop: propName\n    }\n    if (this.state.missedRequiredOrErrorValue)\n      delete this.state.missedRequiredOrErrorValue[propName]\n    if (setItemCount)\n      state.itemsCount = resource[propName].length\n\n    if (value.photos)\n      state[propName + '_photo'] = value.photos[0]\n    this.setState(state);\n\n    var r = {}\n    extend(r, this.state.resource)\n    for (var p in this.floatingProps)\n      r[p] = this.floatingProps[p]\n    Actions.saveTemporary(r)\n  },\n\n  // MONEY value and curency template\n  myMoneyInputTemplate(params) {\n    var label = params.label\n    label += params.required ? '' : ' (optional)'\n    label += (params.prop.ref  &&  params.prop.ref === constants.TYPES.MONEY)\n           ?  ' (' + CURRENCY_SYMBOL + ')'\n           : ''\n    return (\n      <View style={{flexDirection: 'row', justifyContent: 'space-between'}}>\n          {\n             this.myTextInputTemplate({\n                    label: label,\n                    prop:  params.prop,\n                    value: params.value.value ? params.value.value + '' : '',\n                    required: params.required,\n                    model: params.model,\n                    errors: params.errors,\n                    keyboard: 'numeric',\n                  })\n          }\n          {\n             this.myEnumTemplate({\n                    prop:     params.prop,\n                    enumProp: utils.getModel(constants.TYPES.MONEY).value.properties.currency,\n                    required: params.required,\n                    value:    utils.normalizeCurrencySymbol(params.value.currency),\n                    errors:   params.errors,\n                    // noError:  params.errors && params.errors[params.prop],\n                    noError: true\n                  })\n        }\n      </View>\n    );\n  },\n\n  myEnumTemplate(params) {\n    var label\n    var prop = params.prop\n    var enumProp = params.enumProp\n    var error\n    if (!params.noError) {\n      var err = this.state.missedRequiredOrErrorValue\n              ? this.state.missedRequiredOrErrorValue[prop.name]\n              : null\n      if (!err  &&  params.errors  &&  params.errors[prop.name])\n        err = params.errors[prop.name]\n      error = err\n                ? <View style={styles.enumErrorLabel} />\n                : <View />\n    }\n    else\n      error = <View/>\n    var value = prop ? params.value : resource[enumProp.name]\n    return (\n      <View style={[styles.chooserContainer, styles.enumElement]} key={this.getNextKey()} ref={enumProp.name}>\n        <TouchableHighlight underlayColor='transparent' onPress={this.enumChooser.bind(this, prop, enumProp)}>\n          <View>\n            <View style={styles.chooserContentStyle}>\n              <Text style={styles.enumText}>{value}</Text>\n              <Icon name='ios-arrow-down'  size={15}  color={LINK_COLOR}  style={[styles.icon1, styles.enumProp]} />\n            </View>\n           {error}\n          </View>\n        </TouchableHighlight>\n      </View>\n    );\n  },\n  enumChooser(prop, enumProp, event) {\n    var resource = this.state.resource;\n    var model = (this.props.model  ||  this.props.metadata)\n    if (!resource) {\n      resource = {};\n      resource[constants.TYPE] = model.id;\n    }\n\n    var value = this.refs.form.input;\n\n    var currentRoutes = this.props.navigator.getCurrentRoutes();\n    this.props.navigator.push({\n      title: enumProp.title,\n      titleTextColor: '#7AAAC3',\n      id: 22,\n      component: EnumList,\n      backButtonTitle: 'Back',\n      passProps: {\n        prop:        prop,\n        enumProp:    enumProp,\n        resource:    resource,\n        returnRoute: currentRoutes[currentRoutes.length - 1],\n        callback:    this.setChosenEnumValue.bind(this),\n      }\n    });\n  },\n  setChosenEnumValue(propName, enumPropName, value) {\n    var resource = {}\n    extend(true, resource, this.state.resource)\n    // clause for the items properies - need to redesign\n    // resource[propName][enumPropName] = value\n    if (resource[propName]) {\n      if (typeof resource[propName] === 'object')\n        resource[propName][enumPropName] = value[Object.keys(value)[0]]\n      else {\n        resource[propName] = {\n          value: resource[propName],\n          [enumPropName]: value[Object.keys(value)[0]]\n        }\n      }\n    }\n    // if no value set only currency\n    else {\n      resource[propName] = {}\n      resource[propName][enumPropName] = value[Object.keys(value)[0]]\n      if (!this.floatingProps)\n        this.floatingProps = {}\n      if (!this.floatingProps[propName])\n        this.floatingProps[propName] = {}\n      this.floatingProps[propName][enumPropName] = value[Object.keys(value)[0]]\n    }\n\n    // if (this.state.isPrefilled) {\n    //   var props = (this.props.model  ||  this.props.metadata).properties\n    //   if (props[propName].ref  &&  props[propName].ref === constants.TYPES.MONEY) {\n    //     if (this.floatingProps  &&  this.floatingProps[propName]  &&  !this.floatingProps[propName].value  &&  resource[propName]  &&  resource[propName].value)\n    //       this.floatingProps[propName].value = resource[propName].value\n    //   }\n    // }\n\n    // resource[propame] = value\n    var data = this.refs.form.refs.input.state.value;\n    if (data) {\n      for (var p in data)\n        if (!resource[p])\n          resource[p] = data[p];\n    }\n\n    this.setState({\n      resource: resource,\n      prop: propName\n    });\n  },\n  validateProperties(value) {\n    let m = value[constants.TYPE]\n                   ? utils.getModel(value[constants.TYPE]).value\n                   : this.props.model\n    let properties = m.properties\n    let err = []\n    let deleteProps = []\n    for (var p in value) {\n      let prop = properties[p]\n      if (!prop) // properties like _t, _r, time\n        continue\n      if (typeof value[p] === 'undefined'  ||  value[p] === null) {\n        deleteProps.push(p)\n        continue\n      }\n      if (prop.type === 'number')\n        this.checkNumber(value[p], prop, err)\n      else if (prop.ref === constants.TYPES.MONEY) {\n        let error = this.checkNumber(value[p], prop, err)\n        if (error  &&  m.required.indexOf(p) === -1)\n          deleteProps.push(p)\n        else if (!value[p].currency)\n          value[p].currency = this.props.currency\n      }\n      else if (prop.units && prop.units === '[min - max]') {\n        let v = value[p].split('-').forEach((n) => trim(n))\n        if (v.length === 1)\n          checkNumber(v, prop, err)\n        else if (v.length === 2) {\n          checkNumber(v[0], prop, err)\n          if (err[p])\n            continue\n          checkNumber(v[1], prop, err)\n          if (!err[p])\n            continue\n          if (v[1] < v[0])\n            err[p] = translate('theMinValueBiggerThenMaxValue') //'The min value for the range should be smaller then the max value'\n        }\n        else\n          err[p] = translate('thePropertyWithMinMaxRangeError') // The property with [min-max] range can have only two numbers'\n      }\n      // 'pattern' can be regex pattern or property where the pattern is defined.\n      // It is for country specific patterns like 'phone number'\n\n      else if (prop.pattern) {\n        if (!(new RegExp(prop.pattern).test(value[p])))\n          err[prop.name] = translate('invalidProperty', prop.title)\n      }\n      // else if (prop.patterns) {\n      //   let cprops = []\n      //   for (let pr in properties) {\n      //     if (properties[pr].ref && properties[pr].ref === 'tradle.Country')\n      //       cprops.push(pr)\n      //   }\n      //   if (!cprops.length)\n      //     continue\n\n      //   let patternCountry = cprops.map((p) => {\n      //     let val = value[p]  ||  this.props.resource[p]\n      //     return val ? val : undefined\n      //   })\n      //   if (!patternCountry)\n      //     continue\n      //   let pattern = prop.patterns[patternCountry[0]]\n      //   if (pattern  &&  !(new RegExp(pattern).test(value[p])))\n      //     err[prop.name] = 'Invalid ' + prop.title\n      // }\n    }\n    if (deleteProps)\n      deleteProps.forEach((p) => {\n        delete value[p]\n        delete err[p]\n      })\n    return err\n  },\n  checkNumber(v, prop, err) {\n    var p = prop.name\n    var error\n    if (prop.ref === constants.TYPES.MONEY)\n      v = v.value\n    if (isNaN(v))\n      error = 'Please enter a valid number'\n    else {\n      if (prop.max && v > prop.max)\n        error = 'The maximum value for is ' + prop.max\n      else if (prop.min && v < prop.min)\n        error = 'The minimum value for is ' + prop.min\n    }\n    if (error)\n      err[p] = error\n    return error\n  },\n}\n\nvar styles= StyleSheet.create({\n  enumProp: {\n    marginTop: 15,\n  },\n  enumText: {\n    marginTop: 10,\n    marginLeft: 20,\n    color: '#757575',\n    fontSize: 18\n  },\n  icon1: {\n    width: 15,\n    height: 15,\n    marginVertical: 2\n  },\n  booleanContainer: {\n    height: 60,\n    borderColor: '#ffffff',\n    borderBottomColor: '#cccccc',\n    borderBottomWidth: 1,\n    justifyContent: 'center',\n    marginHorizontal: 10,\n    // marginBottom: 10,\n    flex: 1\n  },\n  booleanContentStyle: {\n    justifyContent: 'space-between',\n    flexDirection: 'row',\n    // paddingVertical: 5,\n    // marginRight: 10,\n    borderRadius: 4\n  },\n  datePicker: {\n    // width: dimensions.width - 30,\n    marginLeft: 10,\n    paddingLeft: 10,\n    justifyContent: 'flex-start',\n    borderColor: '#f7f7f7',\n    alignSelf: 'stretch'\n  },\n  chooserContainer: {\n    height: 45,\n    marginTop: 20,\n    borderColor: '#ffffff',\n    borderBottomColor: '#cccccc',\n    borderBottomWidth: 1,\n    marginHorizontal: 10,\n    // justifyContent: 'center',\n    position: 'relative',\n    // marginBottom: 10,\n    // paddingBottom: 10,\n    flex: 1\n  },\n  chooserContentStyle: {\n    justifyContent: 'space-between',\n    flexDirection: 'row',\n    // paddingVertical: 5,\n    borderRadius: 4\n  },\n  enumElement: {\n    width: 40,\n    marginTop: 20,\n    height: 45\n  },\n  enumErrorLabel: {\n    paddingLeft: 5,\n    height: 14,\n    backgroundColor: 'transparent'\n  },\n  formInput: {\n    borderBottomWidth: 1,\n    marginHorizontal: 10,\n    borderColor: '#cccccc',\n  },\n  regInput: {\n    borderWidth: 0,\n    color: '#eeeeee',\n    fontFamily: '\"Helvetica Neue\", STHeiTi, sans-serif'\n  },\n  textInput: {\n    borderWidth: 0,\n    fontFamily: '\"Helvetica Neue\", STHeiTi, sans-serif'\n  },\n  thumb: {\n    width: 25,\n    height: 25,\n    marginRight: 2,\n    marginTop: 7,\n    borderRadius: 5\n  },\n  err: {\n    paddingLeft: 10,\n    // backgroundColor: 'transparent'\n  },\n  element: {\n    position: 'relative'\n  },\n  input: {\n    backgroundColor: 'transparent',\n    color: '#aaaaaa',\n    fontSize: 18,\n    marginTop: 10,\n  },\n  labelClean: {\n    marginTop: 21,\n    color: '#AAA',\n    position: 'absolute',\n    fontSize: 18,\n    top: 7\n  },\n  labelDirty: {\n    marginTop: 21,\n    marginLeft: 10,\n    color: '#AAA',\n    position: 'absolute',\n    fontSize: 12,\n    top: -17,\n  },\n  customIcon: {\n    position: 'absolute',\n    right: 0,\n    marginTop: 15\n  },\n  dateInput: {\n    flex: 1,\n    height: 35,\n    paddingBottom: 5,\n    marginTop: 5,\n    borderWidth: 1,\n    borderColor: 'transparent',\n    borderBottomColor: '#cccccc',\n    alignItems: 'flex-start',\n    justifyContent: 'center',\n  },\n  dateText: {\n    fontSize: 18,\n    color: '#000000',\n    backgroundColor: 'transparent',\n    marginLeft: 10\n  },\n  placeholderText: {\n    fontSize: 18,\n  },\n  dateIcon: {\n    position: 'absolute',\n    right: 0,\n    top: 5\n  },\n  divider: {\n    justifyContent: 'center',\n    marginHorizontal: 10,\n    marginBottom: 5\n  },\n  dividerText: {\n    marginVertical: 10,\n    fontSize: 18,\n    alignSelf: 'center',\n    color: '#ffffff'\n  },\n})\nmodule.exports = NewResourceMixin;\n  // icon: {\n  //   width: 20,\n  //   height: 20,\n  //   marginLeft: -5,\n  //   marginRight: 5,\n  // },\n  // dateContainer: {\n  //   // height: 60,\n  //   borderColor: '#ffffff',\n  //   borderBottomColor: '#cccccc',\n  //   borderBottomWidth: 1,\n  //   marginHorizontal: 10,\n  //   // marginLeft: 10,\n  //   // marginBottom: 10,\n  //   flex: 1\n  // },\n  // labelInput: {\n  //   color: '#cccccc',\n  // },\n  // preview: {\n  //   flex: 1,\n  //   justifyContent: 'flex-end',\n  //   alignItems: 'center',\n  //   height: Dimensions.get('window').height,\n  //   width: Dimensions.get('window').width\n  // },\n  // capture: {\n  //   flex: 0,\n  //   backgroundColor: '#fff',\n  //   borderRadius: 5,\n  //   color: '#000',\n  //   padding: 10,\n  //   margin: 40\n  // },\n\n  // myDateTemplate1(params) {\n  //   var labelStyle = {color: '#cccccc', fontSize: 17, paddingBottom: 10};\n  //   var textStyle = {color: this.state.isRegistration ? '#ffffff' : '#000000', fontSize: 17, paddingBottom: 10};\n  //   var prop = params.prop\n  //   let resource = this.state.resource\n  //   let label, style, propLabel\n  //   let hasValue = resource && resource[prop.name]\n  //   if (resource && resource[prop.name]) {\n  //     label = resource[prop.name].title\n  //     style = textStyle\n\n  //     let vStyle = Platform.OS === 'android'\n  //                ? {paddingLeft: 10, marginTop: 5}\n  //                : {marginLeft: 10, marginTop: 5, marginBottom: 5, backgroundColor: 'transparent'}\n\n  //     propLabel = <View style={vStyle}>\n  //                   <Text style={{fontSize: 12, color: this.state.isRegistration ? '#eeeeee' : '#B1B1B1'}}>{params.label}</Text>\n  //                 </View>\n  //   }\n  //   else {\n  //     label = params.label\n  //     style = labelStyle\n  //     propLabel = <View style={{marginTop: 20}}/>\n  //   }\n\n  //   var err = this.state.missedRequiredOrErrorValue\n  //           ? this.state.missedRequiredOrErrorValue[prop.name]\n  //           : null\n  //   if (!err  &&  params.errors  &&  params.errors[prop.name])\n  //     err = params.errors[prop.name]\n\n  //   let valuePadding = 0 //Platform.OS === 'ios' ? 0 : (hasValue ? 10 : 0)\n\n  //   return (\n  //     <View style={{paddingBottom: 10, flex: 5}} key={this.getNextKey()} ref={prop.name}>\n  //      {propLabel}\n  //      <TouchableHighlight underlayColor=\"transparent\" onPress={this.showModal.bind(this, prop, true)}>\n  //        <View style={[styles.dateContainer, {flexDirection: 'row', justifyContent: 'space-between', paddingLeft: valuePadding}]}>\n  //          <Text style={style}>{(params.value &&  dateformat(new Date(params.value), 'mmmm dS, yyyy')) || translate(params.prop)}</Text>\n  //          <Icon name='ios-calendar-outline'  size={17}  color={LINK_COLOR}  style={styles.icon1} />\n  //        </View>\n  //      </TouchableHighlight>\n  //      { Platform.OS === 'ios'\n  //         ? this.state.modal  &&  this.state.modal[prop.name]\n  //             ? <Picker closeModal={() => {\n  //                this.showModal(prop, false)\n  //             }} offSet={this.state.offSet} value={params.value} prop={params.prop} changeTime={this.changeTime.bind(this, params.prop)}  />\n  //             : (err ? this.getErrorView(params) : null)\n  //         : <View />\n  //       }\n  //     </View>\n  //   );\n  // },\n\n  // showCamera(params) {\n\n  //   return (\n  //     <View style={styles.container}>\n  //       <Camera\n  //         ref={(cam) => {\n  //           this.camera = cam;\n  //         }}\n  //         style={styles.preview}\n  //         aspect={Camera.constants.Aspect.fill}>\n  //         <Text style={styles.capture} onPress={this.takePicture.bind(this)}>[CAPTURE]</Text>\n  //       </Camera>\n  //     </View>\n  //   );\n  // },\n  // showModal(prop, show) {\n  //   this.setState({modal: show})\n  // },\n  // showModal(prop, show) {\n  //   if (Platform.OS === 'ios') {\n  //     let m = {}\n  //     extend(true, m, this.state.modal)\n  //     if (show)\n  //       m[prop.name] = show\n  //     else {\n  //       for (let p in m)\n  //         m[p] = false\n  //     }\n\n  //     this.setState({modal: m})\n  //   }\n  //   else\n  //     this.showPicker(prop, 'preset', {date: new Date()})\n  // },\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/NewResourceMixin.js\n **/","'use strict'\n\nimport {\n  View,\n  StyleSheet\n} from 'react-native'\n\nimport React, { Component } from 'react'\nimport DatePicker from 'react-datepicker/dist/react-datepicker'\nrequire('react-datepicker/dist/react-datepicker.css')\n\nimport moment from 'moment'\n\nexport default class DatePickerAdapter extends Component {\n  render() {\n    return (\n      <DatePicker\n        showYearDropdown\n        selected={this.props.date && moment(this.props.date)}\n        placeholderText={this.props.placeholder}\n        style={this.props.style}\n        onChange={this.props.onDateChange}\n      />\n    )\n  }\n}\n\n        // dateFormat={this.props.format}\n\n\n\n/** WEBPACK FOOTER **\n ** ./web/shims/DatePicker.web.js\n **/","var map = {\n\t\"./af\": 1961,\n\t\"./af.js\": 1961,\n\t\"./ar\": 1962,\n\t\"./ar-ly\": 1963,\n\t\"./ar-ly.js\": 1963,\n\t\"./ar-ma\": 1964,\n\t\"./ar-ma.js\": 1964,\n\t\"./ar-sa\": 1965,\n\t\"./ar-sa.js\": 1965,\n\t\"./ar-tn\": 1966,\n\t\"./ar-tn.js\": 1966,\n\t\"./ar.js\": 1962,\n\t\"./az\": 1967,\n\t\"./az.js\": 1967,\n\t\"./be\": 1968,\n\t\"./be.js\": 1968,\n\t\"./bg\": 1969,\n\t\"./bg.js\": 1969,\n\t\"./bn\": 1970,\n\t\"./bn.js\": 1970,\n\t\"./bo\": 1971,\n\t\"./bo.js\": 1971,\n\t\"./br\": 1972,\n\t\"./br.js\": 1972,\n\t\"./bs\": 1973,\n\t\"./bs.js\": 1973,\n\t\"./ca\": 1974,\n\t\"./ca.js\": 1974,\n\t\"./cs\": 1975,\n\t\"./cs.js\": 1975,\n\t\"./cv\": 1976,\n\t\"./cv.js\": 1976,\n\t\"./cy\": 1977,\n\t\"./cy.js\": 1977,\n\t\"./da\": 1978,\n\t\"./da.js\": 1978,\n\t\"./de\": 1979,\n\t\"./de-at\": 1980,\n\t\"./de-at.js\": 1980,\n\t\"./de.js\": 1979,\n\t\"./dv\": 1981,\n\t\"./dv.js\": 1981,\n\t\"./el\": 1982,\n\t\"./el.js\": 1982,\n\t\"./en-au\": 1983,\n\t\"./en-au.js\": 1983,\n\t\"./en-ca\": 1984,\n\t\"./en-ca.js\": 1984,\n\t\"./en-gb\": 1985,\n\t\"./en-gb.js\": 1985,\n\t\"./en-ie\": 1986,\n\t\"./en-ie.js\": 1986,\n\t\"./en-nz\": 1987,\n\t\"./en-nz.js\": 1987,\n\t\"./eo\": 1988,\n\t\"./eo.js\": 1988,\n\t\"./es\": 1989,\n\t\"./es-do\": 1990,\n\t\"./es-do.js\": 1990,\n\t\"./es.js\": 1989,\n\t\"./et\": 1991,\n\t\"./et.js\": 1991,\n\t\"./eu\": 1992,\n\t\"./eu.js\": 1992,\n\t\"./fa\": 1993,\n\t\"./fa.js\": 1993,\n\t\"./fi\": 1994,\n\t\"./fi.js\": 1994,\n\t\"./fo\": 1995,\n\t\"./fo.js\": 1995,\n\t\"./fr\": 1996,\n\t\"./fr-ca\": 1997,\n\t\"./fr-ca.js\": 1997,\n\t\"./fr-ch\": 1998,\n\t\"./fr-ch.js\": 1998,\n\t\"./fr.js\": 1996,\n\t\"./fy\": 1999,\n\t\"./fy.js\": 1999,\n\t\"./gd\": 2000,\n\t\"./gd.js\": 2000,\n\t\"./gl\": 2001,\n\t\"./gl.js\": 2001,\n\t\"./he\": 2002,\n\t\"./he.js\": 2002,\n\t\"./hi\": 2003,\n\t\"./hi.js\": 2003,\n\t\"./hr\": 2004,\n\t\"./hr.js\": 2004,\n\t\"./hu\": 2005,\n\t\"./hu.js\": 2005,\n\t\"./hy-am\": 2006,\n\t\"./hy-am.js\": 2006,\n\t\"./id\": 2007,\n\t\"./id.js\": 2007,\n\t\"./is\": 2008,\n\t\"./is.js\": 2008,\n\t\"./it\": 2009,\n\t\"./it.js\": 2009,\n\t\"./ja\": 2010,\n\t\"./ja.js\": 2010,\n\t\"./jv\": 2011,\n\t\"./jv.js\": 2011,\n\t\"./ka\": 2012,\n\t\"./ka.js\": 2012,\n\t\"./kk\": 2013,\n\t\"./kk.js\": 2013,\n\t\"./km\": 2014,\n\t\"./km.js\": 2014,\n\t\"./ko\": 2015,\n\t\"./ko.js\": 2015,\n\t\"./ky\": 2016,\n\t\"./ky.js\": 2016,\n\t\"./lb\": 2017,\n\t\"./lb.js\": 2017,\n\t\"./lo\": 2018,\n\t\"./lo.js\": 2018,\n\t\"./lt\": 2019,\n\t\"./lt.js\": 2019,\n\t\"./lv\": 2020,\n\t\"./lv.js\": 2020,\n\t\"./me\": 2021,\n\t\"./me.js\": 2021,\n\t\"./mi\": 2022,\n\t\"./mi.js\": 2022,\n\t\"./mk\": 2023,\n\t\"./mk.js\": 2023,\n\t\"./ml\": 2024,\n\t\"./ml.js\": 2024,\n\t\"./mr\": 2025,\n\t\"./mr.js\": 2025,\n\t\"./ms\": 2026,\n\t\"./ms-my\": 2027,\n\t\"./ms-my.js\": 2027,\n\t\"./ms.js\": 2026,\n\t\"./my\": 2028,\n\t\"./my.js\": 2028,\n\t\"./nb\": 2029,\n\t\"./nb.js\": 2029,\n\t\"./ne\": 2030,\n\t\"./ne.js\": 2030,\n\t\"./nl\": 2031,\n\t\"./nl.js\": 2031,\n\t\"./nn\": 2032,\n\t\"./nn.js\": 2032,\n\t\"./pa-in\": 2033,\n\t\"./pa-in.js\": 2033,\n\t\"./pl\": 2034,\n\t\"./pl.js\": 2034,\n\t\"./pt\": 2035,\n\t\"./pt-br\": 2036,\n\t\"./pt-br.js\": 2036,\n\t\"./pt.js\": 2035,\n\t\"./ro\": 2037,\n\t\"./ro.js\": 2037,\n\t\"./ru\": 2038,\n\t\"./ru.js\": 2038,\n\t\"./se\": 2039,\n\t\"./se.js\": 2039,\n\t\"./si\": 2040,\n\t\"./si.js\": 2040,\n\t\"./sk\": 2041,\n\t\"./sk.js\": 2041,\n\t\"./sl\": 2042,\n\t\"./sl.js\": 2042,\n\t\"./sq\": 2043,\n\t\"./sq.js\": 2043,\n\t\"./sr\": 2044,\n\t\"./sr-cyrl\": 2045,\n\t\"./sr-cyrl.js\": 2045,\n\t\"./sr.js\": 2044,\n\t\"./ss\": 2046,\n\t\"./ss.js\": 2046,\n\t\"./sv\": 2047,\n\t\"./sv.js\": 2047,\n\t\"./sw\": 2048,\n\t\"./sw.js\": 2048,\n\t\"./ta\": 2049,\n\t\"./ta.js\": 2049,\n\t\"./te\": 2050,\n\t\"./te.js\": 2050,\n\t\"./th\": 2051,\n\t\"./th.js\": 2051,\n\t\"./tl-ph\": 2052,\n\t\"./tl-ph.js\": 2052,\n\t\"./tlh\": 2053,\n\t\"./tlh.js\": 2053,\n\t\"./tr\": 2054,\n\t\"./tr.js\": 2054,\n\t\"./tzl\": 2055,\n\t\"./tzl.js\": 2055,\n\t\"./tzm\": 2056,\n\t\"./tzm-latn\": 2057,\n\t\"./tzm-latn.js\": 2057,\n\t\"./tzm.js\": 2056,\n\t\"./uk\": 2058,\n\t\"./uk.js\": 2058,\n\t\"./uz\": 2059,\n\t\"./uz.js\": 2059,\n\t\"./vi\": 2060,\n\t\"./vi.js\": 2060,\n\t\"./x-pseudo\": 2061,\n\t\"./x-pseudo.js\": 2061,\n\t\"./zh-cn\": 2062,\n\t\"./zh-cn.js\": 2062,\n\t\"./zh-hk\": 2063,\n\t\"./zh-hk.js\": 2063,\n\t\"./zh-tw\": 2064,\n\t\"./zh-tw.js\": 2064\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1960;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale ^\\.\\/.*$\n ** module id = 1960\n ** module chunks = 0\n **/","'use strict';\n\nimport React, { Component } from 'react'\nimport {\n  ListView,\n  StyleSheet,\n  PropTypes,\n  TouchableHighlight,\n  View,\n  Platform,\n  Text\n} from 'react-native'\n// const SearchBar = Platform.OS === 'android' ? null : require('react-native-search-bar')\nconst SearchBar = Platform.OS !== 'ios' ? null : require('react-native-search-bar')\nvar translate = require('../utils/utils').translate\n\nclass EnumList extends Component {\n  props: {\n    navigator: PropTypes.object.isRequired,\n    resource: PropTypes.object.isRequired,\n    returnRoute: PropTypes.object,\n    callback: PropTypes.func,\n    prop: PropTypes.object.isRequired,\n    enumProp: PropTypes.object.isRequired\n  };\n  constructor(props) {\n    super(props);\n\n    var dataSource = new ListView.DataSource({\n      rowHasChanged: function(row1, row2) {\n        return row1 !== row2\n      }\n    })\n    this.state = {\n      dataSource: dataSource.cloneWithRows(this.props.enumProp.oneOf),\n      filter: ''\n    }\n  }\n\n  selectResource(resource) {\n    this.props.callback(this.props.prop.name, this.props.enumProp.name, resource); // HACK for now\n    this.props.navigator.popToRoute(this.props.returnRoute);\n    return;\n  }\n  render() {\n    var content = <ListView\n          dataSource={this.state.dataSource}\n          renderRow={this.renderRow.bind(this)}\n          automaticallyAdjustContentInsets={false}\n          removeClippedSubviews={false}\n          keyboardDismissMode='on-drag'\n          keyboardShouldPersistTaps={true}\n          initialListSize={10}\n          pageSize={20}\n          scrollRenderAhead={10}\n          showsVerticalScrollIndicator={false} />;\n    var searchBar\n    if (SearchBar) {\n      searchBar = (\n        <SearchBar\n          onChangeText={this.onSearchChange.bind(this)}\n          placeholder={translate('search')}\n          showsCancelButton={false}\n          hideBackground={true}\n          />\n      )\n    }\n\n    return (\n      <View style={styles.container}>\n        {searchBar}\n        <View style={styles.separator} />\n        {content}\n      </View>\n    );\n  }\n  onSearchChange(filter) {\n    let vals = this.props.enumProp.oneOf\n    let list = vals.filter((s) => {\n      return Object.keys(s)[0].indexOf(filter) === -1 ? false : true\n    })\n    this.setState({filter: filter, dataSource: this.state.dataSource.cloneWithRows(list)})\n  }\n\n  renderRow(value) {\n    var label\n    if (typeof value === 'object') {\n      var key = Object.keys(value)[0]\n      label = key + ' ' + value[key]\n    }\n    else\n      label = value\n\n    return (\n      <View style={{padding: 5}}>\n        <TouchableHighlight underlayColor='transparent' onPress={this.selectResource.bind(this, value)}>\n          <View style={styles.row}>\n            <View style={styles.textContainer}>\n              <Text style={styles.resourceTitle}>{label}</Text>\n            </View>\n          </View>\n        </TouchableHighlight>\n        <View style={styles.separator} />\n      </View>\n    )\n  }\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#ffffff',\n    marginTop: 64\n  },\n  resourceTitle: {\n    fontSize: 20\n  },\n  separator: {\n    height: 0.5,\n    backgroundColor: '#eeeeee',\n  },\n  row: {\n    flexDirection: 'row',\n    padding: 10,\n  },\n  textContainer: {\n    flex: 1,\n  },\n});\n\nmodule.exports = EnumList;\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/EnumList.js\n **/","import {\n  AppRegistry,\n  StyleSheet,\n  Text,\n  View,\n  TouchableHighlight,\n  Platform\n} from 'react-native'\n\nvar Camera = require('react-native-camera');\nvar Icon = require('react-native-vector-icons/Ionicons')\n\nimport React, { Component } from 'react'\n\nclass CameraView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cameraType: Camera.constants.Type.back\n    }\n  }\n\n  render() {\n    return (\n      <View style={styles.container}>\n        <Camera\n          ref=\"cam\"\n          captureTarget={Camera.constants.CaptureTarget.cameraRoll}\n          captureMode={Camera.constants.CaptureMode.video}\n          style={styles.container}\n          onBarCodeRead={this._onBarCodeRead.bind(this)}\n          type={this.state.cameraType}>\n          <TouchableHighlight onPress={this._switchCamera.bind(this)}>\n            <Icon name='ios-reverse-camera' size={50} color='#eeeeee' />\n          </TouchableHighlight>\n        </Camera>\n        <View style={{backgroundColor: '#000000', paddingTop: 7, height: 125, alignSelf: 'stretch'}}>\n          <TouchableHighlight onPress={this._takePicture.bind(this)}>\n             <Icon name='ios-radio-button-on'  size={85}  color='#eeeeee'  style={styles.icon}/>\n          </TouchableHighlight>\n        </View>\n      </View>\n    );\n  }\n  _onBarCodeRead(e) {\n    console.log(e);\n  }\n  _switchCamera() {\n    var state = this.state;\n    state.cameraType = state.cameraType === Camera.constants.Type.back\n      ? Camera.constants.Type.front : Camera.constants.Type.back;\n    this.setState(state);\n  }\n  _takePicture() {\n    var self = this;\n    this.refs.cam.capture(function(err, data) {\n      console.log(err, data);\n      self.props.onTakePic(data);\n    });\n  }\n}\n\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    alignSelf: 'stretch',\n    backgroundColor: 'transparent',\n  },\n  icon: {\n    width: 85,\n    height: 85,\n    marginTop: 2,\n    alignSelf: 'center',\n  },\n});\n\nmodule.exports = Camera && CameraView;\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/CameraView.js\n **/","'use strict';\n\nvar PhotoList = require('./PhotoList')\nvar PageView = require('./PageView')\nvar utils = require('../utils/utils');\nvar translate = utils.translate\nimport ImagePicker from 'react-native-image-picker';\nvar extend = require('extend')\nvar equal = require('deep-equal')\nvar Icon = require('react-native-vector-icons/Ionicons')\nvar constants = require('@tradle/constants');\n// import ActionSheet from 'react-native-actionsheet'\n\nimport {\n  StyleSheet,\n  PropTypes,\n  Platform,\n  ScrollView,\n  TouchableHighlight,\n  View,\n} from 'react-native'\n\nimport React, { Component } from 'react'\nimport platformStyles from '../styles/platform'\nimport ImageInput from './ImageInput'\n\nclass GridItemsList extends Component {\n  props: {\n    navigator: PropTypes.object.isRequired,\n    list: PropTypes.array.isRequired,\n    callback: PropTypes.func.isRequired,\n    resource: PropTypes.object.isRequired,\n    returnRoute: PropTypes.object.isRequired,\n    prop: PropTypes.string.isRequired\n  };\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: this.props.list,\n      show: false\n    };\n    var currentRoutes = this.props.navigator.getCurrentRoutes();\n    var currentRoutesLength = currentRoutes.length;\n    currentRoutes[currentRoutesLength - 1].onRightButtonPress = () => {\n      props.callback(props.prop, this.state.list)\n      props.navigator.popToRoute(props.returnRoute);\n    }\n\n    this._onImage = this._onImage.bind(this)\n  }\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextState.err                         ||\n           nextState.forceUpdate                 ||\n           // nextState.show !== this.state.show    ||\n           this.state.list.length != nextState.list.length\n  }\n  cancelItem(item) {\n    var list = [];\n    extend(list, this.state.list);\n    for (var i=0; i<list.length; i++) {\n      if (equal(list[i], item)) {\n        list.splice(i, 1);\n        break;\n      }\n    }\n    if (list.length !== 0)\n      this.setState({\n        list: list,\n      })\n    else {\n      this.props.callback(this.props.prop, list)\n      this.props.navigator.popToRoute(this.props.returnRoute);\n    }\n  }\n\n  render() {\n    var m = utils.getModel(this.props.resource[constants.TYPE]).value\n    var prop = m.properties[this.props.prop]\n    // var buttons = [translate('addNew', prop.title), translate('cancel')]\n    let icon = Platform.OS === 'ios' ?  'md-add' : 'md-add'\n    let color = Platform.OS === 'android' ? 'red' : '#ffffff'\n    // let actionSheet = this.renderActionSheet(buttons)\n    return (\n      <PageView style={platformStyles.container}>\n        <ScrollView  ref='this'>\n        <View style={{flex: 1}}>\n          <PhotoList photos={this.state.list} forceUpdate={this.state.forceUpdate} callback={this.cancelItem.bind(this)} navigator={this.props.navigator} resource={this.props.resource}/>\n        </View>\n        </ScrollView>\n        <View style={styles.footer}>\n          <ImageInput\n            ref={input => this._imageInput = input}\n            prop={prop}\n            underlayColor='transparent'\n            onPress={utils.isWeb() ? null : () => this._imageInput.showImagePicker()}\n            onImage={this._onImage}>\n            <View style={platformStyles.menuButton}>\n              <Icon name={icon}  size={33}  color={color} />\n            </View>\n          </ImageInput>\n        </View>\n      </PageView>\n    )\n  }\n\n  // renderActionSheet(buttons) {\n  //   if (utils.isWeb()) return\n\n  //   return (\n  //     <ActionSheet\n  //       ref={(o) => {\n  //         this.ActionSheet = o\n  //       }}\n  //       options={buttons}\n  //       cancelButtonIndex={buttons.length - 1}\n  //       onPress={(index) => {\n  //         if (index === 0) this._imageInput.showImagePicker()\n  //       }}\n  //     />\n  //   )\n  // }\n\n      // returnIsVertical: true,\n      // chooseFromLibraryButtonTitle: __DEV__ ? 'Choose from Library' : null\n  _onImage(item) {\n    let l = []\n    this.state.list.forEach((r) => {\n      let lr = {}\n      extend(lr, r)\n      l.push(lr)\n    })\n    l.push(item)\n    this.props.onAddItem('photos', item);\n    this.setState({list: l, forceUpdate: true})\n    // this.setState({resouce: resource})\n  }\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    marginTop: 60,\n  },\n  footer: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    height: 45,\n    // paddingTop: 5,\n    paddingHorizontal: 10,\n    backgroundColor: '#eeeeee',\n    borderColor: '#eeeeee',\n    borderWidth: 1,\n    borderTopColor: '#cccccc',\n  },\n  icon: {\n    marginLeft: -30,\n    marginTop: -25,\n    color: 'red'\n  },\n});\n\nmodule.exports = GridItemsList;\n\n  // showMenu() {\n  //   var m = utils.getModel(this.props.resource[constants.TYPE]).value\n  //   var buttons = [translate('addNew', m.properties[this.props.prop].title), translate('cancel')]\n  //   var self = this;\n  //   ActionSheetIOS.showActionSheetWithOptions({\n  //     options: buttons,\n  //     cancelButtonIndex: 1\n  //   }, function(buttonIndex) {\n  //     switch (buttonIndex) {\n  //     case 0:\n  //       self.showChoice();\n  //       break\n  //     }\n  //   });\n  // }\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/GridItemsList.js\n **/","/*\n\n  a bootstrap like style\n\n*/\n'use strict';\n\nvar React = require('react-native')\n\nvar LABEL_COLOR = '#000000';\nvar INPUT_COLOR = '#000000';\nvar ERROR_COLOR = '#EEF2DB';\nvar HELP_COLOR = '#999999';\nvar BORDER_COLOR = '#356D9D';\nvar DISABLED_COLOR = '#777777';\nvar DISABLED_BACKGROUND_COLOR = '#eeeeee';\nvar FONT_SIZE = 24;\nvar HELP_FONT_SIZE = 26;\nvar height = React.Dimensions.get('window').height < 600 ? 55 : 66\n\nvar FONT_WEIGHT = '400';\n\nvar stylesheet = Object.freeze({\n  fieldset: {},\n  // the style applied to the container of all inputs\n  formGroup: {\n    normal: {\n      marginBottom: 10,\n    },\n    error: {\n      marginBottom: 10\n    }\n  },\n  controlLabel: {\n    normal: {\n      color: LABEL_COLOR,\n      fontSize: FONT_SIZE,\n      marginBottom: 3,\n      fontWeight: FONT_WEIGHT\n    },\n    // the style applied when a validation error occours\n    error: {\n      color: ERROR_COLOR,\n      fontSize: HELP_FONT_SIZE,\n      marginBottom: 7,\n      fontWeight: FONT_WEIGHT\n    }\n  },\n  helpBlock: {\n    normal: {\n      color: HELP_COLOR,\n      fontSize: HELP_FONT_SIZE,\n      marginLeft: 10,\n      marginTop: 5\n    },\n    // the style applied when a validation error occours\n    error: {\n      color: HELP_COLOR,\n      fontSize: HELP_FONT_SIZE,\n      marginLeft: 10,\n      marginBottom: 2\n    }\n  },\n  errorBlock: {\n    fontSize: FONT_SIZE,\n    marginBottom: 2,\n    color: ERROR_COLOR\n  },\n  textbox: {\n    normal: {\n      color: '#467EAE',\n      // color: '#eeeeee',\n      fontSize: FONT_SIZE,\n      backgroundColor: '#ffffff',\n      height: height,\n      padding: 10,\n      // borderColor: BORDER_COLOR,\n      // borderBottomColor: BORDER_COLOR,\n      // borderWidth: 1,\n      marginBottom: 5\n    },\n    // the style applied when a validation error occours\n    error: {\n      color: INPUT_COLOR,\n      backgroundColor: '#ffffff',\n      fontSize: HELP_FONT_SIZE,\n      height: height,\n      padding: 10,\n      borderColor: ERROR_COLOR,\n      borderWidth: 1,\n      marginBottom: 5\n    },\n    // the style applied when the textbox is not editable\n    notEditable: {\n      fontSize: FONT_SIZE,\n      height: height,\n      padding: 7,\n      borderRadius: 4,\n      borderColor: BORDER_COLOR,\n      borderWidth: 1,\n      marginBottom: 5,\n      color: DISABLED_COLOR,\n      backgroundColor: DISABLED_BACKGROUND_COLOR\n    }\n  },\n  checkbox: {\n    normal: {\n      color: INPUT_COLOR,\n      marginBottom: 4\n    },\n    // the style applied when a validation error occours\n    error: {\n      color: INPUT_COLOR,\n      marginBottom: 4\n    }\n  },\n  select: {\n    normal: {\n      marginBottom: 4\n    },\n    // the style applied when a validation error occours\n    error: {\n      marginBottom: 4\n    }\n  },\n  datepicker: {\n    normal: {\n      marginBottom: 4\n    },\n    // the style applied when a validation error occours\n    error: {\n      marginBottom: 4\n    }\n  }\n});\n\nmodule.exports = stylesheet;\n\n\n/** WEBPACK FOOTER **\n ** ./styles/registrationStyles.js\n **/","module.exports = {\n\t\"_t\": \"tradle.TermsAndConditions\",\n\t\"introduction\": \"Morbi consectetur sagittis scelerisque. Maecenas vel urna mauris. Quisque laoreet nunc ut rhoncus sagittis. Quisque mattis sapien sit amet enim ultrices, at sodales est vestibulum. Fusce scelerisque odio quis ornare dignissim. Donec at tincidunt arcu. Nulla euismod accumsan ex eu hendrerit. Nam massa nunc, vulputate efficitur urna in, dignissim sodales massa. Nulla non sem consequat, fringilla mauris quis, convallis felis.\",\n\t\"intellectualPropertyRights\": \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer et mollis risus. Nunc posuere leo quis risus rutrum luctus. Maecenas sodales varius mauris, sed ullamcorper enim venenatis sed. \",\n\t\"restrictions\": [\n\t\t{\n\t\t\t\"text\": \"You are specifically restricted from all of the following:\"\n\t\t},\n\t\t{\n\t\t\t\"text\": \"1. Curabitur et dictum ligula.;\"\n\t\t},\n\t\t{\n\t\t\t\"text\": \"2. In eget dapibus nisi, eget viverra tortor;\"\n\t\t},\n\t\t{\n\t\t\t\"text\": \"3. Integer non magna et massa posuere pretium at vitae est. \"\n\t\t},\n\t\t{\n\t\t\t\"text\": \"4. Consectetur adipiscing elit.;\"\n\t\t},\n\t\t{\n\t\t\t\"text\": \"5. Quisque mattis sapien sit amet enim ultrices;\"\n\t\t},\n\t\t{\n\t\t\t\"text\": \"6. Nunc vestibulum ultricies libero quis ultrices;\"\n\t\t},\n\t\t{\n\t\t\t\"text\": \"7. Fusce ac massa vehicula sem varius tempor et nec erat.;\"\n\t\t},\n\t\t{\n\t\t\t\"text\": \"8. In eget dapibus nisi, eget viverra tortor.\"\n\t\t},\n\t\t{\n\t\t\t\"text\": \"Integer non magna et massa posuere pretium at vitae est. Nunc vestibulum ultricies libero quis ultrices. Fusce ac massa vehicula sem varius tempor et nec erat. In eget dapibus nisi, eget viverra tortor. Morbi a risus pellentesque, hendrerit ipsum ut, semper lacus. Curabitur et dictum ligula.\"\n\t\t}\n\t],\n\t\"limitationOfLiability\": \"Donec at felis eros. Morbi lectus dui, molestie quis varius eget, feugiat in purus. Duis lacinia vel turpis ac viverra. Donec nisl augue, egestas ac luctus eget, bibendum quis mi. Nam tincidunt lorem in neque faucibus, a venenatis urna vestibulum.\"\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./termsAndConditions.json\n ** module id = 2075\n ** module chunks = 0\n **/","'use strict'\n\nimport {\n  View,\n  StyleSheet,\n  Text,\n  Alert,\n  TouchableOpacity\n} from 'react-native'\n\nimport utils from '../utils/utils'\nvar translate = utils.translate\nimport React, { Component } from 'react'\n\nclass NetworkInfoProvider extends Component {\n  constructor(props) {\n    super(props)\n  }\n  render() {\n    let dn = this.props.resource\n           ? translate('learnMoreDescriptionTo', utils.getDisplayName(this.props.resource))\n           : translate('learnMoreDescription')\n    return this.props.connected\n          ? <View/>\n          : <View style={styles.bar}>\n              <Text style={styles.text}>{translate('noNetwork')}</Text>\n              <TouchableOpacity onPress={() => Alert.alert(translate('offlineMode'), dn, null)}>\n                <Text style={styles.text}>{translate('learnMore')}</Text>\n              </TouchableOpacity>\n            </View>\n\n  }\n}\n\nvar styles = StyleSheet.create({\n  bar: {\n    backgroundColor: '#FF9B30',\n    padding: 7,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\"\n  },\n  text: {\n    fontSize: 18,\n    color: '#ffffff',\n    alignSelf: 'center',\n    marginHorizontal: 10\n  },\n});\n\nmodule.exports = NetworkInfoProvider\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/NetworkInfoProvider.js\n **/","'use strict';\n\nvar utils = require('../utils/utils');\nvar translate = utils.translate\nvar ArticleView = require('./ArticleView');\nvar MessageView = require('./MessageView');\nvar NewResource = require('./NewResource');\nvar ProductChooser = require('./ProductChooser');\nvar PhotoList = require('./PhotoList');\nvar Icon = require('react-native-vector-icons/Ionicons');\nvar groupByEveryN = utils.groupByEveryN\nvar constants = require('@tradle/constants');\nimport LinearGradient from 'react-native-linear-gradient'\nvar RowMixin = require('./RowMixin');\nvar Accordion = require('react-native-accordion')\nvar extend = require('extend')\nvar equal = require('deep-equal')\nvar formDefaults = require('@tradle/models').formDefaults;\nvar TradleW = require('../img/TradleW.png')\nvar Actions = require('../Actions/Actions');\nimport { makeResponsive } from 'react-native-orient'\n\nvar reactMixin = require('react-mixin');\n\nconst MY_PRODUCT = 'tradle.MyProduct'\nconst FORM_ERROR = 'tradle.FormError'\nconst FORM = 'tradle.Form'\nconst FORM_REQUEST = 'tradle.FormRequest'\nconst ENUM = 'tradle.Enum'\nconst NEXT_FORM_REQUEST = 'tradle.NextFormRequest'\nconst PRODUCT_APPLICATION = 'tradle.ProductApplication'\n\nvar CURRENCY_SYMBOL\nvar LINK_COLOR\nvar STRUCTURED_MESSAGE_COLOR\n\nconst DEFAULT_CURRENCY_SYMBOL = '£'\nconst DEFAULT_LINK_COLOR = '#2892C6'\n\nimport {\n  Image,\n  StyleSheet,\n  Text,\n  TouchableHighlight,\n  Alert,\n  Navigator,\n  View,\n  processColor\n} from 'react-native'\n\nimport React, { Component } from 'react'\n\nclass MessageRow extends Component {\n  constructor(props) {\n    super(props);\n    var resource = this.props.resource;\n    var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n    var me = utils.getMe();\n    LINK_COLOR = this.props.bankStyle.LINK_COLOR\n    STRUCTURED_MESSAGE_COLOR = this.props.bankStyle.STRUCTURED_MESSAGE_COLOR\n    CURRENCY_SYMBOL = props.currency ? props.currency.symbol || props.currency : DEFAULT_CURRENCY_SYMBOL\n  }\n  shouldComponentUpdate(nextProps, nextState) {\n    return !equal(this.props.resource, nextProps.resource)   ||\n           !equal(this.props.to, nextProps.to)               ||\n           this.props.orientation !== nextProps.orientation  ||\n           this.props.sendStatus !== nextProps.sendStatus\n  }\n  render() {\n    var resource = this.props.resource;\n    var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n\n    var me = utils.getMe();\n\n    var isMyMessage = this.isMyMessage();\n    var to = this.props.to;\n    var ownerPhoto = this.getOwnerPhoto(isMyMessage)\n    let hasOwnerPhoto = !isMyMessage &&  to  &&  to.photos;\n\n    var renderedRow = [];\n    var ret = this.formatRow(isMyMessage, renderedRow);\n    let onPressCall = ret ? ret.onPressCall : null\n    let isConfirmation = ret ? ret.isConfirmation : null\n    var isFormError = resource[constants.TYPE] === FORM_ERROR\n\n    var photoUrls = [];\n    var photoListStyle = {height: 3};\n    var addStyle, inRow;\n\n    var isProductApplication = model.id === PRODUCT_APPLICATION\n    let message = isProductApplication ? ret.message : resource.message\n\n    var noMessage = !message  ||  !message.length;\n    var isSimpleMessage = resource[constants.TYPE] === constants.TYPES.SIMPLE_MESSAGE\n\n    var isForgetting = model.id === constants.TYPES.FORGET_ME || model.id === constants.TYPES.FORGOT_YOU\n    if (!renderedRow.length) {\n      var vCols = noMessage ? null : utils.getDisplayName(resource, model.properties);\n      if (vCols)\n        renderedRow = <Text style={styles.resourceTitle} numberOfLines={2}>{vCols}</Text>;\n    }\n    else {\n      var fromHash = resource.from.id;\n      if (isMyMessage) {\n        if (model.id === FORM_REQUEST)\n          addStyle = [styles.myCell, {backgroundColor: '#F1FFE7', borderColor: '#D7DACA', borderWidth: 1}]\n        else if (!noMessage)\n          addStyle = styles.myCell\n      }\n      else if (isForgetting)\n        addStyle = styles.forgetCell\n      else {\n        if (isConfirmation)\n          addStyle = [styles.verificationBody, {borderColor: '#cccccc', backgroundColor: this.props.bankStyle.CONFIRMATION_BG}, styles.myConfCell]\n        else {\n          let borderColor = isFormError ? this.props.bankStyle.REQUEST_FULFILLED : '#efefef'\n          let mstyle = {\n            borderColor: borderColor,\n            backgroundColor: '#ffffff',\n            borderTopLeftRadius: 0\n          }\n          addStyle = (isSimpleMessage && message.length < 30)\n                   ? [styles.verificationBody, mstyle]\n                   : [styles.verificationBody, {flex: 1}, mstyle]\n\n\n        }\n      }\n      if (isFormError)\n        addStyle = [addStyle, styles.verificationBody, {backgroundColor: this.props.bankStyle.FORM_ERROR_BG, borderColor: resource.documentCreated ? this.props.bankStyle.REQUEST_FULFILLED : this.props.bankStyle.FORM_ERROR_BORDER}]; //model.style];\n      if (isMyMessage  &&  !isSimpleMessage && !isFormError && !model.id === FORM_REQUEST)\n        addStyle = [addStyle, styles.verificationBody, {backgroundColor: STRUCTURED_MESSAGE_COLOR, borderColor: '#C1E3E8'}]; //model.style];\n    }\n    var properties = model.properties;\n    var verPhoto;\n    if (properties.photos) {\n      if (resource.photos) {\n        var len = resource.photos.length;\n        inRow = len === 1 ? 1 : (len == 2 || len == 4) ? 2 : 3;\n        var style;\n        if (inRow === 1)\n          style = styles.bigImage;\n        else if (inRow === 2)\n          style = styles.mediumImage;\n        else\n          style = styles.image;\n        resource.photos.forEach((p) => {\n          photoUrls.push({url: utils.getImageUri(p.url)});\n        })\n\n        photoListStyle = {\n          flexDirection: 'row',\n          alignSelf: isMyMessage ? 'flex-end' : 'flex-start',\n          marginLeft: isMyMessage ? 30 : 45, //(hasOwnerPhoto ? 45 : 10),\n          borderRadius: 10,\n          marginBottom: 3,\n        }\n      }\n      else\n        verPhoto = <View style={{height: 0, width:0}} />\n    }\n    var rowStyle = [styles.row, {backgroundColor: this.props.bankStyle.BACKGROUND_COLOR}];\n    var val = this.getTime(resource);\n    var date = val\n             ? <Text style={styles.date} numberOfLines={1}>{val}</Text>\n             : <View />;\n\n    var showMessageBody;\n    if (noMessage) {\n      if (hasOwnerPhoto)\n        showMessageBody = true;\n      else if (!model.properties['message'])\n        showMessageBody = true;\n    }\n    else\n      showMessageBody = true;\n    var messageBody;\n    var w = utils.dimensions(MessageRow).width\n    var sendStatus = <View />\n    // HACK that solves the case when the message is short and we don't want it to be displayed\n    // in a bigger than needed bubble\n    if (message  &&  !isProductApplication) {\n      let parts = utils.splitMessage(message)\n      if (parts.length == 2)\n        message = parts[0].length > parts[1].length ? parts[0] : parts[1]\n      else\n        message = parts[0]\n      let strName = utils.getStringName(message)\n      if (strName)\n        message = translate(strName)\n      if (resource.form) {\n        let formTitle = translate(resource.form)\n        if (formTitle.length > message.length)\n          message = formTitle\n      }\n    }\n    // HACK\n    let msgWidth = w * 0.8\n    let numberOfCharsInWidth = msgWidth / utils.getFontSize(10)\n\n    let longMessage = isSimpleMessage  &&  message ? numberOfCharsInWidth < message.length : false\n    if (showMessageBody) {\n      var viewStyle = {flexDirection: 'row', alignSelf: isMyMessage ? 'flex-end' : 'flex-start'};\n      if (message) {\n        if (message.charAt(0) === '['  ||  longMessage)\n          viewStyle.width = msgWidth; //isMyMessage || !hasOwnerPhoto ? w - 70 : w - 50;\n      }\n      if (!isSimpleMessage)\n        viewStyle.width =  message ? Math.min(msgWidth, message.length * utils.getFontSize(10) + 40) : msgWidth\n\n\n      if (this.props.sendStatus  &&  this.props.sendStatus !== null) {\n        switch (this.props.sendStatus) {\n        case 'Sent':\n          sendStatus = <View style={styles.sendStatus}>\n                         <Text style={styles.sendStatusText}>{this.props.sendStatus}</Text>\n                         <Icon name={'ios-checkmark-outline'} size={15} color='#009900' />\n                       </View>\n          break\n        default:\n          sendStatus = <View style={styles.sendStatus}>\n                        <Text style={styles.sendStatusDefaultText}>{this.props.sendStatus}</Text>\n                      </View>\n          break\n        }\n      }\n      var sealedStatus = (resource.txId)\n                       ? <View style={styles.sealedStatus}>\n                           <Icon name={'ios-ribbon'} size={30} color='#316A99' style={{opacity: 0.5}} />\n                         </View>\n                       : <View />\n\n      let cellStyle\n      if (addStyle) {\n        if (/*hasOwnerPhoto  ||  */!isSimpleMessage  ||  longMessage)\n          cellStyle = [styles.textContainer, addStyle]\n        else\n          cellStyle = addStyle\n      }\n      else\n        cellStyle = styles.textContainer\n      messageBody =\n        <TouchableHighlight onPress={onPressCall ? onPressCall : () => {}} underlayColor='transparent'>\n          <View style={[rowStyle, viewStyle]}>\n            <View style={{marginTop: 2}}>\n            {ownerPhoto}\n            </View>\n            <View style={cellStyle}>\n              <View style={styles.container}>\n              {this.isShared()\n                ? <View style={[styles.verifiedHeader, {backgroundColor: this.props.bankStyle.SHARED_WITH_BG}]}>\n                    <Text style={{color: '#ffffff', fontSize: 18}}>{translate('youShared', resource.to.organization.title)}</Text>\n                  </View>\n                : <View />\n              }\n              {renderedRow}\n             </View>\n             {sealedStatus}\n            </View>\n          </View>\n        </TouchableHighlight>\n    }\n    else\n      messageBody = <View style={{height: 5}}/>\n\n    var len = photoUrls.length;\n    var inRow = len === 1 ? 1 : (len == 2 || len == 4) ? 2 : 3;\n    var photoStyle = {};\n    // var height;\n\n    if (inRow > 0) {\n      if (inRow === 1) {\n        var ww = Math.max(240, msgWidth / 2)\n        var hh = ww * 280 / 240\n        photoStyle = [styles.bigImage, {\n          width:  ww,\n          height: hh\n        }]\n      }\n      else if (inRow === 2)\n        photoStyle = styles.mediumImage;\n      else\n        photoStyle = styles.image;\n    }\n\n    var viewStyle = { margin:1, backgroundColor: '#f7f7f7' }\n    var model = utils.getModel(this.props.resource[constants.TYPE]).value;\n    var isLicense = model.id.indexOf('License') !== -1  ||  model.id.indexOf('Passport') !== -1;\n    var photoStyle = (isLicense  &&  len === 1) ? styles.bigImageH : photoStyle;\n    var shareables = resource.documentCreated || model.id !== FORM_REQUEST\n                   ? <View />\n                   : this.showShareableResources(rowStyle, viewStyle, addStyle);\n      // <View style={viewStyle} ref={resource[constants.ROOT_HASH]}>\n\n    return (\n      <View style={[viewStyle, {backgroundColor: this.props.bankStyle.BACKGROUND_COLOR}]}>\n        {date}\n        {messageBody}\n        <View style={photoListStyle}>\n          <PhotoList photos={photoUrls} resource={this.props.resource} style={[photoStyle, {marginTop: -5}]} navigator={this.props.navigator} numberInRow={inRow} />\n        </View>\n        {sendStatus}\n        {shareables}\n      </View>\n    )\n  }\n  isShared() {\n    var resource = this.props.resource\n    var to = this.props.to\n    var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n    if (model.subClassOf !== constants.TYPES.FORM  ||  !resource.to.organization)\n      return false\n    return utils.getId(resource.to.organization) !== utils.getId(to)\n  }\n\n  editVerificationRequest() {\n    var resource = this.props.resource.document;\n    var rmodel = utils.getModel(resource[constants.TYPE]).value;\n    var title = utils.getDisplayName(resource, rmodel.properties);\n    this.props.navigator.push({\n      title: title,\n      id: 4,\n      component: NewResource,\n      // titleTextColor: '#999999',\n      backButtonTitle: translate('back'),\n      rightButtonTitle: translate('done'),\n      passProps: {\n        model: rmodel,\n        resource: resource,\n        additionalInfo: this.props.resource,\n        editCols: ['photos']\n      }\n    })\n  }\n  showEditResource() {\n    let errs = {}\n    let r = this.props.resource.prefill\n    if (Array.isArray(this.props.resource.errors)) {\n      for (let p of this.props.resource.errors)\n        errs[p.name] = p.error\n    }\n    else\n      errs = this.props.resource.errors\n\n    let me = utils.getMe()\n    r.from = {\n      id: utils.getId(me),\n      title: utils.getDisplayName(me)\n    }\n    r.to = this.props.resource.from\n\n    // Prefill for testing and demoing\n    // var isPrefilled = model.id in formDefaults\n    // if (isPrefilled)\n    //   extend(true, resource, formDefaults[model.id])\n    let type = r[constants.TYPE] || utils.getId(r).split('_')[0]\n    let model = utils.getModel(type).value\n    this.props.navigator.push({\n      id: 4,\n      title: translate(model),\n      rightButtonTitle: translate('done'),\n      backButtonTitle: translate('back'),\n      component: NewResource,\n      // titleTextColor: '#7AAAC3',\n      passProps:  {\n        model: model,\n        resource: r,\n        isPrefilled: true,\n        errs: errs,\n        currency: this.props.currency,\n        bankStyle: this.props.bankStyle,\n        originatingMessage: this.props.resource\n      }\n    });\n\n  }\n  showShareableResources(rowStyle, viewStyle, addStyle) {\n    if (!this.props.shareableResources) // || !this.props.resource.message)\n      return <View/>;\n\n    var resource = this.props.resource;\n    // var msgParts = utils.splitMessage(resource.message);\n    // // Case when the needed form was sent along with the message\n    // if (msgParts.length != 2)\n    //   return <View/>\n\n    // var msgModel = utils.getModel(msgParts[1]);\n    let formModel = utils.getModel(resource.form).value\n    let isMultientryForm = isMultientry(resource)\n    let entries = (isMultientryForm && this.props.productToForms[resource.product])\n                ? this.props.productToForms[resource.product][resource.form]\n                : null\n    // if (!formModel)\n    //   return <View/>;\n    // formModel = formModel.value;\n    var vtt = [];\n    var cnt = 0;\n    var chatOrg = this.props.to[constants.TYPE] === constants.TYPES.ORGANIZATION  &&  utils.getId(this.props.to)\n    for (var t in  this.props.shareableResources) {\n      if (t === formModel.id) {\n        var ver = this.props.shareableResources[t];\n        var r = ver[0]\n        var totalShareables = ver.length\n        ver.forEach((r) => {\n          if (entries  &&  (entries.indexOf(utils.getId(r.document)) !== -1  ||  entries.indexOf(r.document[constants.NONCE]) !== -1))\n            return\n          // if (chatOrg  &&  utils.getId(r.organization) === chatOrg) {\n          //   totalShareables--\n          //   return\n          // }\n          // if (!cnt) {x\n            var vModel = utils.getModel(r[constants.TYPE]);\n            var doc = this.formatDocument(formModel, r, null, totalShareables > 1);\n            if (cnt) {\n              doc = <View key={this.getNextKey()}>\n                      <View style={{height: 1, backgroundColor: '#dddddd'}} />\n                      {doc}\n                    </View>\n            }\n          // }\n          vtt.push(doc);\n          cnt++;\n        })\n      }\n    }\n    if (!vtt.length)\n      return <View />;\n\n    var modelTitle = translate(formModel)\n    var idx = modelTitle.indexOf('Verification');\n    var docType;\n    if (idx === -1)\n      docType = modelTitle;\n    else\n      docType = modelTitle.substring(0, idx) + (modelTitle.length === idx + 12 ? '' : modelTitle.substring(idx + 12))\n\n    let org = this.props.to.organization ? (this.props.to.organization.title + '.') : this.props.to.name;\n    let msg = (vtt.length === 1)\n            ? (formModel.subClassOf === MY_PRODUCT\n                ? translate('shareMyProduct', translate(formModel), org)\n                : translate('shareOne', utils.getMe().firstName, docType, org)\n              )\n            : translate('shareOneOfMany', utils.getMe().firstName, docType, org)\n\n    let w = utils.dimensions(MessageRow).width * 0.8\n    return (\n      <View style={[rowStyle, viewStyle, {width: w}]} key={this.getNextKey()}>\n        <View style={{width: 30}}/>\n        <View style={[addStyle ? [styles.textContainer, addStyle] : styles.textContainer]}>\n          <View style={{flex: 1}}>\n            <View style={styles.assistentBox}>\n              <Text style={styles.assistentText}>{msg}</Text>\n            </View>\n            {vtt}\n         </View>\n        </View>\n      </View>\n     );\n  }\n  onPress(event) {\n    this.props.navigator.push({\n      id: 7,\n      component: ArticleView,\n      passProps: {url: this.props.resource.message}\n    });\n  }\n  createNewResource(model, isMyMessage) {\n    var resource = {\n      'from': this.props.resource.to,\n      'to': this.props.resource.from,\n    }\n    if (this.props.resource[constants.TYPE] !== FORM_REQUEST)\n      resource.message = this.props.resource.message;\n    resource[constants.TYPE] = model.id;\n\n    // Prefill for testing and demoing\n    var isPrefilled = __DEV__ && model.id in formDefaults\n    if (isPrefilled)\n      extend(true, resource, formDefaults[model.id])\n\n    this.props.navigator.push({\n      id: 4,\n      title: translate(model),\n      rightButtonTitle: isMyMessage ? null : translate('done'),\n      backButtonTitle: translate('back'),\n      component: NewResource,\n      // titleTextColor: '#7AAAC3',\n      passProps:  {\n        model: model,\n        resource: resource,\n        isPrefilled: isPrefilled,\n        currency: this.props.currency,\n        bankStyle: this.props.bankStyle,\n        originatingMessage: this.props.resource\n      }\n    });\n  }\n\n  verify(event) {\n    var resource = this.props.resource;\n    var isVerification = resource[constants.TYPE] === constants.TYPES.VERIFICATION;\n    var r = isVerification ? resource.document : resource\n\n    var passProps = {\n      resource: r,\n      bankStyle: this.props.bankStyle,\n      currency: this.props.currency\n    }\n    if (!isVerification)\n      passProps.verify = true\n    else\n      passProps.verification = resource\n\n    var model = utils.getModel(r[constants.TYPE]).value;\n    var route = {\n      id: 5,\n      component: MessageView,\n      backButtonTitle: translate('back'),\n      passProps: passProps,\n      title: translate(model)\n    }\n    if (this.isMyMessage()) {\n      route.rightButtonTitle = translate('edit');\n      route.onRightButtonPress = {\n        title: translate('edit'),\n        component: NewResource,\n        // titleTextColor: '#7AAAC3',\n        id: 4,\n        passProps: {\n          resource: r,\n          metadata: model,\n          bankStyle: this.props.bankStyle,\n          currency: this.props.currency,\n          callback: this.props.onSelect.bind(this, r)\n        }\n      };\n    }\n    this.props.navigator.push(route);\n  }\n\n  formatRow(isMyMessage, renderedRow) {\n    var resource = this.props.resource;\n    var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n\n    if (model.id === PRODUCT_APPLICATION) {\n      let msgModel = utils.getModel(resource.product).value\n      let str = !this.props.navigator.isConnected  &&  this.props.isLast\n              ? translate('noConnectionForNewProduct', utils.getMe().firstName, translate(msgModel))\n              : translate('newProductMsg', translate(msgModel))\n      let color = isMyMessage ? '#ffffff' : '#757575'\n      let msg = !this.props.navigator.isConnected  &&  this.props.isLast\n              ? <View key={this.getNextKey()}>\n                  <Text style={[styles.resourceTitle, {color: color}]}>{str}</Text>\n                </View>\n              :   <View key={this.getNextKey()} style={{flexDirection: 'row'}}>\n                    <Text style={[styles.resourceTitle, {color: '#ffffff', marginTop: 3, paddingRight: 10}]}>{str}</Text>\n                    <Icon name='ios-folder-open-outline' size={25} color='#ffffff' style={{position: 'absolute', right: 0}}/>\n                  </View>\n      renderedRow.push(msg);\n      return ({message: str})\n    }\n    var isProductList = model.id === constants.TYPES.PRODUCT_LIST\n    if (isProductList) {\n      // Case when the needed form was sent along with the message\n      if (resource.welcome) {\n        let msg = <View key={this.getNextKey()}>\n                <Text style={styles.resourceTitle}>{translate('hello', utils.getMe().firstName)}</Text>\n                <View style={styles.rowContainer}>\n                  <Text style={[styles.resourceTitle, {color: LINK_COLOR}]}>{translate('listOfProducts')} </Text>\n                  <Icon style={{color: LINK_COLOR}} size={20} name={'ios-arrow-forward'} />\n                </View>\n              </View>\n        renderedRow.push(msg);\n        return {onPressCall: this.onChooseProduct.bind(this, true)}\n      }\n    }\n    let isSelfIntroduction = model.id === constants.TYPES.SELF_INTRODUCTION\n    let isCustomerWaiting = model.id === constants.TYPES.CUSTOMER_WAITING\n    if (isSelfIntroduction || isCustomerWaiting) {\n      let msg = <View key={this.getNextKey()}>\n                  <View style={styles.rowContainer}>\n                    <Text style={[styles.resourceTitle, {color: isMyMessage ? '#ffffff' : '#757575'}]}>{resource.message}</Text>\n                    <Icon style={{color: LINK_COLOR, backgroundColor: 'transparent',  paddingLeft: 5}} size={20} name={'ios-person'} />\n                  </View>\n                </View>\n      renderedRow.push(msg);\n      return null\n      // return {onPressCall: this.addContact.bind(this)}\n    }\n    var isForgetting = model.id === constants.TYPES.FORGET_ME || model.id === constants.TYPES.FORGOT_YOU\n    if (isForgetting) {\n      let msg = <View key={this.getNextKey()}>\n                  <Text style={[styles.resourceTitle, {fontSize: 18, color: '#ffffff'}]} key={this.getNextKey()}>{resource.message}</Text>\n                </View>\n      renderedRow.push(msg)\n      return null\n    }\n    if (model.id === FORM_REQUEST) {\n      if (!resource.product  || utils.getModel(resource.product).value.subClassOf !== MY_PRODUCT)\n        return {onPressCall: this.formRequest(resource, renderedRow)}\n      else\n        return\n    }\n\n    var viewCols = model.gridCols || model.viewCols;\n    if (!viewCols)\n      return\n    var isFormError = model.id === FORM_ERROR\n    var first = true;\n    var self = this;\n\n    var properties = model.properties;\n    var noMessage = !resource.message  ||  !resource.message.length;\n    var onPressCall;\n\n    let isMyProduct = model.subClassOf === MY_PRODUCT\n    var isSimpleMessage = model.id === constants.TYPES.SIMPLE_MESSAGE\n    var cnt = 0;\n    var isConfirmation\n    var self = this\n\n    var vCols = [];\n    viewCols.forEach(function(v) {\n      if (properties[v].type === 'array'  ||  properties[v].type === 'date')\n        return;\n\n      if (properties[v].ref) {\n        if (resource[v]) {\n          vCols.push(self.getPropRow(properties[v], resource, resource[v].title || resource[v]))\n          first = false;\n        }\n        return;\n      }\n      var style = isSimpleMessage || isFormError ? styles.resourceTitle : styles.description; //resourceTitle; //(first) ? styles.resourceTitle : styles.description;\n      if (isMyMessage)\n        style = [style, {justifyContent: 'flex-end', color: isMyProduct ? '#2892C6' : '#ffffff'}];\n\n      if (resource[v]                      &&\n          properties[v].type === 'string'  &&\n          (resource[v].indexOf('http://') == 0  ||  resource[v].indexOf('https://') == 0)) {\n        onPressCall = self.onPress.bind(self);\n        vCols.push(<Text style={style} numberOfLines={first ? 2 : 1} key={self.getNextKey()}>{resource[v]}</Text>);\n      }\n      else if (isFormError) {\n        let rtype = (resource.prefill[constants.TYPE]) ? resource.prefill[constants.TYPE] : utils.getId(resource.prefill).split('_')[0]\n        let iconName = resource.documentCreated ? 'ios-done-all' : 'ios-information-circle-outline'\n        let iconSize = 30\n        vCols.push(\n          <View key={self.getNextKey()}>\n            <Text style={[style, {color: '#757575'}]}>{isMyMessage ? translate('errorNotification') : resource[v]} </Text>\n            <Text style={[style, {color: resource.documentCreated ?  '#757575' : self.props.bankStyle.FORM_ERROR_COLOR}]}>{translate(utils.getModel(rtype).value)}</Text>\n            <Icon name={iconName} size={iconSize} color={resource.documentCreated ? self.props.bankStyle.REQUEST_FULFILLED : self.props.bankStyle.FORM_ERROR_COLOR} style={styles.errorBadge} />\n          </View>\n        )\n      }\n      else if (!model.autoCreate) {\n        var val = (properties[v].displayAs)\n                ? utils.templateIt(properties[v], resource)\n                : properties[v].type === 'boolean' ? (resource[v] ? 'Yes' : 'No') : resource[v];\n\n        if (!val)\n          return\n        if (model.properties.verifications  &&  !isMyMessage)\n          onPressCall = self.verify.bind(self);\n        if (!isMyMessage)\n          style = [style, {paddingBottom: 10, color: '#2892C6'}];\n        vCols.push(self.getPropRow(properties[v], resource, val))\n      }\n      else {\n        if (!resource[v]  ||  !resource[v].length)\n          return\n        var msgParts = utils.splitMessage(resource[v]);\n        // Case when the needed form was sent along with the message\n        if (msgParts.length === 2) {\n          if (resource.welcome) {\n            msg = <View key={self.getNextKey()}>\n                    <Text style={style}>{msgParts[0]}</Text>\n                    <View style={styles.rowContainer}>\n                      <Text style={[style, {color: isMyMessage ? STRUCTURED_MESSAGE_COLOR : isMyMessage ? self.props.bankStyle.MY_MESSAGE_LINK_COLOR : LINK_COLOR}]}>{msgParts[1]} </Text>\n                      <Icon style={{color: LINK_COLOR}} size={20} name={'ios-arrow-forward'} />\n                    </View>\n                  </View>\n            vCols.push(msg);\n            onPressCall = self.onChooseProduct.bind(self, true)\n            return;\n          }\n          let s = msgParts[1].split('_')\n          var msgModel = utils.getModel(s[0]);\n          let color, link\n          if (msgModel) {\n            if (self.props.shareableResources  &&  !isSimpleMessage)\n              style = /*isSimpleMessage ? styles.resourceTitle : */styles.description;\n            msgModel = msgModel.value;\n            let shareMyProduct = msgModel.subClassOf === MY_PRODUCT\n            if (shareMyProduct) {\n              color = {color: '#aaaaaa'}\n              onPressCall = null\n              link = <Text style={[style, color]}>{translate(msgModel)}</Text>\n            }\n            else {\n              if (!msgParts[0].length)\n                msgParts[0] = 'I just sent you a request for '; // + msgModel.title;\n              if (s.length === 2)\n                onPressCall = self.editForm.bind(self, msgParts[1], msgParts[0])\n              else if (!isMyMessage  &&  !resource.documentCreated)\n                onPressCall = self.createNewResource.bind(self, msgModel, isMyMessage);\n\n              color = isMyMessage  &&  !isFormError\n                    ? {color: self.props.bankStyle.MY_MESSAGE_LINK_COLOR} //{color: STRUCTURED_MESSAGE_COLOR}\n                    : {color: '#2892C6'}\n              if (isMyMessage)\n                link = <Text style={[style, color]}>{translate(msgModel)}</Text>\n              else\n                link = <View style={styles.rowContainer}>\n                           <Text style={[style, {color: resource.documentCreated ?  '#757575' : LINK_COLOR}]}>{translate(msgModel)}</Text>\n                           <Icon style={resource.documentCreated  ? styles.linkIconGreyed : {color: isMyMessage ? self.props.bankStyle.MY_MESSAGE_LINK_COLOR : LINK_COLOR}} size={20} name={'ios-arrow-forward'} />\n                       </View>\n            }\n            let strName = isMyProduct\n                        ? translate('shareProduct', translate(msgModel))\n                        : utils.getStringName(msgParts[0])\n            let str = strName ? utils.translate(strName) : msgParts[0]\n            let msg = <View key={self.getNextKey()}>\n                       <Text style={style}>{str}</Text>\n                       {link}\n                     </View>\n            vCols.push(msg);\n            return;\n          }\n        }\n        else\n          isConfirmation = resource[v].indexOf('Congratulations!') !== -1\n\n        if (isConfirmation) {\n          style = [style, {color: self.props.bankStyle.CONFIRMATION_COLOR, fontSize: 18}]\n          vCols.push(\n            <View key={self.getNextKey()}>\n              <Text style={[style]}>{resource[v]}</Text>\n              <Icon style={[{color: self.props.bankStyle.CONFIRMATION_COLOR, alignSelf: 'flex-end', width: 50, height: 50, marginTop: -30, opacity: 0.2}]} size={50} name={'ios-flower'} />\n              <Icon style={{color: self.props.bankStyle.CONFIRMATION_COLOR, alignSelf: 'flex-end', marginTop: -10}} size={30} name={'ios-done-all'} />\n            </View>\n          );\n\n        }\n        else\n          vCols.push(<Text style={style} key={self.getNextKey()}>{resource[v]}</Text>);\n      }\n      first = false;\n\n    });\n    if (!isSimpleMessage  &&  !isFormError  &&  !isMyProduct)  {\n      let title = translate(model)\n      // if (title.length > 30)\n      //   title = title.substring(0, 27) + '...'\n\n      vCols.push(<Text style={[styles.resourceTitle, styles.formType, {color: isMyMessage ? '#EBFCFF' : this.props.bankStyle.STRUCTURED_MESSAGE_BORDER}]} key={this.getNextKey()}>{title}</Text>);\n    }\n    if (vCols  &&  vCols.length) {\n      vCols.forEach(function(v) {\n        renderedRow.push(v);\n      })\n    }\n    if (onPressCall)\n      return {onPressCall: onPressCall}\n    if (isFormError) {\n      if (utils.getId(resource.from) === utils.getId(utils.getMe()))\n        return null\n      else\n        return {onPressCall: this.showEditResource.bind(this)}\n    }\n    if (isSimpleMessage)\n      return isConfirmation ? {isConfirmation: true} : null\n    return {onPressCall: this.props.onSelect.bind(this, resource, null)}\n  }\n\n  formRequest(resource, vCols) {\n    let form = utils.getModel(resource.form).value\n\n    // if (this.props.shareableResources)\n    //   style = styles.description;\n    let message = resource.message\n    let onPressCall\n    // if (s.length === 2)\n    //   onPressCall = this.editForm.bind(self, msgParts[1], msgParts[0])\n    let sameFormRequestForm\n    if (!resource.documentCreated  &&  resource.product  &&  form.subClassOf !== MY_PRODUCT) {\n      let multiEntryForms = utils.getModel(resource.product).value.multiEntryForms\n      if (multiEntryForms  &&  multiEntryForms.indexOf(form.id) !== -1) {\n        let productToForms = this.props.productToForms\n        if (productToForms) {\n          let product = productToForms[resource.product]\n          if (product) {\n            let formsArray = product[resource.form]\n            if (formsArray)\n              sameFormRequestForm = true\n          }\n          // onPressCall = this.getNextFormAlert.bind(this)\n        }\n      }\n      if (!sameFormRequestForm)\n        onPressCall = this.createNewResource.bind(this, form, isMyMessage);\n    }\n    var isMyMessage = this.isMyMessage();\n\n    let color = isMyMessage\n              ? {color: '#AFBBA8'} //{color: STRUCTURED_MESSAGE_COLOR}\n              : {color: '#2892C6'}\n    let link\n    if (sameFormRequestForm  &&  !resource.documentCreated) {\n       link = <View style={[styles.rowContainer, {paddingVertical: 10, alignSelf: 'center'}]}>\n               <View style={styles.textContainer}>\n               <TouchableHighlight underlayColor='transparent' style={{paddingRight: 15}} onPress={() => {\n                 this.createNewResource(form, isMyMessage)\n               }}>\n                 <View style={styles.multiEntryButton}>\n                   <Text style={styles.multiEntryText}>   {translate('addSameForm')}   </Text>\n                 </View>\n               </TouchableHighlight>\n               <TouchableHighlight underlayColor='transparent' onPress={() => {\n                  Alert.alert(\n                    translate('areYouSureAboutNextForm', translate(form)),\n                    null,\n                    [\n                      {text: translate('cancel'), onPress: () => console.log('Canceled!')},\n                      {text: translate('Ok'), onPress: () => {\n                        Actions.addMessage({\n                          from: resource.to,\n                          to: resource.from,\n                          [constants.TYPE]: NEXT_FORM_REQUEST,\n                          after: form.id\n                        })\n                        var params = {\n                          value: {documentCreated: true},\n                          resource: resource,\n                          meta: utils.getModel(resource[constants.TYPE]).value\n                        }\n                        Actions.addItem(params)\n                       }},\n                    ]\n                  )\n               }}>\n                 <View style={styles.multiEntryButton}>\n                   <Text style={styles.multiEntryText}>   {translate('getNextForm')}   </Text>\n                 </View>\n              </TouchableHighlight>\n              </View>\n             </View>\n    }\n    else if (isMyMessage)\n      link = <Text style={[styles.resourceTitle, color]}>{translate(form)}</Text>\n    else {\n      let view = <View style={styles.rowContainer}>\n                   <Text style={[styles.resourceTitle, {color: resource.documentCreated ?  '#757575' : LINK_COLOR}]}>{translate(form)}</Text>\n                   <Icon style={resource.documentCreated  ? styles.linkIconGreyed : {color: isMyMessage ? this.props.bankStyle.MY_MESSAGE_LINK_COLOR : LINK_COLOR}} size={20} name={'ios-arrow-forward'} />\n                 </View>\n      if (resource.documentCreated)\n        link = view\n      else\n        link =  <TouchableHighlight underlayColor='transparent' onPress={() => {\n                  this.createNewResource(form, isMyMessage)\n                }}>\n                  {view}\n                </TouchableHighlight>\n    }\n    let strName = sameFormRequestForm ? translate('addAnotherFormOrGetNext', translate(form)) : utils.getStringName(message)\n    let str = strName ? utils.translate(strName) : message\n    let msg = <View key={this.getNextKey()}>\n               <Text style={styles.resourceTitle}>{str}</Text>\n               {link}\n             </View>\n    vCols.push(msg);\n    return onPressCall\n  }\n\n  onChooseProduct(sendForm) {\n    if (this.props.isAggregation)\n      return\n    var modelName = constants.TYPES.MESSAGE\n    var model = utils.getModel(modelName).value;\n    var isInterface = model.isInterface;\n    if (!isInterface)\n      return;\n\n    var resource = this.props.to\n    var currentRoutes = this.props.navigator.getCurrentRoutes();\n    this.props.navigator.push({\n      title: translate('iNeed'), //I need...',\n      id: 15,\n      component: ProductChooser,\n      sceneConfig: Navigator.SceneConfigs.FloatFromBottom,\n      backButtonTitle: translate('cancel'),\n      passProps: {\n        resource: resource,\n        returnRoute: currentRoutes[currentRoutes.length - 1],\n        products: this.props.resource.list,\n        callback: this.props.callback,\n        bankStyle: this.props.bankStyle\n      },\n    });\n  }\n  editForm(rUri, message) {\n    let s = rUri.split('_')\n    let resource = {\n      [constants.TYPE]: s[0],\n      [constants.ROOT_HASH]: s[1]\n    }\n\n    let rmodel = utils.getModel(s[0]).value;\n    let title = translate(rmodel);\n    this.props.navigator.push({\n      title: title,\n      id: 4,\n      component: NewResource,\n      // titleTextColor: '#999999',\n      backButtonTitle: translate('back'),\n      rightButtonTitle: translate('done'),\n      passProps: {\n        model: rmodel,\n        resource: resource,\n        message: message\n      }\n    })\n  }\n}\n\nfunction isMultientry(resource) {\n  if (!resource.product)\n    return false\n  let form = utils.getModel(resource.form).value\n  let product = utils.getModel(resource.product).value\n  let multiEntryForms = product.multiEntryForms\n  return  multiEntryForms && multiEntryForms.indexOf(form.id) !== -1 ? true : false\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  textContainer: {\n    flex: 1,\n    flexDirection: 'row'\n  },\n  resourceTitle: {\n    // flex: 1,\n    fontSize: 18,\n    // fontWeight: '400',\n    // marginBottom: 2,\n  },\n  date: {\n    flex: 1,\n    color: '#999999',\n    fontSize: 12,\n    alignSelf: 'center',\n    paddingTop: 10\n  },\n  row: {\n    // alignItems: 'center',\n    backgroundColor: '#f7f7f7',\n    flexDirection: 'row',\n  },\n  myCell: {\n    paddingVertical: 5,\n    paddingHorizontal: 7,\n    justifyContent: 'flex-end',\n    borderRadius: 10,\n    borderTopRightRadius: 0,\n    backgroundColor: '#77ADFC' //#569bff',\n  },\n  forgetCell: {\n    paddingVertical: 5,\n    paddingHorizontal: 7,\n    justifyContent: 'flex-end',\n    borderRadius: 10,\n    borderTopLeftRadius: 0,\n    backgroundColor: 'red',\n  },\n  myConfCell: {\n    paddingVertical: 5,\n    paddingHorizontal: 7,\n    justifyContent: 'flex-end',\n    borderTopLeftRadius: 0,\n    borderRadius: 10,\n  },\n  bigImage: {\n    width: 240,\n    height: 280,\n    margin: 1,\n    borderRadius: 10\n  },\n  bigImageH: {\n    width: 270,\n    height: 200,\n    margin: 1,\n    borderRadius: 10\n  },\n  mediumImage: {\n    width: 120,\n    height: 120,\n    margin: 1,\n    borderRadius: 10\n  },\n  image: {\n    width: 88,\n    height: 88,\n    margin: 1,\n    borderRadius: 10\n  },\n  verySmallLetters: {\n    fontSize: 18,\n    // alignSelf: 'flex-end',\n    color: '#757575'\n    // color: '#b4c3cb'\n  },\n  linkIconGreyed: {\n    color: '#cccccc'\n  },\n  description: {\n    // flexWrap: 'wrap',\n    color: '#757575',\n    fontSize: 14,\n  },\n  assistentText: {\n    color: '#757575',\n    fontStyle: 'italic',\n    fontSize: 17\n  },\n  assistentBox: {\n    backgroundColor: '#efefef',\n    paddingVertical: 5,\n    // borderRadius: 5,\n    borderTopRightRadius: 10,\n    paddingHorizontal: 7,\n    marginTop: -7,\n    marginHorizontal: -7\n  },\n  formType: {\n    color: '#EBFCFF',\n    fontSize: 18,\n    fontWeight: '600',\n    opacity: 0.5,\n    alignSelf: 'flex-end',\n    marginTop: 10\n  },\n  verifiedHeader: {\n    flexDirection: 'row',\n    paddingVertical: 5,\n    paddingHorizontal: 7,\n    marginHorizontal: -8,\n    marginTop: -6,\n    justifyContent: 'center'\n  },\n  sendStatus: {\n    alignSelf: 'flex-end',\n    flexDirection: 'row',\n    backgroundColor: 'transparent',\n    marginTop: -3\n  },\n  sendStatusText: {\n    fontSize: 14,\n    color: '#009900',\n    marginRight: 3\n  },\n  sendStatusDefaultText: {\n    fontSize: 14,\n    alignSelf: 'flex-end',\n    color: '#757575',\n  },\n  sealedStatus: {\n    // alignSelf: 'flex-end',\n    // flexDirection: 'row',\n    position: 'absolute',\n    bottom: 1,\n    left: 10,\n  },\n  errorBadge: {\n    position: 'absolute',\n    opacity: 0.5,\n    bottom: -5,\n    right: 0\n  },\n  rowContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  verificationHeaderText: {\n    fontSize: 18,\n    fontWeight: '500',\n    alignSelf: 'center',\n    color: '#FBFFE5'\n  },\n  verificationBody: {\n    paddingVertical: 5,\n    paddingHorizontal: 7,\n    borderRadius: 10,\n    borderWidth: 1,\n    marginVertical: 2\n  },\n  multiEntryButton:  {\n    borderRadius: 10,\n    borderColor: '#77ADFC',\n    borderWidth: 1,\n    padding: 10\n  },\n  multiEntryText: {\n    fontSize: 18\n  },\n  msgImage: {\n    height: 30,\n    marginRight: 3,\n    marginLeft: 0,\n    width: 30,\n    borderRadius: 15,\n    borderColor: '#cccccc',\n    borderWidth: 1\n  },\n  productAppIcon: {\n    alignSelf: 'flex-end',\n    marginTop: -30,\n    backgroundColor: 'transparent'\n  }\n  // viewStyle: {\n  //   flexDirection: 'row',\n  //   alignSelf: 'flex-start',\n  //   width: DeviceWidth - 50\n  // }\n});\nreactMixin(MessageRow.prototype, RowMixin);\nMessageRow = makeResponsive(MessageRow)\n\nmodule.exports = MessageRow;\n  // employeeImage: {\n  //   // backgroundColor: '#dddddd',\n  //   height: 30,\n  //   marginRight: 3,\n  //   marginLeft: 0,\n  //   width: 30,\n  // },\n\n  // msgImage: {\n  //   // backgroundColor: '#dddddd',\n  //   height: 30,\n  //   marginRight: 3,\n  //   marginLeft: 0,\n  //   width: 30,\n  //   borderRadius: 15,\n  //   borderColor: '#cccccc',\n  //   borderWidth: 1\n  // },\n  // cellRoundImage: {\n  //   paddingVertical: 1,\n  //   borderRadius: 20,\n  //   height: 40,\n  //   width: 40,\n  //   alignSelf: 'center'\n  // },\n  // cellText: {\n  //   marginTop: 8,\n  //   alignSelf: 'center',\n  //   color: '#ffffff',\n  //   fontSize: 18,\n  //   backgroundColor: 'transparent'\n  // },\n\n/*\n  renderVerification() {\n    var resource = this.props.resource;\n    var model = utils.getModel(resource[constants.TYPE]).value;\n    var renderedRow = [];\n\n    var time = this.getTime(resource);\n    var date = time\n             ? <Text style={styles.date} numberOfLines={1}>{time}</Text>\n             : <View />;\n\n    var isMyMessage = this.isMyMessage();\n    var msgWidth = isMyMessage ? DeviceWidth - 70 : DeviceWidth - 50;\n\n    var msgModel = utils.getModel(resource.document[constants.TYPE]).value;\n    var orgName = resource.organization  ? resource.organization.title : ''\n\n    let me = utils.getMe()\n    let isThirdPartyVerification\n    if (me.isEmployee  &&  !this.props.to.organization) {\n      // Check if I am the employee of the organization I opened a chat with or the customer\n      isThirdPartyVerification = !utils.isEmployee(resource.organization)\n      // let orgId = utils.getId(resource.organization)\n      // if (orgId !== utils.getId(me.organization))\n      //   isThirdPartyVerification = true\n    }\n    let bgColor =  isThirdPartyVerification ? '#93BEBA' : this.props.bankStyle.VERIFIED_HEADER_COLOR\n    renderedRow = <View>\n                    <View style={[styles.verifiedHeader, {backgroundColor: bgColor}]}>\n                      <Icon style={styles.verificationIcon} size={20} name={'ios-checkmark'} />\n                      <Text style={styles.verificationHeaderText}>{translate('verifiedBy', orgName)}</Text>\n                    </View>\n                    <View style={{paddingTop: 5}}>\n                      {this.formatDocument(msgModel, resource, this.verify.bind(this), isThirdPartyVerification)}\n                    </View>\n                  </View>\n\n    var viewStyle = {flexDirection: 'row', alignSelf: isMyMessage ? 'flex-end' : 'flex-start', width: msgWidth, backgroundColor: this.props.bankStyle.BACKGROUND_COLOR}\n    let addStyle = [styles.verificationBody, {backgroundColor: this.props.bankStyle.VERIFICATION_BG, borderColor: bgColor}];\n    let messageBody =\n          <TouchableHighlight onPress={this.verify.bind(this, resource)} underlayColor='transparent'>\n            <View style={[styles.row, viewStyle]}>\n              {this.getOwnerPhoto(isMyMessage)}\n              <View style={[styles.textContainer, addStyle]}>\n                <View style={{flex: 1}}>\n                  {renderedRow}\n               </View>\n              </View>\n            </View>\n          </TouchableHighlight>\n\n    var viewStyle = { margin: 1, backgroundColor: this.props.bankStyle.BACKGROUND_COLOR }\n    return (\n      <View style={viewStyle} key={this.getNextKey()}>\n        {date}\n        {messageBody}\n      </View>\n    );\n  }\n\n  renderMyProduct() {\n    var resource = this.props.resource;\n    var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n    var renderedRow = [];\n\n    var ret = this.formatRow(false, renderedRow);\n    let onPressCall = ret ? ret.onPressCall : null\n\n    let addStyle = [addStyle, styles.verificationBody, {backgroundColor: this.props.bankStyle.PRODUCT_BG_COLOR , borderColor: this.props.bankStyle.CONFIRMATION_COLOR}];\n    let rowStyle = [styles.row,  {backgroundColor: this.props.bankStyle.BACKGROUND_COLOR}];\n    var val = this.getTime(resource);\n    var date = val\n             ? <Text style={styles.date} numberOfLines={1}>{val}</Text>\n             : <View />;\n\n    // var viewStyle = {flexDirection: 'row', alignSelf: 'flex-start', width: DeviceWidth - 50};\n\n    var hdrStyle = {backgroundColor: '#289427'} //this.props.bankStyle.PRODUCT_BG_COLOR ? {backgroundColor: this.props.bankStyle.PRODUCT_BG_COLOR} : {backgroundColor: '#289427'}\n    var orgName = resource.from.organization  ? resource.from.organization.title : ''\n    renderedRow.splice(0, 0, <View  key={this.getNextKey()} style={[styles.verifiedHeader, hdrStyle, {marginHorizontal: -8, marginTop: -7, marginBottom: 7, paddingBottom: 5}]}>\n                       <Text style={{fontSize: 18, alignSelf: 'center', color: '#fff'}}>{translate('issuedBy', orgName)}</Text>\n                    </View>\n                    );\n    let title = translate(model)\n    if (title.length > 30)\n      title = title.substring(0, 27) + '...'\n\n    renderedRow.push(<Text  key={this.getNextKey()} style={[styles.formType, {color: '#289427'}]}>{title}</Text>);\n    rowStyle = addStyle ? [styles.textContainer, addStyle] : styles.textContainer\n    let messageBody =\n      <TouchableHighlight onPress={onPressCall ? onPressCall : () => {}} underlayColor='transparent'>\n        <View style={styles.viewStyle}>\n          {this.getOwnerPhoto()}\n          <View style={rowStyle}>\n            <View style={{flex: 1}}>\n              {renderedRow}\n           </View>\n          </View>\n        </View>\n      </TouchableHighlight>\n\n\n    var viewStyle = { margin: 1, paddingTop: 7} //, backgroundColor: this.props.bankStyle.BACKGROUND_COLOR }\n    return (\n      <View style={viewStyle} key={this.getNextKey()}>\n        {date}\n        {messageBody}\n      </View>\n    );\n  }\n\n  getPropRow(prop, resource, val, isVerification) {\n    var style = {flexDirection: 'row'}\n    if (prop.ref) {\n      if (prop.ref === constants.TYPES.MONEY) {\n        let c = utils.normalizeCurrencySymbol(val.currency)\n        val = (c || CURRENCY_SYMBOL) + val.value\n        // val = (val.currency || CURRENCY_SYMBOL) + val.value\n      }\n      else {\n        let m = utils.getModel(prop.ref).value\n        if (m.subClassOf === ENUM) {\n          if (typeof val === 'string')\n            val = utils.createAndTranslate(val)\n          else\n            val = utils.createAndTranslate(val.title)\n        }\n      }\n    }\n    let model = utils.getModel(resource[constants.TYPE]).value\n\n    let propTitle = translate(prop, model)\n    if (isVerification) {\n      if (!this.props.isAggregation)\n        style = [style, {borderWidth: 1, paddingVertical: 3, borderColor: VERIFICATION_BG, borderTopColor: '#eeeeee'}]\n      return (\n        <View style={style} key={this.getNextKey()}>\n          <View style={{flex: 1, flexDirection: 'column'}}>\n            <Text style={[styles.verySmallLetters, {color: '#333333'}]}>{propTitle}</Text>\n          </View>\n          <View style={{flex: 1, flexDirection: 'column'}}>\n            <Text style={styles.verySmallLetters}>{val + (prop.units &&  prop.units.charAt(0) !== '[' ? ' ' + prop.units : '')}</Text>\n          </View>\n        </View>\n      )\n    }\n    else {\n      let isMyProduct = model.subClassOf === MY_PRODUCT\n      let isForm = model.subClassOf === constants.TYPES.FORM\n      let isMyMessage = this.isMyMessage()\n      if (!this.props.isAggregation  &&  (isMyMessage || isForm) &&  !isMyProduct)\n        style = [style, {borderWidth: 1, paddingVertical: 3, borderColor: isMyMessage ? STRUCTURED_MESSAGE_COLOR : '#ffffff', borderBottomColor: this.props.bankStyle.STRUCTURED_MESSAGE_BORDER}]\n      let color = this.isMyMessage() && !isMyProduct ? {color: '#FFFFEE'} : {color: '#757575'}\n      return (\n        <View style={style} key={this.getNextKey()}>\n          <View style={{flex: 1, flexDirection: 'column'}}>\n            <Text style={[styles.descriptionB, color]}>{propTitle}</Text>\n          </View>\n          <View style={{flex: 1, flexDirection: 'column'}}>\n            <Text style={[styles.descriptionB, color]}>{val + (prop.units &&  prop.units.charAt(0) !== '[' ? ' ' + prop.units : '')}</Text>\n          </View>\n       </View>\n      )\n    }\n\n  }\n  formatDocument(model, verification, onPress, isAccordion) {\n    var resource = verification.document;\n\n    var docModel = utils.getModel(resource[constants.TYPE]).value;\n    var isMyProduct = docModel.subClassOf === MY_PRODUCT\n    var docModelTitle = docModel.title;\n    var idx = docModelTitle.indexOf('Verification');\n    var docTitle = idx === -1 ? docModelTitle : docModelTitle.substring(0, idx);\n\n    var msg;\n    if (resource.message  &&  docModel.subClassOf !== FORM)\n      msg = <View><Text style={styles.description}>{resource.message}</Text></View>\n    else {\n      var rows = [];\n      this.formatDocument1(model, resource, rows);\n      msg = <View>{rows}</View>\n    }\n\n\n    var hasPhotos = resource  &&  resource.photos  &&  resource.photos.length\n    var photo = hasPhotos\n              ? <Image source={{uri: utils.getImageUri(resource.photos[0].url)}}  style={styles.cellImage} />\n              : <View />;\n    var headerStyle = {paddingTop: 5, alignSelf: 'center'}\n    var header =  <View style={headerStyle}>\n                    <Text style={[styles.resourceTitle, {fontSize: 20, color: '#B6C2A7'}]}>{translate(model)}</Text>\n                  </View>\n    header = hasPhotos\n            ?  <View style={[styles.rowContainer, styles.verification]}>\n                 {photo}\n                 {header}\n               </View>\n            :  <View style={[{alignSelf: 'stretch'}, styles.verification]}>\n                 {header}\n               </View>\n\n\n    var orgRow = <View/>\n    if (verification  && verification.organization) {\n      var orgPhoto = verification.organization.photo\n                   ? <Image source={{uri: utils.getImageUri(verification.organization.photo)}} style={[styles.orgImage, {marginTop: -5}]} />\n                   : <View />\n      var shareView = <View style={{flexDirection: 'row', marginLeft: 0, justifyContent: 'space-between', padding: 5, borderRadius: 10, borderWidth: 1, borderColor: '#215A89', backgroundColor: '#4982B1', opacity: this.props.resource.documentCreated ? 0.3 : 1}}>\n                        <Image source={TradleW} style={{width: 35, height: 35}}/>\n                        <Text style={{color: '#fefefe', fontSize: 20, paddingHorizontal: 3, marginTop: 6}}>{translate('Share')}</Text>\n                      </View>\n      var orgTitle = this.props.to[constants.TYPE] === constants.TYPES.ORGANIZATION\n                   ? this.props.to.name\n                   : (this.props.to.organization ? this.props.to.organization.title : null);\n      // let o = verification.organization.title.length < 25 ? verification.organization.title : verification.organization.title.substring(0, 27) + '..'\n      let verifiedBy\n      if (isMyProduct)\n        verifiedBy = translate('issuedBy', verification.organization.title)\n      // Not verified Form - still shareable\n      else if (verification[constants.ROOT_HASH])\n        verifiedBy = translate('verifiedBy', verification.organization.title)\n      else\n        verifiedBy = translate('sentTo', verification.organization.title)\n\n      if (verifiedBy.length > 25)\n        verifiedBy = verifiedBy.substring(0, 25) + '..'\n      var orgView =   <View style={{flexDirection: 'row', justifyContent: 'flex-end', marginTop: 15}}>\n                         <Text style={[styles.verySmallLetters, {fontSize: 14}]}>{verifiedBy}</Text>\n                      </View>\n\n                         // <Text style={[styles.verySmallLetters, {color: '#2E3B4E'}]}>{verification.organization.title.length < 30 ? verification.organization.title : verification.organization.title.substring(0, 27) + '..'}</Text>\n      if (onPress) {\n        if (!this.props.resource.documentCreated)\n            <TouchableHighlight underlayColor='transparent' onPress={onPress ? onPress : () =>\n                      Alert.alert(\n                        'Sharing ' + docTitle + ' ' + verifiedBy,\n                        'with ' + orgTitle,\n                        [\n                          {text: translate('Share'), onPress: this.props.share.bind(this, verification, this.props.to, this.props.resource)},\n                          {text: translate('cancel'), onPress: () => console.log('Canceled!')},\n                        ]\n                    )}>\n              {shareView}\n            </TouchableHighlight>\n\n      }\n      else if (this.props.resource.documentCreated) {\n          orgRow = <View style={{flexDirection: 'row', marginTop: 5, paddingBottom: 5, justifyContent:'space-between'}}>\n                     {shareView}\n                    <TouchableHighlight onPress={this.props.onSelect.bind(this, resource, verification)} underlayColor='transparent'>\n                      {orgView}\n                    </TouchableHighlight>\n                  </View>\n      }\n      else {\n        orgRow = <View style={{flexDirection: 'row', marginTop: 5, paddingBottom: 5, justifyContent:'space-between'}}>\n          <TouchableHighlight underlayColor='transparent' onPress={onPress ? onPress : () =>\n                    Alert.alert(\n                      'Sharing ' + docTitle + ' ' + verifiedBy,\n                      'with ' + orgTitle,\n                      [\n                        {text: translate('Share'), onPress: this.props.share.bind(this, verification, this.props.to, this.props.resource)},\n                        {text: translate('cancel'), onPress: () => console.log('Canceled!')},\n                      ]\n                  )}>\n            {shareView}\n          </TouchableHighlight>\n          <TouchableHighlight onPress={this.props.onSelect.bind(this, resource, verification)} underlayColor='transparent'>\n            {orgView}\n          </TouchableHighlight>\n        </View>\n      }\n    }\n    let content = <View style={{flex:1}}>\n                     <TouchableHighlight onPress={this.props.onSelect.bind(this, resource, verification)} underlayColor='transparent'>\n                       {msg}\n                     </TouchableHighlight>\n                     {orgRow}\n                   </View>\n\n    var verifiedBy = verification && verification.organization ? verification.organization.title : ''\n    return isAccordion\n        ? ( <View style ={{marginTop: 5}} key={this.getNextKey()}>\n             <Accordion\n               header={header}\n               style={{padding: 5}}\n               content={content}\n               underlayColor='transparent'\n               easing='easeOutCirc' />\n            </View>\n          )\n        : ( <View style={{flex: 1, paddingVertical: 5}} key={this.getNextKey()}>\n               {header}\n               {content}\n             </View>\n           );\n  }\n\n  formatDocument1(model, resource, renderedRow) {\n    var viewCols = model.gridCols || model.viewCols;\n    if (!viewCols)\n      return\n    var vCols = [];\n    var self = this;\n\n    if (resource[constants.TYPE] != model.id)\n      return;\n\n    var properties = model.properties;\n    viewCols.forEach(function(v) {\n      if (properties[v].type === 'array'  ||  properties[v].type === 'date')\n        return;\n      var style = styles.verySmallLetters;\n      if (properties[v].ref) {\n      // if (properties[v].ref) {\n        if (resource[v]) {\n          var val\n          if (properties[v].type === 'object') {\n            if (properties[v].ref) {\n              if (properties[v].ref === constants.TYPES.MONEY) {\n                val = resource[v] //(resource[v].currency || CURRENCY_SYMBOL) + resource[v].value\n                if (typeof val === 'string')\n                  val = {value: val, currency: CURRENCY_SYMBOL}\n                else {\n                  let c = utils.normalizeCurrencySymbol(val.currency)\n                  val.currency = c\n                }\n              }\n              else {\n                var m = utils.getModel(properties[v].ref).value\n                if (m.subClassOf  &&  m.subClassOf == ENUM)\n                  val = resource[v].title\n              }\n            }\n          }\n          if (!val)\n            val = resource[v].title  ||  resource[v]\n          vCols.push(self.getPropRow(properties[v], resource, val, true))\n        }\n        return;\n      }\n      var row\n      if (resource[v]  &&  properties[v].type === 'string'  &&  (resource[v].indexOf('http://') == 0  ||  resource[v].indexOf('https://') == 0))\n        row = <Text style={style} key={self.getNextKey()}>{resource[v]}</Text>;\n      else if (!model.autoCreate) {\n        var val = (properties[v].displayAs)\n                ? utils.templateIt(properties[v], resource)\n                : properties[v].type === 'boolean' ? (resource[v] ? 'Yes' : 'No') : resource[v];\n        if (!val)\n          return\n        row = self.getPropRow(properties[v], resource, val || resource[v], true)\n      }\n      else {\n        if (!resource[v]  ||  !resource[v].length)\n          return;\n        var msgParts = utils.splitMessage(resource[v]);\n        // Case when the needed form was sent along with the message\n        if (msgParts.length === 2) {\n          var msgModel = utils.getModel(msgParts[1]);\n          if (msgModel) {\n            vCols.push(<View key={self.getNextKey()}>\n                         <Text style={style}>{msgParts[0]}</Text>\n                         <Text style={[style, {color: isMyMessage ? STRUCTURED_MESSAGE_COLOR : LINK_COLOR}]}>{msgModel.value.title}</Text>\n                       </View>);\n            return;\n          }\n        }\n        row = self.getPropRow(properties[v], resource, resource[v], true)\n      }\n      vCols.push(row);\n    });\n\n    if (vCols  &&  vCols.length) {\n      vCols.forEach(function(v) {\n        renderedRow.push(v);\n      });\n    }\n  }\n  addContact() {\n    Alert.alert(\n      translate('addContact', utils.getDisplayName(this.props.resource.from)),\n      null,\n      [\n        {text: translate('Ok'), onPress: () => console.log('Ok!') },\n        {text: translate('cancel'), onPress: () => console.log('Canceled!')},\n      ]\n    )\n  }\n  editForm(rUri, message) {\n    let s = rUri.split('_')\n    let resource = {\n      [constants.TYPE]: s[0],\n      [constants.ROOT_HASH]: s[1]\n    }\n\n    let rmodel = utils.getModel(s[0]).value;\n    let title = translate(rmodel);\n    this.props.navigator.push({\n      title: title,\n      id: 4,\n      component: NewResource,\n      // titleTextColor: '#999999',\n      backButtonTitle: translate('back'),\n      rightButtonTitle: translate('done'),\n      passProps: {\n        model: rmodel,\n        resource: resource,\n        message: message\n      }\n    })\n  }\n*/\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/MessageRow.js\n **/","'use strict';\n\nvar NewResource = require('./NewResource');\nvar utils = require('../utils/utils');\nvar translate = utils.translate\nvar equal = require('deep-equal')\nvar reactMixin = require('react-mixin');\nvar Store = require('../Store/Store');\nvar Actions = require('../Actions/Actions');\nvar Reflux = require('reflux');\nvar constants = require('@tradle/constants');\nvar PageView = require('./PageView')\nvar MessageList = require('./MessageList')\nvar PageView = require('./PageView')\nimport platformStyles from '../styles/platform'\n\nconst PRODUCT_APPLICATION = 'tradle.ProductApplication'\nconst FORM_REQUEST = 'tradle.FormRequest'\nimport {\n  ListView,\n  Text,\n  StyleSheet,\n  View,\n  Platform\n} from 'react-native'\n\nconst SearchBar = Platform.OS === 'android' ? null : require('react-native-search-bar')\nimport React, { Component } from 'react'\n\nclass ProductChooser extends Component {\n  constructor(props) {\n    super(props);\n\n    var products = []\n    var orgProducts = this.props.resource.products\n    if (orgProducts) {\n      orgProducts.forEach(function(m) {\n        products.push(utils.getModel(m).value)\n      })\n    }\n\n    var dataSource =  new ListView.DataSource({\n      rowHasChanged: (row1, row2) => row1 !== row2,\n    });\n    this.state = {\n      products: products,\n      modelName: constants.TYPES.FINANCIAL_PRODUCT,\n      dataSource: dataSource.cloneWithRows(products),\n    };\n  }\n  componentWillMount() {\n    Actions.getItem(utils.getId(this.props.resource))\n  }\n  componentDidMount() {\n    this.listenTo(Store, 'onNewProductAdded');\n  }\n  onNewProductAdded(params) {\n    if (params.action === 'getItem'  &&  this.props.resource[constants.ROOT_HASH] === params.resource[constants.ROOT_HASH]) {\n      let products\n      if (params.resource.products) {\n        if (equal(params.resource.products, this.props.resource.products))\n          return\n\n        products = []\n        params.resource.products.forEach(function(m) {\n          products.push(utils.getModel(m).value)\n        })\n      }\n      else\n        products = utils.getAllSubclasses(constants.TYPES.FORM)\n\n      this.setState({\n        products: products,\n        dataSource: this.state.dataSource.cloneWithRows(products),\n      })\n      return\n    }\n    if (params.action !== 'productList' || params.resource[constants.ROOT_HASH] !== this.props.resource[constants.ROOT_HASH])\n      return;\n    if (params.err) {\n      this.setState({err: params.err});\n      return\n    }\n    var products = params.productList;\n\n    this.setState({\n      products: products,\n      dataSource: this.state.dataSource.cloneWithRows(products),\n    });\n  }\n  onSearchChange(filter) {\n    let vals = this.state.products\n    let list = vals.filter((s) => {\n      return s.title.indexOf(filter) === -1 ? false : true\n    })\n    this.setState({filter: filter, dataSource: this.state.dataSource.cloneWithRows(list)})\n  }\n\n  selectResource(model) {\n    var route = {\n      component: MessageList,\n      backButtonTitle: translate('cancel'),\n      id: 11,\n      title: this.props.resource.name,\n      passProps: {\n        resource: this.props.resource,\n        filter: '',\n        modelName: constants.TYPES.MESSAGE,\n      },\n    }\n    var msg = {\n      from: utils.getMe(),\n      to:   this.props.resource,\n      time: new Date().getTime()\n    }\n    if (model.subClassOf === constants.TYPES.FINANCIAL_PRODUCT) {\n      msg[constants.TYPE] = PRODUCT_APPLICATION\n      msg.product = model.id // '[application for](' + model.id + ')',\n      utils.onNextTransitionEnd(this.props.navigator, () => Actions.addMessage(msg, false, true))\n    }\n    else {\n      msg[constants.TYPE] =  FORM_REQUEST,\n      msg.message = translate(model.properties.photos ? 'fillTheFormWithAttachments' : 'fillTheForm', translate(model.title)),\n      // product: productModel.id,\n      msg.form = model.id\n\n\n      // msg._t = constants.TYPES.SIMPLE_MESSAGE\n      // msg.message = '[' + (model.properties.photos ? translate('fillTheFormWithAttachments') : translate('fillTheForm')) + '](' + model.id + ')'\n      utils.onNextTransitionEnd(this.props.navigator, () => Actions.addMessage(msg))\n    }\n\n    // var msg = {\n    //   product: model.id, // '[application for](' + model.id + ')',\n    //   _t:      PRODUCT_APPLICATION, // constants.TYPES.SIMPLE_MESSAGE,\n    //   from:    utils.getMe(),\n    //   to:      this.props.resource,\n    //   time:    new Date().getTime()\n    // }\n\n    this.props.navigator.pop();\n  }\n\n  buildSimpleMsg(msg, type) {\n    var sMsg = {}\n    sMsg[constants.TYPE] = constants.TYPES.SIMPLE_MESSAGE\n    sMsg.message = type\n      ? '[' + msg + ']' + '(' + type + ')'\n      : msg\n\n    return sMsg\n  }\n\n  selectResource1(resource) {\n    // Case when resource is a model. In this case the form for creating a new resource of this type will be displayed\n    var model = utils.getModel(this.state.modelName);\n\n    if (resource[constants.TYPE])\n      return;\n    var page = {\n      model: utils.getModel(resource.id).value,\n    }\n    if (this.props.returnRoute)\n      page.returnRoute = this.props.returnRoute;\n    if (this.props.callback)\n      page.callback = this.props.callback;\n    var me = utils.getMe()\n    page.resource = {\n      _t: resource.id,\n      from: me,\n      accountWith: this.props.resource,\n      productType: model.value.title\n    }\n    this.props.navigator.replace({\n      id: 4,\n      title: resource.title,\n      rightButtonTitle: translate('done'),\n      backButtonTitle: translate('back'),\n      component: NewResource,\n      titleTextColor: '#7AAAC3',\n      resource: resource,\n      passProps: page\n    });\n  }\n  renderRow(resource)  {\n    var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n    var MessageTypeRow = require('./MessageTypeRow');\n\n    return (\n      <MessageTypeRow\n        onSelect={() => this.selectResource(resource)}\n        resource={resource}\n        bankStyle={this.props.bankStyle}\n        navigator={this.props.navigator}\n        to={this.props.resource} />\n      );\n  }\n\n  render() {\n    var searchBar\n    if (SearchBar  &&  this.props.type === constants.TYPES.FORM) {\n      searchBar = (\n        <SearchBar\n          onChangeText={this.onSearchChange.bind(this)}\n          placeholder={translate('search')}\n          showsCancelButton={false}\n          hideBackground={true}\n          />\n      )\n    }\n    var style = [styles.listview]\n    if (searchBar)\n      style.push({marginTop: 20})\n    var content =\n      <ListView ref='listview' style={style}\n        dataSource={this.state.dataSource}\n        removeClippedSubviews={true}\n        initialListSize={100}\n        renderRow={this.renderRow.bind(this)}\n        enableEmptySections={true}\n        automaticallyAdjustContentInsets={false}\n        keyboardDismissMode='on-drag'\n        keyboardShouldPersistTaps={true}\n        showsVerticalScrollIndicator={false} />;\n\n  var err = this.state.err\n            ? <View style={styles.errContainer}><Text style={styles.err}>{this.state.err}</Text></View>\n            : <View />;\n    var bgStyle = this.props.bankStyle  &&  this.props.bankStyle.BACKGROUND_COLOR ? {backgroundColor: this.props.bankStyle.BACKGROUND_COLOR} : {backgroundColor: '#ffffff'}\n      // <View style={[styles.container, bgStyle]}>\n    return (\n      <PageView style={[styles.container, bgStyle]}>\n        {err}\n        {searchBar}\n        {content}\n      </PageView>\n    );\n  }\n}\nreactMixin(ProductChooser.prototype, Reflux.ListenerMixin);\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    // backgroundColor: 'white',\n  },\n  listview: {\n    marginTop: 64,\n    borderWidth: StyleSheet.hairlineWidth,\n    borderColor: '#ffffff',\n    borderTopColor: '#cccccc'\n  },\n  centerText: {\n    alignItems: 'center',\n  },\n  err: {\n    color: '#D7E6ED'\n  },\n  errContainer: {\n    height: 45,\n    paddingTop: 5,\n    paddingHorizontal: 10,\n    backgroundColor: '#eeeeee',\n  }\n});\n\nmodule.exports = ProductChooser;\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/ProductChooser.js\n **/","'use strict';\n\nvar utils = require('../utils/utils');\nvar constants = require('@tradle/constants');\nvar translate = utils.translate\nvar bankStyles = require('../styles/bankStyles')\nvar STRUCTURED_MESSAGE_COLOR = '#F6FFF0';\nvar DEFAULT_PRODUCT_ROW_BG_COLOR = '#f7f7f7'\nvar DEFAULT_PRODUCT_ROW_TEXT_COLOR = '#757575'\nvar PRODUCT_ROW_BG_COLOR, PRODUCT_ROW_TEXT_COLOR\nimport {\n  Image,\n  StyleSheet,\n  Text,\n  TouchableHighlight,\n  Platform,\n  View\n} from 'react-native'\n\nimport React, { Component } from 'react'\n\nclass MessageTypeRow extends Component {\n  constructor(props) {\n    super(props);\n    if (this.props.bankStyle) {\n      PRODUCT_ROW_BG_COLOR = this.props.bankStyle.PRODUCT_ROW_BG_COLOR || DEFAULT_PRODUCT_ROW_BG_COLOR\n      PRODUCT_ROW_TEXT_COLOR = this.props.bankStyle.PRODUCT_ROW_TEXT_COLOR || DEFAULT_PRODUCT_ROW_TEXT_COLOR\n    }\n    else {\n      PRODUCT_ROW_BG_COLOR = DEFAULT_PRODUCT_ROW_BG_COLOR\n      PRODUCT_ROW_TEXT_COLOR = DEFAULT_PRODUCT_ROW_TEXT_COLOR\n    }\n  }\n  render() {\n    var resource = this.props.resource;\n    if (resource.autoCreate)\n      return <View style={{height: 0}} />;\n    var me = utils.getMe();\n    var to = this.props.to;\n    var ownerPhoto, hasOwnerPhoto;\n    if (resource.owner  &&  resource.owner.photos)  {\n      hasOwnerPhoto = true;\n      var uri = utils.getImageUri(resource.owner.photos[0].url);\n      ownerPhoto =\n        <View style={[styles.cell, {marginVertical: 2}]}>\n          <Image source={{uri: uri}} style={styles.msgImage} />\n        </View>\n    }\n    else\n      ownerPhoto = <View style={[styles.cell, {marginVertical: 20}]} />\n    var renderedRow = [];\n    var onPressCall = this.props.onSelect;\n\n    var addStyle, inRow;\n    if (!renderedRow.length) {\n      var vCols = translate(resource);\n      if (vCols)\n        renderedRow = <Text style={[styles.modelTitle, {color: PRODUCT_ROW_TEXT_COLOR}]} numberOfLines={2}>{vCols}</Text>;\n    }\n    var verPhoto;\n    if (resource.owner  &&  resource.owner.photos) {\n      var ownerImg = resource.owner.photos[0].url;\n      var url = utils.getImageUri(ownerImg);\n      verPhoto = <Image source={{uri: ownerImg}} style={styles.ownerImage} />\n    }\n    var viewStyle = { marginTop: 1, backgroundColor: PRODUCT_ROW_BG_COLOR }\n    return (\n      <TouchableHighlight style={viewStyle} onPress={onPressCall ? onPressCall : () => {}} underlayColor='transparent'>\n        {renderedRow}\n      </TouchableHighlight>\n    );\n  }\n}\n\nvar styles = StyleSheet.create({\n  textContainer: {\n    flex: 1,\n    flexDirection: 'row'\n  },\n  modelTitle: {\n    flex: 1,\n    flexWrap: 'wrap',\n    fontSize: 18,\n    fontWeight: '400',\n    marginVertical: 15,\n    marginLeft: 15\n  },\n  row: {\n    alignItems: 'center',\n    backgroundColor: '#f7f7f7',\n    flexDirection: 'row',\n  },\n  cell: {\n    paddingLeft: 20\n  },\n  msgImage: {\n    backgroundColor: '#dddddd',\n    height: 40,\n    marginRight: 5,\n    width: 40,\n    borderRadius: 20,\n    borderColor: '#cccccc',\n    borderWidth: 1\n  },\n  ownerImage: {\n    backgroundColor: '#dddddd',\n    height: 30,\n    width: 30,\n    marginTop: -5,\n    position: 'absolute',\n    right: 10,\n    borderRadius: 15,\n    borderColor: '#cccccc',\n    borderWidth: 1\n  },\n});\n\nmodule.exports = MessageTypeRow;\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/MessageTypeRow.js\n **/","'use strict'\n\n// var ENV = require('react-native-env')\n// var TOP_LEVEL_PROVIDER = ENV.topLevelProvider\n// var ALL_SERVICE_PROVIDERS = require('../data/serviceProviders')\n// var SERVICE_PROVIDERS = ALL_SERVICE_PROVIDERS.topLevelProvider[TOP_LEVEL_PROVIDER.name.toLowerCase()] //ENV.providers\nvar styles = {\n  easy: require('./easy'),\n  europi: require('./europi'),\n}\n\n// SERVICE_PROVIDERS.forEach(function(name) {\n//   // var bank = ALL_SERVICE_PROVIDERS.providers[name]\n//   styles[name] = require('./' + name)\n// })\n\nmodule.exports = styles\n\n\n/** WEBPACK FOOTER **\n ** ./styles/bankStyles.js\n **/","'use strict';\n\nvar LINK = '#006A4D';\nvar SEPARATOR = '#006A4D';\nvar MY_MESSAGE_BG = '#006A4D';\nvar STRUCTURED_MESSAGE_COLOR = '#5F9D6E';\n\nvar EasyBank = Object.freeze({\n  LINK_COLOR: '#006A4D',\n  // LINK_COLOR: '#42A382',\n  PRODUCT_ROW_BG_COLOR: '#5F9D6E',\n  PRODUCT_ROW_TEXT_COLOR: '#f7f7f7',\n\n  SEPARATOR: '#006A4D',\n  MY_MESSAGE_BG: '#006A4D',\n  STRUCTURED_MESSAGE_COLOR: '#5F9D6E',\n  linkIcon: {\n    width: 20,\n    height: 20,\n    color: LINK\n  },\n  separator: {\n    height: 0.5,\n    marginTop: 5,\n    backgroundColor: LINK,\n    flex: 40\n  },\n  linkIconGreyed: {\n    width: 20,\n    height: 20,\n    opacity: 0.5,\n    color: LINK\n  },\n  shareIcon: {\n    height: 20,\n    color: MY_MESSAGE_BG,\n    width: 20\n  }\n});\n\nmodule.exports = EasyBank;\n\n\n/** WEBPACK FOOTER **\n ** ./styles/easy.js\n **/","'use strict';\n\nvar Rabobank = Object.freeze({\n  LINK_COLOR: '#FF6D0D',\n  PRODUCT_ROW_BG_COLOR: '#466399',\n  PRODUCT_ROW_TEXT_COLOR: '#eeeeee',\n\n  // BACKGROUND_COLOR: '#3A5280',\n  VERIFIED_HEADER_COLOR: '#FF6D0D',//'#3A5280',\n  VERIFIED_BORDER_COLOR: '#FFCFB0',\n\n  // CONFIRMATION_BACKGROUND_COLOR: '#ffffff',\n  // CONFIRMATION_COLOR: '#B458ED',\n\n  NAV_TITLE: '#FF6D0D',\n  NAV_BUTTONS: '#F7F7F7',\n  NAV_BG: '#223251',\n\n  SEPARATOR: '#006A4D',\n  MY_MESSAGE_BG: '#4884BD',\n  STRUCTURED_MESSAGE_COLOR: '#3A5280',\n\n  BANKLINKS: '#3A5280',\n});\n\nmodule.exports = Rabobank;\n\n\n/** WEBPACK FOOTER **\n ** ./styles/europi.js\n **/","module.exports = \"data:image/png;base64,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\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./img/TradleW.png\n ** module id = 2083\n ** module chunks = 0\n **/","'use strict'\n\nvar utils = require('../utils/utils');\nvar translate = utils.translate\nvar ArticleView = require('./ArticleView');\nvar NewResource = require('./NewResource');\nvar Icon = require('react-native-vector-icons/Ionicons');\nvar constants = require('@tradle/constants');\nvar RowMixin = require('./RowMixin');\nvar equal = require('deep-equal')\n\nvar reactMixin = require('react-mixin');\n\nimport {\n  Image,\n  StyleSheet,\n  Text,\n  TouchableHighlight,\n  Alert,\n  Navigator,\n  View,\n} from 'react-native'\n\nimport React, { Component } from 'react'\n\nclass MyProductMessageRow extends Component {\n  constructor(props) {\n    super(props);\n  }\n  shouldComponentUpdate(nextProps, nextState) {\n    return !equal(this.props.resource, nextProps.resource) ||\n           !equal(this.props.to, nextProps.to)\n  }\n\n  render() {\n    var resource = this.props.resource;\n    var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n    var renderedRow = [];\n\n    var ret = this.formatRow(false, renderedRow);\n    let onPressCall = ret ? ret.onPressCall : null\n\n    let addStyle = [addStyle, styles.verificationBody, {backgroundColor: this.props.bankStyle.PRODUCT_BG_COLOR , borderColor: this.props.bankStyle.CONFIRMATION_COLOR}];\n    let rowStyle = [styles.row,  {backgroundColor: this.props.bankStyle.BACKGROUND_COLOR}];\n    var val = this.getTime(resource);\n    var date = val\n             ? <Text style={styles.date} numberOfLines={1}>{val}</Text>\n             : <View />;\n\n    // var viewStyle = {flexDirection: 'row', alignSelf: 'flex-start', width: DeviceWidth - 50};\n\n    var hdrStyle = {backgroundColor: '#289427'} //this.props.bankStyle.PRODUCT_BG_COLOR ? {backgroundColor: this.props.bankStyle.PRODUCT_BG_COLOR} : {backgroundColor: '#289427'}\n    var orgName = resource.from.organization  ? resource.from.organization.title : ''\n    renderedRow.splice(0, 0, <View  key={this.getNextKey()} style={[styles.verifiedHeader, hdrStyle, {marginHorizontal: -8, marginTop: -7, marginBottom: 7, paddingBottom: 5}]}>\n                       <Text style={{fontSize: 17, alignSelf: 'center', color: '#fff'}}>{translate('issuedBy', orgName)}</Text>\n                    </View>\n                    );\n    let title = translate(model)\n    if (title.length > 30)\n      title = title.substring(0, 27) + '...'\n\n    renderedRow.push(<Text  key={this.getNextKey()} style={[styles.formType, {color: '#289427'}]}>{title}</Text>);\n    rowStyle = addStyle ? [styles.textContainer, addStyle] : styles.textContainer\n\n    let width = utils.dimensions().width * 0.8\n    let messageBody =\n      <TouchableHighlight onPress={onPressCall ? onPressCall : () => {}} underlayColor='transparent'>\n        <View style={[styles.viewStyle, {width: width}]}>\n          {this.getOwnerPhoto()}\n          <View style={rowStyle}>\n            <View style={{flex: 1}}>\n              {renderedRow}\n           </View>\n          </View>\n        </View>\n      </TouchableHighlight>\n\n    var viewStyle = { margin: 1, paddingTop: 7} //, backgroundColor: this.props.bankStyle.BACKGROUND_COLOR }\n    return (\n      <View style={viewStyle} key={this.getNextKey()}>\n        {date}\n        {messageBody}\n      </View>\n    );\n  }\n\n  onPress(event) {\n    this.props.navigator.push({\n      id: 7,\n      component: ArticleView,\n      passProps: {url: this.props.resource.message}\n    });\n  }\n\n  formatRow(isMyMessage, renderedRow) {\n    var resource = this.props.resource;\n    var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n\n    var viewCols = model.gridCols || model.viewCols;\n    if (!viewCols)\n      return\n    var first = true;\n    var self = this;\n\n    var properties = model.properties;\n    var noMessage = !resource.message  ||  !resource.message.length;\n    var onPressCall;\n\n    var cnt = 0;\n    var self = this\n\n    var vCols = [];\n    viewCols.forEach(function(v) {\n      if (properties[v].type === 'array'  ||  properties[v].type === 'date')\n        return;\n\n      if (properties[v].ref) {\n        if (resource[v]) {\n          vCols.push(self.getPropRow(properties[v], resource, resource[v].title || resource[v]))\n          first = false;\n        }\n        return;\n      }\n      var style = styles.description; //resourceTitle; //(first) ? styles.resourceTitle : styles.description;\n      if (isMyMessage)\n        style = [style, {justifyContent: 'flex-end', color: '#2892C6'}];\n\n      if (resource[v]                      &&\n          properties[v].type === 'string'  &&\n          (resource[v].indexOf('http://') == 0  ||  resource[v].indexOf('https://') == 0)) {\n        onPressCall = self.onPress.bind(self);\n        vCols.push(<Text style={style} numberOfLines={first ? 2 : 1} key={self.getNextKey()}>{resource[v]}</Text>);\n      }\n      else if (!model.autoCreate) {\n        var val = (properties[v].displayAs)\n                ? utils.templateIt(properties[v], resource)\n                : properties[v].type === 'boolean' ? (resource[v] ? 'Yes' : 'No') : resource[v];\n\n        if (!val)\n          return\n        if (model.properties.verifications  &&  !isMyMessage)\n          onPressCall = self.verify.bind(self);\n        if (!isMyMessage)\n          style = [style, {paddingBottom: 10, color: '#2892C6'}];\n        vCols.push(self.getPropRow(properties[v], resource, val))\n      }\n      else {\n        if (!resource[v]  ||  !resource[v].length)\n          return\n        isConfirmation = resource[v].indexOf('Congratulations!') !== -1\n\n        if (isConfirmation) {\n          style = [style, {color: self.props.bankStyle.CONFIRMATION_COLOR, fontSize: 17}]\n          vCols.push(\n            <View key={self.getNextKey()}>\n              <Text style={[style]}>{resource[v]}</Text>\n              <Icon style={[{color: self.props.bankStyle.CONFIRMATION_COLOR, alignSelf: 'flex-end', width: 50, height: 50, marginTop: -45, opacity: 0.2}]} size={50} name={'ios-flower'} />\n              <Icon style={{color: self.props.bankStyle.CONFIRMATION_COLOR, alignSelf: 'flex-end', marginTop: -10}} size={30} name={'ios-done-all'} />\n            </View>\n          );\n\n        }\n        else\n          vCols.push(<Text style={style} key={self.getNextKey()}>{resource[v]}</Text>);\n      }\n      first = false;\n\n    });\n    if (vCols  &&  vCols.length) {\n      vCols.forEach(function(v) {\n        renderedRow.push(v);\n      })\n    }\n    if (onPressCall)\n      return {onPressCall: onPressCall}\n    return {onPressCall: this.props.onSelect.bind(this, resource, null)}\n  }\n}\n\nvar styles = StyleSheet.create({\n  textContainer: {\n    flex: 1,\n    flexDirection: 'row'\n  },\n  date: {\n    flex: 1,\n    color: '#999999',\n    fontSize: 12,\n    alignSelf: 'center',\n    paddingTop: 10\n  },\n  row: {\n    backgroundColor: '#f7f7f7',\n    flexDirection: 'row',\n  },\n  description: {\n    // flexWrap: 'wrap',\n    color: '#757575',\n    fontSize: 14,\n  },\n  formType: {\n    color: '#EBFCFF',\n    fontSize: 20,\n    // fontWeight: '600',\n    opacity: 0.5,\n    alignSelf: 'flex-end',\n    marginTop: 10\n  },\n  verifiedHeader: {\n    flexDirection: 'row',\n    paddingVertical: 5,\n    paddingHorizontal: 7,\n    marginHorizontal: -8,\n    marginTop: -6,\n    justifyContent: 'center'\n  },\n  verificationBody: {\n    paddingVertical: 5,\n    paddingHorizontal: 7,\n    borderRadius: 10,\n    borderWidth: 1,\n    marginVertical: 2\n  },\n  viewStyle: {\n    flexDirection: 'row',\n    alignSelf: 'flex-start',\n  }\n});\nreactMixin(MyProductMessageRow.prototype, RowMixin);\n\nmodule.exports = MyProductMessageRow;\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/MyProductMessageRow.js\n **/","'use strict';\n\nvar utils = require('../utils/utils');\nvar translate = utils.translate\nvar ArticleView = require('./ArticleView');\nvar MessageView = require('./MessageView');\nvar NewResource = require('./NewResource');\nvar Icon = require('react-native-vector-icons/Ionicons');\nvar constants = require('@tradle/constants');\nvar RowMixin = require('./RowMixin');\nvar equal = require('deep-equal')\nimport { makeResponsive } from 'react-native-orient'\n\nvar reactMixin = require('react-mixin');\n\nimport {\n  Image,\n  StyleSheet,\n  Text,\n  TouchableHighlight,\n  Alert,\n  Modal,\n  Navigator,\n  View,\n  processColor\n} from 'react-native'\n\nimport React, { Component } from 'react'\n\nclass VerificationMessageRow extends Component {\n  constructor(props) {\n    super(props);\n    var resource = this.props.resource;\n    var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n    var me = utils.getMe();\n  }\n  shouldComponentUpdate(nextProps, nextState) {\n    return !equal(this.props.resource, nextProps.resource) ||\n           !equal(this.props.to, nextProps.to)             ||\n           this.props.orientation != nextProps.orientation ||\n           this.props.sendStatus !== nextProps.sendStatus\n  }\n  render() {\n    var resource = this.props.resource;\n    var model = utils.getModel(resource[constants.TYPE]).value;\n    var renderedRow = [];\n\n    var time = this.getTime(resource);\n    var date = time\n             ? <Text style={styles.date} numberOfLines={1}>{time}</Text>\n             : <View />;\n\n    var isMyMessage = this.isMyMessage();\n    var w = utils.dimensions(VerificationMessageRow).width\n    let msgWidth = Math.floor((w - 300) * 0.8)\n    var viewStyle = {width: msgWidth, flexDirection: 'row', alignSelf: isMyMessage ? 'flex-end' : 'flex-start'};\n\n    var msgModel = utils.getModel(resource.document[constants.TYPE]).value;\n    var orgName = resource.organization  ? resource.organization.title : ''\n\n    let me = utils.getMe()\n    let isThirdPartyVerification\n    if (me.isEmployee  &&  !this.props.to.organization) {\n      // Check if I am the employee of the organization I opened a chat with or the customer\n      isThirdPartyVerification = !utils.isEmployee(resource.organization)\n    }\n    let isShared = this.isShared()\n    let bgColor =  isThirdPartyVerification\n                ? '#93BEBA'\n                : this.props.bankStyle.VERIFIED_HEADER_COLOR\n    let verifiedBy = isShared ? translate('youShared', orgName) : translate('verifiedBy', orgName)\n    let numberOfCharacters = msgWidth / 12\n    if (verifiedBy.length > numberOfCharacters)\n      verifiedBy = verifiedBy.substring(0, numberOfCharacters) + '..'\n\n    let headerStyle = [\n      styles.verifiedHeader,\n      {backgroundColor: bgColor, opacity: isShared ? 0.5 : 1},\n      isMyMessage ? {borderTopRightRadius: 0, borderTopLeftRadius: 10} : {borderTopLeftRadius: 0, borderTopRightRadius: 10}\n    ]\n\n    renderedRow = <View>\n                    <View style={headerStyle}>\n                      <Icon style={styles.verificationIcon} size={20} name={'md-checkmark'} />\n                      <Text style={styles.verificationHeaderText}>{verifiedBy}</Text>\n                    </View>\n                    <View>\n                      {this.formatDocument(msgModel, resource, this.verify.bind(this), isThirdPartyVerification)}\n                    </View>\n                  </View>\n\n    var viewStyle = {\n      width: msgWidth,\n      flexDirection: 'row',\n      alignSelf: isMyMessage ? 'flex-end' : 'flex-start',\n      backgroundColor: this.props.bankStyle.BACKGROUND_COLOR\n    }\n    let addStyle = [\n      styles.verificationBody,\n      {backgroundColor: this.props.bankStyle.VERIFICATION_BG, borderColor: bgColor},\n      isMyMessage ? {borderTopRightRadius: 0} : {borderTopLeftRadius: 0}\n    ];\n    let messageBody =\n          <TouchableHighlight onPress={this.verify.bind(this, resource)} underlayColor='transparent'>\n            <View style={[styles.row, viewStyle]}>\n              {this.getOwnerPhoto(isMyMessage)}\n              <View style={[styles.textContainer, addStyle]}>\n                <View style={{flex: 1}}>\n                  {renderedRow}\n               </View>\n              </View>\n            </View>\n          </TouchableHighlight>\n\n    var viewStyle = { margin: 1, backgroundColor: this.props.bankStyle.BACKGROUND_COLOR }\n    return (\n      <View style={viewStyle} key={this.getNextKey()}>\n        {date}\n        {messageBody}\n      </View>\n    );\n  }\n  isShared() {\n    let resource = this.props.resource\n    // Is resource was originally created in this chat or shared from a different chat\n    if (!resource.organization)\n      return false\n    let to = this.props.to\n    if (to[constants.TYPE] === constants.TYPES.PROFILE)\n      return false\n    return utils.getId(resource.organization) !== utils.getId(to)\n  }\n  verify(event) {\n    var resource = this.props.resource;\n    var isVerification = resource[constants.TYPE] === constants.TYPES.VERIFICATION;\n    var r = isVerification ? resource.document : resource\n\n    var passProps = {\n      resource: r,\n      bankStyle: this.props.bankStyle,\n      currency: this.props.currency\n    }\n    if (!isVerification)\n      passProps.verify = true\n    else\n      passProps.verification = resource\n\n    var model = utils.getModel(r[constants.TYPE]).value;\n    var route = {\n      id: 5,\n      component: MessageView,\n      backButtonTitle: translate('back'),\n      passProps: passProps,\n      title: translate(model)\n    }\n    if (this.isMyMessage()) {\n      route.rightButtonTitle = translate('edit');\n      route.onRightButtonPress = {\n        title: translate('edit'),\n        component: NewResource,\n        // titleTextColor: '#7AAAC3',\n        id: 4,\n        passProps: {\n          resource: r,\n          metadata: model,\n          bankStyle: this.props.bankStyle,\n          currency: this.props.currency,\n          callback: this.props.onSelect.bind(this, r)\n        }\n      };\n    }\n    this.props.navigator.push(route);\n  }\n}\n\nvar styles = StyleSheet.create({\n  textContainer: {\n    flex: 1,\n    flexDirection: 'row'\n  },\n  date: {\n    flex: 1,\n    color: '#999999',\n    fontSize: 12,\n    alignSelf: 'center',\n    paddingTop: 10\n  },\n  row: {\n    // alignItems: 'center',\n    backgroundColor: '#f7f7f7',\n    flexDirection: 'row',\n  },\n  verifiedHeader: {\n    flexDirection: 'row',\n    paddingVertical: 5,\n    paddingHorizontal: 7,\n    marginHorizontal: -8,\n    marginTop: -6,\n    justifyContent: 'center'\n  },\n  verificationHeaderText: {\n    fontSize: 18,\n    fontWeight: '500',\n    alignSelf: 'center',\n    color: '#FBFFE5',\n    paddingLeft: 3\n  },\n  verificationBody: {\n    paddingTop: 5,\n    paddingHorizontal: 7,\n    borderRadius: 10,\n    borderWidth: StyleSheet.hairlineWidth,\n    marginVertical: 2\n  },\n  verificationIcon: {\n    width: 20,\n    height: 20,\n    color: '#ffffff',\n  },\n});\nreactMixin(VerificationMessageRow.prototype, RowMixin);\nVerificationMessageRow = makeResponsive(VerificationMessageRow)\n\nmodule.exports = VerificationMessageRow;\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/VerificationMessageRow.js\n **/","'use strict';\n\nvar utils = require('../utils/utils');\nvar translate = utils.translate\nvar ArticleView = require('./ArticleView');\nvar MessageView = require('./MessageView');\nvar NewResource = require('./NewResource');\nvar PhotoList = require('./PhotoList');\nvar Icon = require('react-native-vector-icons/Ionicons');\nvar constants = require('@tradle/constants');\nvar RowMixin = require('./RowMixin');\nvar equal = require('deep-equal')\nimport { makeResponsive } from 'react-native-orient'\n\nvar reactMixin = require('react-mixin');\n\nvar STRUCTURED_MESSAGE_COLOR\n\nimport {\n  StyleSheet,\n  Text,\n  TouchableHighlight,\n  Navigator,\n  View\n} from 'react-native'\n\nimport React, { Component } from 'react'\n\nclass FormMessageRow extends Component {\n  constructor(props) {\n    super(props);\n    var resource = this.props.resource;\n    var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n    var me = utils.getMe();\n    STRUCTURED_MESSAGE_COLOR = this.props.bankStyle.STRUCTURED_MESSAGE_COLOR\n  }\n  shouldComponentUpdate(nextProps, nextState) {\n    return !equal(this.props.resource, nextProps.resource) ||\n           !equal(this.props.to, nextProps.to)             ||\n           this.props.orientation != nextProps.orientation ||\n           this.props.sendStatus !== nextProps.sendStatus\n  }\n  render() {\n    var resource = this.props.resource;\n    var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n\n    var me = utils.getMe();\n\n    var isMyMessage = this.isMyMessage();\n    // var isVerifier = utils.isVerifier(resource)\n    var to = this.props.to;\n    var ownerPhoto = this.getOwnerPhoto(isMyMessage)\n    let hasOwnerPhoto = !isMyMessage &&  to  &&  to.photos;\n\n    var renderedRow = [];\n    var ret = this.formatRow(isMyMessage, renderedRow);\n    let onPressCall = ret ? ret.onPressCall : null\n\n    var photoUrls = [];\n    var photoListStyle = {height: 3};\n    var addStyle, inRow;\n    var noMessage = !resource.message  ||  !resource.message.length;\n    if (!renderedRow.length) {\n      var vCols = noMessage ? null : utils.getDisplayName(resource, model.properties);\n      if (vCols)\n        renderedRow = <Text style={styles.resourceTitle} numberOfLines={2}>{vCols}</Text>;\n    }\n    else {\n      var fromHash = resource.from.id;\n      if (isMyMessage) {\n        if (!noMessage)\n          addStyle = styles.myCell\n      }\n      else\n        addStyle = [styles.verificationBody, {flex: 1, borderColor: '#efefef', backgroundColor: '#ffffff', borderTopLeftRadius: 0}];\n\n      if (isMyMessage)\n        addStyle = [addStyle, styles.verificationBody, {backgroundColor: STRUCTURED_MESSAGE_COLOR, borderColor: '#C1E3E8', borderTopRightRadius: 0}]; //model.style];\n      // }\n    }\n    var properties = model.properties;\n    var photoStyle = {}\n    if (properties.photos  &&  resource.photos) {\n      var len = resource.photos.length;\n      inRow = len === 1 ? 1 : (len == 2 || len == 4) ? 2 : 3;\n      var style;\n      if (inRow === 1)\n        photoStyle = styles.bigImage;\n      else if (inRow === 2)\n        photoStyle = styles.mediumImage;\n      else\n        photoStyle = styles.image;\n      resource.photos.forEach((p) => {\n        photoUrls.push({url: utils.getImageUri(p.url)});\n      })\n\n      photoListStyle = {\n        flexDirection: 'row',\n        alignSelf: isMyMessage ? 'flex-end' : 'flex-start',\n        marginLeft: isMyMessage ? 30 : 45, //(hasOwnerPhoto ? 45 : 10),\n        borderRadius: 10,\n        marginBottom: 3,\n      }\n    }\n    var rowStyle = [styles.row, {backgroundColor: this.props.bankStyle.BACKGROUND_COLOR}];\n    var val = this.getTime(resource);\n    var date = val\n             ? <Text style={styles.date} numberOfLines={1}>{val}</Text>\n             : <View />;\n\n    var sendStatus = <View />\n    if (this.props.sendStatus  &&  this.props.sendStatus !== null) {\n      switch (this.props.sendStatus) {\n      case 'Sent':\n        sendStatus = <View style={styles.sendStatus}>\n                       <Text style={styles.sentStatus}>{this.props.sendStatus}</Text>\n                       <Icon name={'ios-checkmark-outline'} size={15} color='#009900' />\n                     </View>\n        break\n      default:\n        sendStatus = <Text style={styles.otherStatus}>{this.props.sendStatus}</Text>\n        break\n      }\n    }\n    var sealedStatus = (resource.txId)\n                     ? <View style={styles.sealedStatus}>\n                         <Icon name={'ios-ribbon'} size={30} color='#316A99' style={{opacity: 0.5}} />\n                       </View>\n                     : <View />\n\n    let cellStyle = addStyle\n                  ? [styles.textContainer, addStyle]\n                  : styles.textContainer\n    // HACK that solves the case when the message is short and we don't want it to be displayed\n    // in a bigger than needed bubble\n    var messageBody;\n    var width = utils.dimensions(FormMessageRow).width\n    let msgWidth = Math.floor(width * 0.8)\n    var viewStyle = {width: msgWidth, flexDirection: 'row', alignSelf: isMyMessage ? 'flex-end' : 'flex-start'};\n\n    messageBody =\n      <TouchableHighlight onPress={onPressCall ? onPressCall : () => {}} underlayColor='transparent'>\n        <View style={[rowStyle, viewStyle]}>\n          {ownerPhoto}\n          <View style={cellStyle}>\n            <View style={{flex: 1}}>\n            {this.isShared()\n              ? <View style={[styles.verifiedHeader, {backgroundColor: this.props.bankStyle.SHARED_WITH_BG}]}>\n                  <Text style={styles.youSharedText}>{translate('youShared', resource.to.organization.title)}</Text>\n                </View>\n              : <View />\n            }\n\n              {renderedRow}\n           </View>\n           {sealedStatus}\n          </View>\n        </View>\n      </TouchableHighlight>\n\n    var len = photoUrls.length;\n    var inRow = utils.isWeb()\n              ? Math.floor(msgWidth / 145)\n              : len === 1 ? 1 : (len == 2 || len == 4) ? 2 : 3;\n    // var photoStyle = {};\n    // var height;\n\n    // if (!utils.isWeb()  &&  inRow > 0) {\n    //   if (inRow === 1) {\n    //     if (utils.isWeb())\n    //       photoStyle = styles.bigImage\n    //     else {\n    //       var ww = Math.max(240, msgWidth / 2)\n    //       var hh = ww * 280 / 240\n    //       photoStyle = {\n    //         width:  ww,\n    //         height: hh,\n    //         margin: 1,\n    //         borderRadius: 10\n    //       }\n    //     }\n    //   }\n    //   else if (inRow === 2)\n    //     photoStyle = styles.mediumImage;\n    //   else\n    //     photoStyle = styles.image;\n    //   photoStyle = [photoStyle, {marginTop: '-5'}]\n    // }\n\n    return (\n      <View style={{margin: 1, backgroundColor: this.props.bankStyle.BACKGROUND_COLOR}}>\n        {date}\n        {messageBody}\n        <View style={photoListStyle}>\n          <PhotoList photos={photoUrls} resource={this.props.resource} style={photoStyle} navigator={this.props.navigator} numberInRow={inRow} />\n        </View>\n        {sendStatus}\n      </View>\n    )\n  }\n  isShared() {\n    var resource = this.props.resource\n    if (!resource.to.organization)\n      return false\n    var to = this.props.to\n    if (to[constants.TYPE] === constants.TYPES.PROFILE)\n      return false\n    return utils.getId(resource.to.organization) !== utils.getId(to)\n  }\n\n  onPress(event) {\n    this.props.navigator.push({\n      id: 7,\n      component: ArticleView,\n      passProps: {url: this.props.resource.message}\n    });\n  }\n  verify(event) {\n    var resource = this.props.resource;\n    var isVerification = resource[constants.TYPE] === constants.TYPES.VERIFICATION;\n    var r = isVerification ? resource.document : resource\n\n    var passProps = {\n      resource: r,\n      bankStyle: this.props.bankStyle,\n      currency: this.props.currency\n    }\n    if (!isVerification)\n      passProps.verify = true\n    else\n      passProps.verification = resource\n\n    var model = utils.getModel(r[constants.TYPE]).value;\n    var route = {\n      id: 5,\n      component: MessageView,\n      backButtonTitle: translate('back'),\n      passProps: passProps,\n      title: translate(model)\n    }\n    if (this.isMyMessage()) {\n      route.rightButtonTitle = translate('edit');\n      route.onRightButtonPress = {\n        title: translate('edit'),\n        component: NewResource,\n        // titleTextColor: '#7AAAC3',\n        id: 4,\n        passProps: {\n          resource: r,\n          metadata: model,\n          bankStyle: this.props.bankStyle,\n          currency: this.props.currency,\n          callback: this.props.onSelect.bind(this, r)\n        }\n      };\n    }\n    this.props.navigator.push(route);\n  }\n\n  formatRow(isMyMessage, renderedRow) {\n    var resource = this.props.resource;\n    var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n\n    var viewCols = model.gridCols || model.viewCols;\n    if (!viewCols)\n      return\n    var first = true;\n    var self = this;\n\n    var properties = model.properties;\n    var onPressCall;\n\n    var self = this\n    var vCols = [];\n    viewCols.forEach(function(v) {\n      if (properties[v].type === 'array')\n        return;\n      if (properties[v].ref) {\n        if (resource[v]) {\n          vCols.push(self.getPropRow(properties[v], resource, resource[v].title || resource[v]))\n          first = false;\n        }\n        return;\n      }\n      var style = styles.resourceTitle\n      if (isMyMessage)\n        style = [style, styles.myMsg];\n\n      if (resource[v]                      &&\n          properties[v].type === 'string'  &&\n          (resource[v].indexOf('http://') == 0  ||  resource[v].indexOf('https://') == 0)) {\n        onPressCall = self.onPress.bind(self);\n        vCols.push(<Text style={style} numberOfLines={first ? 2 : 1} key={self.getNextKey()}>{resource[v]}</Text>);\n      }\n      else if (!model.autoCreate) {\n        let val\n        if (properties[v].type === 'date')\n           val = resource[v] ? utils.formatDate(resource[v]) : null\n        else\n           val = (properties[v].displayAs)\n                ? utils.templateIt(properties[v], resource)\n                : properties[v].type === 'boolean' ? (resource[v] ? 'Yes' : 'No') : resource[v];\n\n        if (!val)\n          return\n        if (model.properties.verifications  &&  !isMyMessage && !utils.isVerifier(resource))\n          onPressCall = self.verify.bind(self);\n        if (!isMyMessage)\n          style = [style, {paddingBottom: 10, color: '#2892C6'}];\n        vCols.push(self.getPropRow(properties[v], resource, val))\n      }\n      else {\n        if (!resource[v]  ||  !resource[v].length)\n          return\n        vCols.push(<Text style={style} key={self.getNextKey()}>{resource[v]}</Text>);\n      }\n      first = false;\n\n    });\n    let title = translate(model)\n    if (title.length > 30)\n      title = title.substring(0, 27) + '...'\n\n    vCols.push(<Text style={[styles.resourceTitle, styles.formType, {color: isMyMessage ? '#EBFCFF' : this.props.bankStyle.STRUCTURED_MESSAGE_BORDER}]} key={this.getNextKey()}>{title}</Text>);\n\n    if (vCols  &&  vCols.length) {\n      vCols.forEach(function(v) {\n        renderedRow.push(v);\n      })\n    }\n    if (onPressCall)\n      return {onPressCall: onPressCall}\n    return {onPressCall: this.props.onSelect.bind(this, resource, null)}\n  }\n}\n\nvar styles = StyleSheet.create({\n  textContainer: {\n    flex: 1,\n    flexDirection: 'row'\n  },\n  resourceTitle: {\n    // flex: 1,\n    fontSize: 18,\n    fontWeight: '400',\n    marginBottom: 2,\n  },\n  date: {\n    flex: 1,\n    color: '#999999',\n    fontSize: 12,\n    alignSelf: 'center',\n    paddingTop: 10\n  },\n  row: {\n    // alignItems: 'center',\n    backgroundColor: '#f7f7f7',\n    flexDirection: 'row',\n  },\n  myCell: {\n    paddingVertical: 5,\n    // borderTopRightRadius: 0,\n    paddingHorizontal: 7,\n    justifyContent: 'flex-end',\n    borderRadius: 10,\n    backgroundColor: '#77ADFC' //#569bff',\n  },\n  bigImage: {\n    width: 240,\n    height: 280,\n    margin: 1,\n    borderRadius: 10\n  },\n  bigImageH: {\n    width: 270,\n    height: 200,\n    margin: 1,\n    borderRadius: 10\n  },\n  mediumImage: {\n    width: 120,\n    height: 120,\n    margin: 1,\n    borderRadius: 10\n  },\n  image: {\n    width: 88,\n    height: 88,\n    margin: 1,\n    borderRadius: 10\n  },\n  formType: {\n    color: '#EBFCFF',\n    fontSize: 18,\n    // fontWeight: '600',\n    opacity: 0.7,\n    alignSelf: 'flex-end',\n    marginTop: 10\n  },\n  verifiedHeader: {\n    flexDirection: 'row',\n    paddingVertical: 5,\n    paddingHorizontal: 7,\n    marginHorizontal: -8,\n    marginTop: -6,\n    justifyContent: 'center'\n  },\n  sendStatus: {\n    alignSelf: 'flex-end',\n    flexDirection: 'row',\n    marginHorizontal: 5,\n    marginTop: -5\n  },\n  sealedStatus: {\n    // alignSelf: 'flex-end',\n    // flexDirection: 'row',\n    position: 'absolute',\n    bottom: 1,\n    left: 10,\n  },\n  verificationBody: {\n    paddingVertical: 5,\n    paddingHorizontal: 7,\n    borderRadius: 10,\n    borderWidth: 1,\n    marginVertical: 2\n  },\n  myMsg: {\n    justifyContent: 'flex-end',\n    color: '#ffffff'\n  },\n  sentStatus: {\n    fontSize: 14,\n    color: '#009900',\n    marginRight: 3\n  },\n  otherStatus: {\n    alignSelf: 'flex-end',\n    fontSize: 14,\n    color: '#757575',\n    marginHorizontal: 5,\n    paddingBottom: 20\n  },\n  youSharedText: {\n    color: '#ffffff',\n    fontSize: 18\n  }\n});\nreactMixin(FormMessageRow.prototype, RowMixin);\nFormMessageRow = makeResponsive(FormMessageRow)\n\nmodule.exports = FormMessageRow;\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/FormMessageRow.js\n **/","module.exports = {\n\t\"LINK_COLOR\": \"#2892C6\",\n\t\"PRODUCT_ROW_BG_COLOR\": \"#466399\",\n\t\"PRODUCT_ROW_TEXT_COLOR\": \"#eeeeee\",\n\t\"SHARED_WITH_BG\": \"#B6D2FC\",\n\t\"VERIFIED_HEADER_COLOR\": \"#FF6D0D\",\n\t\"VERIFIED_BORDER_COLOR\": \"#FFCFB0\",\n\t\"VERIFICATION_BG\": \"#FBFFE5\",\n\t\"CONFIRMATION_COLOR\": \"#289427\",\n\t\"CONFIRMATION_BG\": \"#ffffff\",\n\t\"REQUEST_FULFILLED\": \"#3A5280\",\n\t\"BACKGROUND_COLOR\": \"#f7f7f7\",\n\t\"PRODUCT_BG_COLOR\": \"#F4FAE8\",\n\t\"PRODUCT_TEXT_COLOR\": \"#757575\",\n\t\"NAV_TITLE\": \"#F7F7F7\",\n\t\"NAV_BUTTONS\": \"#FF6D0D\",\n\t\"NAV_BG\": \"#223251\",\n\t\"SEPARATOR\": \"#006A4D\",\n\t\"MY_MESSAGE_BG\": \"#4884BD\",\n\t\"MY_MESSAGE_LINK_COLOR\": \"#C5EFFB\",\n\t\"STRUCTURED_MESSAGE_COLOR\": \"#77ADFC\",\n\t\"STRUCTURED_MESSAGE_BORDER\": \"#558bda\",\n\t\"BANKLINKS\": \"#3A5280\",\n\t\"FORM_ERROR_BORDER\": \"#FA0100\",\n\t\"FORM_ERROR_COLOR\": \"#FA0100\",\n\t\"FORM_ERROR_BG\": \"#ffffff\"\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./styles/bankStyle.json\n ** module id = 2094\n ** module chunks = 0\n **/","'use strict';\n\nvar utils = require('../utils/utils');\nvar translate = utils.translate\nvar constants = require('@tradle/constants');\nvar Icon = require('react-native-vector-icons/Ionicons');\nvar reactMixin = require('react-mixin');\nvar RowMixin = require('./RowMixin');\nvar Accordion = require('react-native-accordion')\nvar Swipeout = require('react-native-swipeout')\n\nvar DEFAULT_CURRENCY_SYMBOL = '£'\nvar CURRENCY_SYMBOL\n\nimport {\n  Image,\n  PixelRatio,\n  StyleSheet,\n  Text,\n  TouchableHighlight,\n  ArticleView,\n  AlertIOS,\n  View\n} from 'react-native';\n\nimport React, { Component, PropTypes } from 'react'\n\nclass VerificationRow extends Component {\n  props: {\n    key: PropTypes.string.isRequired,\n    navigator: PropTypes.object.isRequired,\n    resource: PropTypes.object.isRequired,\n    onSelect: PropTypes.func.isRequired,\n    prop: PropTypes.object,\n    currency: PropTypes.object,\n    isChooser: PropTypes.boolean\n  };\n  constructor(props) {\n    super(props);\n    CURRENCY_SYMBOL = props.currency ? props.currency.symbol || props.currency : DEFAULT_CURRENCY_SYMBOL\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return false\n  }\n\n  render() {\n    var resource = this.props.resource;\n    var photo;\n\n    // if (resource.from  &&  resource.from.photos)\n    //   photo = <Image source={{uri: utils.getImageUri(resource.from.photos[0].url)}} style={styles.cellImage} />\n    var model = utils.getModel(resource[constants.TYPE]).value;\n    var isMyProduct = model.subClassOf === 'tradle.MyProduct'\n    var isForm = model.subClassOf === 'tradle.Form'\n    var isVerification = resource.document\n    var r = isVerification ? resource.document : resource\n    if (r  &&  isMyProduct) {\n      let photos = resource.from.organization.photos\n      photo = photos  &&  photos.length ? photos[0] : null\n    }\n    else if (r  &&  r.photos)\n      photo = r.photos[0]\n    let hasPhoto = photo !== null\n    if (photo)\n      photo = <Image source={{uri: utils.getImageUri(photo.url), position: 'absolute', left: 10}}  style={styles.cellImage} />\n    else if (isForm || isVerification)\n      photo = <View style={{alignItems: 'center', width: 70}}>\n                <Icon name={model.icon || 'ios-paper-outline'} size={40} style={{marginTop: 8}} color={model.iconColor ? model.iconColor : '#cccccc'} />\n              </View>\n    else if (isMyProduct)\n      photo = <View style={{alignItems: 'center', width: 70}}>\n                <Icon name={model.icon || 'ios-ribbon-outline'} size={40} style={{marginTop: 8}} color={model.iconColor ? model.iconColor : '#cccccc'} />\n              </View>\n    else\n      photo = <View style={{width: 70}} />\n\n\n    // else if (resource.organization  &&  resource.organization.photos)\n    //   photo = <Image source={{uri: utils.getImageUri(resource.organization.photos[0].url)}} style={styles.cellImage} />\n    // else if (resource.from  &&  resource.from.photos)\n    //   photo = <Image source={{uri: utils.getImageUri(resource.from.photos[0].url)}} style={styles.cellImage} />\n    // else\n    //   photo = <View style={styles.cellImage} />\n\n    var verificationRequest = resource.document\n                            ? utils.getModel(resource.document[constants.TYPE]).value\n                            : utils.getModel(resource[constants.TYPE]).value;\n\n    var rows = [];\n\n    // rows.push(this.addDateProp('time', styles.verySmallLetters));\n\n    // var val = utils.formatDate(new Date(resource.time));\n    // rows.push(<View><Text style={styles.resourceTitle}>{val}</Text></View>);\n\n    if (r)\n      this.formatDoc(verificationRequest, r, rows);\n    var backlink = this.props.prop &&  this.props.prop.items  &&  this.props.prop.items.backlink;\n    if (resource.txId)\n      rows.push(\n          <View style={{flexDirection: 'row'}} key={this.getNextKey()}>\n            <Text style={styles.resourceTitleL}>{translate('verificationTransactionID')}</Text>\n            <Text style={[styles.description, {color: '#7AAAc3'}]} onPress={this.onPress.bind(this, 'http://tbtc.blockr.io/tx/info/' + resource.txId)}>{resource.txId}</Text>\n          </View>\n        )\n\n    // if (!isForm  &&  resource.to  &&  backlink !== 'to') {\n    //   var row = <View style={{flexDirection: 'row'}} key={this.getNextKey()}>\n    //               <Text style={[styles.description, {color: '#7AAAc3'}]}>submitted by </Text>\n    //               <Text style={styles.description}>{resource.to.title}</Text>\n    //             </View>;\n      // var row = resource.to.photos\n      //         ? <View style={{flexDirection: 'row'}}>\n      //             <Text style={[styles.description, {color: '#7AAAc3'}]}>submitted by </Text>\n      //             <Text style={styles.description}>{resource.to.title}</Text>\n      //             <Image source={{uri: resource.to.photos[0].url}} style={styles.icon}/>\n      //           </View>\n      //         : <View style={{flexDirection: 'row'}}>\n      //             <Text style={[styles.description, {color: '#7AAAc3'}]}>submitted by </Text>\n      //             <Text style={styles.description}>{resource.to.title}</Text>\n      //           </View>;\n    //   rows.push(row);\n    // }\n    var verifiedBy\n    if (!this.props.isChooser  &&  (isVerification || isMyProduct  ||  isForm) &&  resource.from) {\n      var contentRows = [];\n      // contentRows.push(<Text style={}>verified by {resource.to.title}></Text>);\n      let org = isMyProduct\n              ? resource.from.organization\n              : isForm\n                  ? resource.to.organization\n                  : resource.organization\n\n      let by\n      if (isMyProduct)\n        by = translate('issuedBy', org.title)\n      else if (isForm)\n        by = translate('sentTo', org.title)\n      else\n        by = translate('verifiedBy', org.title)\n\n      verifiedBy = <View style={contentRows.length == 1 ? {flex: 1} : {flexDirection: 'row'}} key={this.getNextKey()}>\n                    <Text style={styles.description}>{by}</Text>\n                  </View>\n    }\n    else\n      verifiedBy = <View/>\n\n    var date = r\n             ? this.addDateProp('time', [styles.verySmallLetters, {position: 'absolute', right: 10}])\n             : <View />\n    var header =  <View style={{borderColor: '#ffffff', backgroundColor: '#ffffff', borderBottomColor: '#cccccc', borderBottomWidth: StyleSheet.hairlineWidth}} key={this.getNextKey()}>\n                    <View style={{flexDirection: 'row', marginHorizontal: 10,  marginVertical: 3, paddingBottom: 4}}>\n                      {photo}\n                      {date}\n                      <View style={{flexDirection: 'column', paddingTop: 10}}>\n                        <Text style={styles.rTitle}>{this.props.isChooser ? utils.getDisplayName(resource, model.properties) : verificationRequest.title}</Text>\n                         {verifiedBy}\n                      </View>\n                    </View>\n                  </View>\n   // if (isForm  &&  !isMyProduct)\n   //   header = <Swipeout right={[{text: 'Revoke', backgroundColor: 'red', onPress: this.revokeDocument.bind(this, resource)}]} autoClose={true} scroll={(event) => this._allowScroll(event)}>\n   //              {header}\n   //            </Swipeout>\n\n    var content = <View>\n                    <TouchableHighlight onPress={this.props.onSelect.bind(this)} underlayColor='transparent'>\n                      <View style={styles.row}>\n                        <View style={[styles.textContainer, {margin: -5, paddingLeft: 3, borderBottomWidth: StyleSheet.hairlineWidth, borderColor: 'transparent'}]}>\n                          {rows}\n                        </View>\n                      </View>\n                    </TouchableHighlight>\n                  </View>\n\n    return (\n      this.props.isChooser\n       ? <View>\n          <TouchableHighlight onPress={this.props.onSelect.bind(this)} underlayColor='transparent'>\n           {header}\n          </TouchableHighlight>\n         </View>\n       :  <Swipeout right={[{text: 'Revoke', backgroundColor: 'red', onPress: this.revokeDocument.bind(this)}]} autoClose={true} scroll={(event) => this._allowScroll(event)}>\n            <TouchableHighlight onPress={this.props.onSelect.bind(this)} underlayColor='transparent'>\n             {header}\n            </TouchableHighlight>\n          </Swipeout>\n    );\n       // :  !isMyProduct  &&  !isVerification  &&  !this.props.prop\n       //    ? <Swipeout right={[{text: 'Revoke', backgroundColor: 'red', onPress: this.revokeDocument.bind(this)}]} autoClose={true} scroll={(event) => this._allowScroll(event)}>\n       //        <TouchableHighlight onPress={this.props.onSelect.bind(this)} underlayColor='transparent'>\n       //         {header}\n       //        </TouchableHighlight>\n       //      </Swipeout>\n       //    : <View>\n       //       <Accordion\n       //         header={header}\n       //         style={{alignSelf: 'stretch'}}\n       //         content={content}\n       //         underlayColor='transparent'\n       //         easing='easeOutQuad' />\n       //      </View>\n  }\n  revokeDocument() {\n    var resource = this.props.resource\n    AlertIOS.alert(\n      translate('confirmRevoke', resource.to.organization.title),\n      null,\n      [\n        {text: translate('cancel'), onPress: () => console.log('Cancel')},\n        {text: 'OK', onPress: () =>  AlertIOS.alert(translate('willBeAvailable'))},\n      ]\n    )\n  }\n  _allowScroll(scrollEnabled) {\n    this.setState({scrollEnabled: scrollEnabled})\n  }\n  formatDoc(model, resource, renderedRow) {\n    var viewCols = model.gridCols || model.viewCols;\n    if (!viewCols)\n      return\n    var verPhoto;\n    var vCols = [];\n    var first = true;\n    var self = this;\n    var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n\n    var properties = model.properties;\n    var noMessage = !resource.message  ||  !resource.message.length;\n    var onPressCall;\n\n    var isSimpleMessage = model.id === constants.TYPES.SIMPLE_MESSAGE;\n    var style = styles.resourceTitle\n    var labelStyle = styles.resourceTitleL\n    viewCols.forEach(function(v) {\n      if (properties[v].type === 'array'  ||  properties[v].type === 'date')\n        return;\n      if (!resource[v]  &&  !properties[v].displayAs)\n        return\n       //(first) ? styles.resourceTitle : styles.description;\n\n      var units = properties[v].units && properties[v].units.charAt(0) !== '['\n                ? ' (' + properties[v].units + ')'\n                : ''\n\n      if (properties[v].ref) {\n        if (resource[v]) {\n          let val = (properties[v].ref === constants.TYPES.MONEY)\n                  ? utils.normalizeCurrencySymbol(resource[v].currency || CURRENCY_SYMBOL) + resource[v].value\n                  : (resource[v].title || resource[v])\n          vCols.push(\n            <View style={{flexDirection: 'row', justifyContent: 'space-between', borderColor: '#F2FAED', borderBottomWidth: StyleSheet.hairlineWidth, borderBottomColor: '#f0f0f0', paddingVertical: 3}} key={self.getNextKey()}>\n              <Text style={labelStyle}>{properties[v].title + units}</Text>\n              <Text style={style}>{val}</Text>\n            </View>\n          );\n          first = false;\n        }\n\n        return;\n      }\n      let row\n      if (resource[v]  &&  properties[v].type === 'string'  &&  (resource[v].indexOf('http://') == 0  ||  resource[v].indexOf('https://') == 0))\n        row = <Text style={style} key={self.getNextKey()}>{resource[v]}</Text>;\n      else if (!model.autoCreate) {\n        var val = (properties[v].displayAs)\n                ? utils.templateIt(properties[v], resource)\n                : resource[v];\n        row = <Text style={style} key={self.getNextKey()}>{val}</Text>\n      }\n      else {\n        if (!resource[v]  ||  !resource[v].length)\n          return;\n        var msgParts = utils.splitMessage(resource[v]);\n        // Case when the needed form was sent along with the message\n        if (msgParts.length === 2) {\n          var msgModel = utils.getModel(msgParts[1]);\n          if (msgModel) {\n            vCols.push(<View key={self.getNextKey()} style={{borderColor: '#F2FAED', borderBottomWidth: StyleSheet.hairlineWidth, paddingVertical: 5, borderBottomColor: '#f0f0f0'}}>\n                         <Text style={style}>{msgParts[0]}</Text>\n                         <Text style={[style, {color: isMyMessage ? '#efffe5' : '#7AAAC3'}]}>{msgModel.value.title}</Text>\n                       </View>);\n            return;\n          }\n        }\n        row = <Text style={style} key={self.getNextKey()}>{resource[v]}</Text>;\n      }\n      // if (first) {\n      //   row = <View style={{flexDirection: 'row', justifyContent: 'space-between'}}>\n      //           <View>{row}</View>\n      //           <View><Text style={styles.verySmallLetters}>{renderedRow[0]}</Text></View>\n      //         </View>\n      //   renderedRow.splice(0, 1);\n      // }\n\n      vCols.push(\n        <View style={{flexDirection: 'row', justifyContent: 'space-between', paddingVertical: 5, borderColor: '#F2FAED', borderBottomWidth: StyleSheet.hairlineWidth, borderBottomColor: '#f0f0f0'}} key={self.getNextKey()}>\n          <Text style={labelStyle}>{properties[v].title + units}</Text>\n          {row}\n        </View>\n      );\n      first = false;\n    });\n    // if (model.style)\n    //   vCols.push(<Text style={styles.verySmallLetters}>{model.title}</Text>);\n\n    if (vCols  &&  vCols.length) {\n      vCols.forEach(function(v) {\n        renderedRow.push(v);\n      });\n    }\n  }\n  onPress(url) {\n    this.props.navigator.push({\n      id: 7,\n      component: ArticleView,\n      backButtonTitle: 'Back',\n      passProps: {url: url}\n    });\n  }\n}\nreactMixin(VerificationRow.prototype, RowMixin);\n\nvar styles = StyleSheet.create({\n  textContainer: {\n    flex: 1,\n    borderColor: 'green'\n  },\n  rTitle: {\n    flex: 1,\n    fontSize: 18,\n    marginVertical: 5,\n    color: '#757575',\n    // fontWeight: '600',\n    // marginBottom: 2,\n  },\n  resourceTitle: {\n    flex: 1,\n    fontSize: 16,\n    fontWeight: '400',\n    // marginBottom: 2,\n  },\n  resourceTitleL: {\n    flex: 1,\n    fontSize: 16,\n    fontWeight: '400',\n    paddingRight: 5,\n    color: '#999999',\n    // marginBottom: 2,\n  },\n  description: {\n    flex: 1,\n    flexWrap: 'wrap',\n    color: '#999999',\n    fontSize: 14,\n  },\n  row: {\n    // backgroundColor: '#FBFFE5',\n    flexDirection: 'row',\n    marginHorizontal: 10,\n    padding: 5,\n  },\n  cellImage: {\n    backgroundColor: '#dddddd',\n    height: 60,\n    marginRight: 10,\n    marginVertical: 3,\n    width: 60,\n    borderColor: '#7AAAc3',\n    // borderRadius:10,\n    borderBottomWidth: StyleSheet.hairlineWidth,\n  },\n  icon: {\n    width: 20,\n    height: 20,\n    borderWidth: 1,\n    borderColor: '#7AAAc3',\n    borderRadius: 10,\n    marginRight: 10,\n    alignSelf: 'center',\n  },\n  verySmallLetters: {\n    fontSize: 12,\n    alignSelf: 'flex-end',\n    color: '#b4c3cb'\n  },\n  // verySmallLettersCenter: {\n  //   fontSize: 12,\n  //   color: '#2E3B4E'\n  // },\n});\n\nmodule.exports = VerificationRow;\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/VerificationRow.js\n **/","\nimport {\n  StyleSheet,\n  TouchableHighlight,\n  Platform\n} from 'react-native'\n\nimport React, { Component, PropTypes } from 'react'\nimport utils from '../utils/utils'\n\nvar Camera = utils.isWeb() ? null : require('react-native-camera').default\n\nvar ICON_BORDER_COLOR = '#D7E6ED'\nvar Icon = require('react-native-vector-icons/Ionicons')\nvar Dir = Camera && Camera.Type\n\nclass QRCodeScanner extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      cameraType: Camera.constants.Type.back\n    }\n  }\n  propTypes: {\n    onread: PropTypes.func.isRequired\n  }\n    // !(element && (typeof element.type === 'function' || typeof element.type === 'string'))\n    // ? process.env.NODE_ENV !== 'production'\n    //       ? invariant(false, 'Element type is invalid: expected a string (for built-in components) ' + 'or a class/function (for composite components) but got: %s.%s', element.type == null\n    //         ? element.type\n    //         : typeof element.type, getDeclarationErrorAddendum(element._owner))\n    //       : invariant(false)\n    // : void 0;\n\n\n  render() {\n    return (\n      <Camera\n        style={styles.container}\n        onBarCodeRead={this._onBarCodeRead.bind(this)}\n        ref={(cam) => {\n            this.camera = cam;\n          }}\n        type={this.state.cameraType}>\n        <TouchableHighlight onPress={this._switchCamera.bind(this)} style={styles.flip}>\n          <Icon name='ios-reverse-camera' size={25} color='#eeeeee' style={styles.icon} />\n        </TouchableHighlight>\n      </Camera>\n    )\n  }\n  _onBarCodeRead(e) {\n    if (this._finished) return\n\n    this.props.onread(e)\n    this._finished = true\n  }\n  _switchCamera() {\n    var cameraType = this.state.cameraType === Dir.back ? Dir.front : Dir.back\n    this.setState({cameraType})\n  }\n}\n\nvar styles = {\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#F5FCFF',\n  },\n  icon: {\n    width: 30,\n    height: 30\n  },\n  flip: {\n    position: 'absolute',\n    top: 30,\n    right: 10\n  }\n}\n\nmodule.exports = Camera && QRCodeScanner\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/QRCodeScanner.js\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACB0lEQVRYR+1XzVXjMBDWp7yX5EgHsBWwHSxbAXQAuVjWiaUCkgpITpJOMR1ABUAH2QqADjjm5aDZN3qWn+0A+Xn25uK5WdbMfJoZab6B2EPm8/nRarW6JqIrVgeQ9fv92Wg0+tjVHHZRMMacSCmvhRDs+Kimy84z7/1Ma/22rd2tABhjzgBcAggn3iRElEkpZ0mSLDbt/RaAtfZcCPEHwNkmQ5/9J6JnIcQ0TdPHr/TXAOT5PSeiMYCTfRzXdYjoDcBYKXVf/1cAiIXFJ/4kv03gYBtcJ9NywYILC8DttvltCgnXyWAwuIG19rWpUO8KLqTGOcdX5nhX5Yb2v4cUSCm3ul4NOS3MeO+zyi3g+97r9ahpR3V7SZK8xLUCgDHmSko5b9s52/fej7TWWXjGyw6dc3wF7/K1ew5R+b+U8om/iegvEfHeQgBMAZzmDn7X9DjFl/najVJquhYBXuAURCdCiIlSalwDGNPzopSqvI7OOX71fvF+pVT9YGznNoLTWvPeIGs10AHoItBFoItAF4GDRcA5d5G/1z/zhsNEpcLvS+z4g4gqlBsA64VZIWfD5TbCtC8SXNbjPvNQ9IKclLz+j1YcfXjvf/AAUzQja+0ittO2gXA7T9M0RLpCy5fLZVhsW4bD4SLOkUxKuVfzvFef9drGwTPChAG0zgG/O0mMQGArB5DJP4rFuaRdDk8vAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./img/banking.png\n ** module id = 2100\n ** module chunks = 0\n **/","'use strict'\n\nimport React, { PropTypes } from 'react'\nimport {\n  AppRegistry,\n  StyleSheet,\n  Text,\n  View,\n  TouchableOpacity,\n} from 'react-native'\n\nvar Video = require('react-native-video')\nvar utils = require('../utils/utils')\n\nclass VideoPlayer extends React.Component {\n  propTypes: {\n    onEnd: PropTypes.func.isRequired,\n    onError: PropTypes.func.isRequired,\n    navigator: PropTypes.object.isRequired\n  };\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      rate: 1,\n      volume: 1,\n      muted: false,\n      resizeMode: 'contain',\n      duration: 0.0,\n      currentTime: 0.0,\n      controls: false,\n      paused: true,\n      skin: 'native'\n    }\n\n    ;['onLoad', 'onProgress', 'pause', 'play'].forEach((method) => {\n      this[method] = this[method].bind(this)\n    })\n  }\n\n  componentDidMount() {\n    this.play()\n  }\n\n  componentWillUnmount() {\n    this.pause()\n  }\n\n  pause() {\n    this.setState({paused: true})\n  }\n\n  play() {\n    this.setState({paused: false})\n  }\n\n  onLoad(data) {\n    this.setState({duration: data.duration, loaded:true})\n  }\n\n  onProgress(data) {\n    this.setState({currentTime: data.currentTime})\n  }\n\n  getCurrentTimePercentage() {\n    if (this.state.currentTime > 0) {\n      return parseFloat(this.state.currentTime) / parseFloat(this.state.duration)\n    } else {\n      return 0\n    }\n  }\n\n  renderVolumeControl(volume) {\n    var isSelected = (this.state.volume == volume)\n\n    return (\n      <TouchableOpacity onPress={() => { this.setState({volume: volume}) }}>\n        <Text style={[styles.controlOption, {fontWeight: isSelected ? \"bold\" : \"normal\"}]}>\n          {volume * 100}%\n        </Text>\n      </TouchableOpacity>\n    )\n  }\n\n  renderCustomSkin() {\n    var controls //= this.renderCustomControls()\n    return (\n      <View style={styles.container}>\n        <TouchableOpacity style={styles.fullScreen} onPress={() => {this.setState({paused: !this.state.paused})}}>\n          <Video source={{uri: this.props.uri}}\n                 style={styles.fullScreen}\n                 rate={this.state.rate}\n                 paused={this.state.paused}\n                 volume={this.state.volume}\n                 muted={this.state.muted}\n                 resizeMode={this.state.resizeMode}\n                 onLoad={this.onLoad}\n                 onProgress={this.onProgress}\n                 onEnd={this.props.onEnd}\n                 onError={this.props.onError}\n                 repeat={this.props.repeat} />\n        </TouchableOpacity>\n        {controls}\n      </View>\n    )\n  }\n\n  renderCustomControls() {\n    var flexCompleted = this.getCurrentTimePercentage() * 100\n    var flexRemaining = (1 - this.getCurrentTimePercentage()) * 100\n\n    return (\n      <View style={styles.controls}>\n        <View style={styles.generalControls}>\n          <View style={styles.volumeControl}>\n            {this.renderVolumeControl(0.5)}\n            {this.renderVolumeControl(1)}\n            {this.renderVolumeControl(1.5)}\n          </View>\n        </View>\n\n        <View style={styles.trackingControls}>\n          <View style={styles.progress}>\n            <View style={[styles.innerProgressCompleted, {flex: flexCompleted}]} />\n            <View style={[styles.innerProgressRemaining, {flex: flexRemaining}]} />\n          </View>\n        </View>\n      </View>\n    )\n  }\n\n  renderNativeSkin() {\n    var nativeControls// = this.renderNativeControls()\n    var videoStyle = this.state.skin == 'embed' ? styles.nativeVideoControls : styles.fullScreen\n    return (\n      <View style={styles.container}>\n        <View style={styles.fullScreen}>\n          <Video source={{uri: this.props.uri}}\n                 style={videoStyle}\n                 rate={this.state.rate}\n                 paused={this.state.paused}\n                 volume={this.state.volume}\n                 muted={this.state.muted}\n                 resizeMode={this.state.resizeMode}\n                 onLoad={this.onLoad}\n                 onProgress={this.onProgress}\n                 onEnd={this.props.onEnd}\n                 onError={this.props.onError}\n                 repeat={this.props.repeat}\n                 controls={this.state.controls} />\n        </View>\n        {nativeControls}\n      </View>\n    )\n  }\n\n  renderNativeControls() {\n    return (\n      <View style={styles.controls}>\n        <View style={styles.generalControls}>\n          <View style={styles.skinControl}>\n            {this.renderSkinControl('custom')}\n            {this.renderSkinControl('native')}\n            {this.renderSkinControl('embed')}\n          </View>\n        </View>\n        <View style={styles.generalControls}>\n          <View style={styles.rateControl}>\n            {this.renderRateControl(0.5)}\n            {this.renderRateControl(1.0)}\n            {this.renderRateControl(2.0)}\n          </View>\n\n          <View style={styles.volumeControl}>\n            {this.renderVolumeControl(0.5)}\n            {this.renderVolumeControl(1)}\n            {this.renderVolumeControl(1.5)}\n          </View>\n\n          <View style={styles.resizeModeControl}>\n            {this.renderResizeModeControl('cover')}\n            {this.renderResizeModeControl('contain')}\n            {this.renderResizeModeControl('stretch')}\n          </View>\n        </View>\n      </View>\n    )\n  }\n\n  render() {\n    return this.state.controls ? this.renderNativeSkin() : this.renderCustomSkin()\n  }\n}\n\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'black',\n  },\n  fullScreen: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n  },\n  controls: {\n    backgroundColor: \"transparent\",\n    borderRadius: 5,\n    position: 'absolute',\n    bottom: 44,\n    left: 4,\n    right: 4,\n  },\n  progress: {\n    flex: 1,\n    flexDirection: 'row',\n    borderRadius: 3,\n    overflow: 'hidden',\n  },\n  innerProgressCompleted: {\n    height: 20,\n    backgroundColor: '#cccccc',\n  },\n  innerProgressRemaining: {\n    height: 20,\n    backgroundColor: '#2C2C2C',\n  },\n  generalControls: {\n    flex: 1,\n    flexDirection: 'row',\n    overflow: 'hidden',\n    paddingBottom: 10,\n  },\n  skinControl: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'center',\n  },\n  rateControl: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'center',\n  },\n  volumeControl: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'center',\n  },\n  resizeModeControl: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  controlOption: {\n    alignSelf: 'center',\n    fontSize: 11,\n    color: \"white\",\n    paddingLeft: 2,\n    paddingRight: 2,\n    lineHeight: 12,\n  },\n  nativeVideoControls: {\n    top: 184,\n    height: 300\n  }\n})\n\nmodule.exports = VideoPlayer\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/VideoPlayer.js\n **/","'use strict';\n\nvar Q = require('q')\nvar Keychain = require('react-native-keychain')\nvar debounce = require('debounce')\n// var DashboardView = require('./DashboardView')\nvar ResourceList = require('./ResourceList');\nvar VideoPlayer = require('./VideoPlayer')\nvar NewResource = require('./NewResource');\nvar ResourceView = require('./ResourceView');\nvar utils = require('../utils/utils');\nvar translate = utils.translate\nvar Reflux = require('reflux');\nvar Actions = require('../Actions/Actions');\nvar Store = require('../Store/Store');\nvar reactMixin = require('react-mixin');\nvar constants = require('@tradle/constants');\n// var BACKUPS = require('asyncstorage-backup')\nvar debug = require('debug')('Tradle-Home')\nvar BG_IMAGE = require('../img/bg.png')\n// var PasswordCheck = require('./PasswordCheck')\nvar FadeInView = require('./FadeInView')\nvar TouchIDOptIn = require('./TouchIDOptIn')\nvar defaultBankStyle = require('../styles/bankStyle.json')\nvar QRCodeScanner = require('./QRCodeScanner')\n\ntry {\n  var commitHash = require('../version.json').commit.slice(0, 7)\n} catch (err) {\n  // no version info available\n}\n\n// var Progress = require('react-native-progress')\nimport {\n  authenticateUser,\n  hasTouchID,\n  signIn,\n  setPassword\n} from '../utils/localAuth'\n\nimport AutomaticUpdates from '../utils/automaticUpdates'\nimport CustomIcon from '../styles/customicons'\nimport BackgroundImage from './BackgroundImage'\n\nconst PASSWORD_ITEM_KEY = 'app-password'\n\nimport {\n  StyleSheet,\n  Text,\n  Navigator,\n  View,\n  TouchableOpacity,\n  Image,\n  NetInfo,\n  ScrollView,\n  Linking,\n  Modal,\n  Alert,\n  Platform\n} from 'react-native'\nimport ActivityIndicator from './ActivityIndicator'\nimport StatusBar from './StatusBar'\n\nconst isAndroid = utils.isAndroid()\nconst isLinkingSupported = utils.isIOS() && Linking\nimport React, { Component } from 'react'\nimport Navs from '../utils/navs'\n\nclass TimHome extends Component {\n  static displayName = 'TimHome';\n  static orientation = Platform.OS === 'web' ? 'LANDSCAPE' : 'PORTRAIT';\n  props: {\n    modelName: PropTypes.string.isRequired,\n    navigator: PropTypes.object.isRequired\n  };\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      hasMe: utils.getMe()\n    };\n\n    this._handleConnectivityChange = this._handleConnectivityChange.bind(this)\n  }\n  componentWillMount() {\n    this.listenTo(Store, 'handleEvent');\n    this._pressHandler = debounce(this._pressHandler, 500, true)\n    if (isLinkingSupported)\n      Linking.addEventListener('url', this._handleOpenURL);\n\n    // var url = LinkingIOS.popInitialURL()\n    // if (url)\n    //   this._handleOpenURL({url});\n    if (NetInfo) {\n      NetInfo.isConnected.addEventListener(\n        'change',\n        this._handleConnectivityChange.bind(this)\n      );\n      NetInfo.isConnected.fetch().then(isConnected => this._handleConnectivityChange(isConnected))\n    }\n\n    Actions.start();\n  }\n  // componentDidMount() {\n    // AutomaticUpdates.on()\n    // LinkingIOS.addEventListener('url', this._handleOpenURL);\n    // var url = LinkingIOS.popInitialURL();\n    // if (url)\n    //   this._handleOpenURL({url});\n  // }\n  _handleConnectivityChange(isConnected) {\n    this.props.navigator.isConnected = isConnected\n  }\n  componentWillUnmount() {\n    if (isLinkingSupported)\n      Linking.removeEventListener('url', this._handleOpenURL);\n\n    if (NetInfo) {\n      NetInfo.isConnected.removeEventListener(\n        'change',\n        this._handleConnectivityChange.bind(this)\n      );\n    }\n  }\n  componentDidMount() {\n    AutomaticUpdates.on()\n    if (!isLinkingSupported) return\n\n    Linking.getInitialURL()\n    .then((url) => {\n      if (url)\n        this._handleOpenURL({url});\n\n      const checkConnected = NetInfo ? NetInfo.isConnected.fetch() : Q(true)\n      checkConnected().then(isConnected => {\n        let firstRoute = this.props.navigator.getCurrentRoutes()[0]\n        firstRoute.isConnected = isConnected\n      })\n    })\n    .catch((e) => {\n      debugger\n    })\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.state.isLoading  !== nextState.isLoading   ||\n        this.state.message !== nextState.message        ||\n        this.state.hasMe !== nextState.hasMe)\n      return true\n    else\n      return false\n  }\n\n  _handleOpenURL(event) {\n    var url = event.url.trim();\n    var idx = url.indexOf('://');\n    var url = url.substring(idx + 3)\n    idx = url.indexOf('/')\n\n    url = url.replace('/', '://')\n    Actions.addItem({\n      resource: {_t: constants.TYPES.SETTINGS, url: url},\n      value: {_t: constants.TYPES.SETTINGS, url: url},\n      meta: utils.getModel(constants.TYPES.SETTINGS).value\n    })\n  }\n\n  async handleEvent(params) {\n    const self = this\n    switch(params.action) {\n    case 'connectivity':\n      this._handleConnectivityChange(params.isConnected)\n      break\n    case 'reloadDB':\n      this.setState({\n        isLoading: false,\n        message: translate('pleaseRestartTIM'), //Please restart TiM'\n      });\n      utils.setModels(params.models);\n      break\n    case 'start':\n      // prior to registration\n      // force install updates before first interaction\n      if (!utils.getMe()) {\n        await AutomaticUpdates.sync()\n        const hasUpdate = await AutomaticUpdates.hasUpdate()\n        if (hasUpdate) return AutomaticUpdates.install()\n      }\n\n      if (self.state.message) {\n        self.restartTiM()\n        return\n      }\n\n      // utils.setMe(params.me);\n      // utils.setModels(params.models);\n      self.setState({isLoading: false});\n      if (!utils.getMe()) {\n        self.setState({isModalOpen: true})\n        // this.register(() => this.showOfficialAccounts())\n        return\n      }\n\n      /* fall through */\n\n      // if (!utils.getMe()) {\n      //   return AutomaticUpdates.sync()\n      //     .then(() => AutomaticUpdates.hasUpdate())\n      //     .then(hasUpdate => {\n      //       if (hasUpdate) AutomaticUpdates.install()\n      //       else start()\n      //     })\n      // } else {\n      //   start()\n      // }\n\n      // break\n\n      // function start () {\n      //   if (self.state.message) {\n      //     self.restartTiM()\n      //     return\n      //   }\n\n      //   // utils.setMe(params.me);\n      //   // utils.setModels(params.models);\n      //   self.setState({isLoading: false});\n      //   if (!utils.getMe()) {\n      //     self.setState({isModalOpen: true})\n      //     // this.register(() => this.showOfficialAccounts())\n      //     return\n      //   }\n      // }\n      /* fall through */\n    case 'pairingSuccessful':\n      const routes = this.props.navigator.getCurrentRoutes()\n      // get the top TimHome in the stack\n      const homeRoute = routes.filter(r => r.component.displayName === TimHome.displayName).pop()\n      const afterAuthRoute = utils.getTopNonAuthRoute(this.props.navigator)\n      try {\n        await signIn(this.props.navigator)\n      } catch (err) {\n        if (afterAuthRoute.component.displayName === TimHome.displayName) return\n\n        if (homeRoute) {\n          return this.props.navigator.popToRoute(homeRoute)\n        }\n\n        return this.props.navigator.resetTo({\n          id: 1,\n          component: TimHome,\n          passProps: {}\n        })\n      }\n\n      if (afterAuthRoute.component.displayName !== TimHome.displayName) {\n        return this.props.navigator.popToRoute(afterAuthRoute)\n      }\n\n      // if (this.state.newMe)\n        //{\n      //   let me = utils.getMe()\n      //   Actions.addItem({resource: me, value: this.state.newMe, meta: utils.getModel(constants.TYPES.PROFILE).value})\n      //   let routes = this.props.navigator.getCurrentRoutes()\n      //   if (me.useTouchId  &&  !me.useGesturePassword)\n      //     return\n      //   this.props.navigator.popToRoute(routes[routes.length - 3])\n      // }\n      // else\n      return this.showOfficialAccounts()\n    case 'getMe':\n      utils.setMe(params.me)\n      this.setState({hasMe: params.me})\n      var nav = this.props.navigator\n      signIn(this.props.navigator)\n        .then(() => this.showOfficialAccounts())\n      break\n    }\n  }\n\n  showContacts() {\n    let passProps = {\n        filter: '',\n        modelName: this.props.modelName,\n        sortProperty: 'lastMessageTime',\n        bankStyle: defaultBankStyle\n      };\n    let me = utils.getMe();\n    this.props.navigator.push({\n      // sceneConfig: Navigator.SceneConfigs.FloatFromBottom,\n      id: 10,\n      title: translate('Accounts'),\n      // titleTextColor: '#7AAAC3',\n      backButtonTitle: translate('back'),\n      component: ResourceList,\n      rightButtonTitle: translate('profile'),\n      passProps: passProps,\n      onRightButtonPress: {\n        title: utils.getDisplayName(me, utils.getModel(me[constants.TYPE]).value.properties),\n        id: 3,\n        component: ResourceView,\n        backButtonTitle: translate('back'),\n        // titleTextColor: '#7AAAC3',\n        rightButtonTitle: translate('edit'),\n        onRightButtonPress: {\n          title: me.firstName,\n          id: 4,\n          component: NewResource,\n          // titleTextColor: '#7AAAC3',\n          backButtonTitle: translate('back'),\n          rightButtonTitle: translate('done'),\n          passProps: {\n            model: utils.getModel(me[constants.TYPE]).value,\n            resource: me,\n            bankStyle: defaultBankStyle\n          }\n        },\n        passProps: {\n          bankStyle: defaultBankStyle,\n          resource: me\n        }\n      }\n    });\n  }\n  showOfficialAccounts(doReplace) {\n    var nav = this.props.navigator\n    if (!utils.isWeb()) {\n      nav.immediatelyResetRouteStack(nav.getCurrentRoutes().slice(0,1));\n    }\n\n    let me = utils.getMe()\n    if (me.isEmployee) {\n      this.showContacts()\n      return\n    }\n    // let route = {\n    //   id: 23,\n    //   component: DashboardView,\n    //   title: translate('profile'),\n    //   backButtonTitle: translate('back'),\n    //   rightButtonTitle: translate('edit'),\n    //   onRightButtonPress: {\n    //     title: translate('profile'),\n    //     id: 23,\n    //     component: DashboardView,\n    //     menu: ResourceList,\n    //     menuProps: {\n    //       modelName: constants.TYPES.ORGANIZATION,\n    //       bankStyle: this.props.bankStyle || defaultBankStyle\n    //     },\n    //     mainComponent: NewResource,\n    //     titleTextColor: '#7AAAC3',\n    //     backButtonTitle: translate('back'),\n    //     rightButtonTitle: translate('done'),\n    //     mainComponentProps: {\n    //       model: utils.getModel(constants.TYPES.PROFILE).value,\n    //       resource: me,\n    //       bankStyle: this.props.bankStyle || defaultBankStyle\n    //     }\n    //   },\n    //   passProps: {\n    //     bankStyle: defaultBankStyle,\n    //     menu: ResourceList,\n    //     menuProps: {\n    //       modelName: constants.TYPES.ORGANIZATION,\n    //       bankStyle: this.props.bankStyle || defaultBankStyle\n    //     },\n    //     mainComponent: ResourceView,\n    //     mainComponentProps: {\n    //       bankStyle: this.props.bankStyle || defaultBankStyle,\n    //       resource: me\n    //     }\n    //   }\n    // }\n    let title = me.firstName;\n    let route = {\n      title: translate('officialAccounts'),\n      id: 10,\n      component: ResourceList,\n      backButtonTitle: translate('back'),\n      passProps: {\n        modelName: constants.TYPES.ORGANIZATION,\n        isConnected: this.state.isConnected,\n        officialAccounts: true,\n        bankStyle: defaultBankStyle\n      },\n      rightButtonTitle: translate('profile'),\n      onRightButtonPress: {\n        title: title,\n        id: 3,\n        component: ResourceView,\n        backButtonTitle: translate('back'),\n        rightButtonTitle: translate('edit'),\n        onRightButtonPress: {\n          title: title,\n          id: 4,\n          component: NewResource,\n          backButtonTitle: translate('back'),\n          rightButtonTitle: translate('done'),\n          passProps: {\n            model: utils.getModel(me[constants.TYPE]).value,\n            resource: me,\n            bankStyle: defaultBankStyle\n          }\n        },\n        passProps: {\n          resource: me,\n          bankStyle: defaultBankStyle\n        }\n      }\n    }\n\n    if (utils.isWeb() && !doReplace) {\n      if (Navs.getCurrentRoute(nav).component.displayName !== 'TimHome') {\n        doReplace = true\n      }\n    }\n\n    if (doReplace)\n      nav.replace(route)\n    else\n      nav.push(route)\n\n  }\n\n  register(cb) {\n    let modelName = this.props.modelName;\n    if (!utils.getModel(modelName)) {\n      this.setState({err: 'Can find model: ' + modelName});\n      return;\n    }\n\n    let model = utils.getModel(modelName).value;\n    let route = {\n      component: NewResource,\n      titleTextColor: '#BCD3E6',\n      id: 4,\n      passProps: {\n        model: model,\n        bankStyle: defaultBankStyle,\n        isConnected: this.state.isConnected,\n        // callback: () => {\n        //   cb()\n        // }\n      },\n    };\n\n    let self = this\n    route.passProps.callback = () => {\n      setPassword(this.props.navigator)\n      .then(() => this.optInTouchID())\n      .then (() => {\n        this.setState({hasMe: true})\n        Actions.setAuthenticated(true)\n        this.showOfficialAccounts(true)\n        // cb()\n      })\n\n    }\n    // let nav = self.props.navigator\n    // route.passProps.callback = (me) => {\n    //   this.showVideoTour(() => {\n    //     Actions.getMe()\n    //     nav.immediatelyResetRouteStack(nav.getCurrentRoutes().slice(0,1));\n    //   })\n    // }\n\n    route.passProps.editCols = ['firstName', 'lastName', 'language']\n    route.titleTintColor = '#ffffff'\n    this.props.navigator.push(route);\n  }\n\n  optInTouchID() {\n    return hasTouchID().then(has => {\n      if (!has) return\n\n      return new Promise(resolve => {\n        this.props.navigator.replace({\n          component: TouchIDOptIn,\n          id: 21,\n          rightButtonTitle: 'Skip',\n          noLeftButton: true,\n          passProps: {\n            optIn: () => {\n              Actions.updateMe({ useTouchId: true })\n              resolve()\n            }\n          },\n          onRightButtonPress: resolve\n        })\n      })\n    })\n  }\n\n  pairDevices(cb) {\n    let modelName = this.props.modelName;\n    if (!utils.getModel(modelName)) {\n      this.setState({err: 'Can find model: ' + modelName});\n      return;\n    }\n\n    let model = utils.getModel(modelName).value;\n    let route = {\n      component: NewResource,\n      titleTextColor: '#BCD3E6',\n      id: 4,\n      passProps: {\n        model: model,\n        bankStyle: defaultBankStyle,\n        isConnected: this.state.isConnected,\n        // callback: () => {\n        //   cb()\n        // }\n      },\n    };\n\n    let self = this\n    route.passProps.callback = () => {\n      setPassword(this.props.navigator)\n      .then (() => {\n        this.setState({hasMe: true})\n        Actions.setAuthenticated(true)\n        this.showOfficialAccounts(true)\n        // cb()\n      })\n\n    }\n    // let nav = self.props.navigator\n    // route.passProps.callback = (me) => {\n    //   this.showVideoTour(() => {\n    //     Actions.getMe()\n    //     nav.immediatelyResetRouteStack(nav.getCurrentRoutes().slice(0,1));\n    //   })\n    // }\n\n    route.passProps.editCols = ['firstName', 'lastName', 'language']\n    route.titleTintColor = '#ffffff'\n    this.props.navigator.push(route);\n  }\n\n  showVideoTour(cb) {\n    let onEnd = (err) => {\n      if (err) debug('failed to load video', err)\n      cb()\n    }\n\n    this.props.navigator.replace({\n      // sceneConfig: Navigator.SceneConfigs.FloatFromBottom,\n      id: 18,\n//      title: 'Tradle',\n//      titleTintColor: '#eeeeee',\n      component: VideoPlayer,\n      rightButtonTitle: __DEV__ ? 'Skip' : undefined,\n      passProps: {\n        uri: 'videotour',\n        onEnd: onEnd,\n        onError: onEnd,\n        navigator: this.props.navigator\n      },\n      onRightButtonPress: onEnd\n    })\n  }\n  onReloadDBPressed() {\n    utils.setMe(null);\n    utils.setModels(null);\n    Actions.reloadDB();\n  }\n  onReloadModels() {\n    utils.setModels(null)\n    Actions.reloadModels()\n  }\n  async onBackupPressed() {\n    let backupNumber = await BACKUPS.backup()\n    Alert.alert(\n      `Backed up to #${backupNumber}`\n    )\n  }\n  async onLoadFromBackupPressed() {\n    try {\n      let backupNumber = await BACKUPS.loadFromBackup()\n      Alert.alert(\n        `Loaded from backup #${backupNumber}. Please refresh`\n      )\n    } catch (err) {\n      Alert.alert(\n        `${err.message}`\n      )\n    }\n  }\n  render() {\n    StatusBar.setHidden(true);\n    if (this.state.message) {\n      this.restartTiM()\n      return\n    }\n\n    // var url = Linking.getInitialURL();\n    var {width, height} = utils.dimensions(TimHome)\n    var h = height > 800 ? height - 220 : height - 180\n\n    if (this.state.isLoading)\n      return this.getSplashScreen(h)\n\n    var err = this.state.err || '';\n    var errStyle = err ? styles.err : {'padding': 0, 'height': 0};\n    var me = utils.getMe()\n    var settings = <View/>\n\n    var version = !__DEV__ &&\n              <View>\n                <Text style={styles.version}>git: {commitHash}</Text>\n              </View>\n\n    var dev = __DEV__\n            ? <View style={styles.dev}>\n                <TouchableOpacity\n                    underlayColor='transparent' onPress={this.onReloadDBPressed.bind(this)}>\n                  <Text style={styles.text}>\n                    Reload DB\n                  </Text>\n                </TouchableOpacity>\n                <TouchableOpacity\n                    underlayColor='transparent' onPress={this.onReloadModels.bind(this)}>\n                  <Text style={styles.text}>\n                    Reload Models\n                  </Text>\n                </TouchableOpacity>\n                {settings}\n              </View>\n            : <View style={[styles.dev, { flexDirection: 'column' }]}>\n                {settings}\n                {version}\n              </View>\n\n    let logo = <TouchableOpacity onPress={() => this._pressHandler()}>\n                <View style={[styles.container]}>\n                  <CustomIcon color='#ffffff' name=\"tradle\" size={getIconSize()} />\n                  <Text style={styles.tradle}>Tradle</Text>\n                </View>\n               </TouchableOpacity>\n\n                          // <Image style={{position: 'absolute', left: 0, opacity: 0.5, width: 100, height: 100}} source={TradleWhite}></Image>\n    let regView = <View  style={{alignSelf: 'center'}}>\n                    <FadeInView>\n                      <TouchableOpacity  onPress={() => {\n                        this.register(this.showOfficialAccounts.bind(this))\n                        }} underlayColor='transparent'>\n                        <View style={styles.signIn}>\n                          <Text style={styles.signInText}>{translate('This is my first Tradle device')}</Text>\n                        </View>\n                      </TouchableOpacity>\n                    </FadeInView>\n                 </View>\n\n    return (\n      <View style={[{height: height}]}>\n        <BackgroundImage source={BG_IMAGE} />\n        <View style={styles.layout}>\n          <View/>\n          {logo}\n          <View>\n            { utils.getMe()\n              ? <TouchableOpacity style={[styles.thumbButton, {justifyContent: 'flex-end',  opacity: me ? 1 : 0}]}\n                    underlayColor='transparent' onPress={() => this._pressHandler()}>\n                  <View style={styles.getStarted}>\n                     <Text style={styles.getStartedText}>Get started</Text>\n                  </View>\n                </TouchableOpacity>\n              : regView\n            }\n            <Text style={errStyle}>{err}</Text>\n            {dev}\n          </View>\n        </View>\n      </View>\n    );\n  }\n  getSplashScreen() {\n    var {width, height} = utils.dimensions(TimHome)\n    return (\n      <View style={styles.container}>\n        <BackgroundImage source={BG_IMAGE} />\n        <View  style={styles.splashLayout}>\n          <View>\n            <CustomIcon name=\"tradle\" color='#ffffff' size={getIconSize()} />\n            <Text style={styles.tradle}>Tradle</Text>\n          </View>\n          <View style={{paddingTop: 20, alignSelf: 'center'}}>\n            <ActivityIndicator hidden='true' size='large' color='#ffffff'/>\n          </View>\n        </View>\n      </View>\n    )\n\n  }\n  pairDevices() {\n    this.props.navigator.push({\n      title: 'Scan QR Code',\n      id: 16,\n      component: QRCodeScanner,\n      titleTintColor: '#eeeeee',\n      backButtonTitle: 'Cancel',\n      // rightButtonTitle: 'ion|ios-reverse-camera',\n      passProps: {\n        onread: (result) => {\n          Actions.sendPairingRequest(JSON.parse(result.data))\n          this.props.navigator.pop()\n        }\n      }\n    })\n  }\n\n  renderSplashscreen({ thumb, width, height }) {\n    const splashscreen = (\n      <View>\n        <Image source={BG_IMAGE} style={{position:'absolute', left: 0, top: 0, width: width, height: height }} />\n        <ScrollView\n          scrollEnabled={false}\n          style={{height}}>\n          <View style={[styles.container]}>\n            <Image style={thumb} source={TradleWhite}></Image>\n            <Text style={styles.tradle}>Tradle</Text>\n          </View>\n          <View style={{alignItems: 'center'}}>\n            <ActivityIndicator hidden='true' size='large' color='#ffffff'/>\n          </View>\n        </ScrollView>\n      </View>\n    )\n\n    return splashscreen\n  }\n\n  async onSettingsPressed() {\n    try {\n      await authenticateUser()\n    } catch (err) {\n      return\n    }\n\n    var model = utils.getModel(constants.TYPES.SETTINGS).value\n    var route = {\n      component: NewResource,\n      title: translate('settings'),\n      backButtonTitle: translate('back'),\n      rightButtonTitle: translate('done'),\n      id: 4,\n      titleTextColor: '#7AAAC3',\n      passProps: {\n        model: model,\n        isConnected: this.state.isConnected,\n        callback: this.props.navigator.pop,\n        bankStyle: defaultBankStyle\n\n        // callback: this.register.bind(this)\n      },\n    }\n\n    this.props.navigator.push(route)\n  }\n  restartTiM() {\n    Alert.alert(\n      'Please restart TiM'\n    )\n  }\n\n  _pressHandler() {\n    if (utils.getMe())\n      signIn(this.props.navigator)\n        .then(() => this.showOfficialAccounts())\n  }\n}\n\nreactMixin(TimHome.prototype, Reflux.ListenerMixin);\n\nvar styles = (function () {\n  var dimensions = utils.dimensions(TimHome)\n  var { width, height } = dimensions\n  var thumb = width > 1000 ? 250 : Math.floor(width > 400 ? width / 2.5 : 170)\n  return StyleSheet.create({\n    container: {\n      // padding: 30,\n      // marginTop: height / 4,\n      alignItems: 'center',\n    },\n    tradle: {\n      // color: '#7AAAC3',\n      color: '#eeeeee',\n      fontSize: height > 450 ? 35 : 25,\n      alignSelf: 'center',\n    },\n    text: {\n      color: '#7AAAC3',\n      paddingHorizontal: 5,\n      fontSize: 14,\n    },\n    thumbButton: {\n      // marginBottom: 10,\n      alignSelf: 'center',\n      // justifyContent: isLandscape ? 'flex-start' : 'center',\n      // padding: 40,\n    },\n    thumb: {\n      width:  thumb,\n      height: thumb,\n      paddingBottom: 30,\n      marginTop: Platform.OS === 'web' ? -50 : 0\n    },\n    dev: {\n      paddingVertical: 10,\n      flexDirection: 'row',\n      // marginBottom: 500,\n      alignSelf: 'center',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    getStartedText: {\n      color: '#f0f0f0',\n      fontSize: width > 450 ? 30 : 20,\n      fontWeight:'400'\n    },\n    getStarted: {\n      backgroundColor: '#568FBE', //'#2892C6',\n      paddingVertical: 10,\n      paddingHorizontal: 30\n    },\n    signIn: {\n      flexDirection: 'row',\n      width: 300,\n      height: Platform.OS === 'ios' ? 80 : 50,\n      marginTop: 10,\n      justifyContent: 'center',\n      backgroundColor: '#467EAE',\n      // shadowOpacity: 0.5,\n      shadowColor: 'lightblue',\n      shadowRadius: 10,\n      shadowOffset: {width: 0.5, height: 0.5},\n      shadowOpacity: 0.7\n    },\n    version: {\n      color: '#ffffff',\n      fontSize: 10\n    },\n    pairDivicesText: {\n      backgroundColor: 'transparent',\n      color: '#467EAE',\n      fontSize: 18,\n      alignSelf: 'center'\n    },\n    signInText: {\n      backgroundColor: 'transparent',\n      color: 'lightblue',\n      fontSize: 18,\n      alignSelf: 'center'\n    },\n    splashLayout: {\n      alignItems: 'center',\n      justifyContent: 'center',\n      height: height\n    },\n    layout: {\n      justifyContent: 'space-between',\n      height: height\n    }\n  });\n})()\n\nfunction getIconSize (dimensions) {\n  dimensions = dimensions || utils.dimensions(TimHome)\n  const { width } = dimensions\n  const size = width > 400 ? Math.floor(width / 2.5) : 170\n  return Math.min(size, 250)\n}\n\nmodule.exports = TimHome;\n  // signIn(cb) {\n  //   let self = this\n  //   if (this.state.message) {\n  //     this.restartTiM()\n  //     return\n  //   }\n\n  //   let me = utils.getMe()\n  //   if (!me) return this.register()\n\n  //   if (isAuthenticated()) {\n  //     return cb()\n  //   }\n\n  //   let doneWaiting\n  //   let authPromise = isAuthenticated() ? Q()\n  //     : me.useTouchId ? touchIDWithFallback()\n  //     : passwordAuth()\n\n  //   return authPromise\n  //     .then(() => {\n  //       setAuthenticated(true)\n  //       cb()\n  //     })\n  //     .catch(err => {\n  //       if (err.name == 'LAErrorUserCancel' || err.name === 'LAErrorSystemCancel') {\n  //         self.props.navigator.popToTop()\n  //       } else {\n  //         lockUp(err.message || 'Authentication failed')\n  //       }\n  //     })\n\n  //   function touchIDWithFallback() {\n  //     return authenticateUser()\n  //     .catch((err) => {\n  //       if (err.name === 'LAErrorUserFallback' || err.name.indexOf('TouchID') !== -1) {\n  //         return passwordAuth()\n  //       }\n\n  //       throw err\n  //     })\n  //   }\n\n  //   function passwordAuth () {\n  //     return Keychain.getGenericPassword(PASSWORD_ITEM_KEY)\n  //       .catch(err => {\n  //         // registration must have been aborted.\n  //         // ask user to set a password\n  //         return Q.ninvoke(self, 'setPassword')\n  //       })\n  //       .then(() => {\n  //         return Q.ninvoke(self, 'checkPassword')\n  //       })\n  //   }\n\n  //   function lockUp (err) {\n  //     self.setState({isModalOpen: true})\n  //     loopAlert(err)\n  //     setTimeout(() => {\n  //       doneWaiting = true\n  //       // let the user try again\n  //       self.signIn(cb)\n  //     }, __DEV__ ? 5000 : 5 * 60 * 1000)\n  //   }\n\n  //   function loopAlert (err) {\n  //     Alert.alert(err, null, [\n  //       {\n  //         text: 'OK',\n  //         onPress: () => !doneWaiting && loopAlert(err)\n  //       }\n  //     ])\n  //   }\n  // }\n  // async _localAuth() {\n    // if (this.state.authenticating) return\n\n    // if (!this.state.authenticated) {\n    //   this.setState({ authenticating: true })\n    //   try {\n    //     await authenticateUser()\n    //   } catch (err)  {\n    //     this.setState({ authenticating: false })\n    //     throw err\n    //   }\n    // }\n\n    // this.showOfficialAccounts()\n    // if (this.state.authenticating) {\n    //   this.setState({ authenticating: false })\n    // }\n  // }\n  //////////////////////// LAST CHANGE - 07/12/2016\n  // signUp(cb) {\n  //   var nav = this.props.navigator\n  //   nav.immediatelyResetRouteStack(nav.getCurrentRoutes().slice(0,1));\n  //   let self = this\n  //   this.setPassword(function(err) {\n  //     if (err)\n  //       debug('failed to set password', err)\n  //     else {\n  //       cb()\n  //     }\n  //   })\n  //   // this.showOfficialAccounts(true);\n  //   // this.props.navigator.popToTop();\n  // }\n  // signIn(cb) {\n  //   let me = utils.getMe()\n  //   if (!me)\n  //     return this.register(cb)\n\n  //   if (me.isAuthenticated  &&  !this.state.newMe)\n  //     return cb()\n\n  //   let doneWaiting\n  //   let authPromise\n  //   if (me.useTouchId  &&  me.useGesturePassword) {\n  //     if (this.state.newMe) {\n  //       if (!newMe.useTouchId)\n  //         authPromise = touchIDWithFallback()\n  //       else\n  //         authPromise = passwordAuth()\n  //     }\n  //     else\n  //       authPromise = touchIDAndPasswordAuth()\n  //   }\n  //   else if (me.useTouchId)\n  //     authPromise = touchIDWithFallback()\n  //   else\n  //     authPromise = passwordAuth()\n  //   let self = this\n  //   return authPromise\n  //     .then(() => {\n  //       Actions.setAuthenticated(true)\n  //       cb()\n  //     })\n  //     .catch(err => {\n  //       if (err.name == 'LAErrorUserCancel' || err.name === 'LAErrorSystemCancel') {\n  //         self.props.navigator.popToTop()\n  //       } else {\n  //         lockUp(err.message || 'Authentication failed')\n  //       }\n  //     })\n\n  //   function touchIDAndPasswordAuth() {\n  //     if (isAndroid) return passwordAuth()\n\n  //     return authenticateUser()\n  //     .then(() => {\n  //       return passwordAuth()\n  //     })\n  //     .catch((err) => {\n  //       debugger\n  //       throw err\n  //     })\n  //   }\n\n  //   function touchIDWithFallback() {\n  //     if (isAndroid) return passwordAuth()\n\n  //     return authenticateUser()\n  //     .catch((err) => {\n  //       if (err.name === 'LAErrorUserFallback' || err.name.indexOf('TouchID') !== -1) {\n  //         return passwordAuth()\n  //       }\n\n  //       throw err\n  //     })\n  //   }\n\n  //   function passwordAuth () {\n  //     return Keychain.getGenericPassword(PASSWORD_ITEM_KEY)\n  //       .then(\n  //         () =>  Q.ninvoke(self, 'checkPassword'),\n  //         // registration must have been aborted.\n  //         // ask user to set a password\n  //         (err) => Q.ninvoke(self, 'setPassword')\n  //       )\n  //   }\n\n  //   function lockUp (err) {\n  //     self.setState({isModalOpen: true})\n  //     loopAlert(err)\n  //     setTimeout(() => {\n  //       doneWaiting = true\n  //       // let the user try again\n  //       signIn(cb, this.props.navigator)\n  //     }, __DEV__ ? 5000 : 5 * 60 * 1000)\n  //   }\n\n  //   function loopAlert (err) {\n  //     Alert.alert(err, null, [\n  //       {\n  //         text: 'OK',\n  //         onPress: () => !doneWaiting && loopAlert(err)\n  //       }\n  //     ])\n  //   }\n  // }\n  // setPassword(cb) {\n  //   let self = this\n  //   this.props.navigator.push({\n  //     component: PasswordCheck,\n  //     id: 20,\n  //     passProps: {\n  //       mode: PasswordCheck.Modes.set,\n  //       validate: (pass) => { return pass.length > 4 },\n  //       promptSet: translate('pleaseDrawPassword'),\n  //       promptInvalidSet: translate('passwordLimitations'),\n  //       onSuccess: (pass) => {\n  //         Keychain.setGenericPassword(PASSWORD_ITEM_KEY, utils.hashPassword(pass))\n  //         .then(() => {\n  //           Actions.updateMe({ isRegistered: true })\n  //           return hasTouchID()\n  //         })\n  //         .then((askTouchID) => {\n  //           if (askTouchID) {\n  //             return self.props.navigator.replace({\n  //               component: TouchIDOptIn,\n  //               id: 21,\n  //               rightButtonTitle: 'Skip',\n  //               passProps: {\n  //                 optIn: () => {\n  //                   Actions.updateMe({ useTouchId: true })\n  //                   cb()\n  //                 }\n  //               },\n  //               onRightButtonPress: cb.bind(this)\n  //             })\n  //           }\n\n  //           cb()\n  //         })\n  //         .catch(err => {\n  //           debugger\n  //         })\n  //       },\n  //       onFail: () => {\n  //         debugger\n  //         Alert.alert('Oops!')\n  //       }\n  //     }\n  //   })\n  // }\n  // checkPassword(cb, doReplace) {\n  //   let nav = this.props.navigator\n  //   // HACK\n  //   let routes = nav.getCurrentRoutes()\n  //   if (routes[routes.length - 1].id === 20)\n  //     return\n\n  //   let route = {\n  //     component: PasswordCheck,\n  //     id: 20,\n  //     passProps: {\n  //       mode: PasswordCheck.Modes.check,\n  //       maxAttempts: 3,\n  //       promptCheck: translate('drawYourPassword'), //Draw your gesture password',\n  //       promptRetryCheck: translate('gestureNotRecognized'), //Gesture not recognized, please try again',\n  //       isCorrect: (pass) => {\n  //         return Keychain.getGenericPassword(PASSWORD_ITEM_KEY)\n  //           .then((stored) => {\n  //             return stored === utils.hashPassword(pass)\n  //           })\n  //           .catch(err => {\n  //             return false\n  //           })\n  //       },\n  //       onSuccess: () => {\n  //         cb()\n  //       },\n  //       onFail: (err) => {\n  //         cb(err || new Error('For the safety of your data, ' +\n  //           'this application has been temporarily locked. ' +\n  //           'Please try in 5 minutes.'))\n  //         // lock up the app for 10 mins? idk\n  //       }\n  //     }\n  //   }\n\n  //   nav.push(route)\n  // }\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/TimHome.js\n **/","'use strict'\n\nimport React, { Component } from 'react'\nimport {Animated, TouchableHighlight, Text, View} from 'react-native'\nimport {translate} from '../utils/utils'\n\nclass FadeInView extends React.Component {\n  state: any;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      fadeAnim: new Animated.Value(0), // opacity 0\n    };\n  }\n  componentDidMount() {\n    Animated.timing(       // Uses easing functions\n      this.state.fadeAnim, // The value to drive\n      {\n        toValue: 1,        // Target\n        duration: 2000,    // Configuration\n      },\n    ).start();             // Don't forget start!\n  }\n  render() {\n    this.anim = this.anim || new Animated.Value(0);\n    return (\n      <Animated.View   // Special animatable View\n        style={{\n          opacity: this.state.fadeAnim,  // Binds\n          justifyContent: 'center',\n          alignSelf: 'center',\n        }}>\n        {this.props.children}\n      </Animated.View>\n    );\n  }\n}\n\nmodule.exports = FadeInView\n\n\n/** WEBPACK FOOTER **\n ** ./Components/FadeInView.js\n **/","module.exports = {\n\t\"commit\": \"46809cd959bb55d48cb833417450cce7c89c30cc\"\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./version.json\n ** module id = 2107\n ** module chunks = 0\n **/","'use strict';\n\nvar NewResource = require('./NewResource');\nvar utils = require('../utils/utils');\nvar reactMixin = require('react-mixin');\nvar Store = require('../Store/Store');\nvar Actions = require('../Actions/Actions');\nvar Reflux = require('reflux');\nvar constants = require('@tradle/constants');\n\nimport React, { Component } from 'react'\n\nimport {\n  ListView,\n  Text,\n  StyleSheet,\n  View,\n  AlertIOS\n} from 'react-native'\n\nclass ResourceTypesScreen extends Component {\n  constructor(props) {\n    super(props);\n    var implementors = utils.getImplementors(this.props.modelName, [constants.TYPES.FINANCIAL_PRODUCT, constants.TYPES.FORM, constants.TYPES.ADDITIONAL_INFO]);\n\n    // delete implementors[constants.TYPES.ADDITIONAL_INFO]\n\n    var dataSource =  new ListView.DataSource({\n      rowHasChanged: (row1, row2) => row1 !== row2,\n    });\n    this.state = {\n      implementors: implementors,\n      dataSource: dataSource.cloneWithRows(implementors),\n      newModelAdded: false\n    };\n  }\n  componentDidMount() {\n    this.listenTo(Store, 'onNewModelAdded');\n  }\n  onNewModelAdded(params) {\n    if (params.action !== 'newModelAdded')\n      return;\n    if (params.err)\n      this.setState({err: params.err});\n    else {\n      var implementors = this.state.implementors;\n      implementors.push(params.newModel);\n      this.setState({\n        implementors: implementors,\n        dataSource: this.state.dataSource.cloneWithRows(this.state.implementors),\n      });\n    }\n  }\n  selectResource(resource) {\n    // Case when resource is a model. In this case the form for creating a new resource of this type will be displayed\n    var model = utils.getModel(this.props.modelName);\n\n    if (resource[constants.TYPE])\n      return;\n    if (this.props.sendForm) {\n      var buttons = [{\n        text: 'Cancel',\n      },\n      {\n        text: 'OK',\n        onPress: this.sendFormTo.bind(this, resource)\n      }];\n      var to = this.props.resource;\n      AlertIOS.prompt(\n        'Sending ' + resource.title + ' form to ' + utils.getDisplayName(to, utils.getModel(to[constants.TYPE]).value.properties),\n        buttons\n      );\n      return;\n    }\n    var page = {\n      model: utils.getModel(resource.id).value,\n      resource: {\n        'from': utils.getMe(),\n        'to': this.props.resource\n      }\n    };\n    page.resource[constants.TYPE] = this.props.modelName;\n\n    if (this.props.returnRoute)\n      page.returnRoute = this.props.returnRoute;\n    if (this.props.callback)\n      page.callback = this.props.callback;\n    this.props.navigator.replace({\n      id: 4,\n      title: resource.title,\n      rightButtonTitle: 'Done',\n      backButtonTitle: 'Back',\n      component: NewResource,\n      titleTextColor: '#7AAAC3',\n      passProps: page\n    });\n  }\n\n  sendFormTo(model, msg) {\n    var me = utils.getMe();\n    var resource = {from: utils.getMe(), to: this.props.resource};\n    // var model = utils.getModel(this.props.modelName).value;\n\n    var toName = utils.getDisplayName(resource.to, utils.getModel(resource.to[constants.TYPE]).value.properties);\n    var meta = utils.getModel(me[constants.TYPE]).value.properties;\n    var meName = utils.getDisplayName(me, meta);\n    var modelName = constants.TYPES.SIMPLE_MESSAGE;\n    var value = {\n      message: '[' + msg + '](' + model.id + ')',\n      from: me,\n      to: resource.to,\n      time: new Date().getTime()\n    }\n    value[constants.TYPE] = modelName;\n    Actions.addMessage(value);\n    this.props.navigator.pop();\n  }\n\n  renderRow(resource)  {\n    var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n    var isMessage = model.interfaces  &&  model.interfaces.indexOf(constants.TYPES.MESSAGE) != -1;\n    var MessageTypeRow = require('./MessageTypeRow');\n\n    return (\n      <MessageTypeRow\n        onSelect={() => this.selectResource(resource)}\n        resource={resource}\n        navigator={this.props.navigator}\n        to={this.props.resource} />\n      );\n  }\n  render() {\n    var content =\n    <ListView ref='listview' style={styles.listview}\n      dataSource={this.state.dataSource}\n      removeClippedSubviews={false}\n      renderRow={this.renderRow.bind(this)}\n      automaticallyAdjustContentInsets={false}\n      keyboardDismissMode='on-drag'\n      keyboardShouldPersistTaps={true}\n      showsVerticalScrollIndicator={false} />;\n\n    var err = this.state.err\n            ? <View style={styles.errContainer}><Text style={styles.err}>{this.state.err}</Text></View>\n            : <View />;\n    return (\n      <View style={styles.container}>\n        {err}\n        {content}\n      </View>\n    );\n  }\n}\nreactMixin(ResourceTypesScreen.prototype, Reflux.ListenerMixin);\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: 'white',\n  },\n  listview: {\n    marginTop: 64,\n  },\n  centerText: {\n    alignItems: 'center',\n  },\n  err: {\n    color: '#D7E6ED'\n  },\n  errContainer: {\n    height: 45,\n    paddingTop: 5,\n    paddingHorizontal: 10,\n    backgroundColor: '#eeeeee',\n  }\n});\n\nmodule.exports = ResourceTypesScreen;\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/ResourceTypesScreen.js\n **/","'use strict';\n\nvar reactMixin = require('react-mixin');\nvar utils = require('../utils/utils');\nvar RowMixin = require('./RowMixin');\nvar reactMixin = require('react-mixin');\nvar extend = require('extend');\nvar equal = require('deep-equal')\nvar constants = require('@tradle/constants');\nvar Icon = require('react-native-vector-icons/Ionicons');\n\nimport React, { Component } from 'react'\nimport {\n  ListView,\n  StyleSheet,\n  Text,\n  Image,\n  TouchableHighlight,\n  View,\n} from 'react-native'\n\nclass ItemsList extends Component {\n  constructor(props) {\n    super(props);\n    var dataSource = new ListView.DataSource({\n        rowHasChanged: (row1, row2) => row1 !== row2,\n      });\n    this.state = {\n      isLoading: utils.getModels() ? false : true,\n      list: this.props.list,\n      dataSource: dataSource.cloneWithRows(this.props.list),\n      filter: this.props.filter,\n      userInput: ''\n    };\n    var currentRoutes = this.props.navigator.getCurrentRoutes();\n    var currentRoutesLength = currentRoutes.length;\n    currentRoutes[currentRoutesLength - 1].onRightButtonPress = () => {\n      props.callback(props.prop, this.state.list)\n      props.navigator.popToRoute(props.returnRoute);\n    }\n\n  }\n\n  cancelItem(item) {\n    var list = [];\n    extend(list, this.state.list);\n    for (var i=0; i<list.length; i++) {\n      if (equal(list[i], item)) {\n        list.splice(i, 1);\n        break;\n      }\n    }\n    this.setState({\n      list: list,\n      dataSource: this.state.dataSource.cloneWithRows(list)\n    })\n  }\n\n  renderRow(resource)  {\n    var counter = this.props.resource[this.props.prop].length\n    if (this.props.prop === 'photos')\n      return (\n        <View style={styles.row}>\n          <View style={styles.textContainer} key={this.getNextKey()}>\n            <Image source={{uri: resource.url}} style={styles.cellImage}  key={this.getNextKey()} />\n            <View style={{marginTop: 15}}>\n              <TouchableHighlight underlayColor='transparent' onPress={this.cancelItem.bind(this, resource)}>\n                <Icon name={'android-close'} size={30} color='#D20000' />\n              </TouchableHighlight>\n            </View>\n          </View>\n          <View style={styles.separator}></View>\n        </View>\n\n        )\n    return\n      renderItem([resource], prop)\n\n  }\n  renderItem(val, pMeta) {\n    var itemsMeta = pMeta.items.properties;\n    if (!itemsMeta) {\n      var ref = pMeta.items.ref;\n      if (ref) {\n        pMeta = utils.getModel(ref).value;\n        itemsMeta = pMeta.properties;\n      }\n    }\n    var counter = 0;\n    var vCols = pMeta.viewCols;\n    if (!vCols) {\n      vCols = [];\n      for (var p in itemsMeta)\n        vCols.push(p);\n    }\n    var cnt = val.length;\n    var self = this;\n    return val.map(function(v) {\n      var ret = [];\n      counter++;\n      vCols.forEach((p) =>  {\n        var itemMeta = itemsMeta[p];\n        if (!v[p]  &&  !itemMeta.displayAs)\n          return\n        if (itemMeta.displayName)\n          return\n        var value;\n        if (itemMeta.displayAs)\n          value = utils.templateIt(itemMeta, v)\n        else if (itemMeta.type === 'date')\n          value = utils.formatDate(v[p]);\n        else if (itemMeta.type !== 'object') {\n          if (p == 'photos') {\n            var photos = [];\n            ret.push(\n               <PhotoList photos={v.photos} navigator={self.props.navigator} numberInRow={4} resource={resource}/>\n            );\n            return\n          }\n          else\n            value = v[p];\n        }\n        else if (itemMeta.ref)\n          value = v[p].title  ||  utils.getDisplayName(v[p], utils.getModel(itemMeta.ref).value.properties);\n        else\n          value = v[p].title;\n\n        if (!value)\n          return\n\n        ret.push(\n          <View style={{padding: 10}} key={self.getNextKey()}>\n           <View style={styles.itemColContainer} key={self.getNextKey()}>\n             <Text style={itemMeta.skipLabel ? {height: 0} : styles.title} key={self.getNextKey()}>{itemMeta.skipLabel ? '' : itemMeta.title || utils.makeLabel(p)}</Text>\n             <Text style={styles.description} key={self.getNextKey()}>{value}</Text>\n           </View>\n         </View>\n        );\n      })\n      return (\n        <View key={self.getNextKey()}>\n           {ret}\n           {counter == cnt ? <View></View> : <View style={styles.itemSeparator}></View>}\n        </View>\n      )\n    });\n  }\n\n  render() {\n    if (this.state.isLoading)\n      return <View/>\n    return (\n      <View style={styles.container}>\n        <ListView ref='listview'\n          dataSource={this.state.dataSource}\n          renderRow={this.renderRow.bind(this)}\n          removeClippedSubviews={false}\n          automaticallyAdjustContentInsets={false}\n          keyboardDismissMode='on-drag'\n          keyboardShouldPersistTaps={true}\n          showsVerticalScrollIndicator={false} />\n      </View>\n    );\n  }\n\n}\nreactMixin(ItemsList.prototype, RowMixin);\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    marginTop: 64,\n    marginHorizontal: 10,\n    backgroundColor: 'white',\n  },\n  row: {\n    backgroundColor: 'white',\n    padding: 5,\n  },\n  textContainer: {\n    flex: 1,\n    padding: 5,\n    // alignSelf: 'center',\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  separator: {\n    height: 0.5,\n    backgroundColor: '#cccccc',\n    // flex: 40,\n    marginTop: 5,\n\n  },\n  cellImage: {\n    backgroundColor: '#dddddd',\n    height: 60,\n    marginRight: 10,\n    width: 60,\n    borderColor: '#7AAAc3',\n    borderRadius: 30,\n    borderWidth: 1,\n  },\n});\n\nmodule.exports = ItemsList;\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/ItemsList.js\n **/","'use strict';\n\nvar reactMixin = require('react-mixin');\nvar SearchBar = require('./SearchBar');\nvar ResourceRow = require('./ResourceRow');\nvar ResourceView = require('./ResourceView');\nvar NewResource = require('./NewResource');\nvar ResourceList = require('./ResourceList');\nvar utils = require('../utils/utils');\nvar Reflux = require('reflux');\nvar Store = require('../Store/Store');\nvar Actions = require('../Actions/Actions');\nvar reactMixin = require('react-mixin');\nvar extend = require('extend');\nvar constants = require('@tradle/constants');\n\nimport {\n  ListView,\n  StyleSheet,\n  Text,\n  TouchableHighlight,\n  View,\n} from 'react-native'\n\nimport React, { Component } from 'react'\n\nclass IdentitiesList extends Component {\n  constructor(props) {\n    super(props);\n    var dataSource = new ListView.DataSource({\n        rowHasChanged: (row1, row2) => row1 !== row2,\n      });\n    this.state = {\n      isLoading: utils.getModels() ? false : true,\n      list: this.props.list,\n      dataSource: dataSource.cloneWithRows(this.props.list),\n      filter: this.props.filter,\n      userInput: ''\n    };\n  }\n\n  componentDidMount() {\n    this.listenTo(Store, 'onChangeIdentity');\n  }\n\n  selectResource(resource) {\n    Actions.changeIdentity(resource);\n  }\n  onRemoveIdentity(params) {\n    var list = [];\n    extend(list, this.state.list);\n    for (var i=0; i<list.length; i++) {\n      if (list[i][constants.ROOT_HASH] == params.resource[constants.ROOT_HASH]) {\n        list.splice(i, 1);\n        break;\n      }\n    }\n    this.setState({\n      list: list,\n      dataSource: this.state.dataSource.cloneWithRows(list)\n    })\n  }\n  onChangeIdentity(params) {\n    if (params.action === 'removeIdentity') {\n      this.onRemoveIdentity(params);\n      return;\n    }\n\n    if (params.action !== 'changeIdentity')\n      return;\n    var me = params.me;\n    var modelName = me[constants.TYPE];\n    var model = utils.getModel(modelName).value;\n    var meName = utils.getDisplayName(me, model.properties);\n    var self = this;\n    var route = {\n      title: model.title,\n      component: ResourceList,\n      id: 10,\n      passProps: {\n        filter: '',\n        modelName: modelName,\n      },\n      rightButtonTitle: 'Profile', //'fontawesome|user',\n      onRightButtonPress: {\n        title: meName,\n        id: 3,\n        component: ResourceView,\n        backButtonTitle: 'Back',\n        titleTextColor: '#7AAAC3',\n        rightButtonTitle: 'Edit',\n        onRightButtonPress: {\n          title: meName,\n          id: 4,\n          component: NewResource,\n          titleTextColor: '#7AAAC3',\n          backButtonTitle: 'Back',\n          rightButtonTitle: 'Done',\n          passProps: {\n            model: model,\n            resource: me\n          }\n        },\n\n        passProps: {resource: me}\n      }\n    }\n    this.props.navigator.replace(route);\n  }\n\n  // onSearchChange(event) {\n  //   var filter = event.nativeEvent.text.toLowerCase();\n  //   Actions.list(filter, this.props.list[0][constants.TYPE]);\n  // }\n\n  renderRow(resource)  {\n    var model = utils.getModel(resource[constants.TYPE] || resource.id).value;\n    var me = utils.getMe();\n    return (\n      <ResourceRow\n        onSelect={() => this.selectResource(resource)}\n        resource={resource}\n        onCancel={() => Actions.removeIdentity(resource)} />\n    );\n  }\n  removeIdentity(resource) {\n    Actions.removeIdentity(resource);\n  }\n  render() {\n    if (this.state.isLoading)\n      return <View/>\n    return (\n      <View style={styles.container}>\n        <ListView ref='listview'\n          dataSource={this.state.dataSource}\n          renderRow={this.renderRow.bind(this)}\n          removeClippedSubviews={false}\n          automaticallyAdjustContentInsets={false}\n          keyboardDismissMode='on-drag'\n          keyboardShouldPersistTaps={true}\n          showsVerticalScrollIndicator={false} />\n      </View>\n    );\n  }\n\n}\nreactMixin(IdentitiesList.prototype, Reflux.ListenerMixin);\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    marginTop: 64,\n    backgroundColor: 'white',\n  },\n  centerText: {\n    alignItems: 'center',\n  },\n  NoResourcesText: {\n    marginTop: 80,\n    color: '#888888',\n  },\n  separator: {\n    height: 1,\n    backgroundColor: '#cccccc',\n  },\n  spinner: {\n    width: 30,\n    alignSelf: 'center',\n    marginTop: 150\n  },\n});\n\nmodule.exports = IdentitiesList;\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/IdentitiesList.js\n **/","'use strict'\n\nimport React, { Component } from 'react'\nimport {\n  View,\n  StyleSheet,\n  TextInput\n} from 'react-native'\n\nimport ActivityIndicator from './ActivityIndicator'\n\nclass SearchBar extends Component {\n  render() {\n    var filter = this.props.filter;\n    var value = !filter ||  filter.length === 0 ? '' : filter;\n    return (\n      <View style={styles.searchBar}>\n      <View style={styles.searchBarBG}>\n        <TextInput\n          autoCapitalize='none'\n          autoCorrect={false}\n          onChange={this.props.onSearchChange.bind(this)}\n          onFocus={this.props.onFocus.bind(this)}\n          placeholder='Search'\n          placeholderTextColor='#bbbbbb'\n          style={styles.searchBarInput}\n          value={value}\n        />\n        <ActivityIndicator\n          animating={this.props.isLoading}\n          style={styles.spinner}\n        />\n      </View>\n      </View>\n    );\n  }\n}\n\nvar styles = StyleSheet.create({\n  searchBar: {\n    marginTop: 64,\n    paddingTop: 3,\n    height: 42,\n    paddingBottom: 3,\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#eeeeee',\n  },\n  searchBarBG: {\n    marginTop: 20,\n    // padding: 10,\n    flex: 1,\n    alignSelf: 'center',\n    backgroundColor: '#eeeeee',\n    borderTopColor: '#eeeeee',\n    borderRightColor: '#eeeeee',\n    borderLeftColor: '#eeeeee',\n    borderWidth: 2,\n    borderBottomColor: '#2E3B4E',\n  },\n  searchBarInput: {\n    height: 32,\n    fontSize: 18,\n    paddingLeft: 10,\n    // opacity: 1,\n    fontWeight: 'bold',\n    // backgroundColor: '#D7E6ED',\n    borderRadius: 5,\n    borderWidth: 1,\n    borderColor: '#eeeeee',\n  },\n  separator: {\n    height: 1,\n    backgroundColor: '#eeeeee',\n  },\n  spinner: {\n    width: 30,\n  },\n  scrollSpinner: {\n    marginVertical: 20,\n  },\n});\n\nmodule.exports = SearchBar;\n\n\n\n/** WEBPACK FOOTER **\n ** ./Components/SearchBar.js\n **/"],"sourceRoot":""}