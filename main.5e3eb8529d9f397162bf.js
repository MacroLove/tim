webpackJsonp([0,7],{0:function(e,t,o){o(1),e.exports=o(299)},299:function(e,t,o){(function(e){"use strict";if(e.history&&e.history.length){var t=parseInt(location.hash.replace("#/scene_",""));t&&history.go(-t)}o(300).Alert=o(744),o(745),o(753),o(760),o(762),console.table||(console.table=console.log),o(763),o(764),o(765);var r=o(300).AppRegistry,n=document.createElement("div");document.body.appendChild(n),r.runApplication("Tradle",{rootTag:n}),setTimeout(function(){var e=document.getElementById("splashscreen");e.parentNode.removeChild(e)},500)}).call(t,function(){return this}())},744:function(e,t,o){(function(r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function alert(e,o,i){o||(o=e,e=null),Array.isArray(o)&&(i=o,o=null);var a=void 0;"function"==typeof i?(a=i,i=[]):a=l,i&&i.length||(i=[{text:"OK",onPress:l}]);var s=t.styles;i=i.map(function(e,t){var o=2===i.length&&0===t?s.cancel:s.ok;return r.createElement(n.TouchableOpacity,{onPress:function(){f(),e.onPress&&e.onPress()},style:[s.button,o]},r.createElement(n.Text,null,e.text))});var u=e&&r.createElement(n.View,{style:s.head},r.createElement(n.Text,{style:s.title},e)),c=r.createElement(n.Modal,{animated:"true",transparent:"true"},r.createElement(n.View,{style:s.container},r.createElement(n.View,{style:s.box},u,r.createElement(n.View,{style:s.body},r.createElement(n.Text,{style:s.message},o||"")),r.createElement(n.View,{style:s.buttonsContainer},i)))),f=appendModal(c)}function appendModal(e){var t=document.createDocumentFragment();a["default"].render(e,t);var o="alert-"+Math.random();return t.firstChild.id=o,document.querySelector(".react-root").appendChild(t),function(){var e=document.getElementById(o);e.parentNode.removeChild(e)}}function prompt(e,t,o){throw new Error("not supported yet")}var n=o(300),i=o(342),a=_interopRequireDefault(i),s=!1,l=function(){},u={alert:alert,prompt:prompt},c=n.StyleSheet.create({container:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.4)"},box:{padding:20,maxWidth:600,minWidth:300,backgroundColor:"#ffffff",boxShadow:"2px 2px 10px rgba(0, 0, 0, 0.2)"},head:{flex:1,flexDirection:"row",marginBottom:20,paddingBottom:5,borderBottomWidth:n.StyleSheet.hairlineWidth,borderBottomColor:"#eeeeee"},body:{marginBottom:20,paddingBottom:5},title:{alignSelf:"center",fontSize:30},message:{alignSelf:"left",fontSize:20},buttonsContainer:{flex:1,flexDirection:"row",justifyContent:s?"center":"flex-end"},button:{flex:s?1:null,alignItems:"center",borderRadius:5,borderWidth:1,borderColor:"#eeeeee",paddingLeft:15,paddingRight:15,paddingTop:10,paddingBottom:10},cancel:{marginRight:10},ok:{backgroundColor:"#77ADFC",borderColor:"#77ADFC",color:"#ffffff"}});e.exports=t=u,t.styles=c}).call(t,o(301))},745:function(e,t,o){var r=o(746);"string"==typeof r&&(r=[[e.id,r,""]]);o(752)(r,{});r.locals&&(e.exports=r.locals)},746:function(e,t,o){t=e.exports=o(747)(),t.push([e.id,"@font-face{font-family:tradle;src:url("+o(748)+");src:url("+o(748)+"#iefix) format('embedded-opentype'),url("+o(749)+") format('truetype'),url("+o(750)+") format('woff'),url("+o(751)+'#tradle) format(\'svg\');font-weight:400;font-style:normal}[class*=" ui-icon-"],[class^=ui-icon-]{font-family:tradle!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.ui-icon-tradle:before{content:"\\E610"}',""])},748:function(e,t,o){e.exports=o.p+"0b8ad9efdc0d32eb107c34ca354af3d2.eot"},749:function(e,t,o){e.exports=o.p+"6bfbf98096204fb2a9d726fb60b9dc05.ttf"},750:function(e,t,o){e.exports=o.p+"a67d2970134237faa1ca9dfcfd321a7e.woff"},751:function(e,t,o){e.exports=o.p+"697bab732db1c0ed4e1c5c48e932ff0e.svg"},753:function(e,t,o){var r=o(754);"string"==typeof r&&(r=[[e.id,r,""]]);o(752)(r,{});r.locals&&(e.exports=r.locals)},754:function(e,t,o){t=e.exports=o(747)(),t.push([e.id,"/*!\n  Ionicons, v3.0.0-alpha.3\n  Created by Ben Sperry for the Ionic Framework, http://ionicons.com/\n  https://twitter.com/benjsperry  https://twitter.com/ionicframework\n  MIT License: https://github.com/driftyco/ionicons\n\n  Android-style icons originally built by Google’s\n  Material Design Icons: https://github.com/google/material-design-icons\n  used under CC BY http://creativecommons.org/licenses/by/4.0/\n  Modified icons to fit ionicon’s grid from original.\n*/@font-face{font-family:Ionicons;src:url("+o(755)+");src:url("+o(755)+'#iefix) format("embedded-opentype"),url('+o(756)+') format("woff2"),url('+o(757)+') format("woff"),url('+o(758)+') format("truetype"),url('+o(759)+'#Ionicons) format("svg");font-weight:400;font-style:normal}.ion,.ion-ios-add-circle-outline:before,.ion-ios-add-circle:before,.ion-ios-add-outline:before,.ion-ios-add:before,.ion-ios-alarm-outline:before,.ion-ios-alarm:before,.ion-ios-albums-outline:before,.ion-ios-albums:before,.ion-ios-alert-outline:before,.ion-ios-alert:before,.ion-ios-american-football-outline:before,.ion-ios-american-football:before,.ion-ios-analytics-outline:before,.ion-ios-analytics:before,.ion-ios-aperture-outline:before,.ion-ios-aperture:before,.ion-ios-apps-outline:before,.ion-ios-apps:before,.ion-ios-appstore-outline:before,.ion-ios-appstore:before,.ion-ios-archive-outline:before,.ion-ios-archive:before,.ion-ios-arrow-back-outline:before,.ion-ios-arrow-back:before,.ion-ios-arrow-down-outline:before,.ion-ios-arrow-down:before,.ion-ios-arrow-dropdown-circle-outline:before,.ion-ios-arrow-dropdown-circle:before,.ion-ios-arrow-dropdown-outline:before,.ion-ios-arrow-dropdown:before,.ion-ios-arrow-dropleft-circle-outline:before,.ion-ios-arrow-dropleft-circle:before,.ion-ios-arrow-dropleft-outline:before,.ion-ios-arrow-dropleft:before,.ion-ios-arrow-dropright-circle-outline:before,.ion-ios-arrow-dropright-circle:before,.ion-ios-arrow-dropright-outline:before,.ion-ios-arrow-dropright:before,.ion-ios-arrow-dropup-circle-outline:before,.ion-ios-arrow-dropup-circle:before,.ion-ios-arrow-dropup-outline:before,.ion-ios-arrow-dropup:before,.ion-ios-arrow-forward-outline:before,.ion-ios-arrow-forward:before,.ion-ios-arrow-round-back-outline:before,.ion-ios-arrow-round-back:before,.ion-ios-arrow-round-down-outline:before,.ion-ios-arrow-round-down:before,.ion-ios-arrow-round-forward-outline:before,.ion-ios-arrow-round-forward:before,.ion-ios-arrow-round-up-outline:before,.ion-ios-arrow-round-up:before,.ion-ios-arrow-up-outline:before,.ion-ios-arrow-up:before,.ion-ios-at-outline:before,.ion-ios-at:before,.ion-ios-attach-outline:before,.ion-ios-attach:before,.ion-ios-backspace-outline:before,.ion-ios-backspace:before,.ion-ios-barcode-outline:before,.ion-ios-barcode:before,.ion-ios-baseball-outline:before,.ion-ios-baseball:before,.ion-ios-basket-outline:before,.ion-ios-basket:before,.ion-ios-basketball-outline:before,.ion-ios-basketball:before,.ion-ios-battery-charging-outline:before,.ion-ios-battery-charging:before,.ion-ios-battery-dead-outline:before,.ion-ios-battery-dead:before,.ion-ios-battery-full-outline:before,.ion-ios-battery-full:before,.ion-ios-beaker-outline:before,.ion-ios-beaker:before,.ion-ios-beer-outline:before,.ion-ios-beer:before,.ion-ios-bicycle-outline:before,.ion-ios-bicycle:before,.ion-ios-bluetooth-outline:before,.ion-ios-bluetooth:before,.ion-ios-boat-outline:before,.ion-ios-boat:before,.ion-ios-body-outline:before,.ion-ios-body:before,.ion-ios-bonfire-outline:before,.ion-ios-bonfire:before,.ion-ios-book-outline:before,.ion-ios-book:before,.ion-ios-bookmark-outline:before,.ion-ios-bookmark:before,.ion-ios-bookmarks-outline:before,.ion-ios-bookmarks:before,.ion-ios-bowtie-outline:before,.ion-ios-bowtie:before,.ion-ios-briefcase-outline:before,.ion-ios-briefcase:before,.ion-ios-browsers-outline:before,.ion-ios-browsers:before,.ion-ios-brush-outline:before,.ion-ios-brush:before,.ion-ios-bug-outline:before,.ion-ios-bug:before,.ion-ios-build-outline:before,.ion-ios-build:before,.ion-ios-bulb-outline:before,.ion-ios-bulb:before,.ion-ios-bus-outline:before,.ion-ios-bus:before,.ion-ios-cafe-outline:before,.ion-ios-cafe:before,.ion-ios-calculator-outline:before,.ion-ios-calculator:before,.ion-ios-calendar-outline:before,.ion-ios-calendar:before,.ion-ios-call-outline:before,.ion-ios-call:before,.ion-ios-camera-outline:before,.ion-ios-camera:before,.ion-ios-car-outline:before,.ion-ios-car:before,.ion-ios-card-outline:before,.ion-ios-card:before,.ion-ios-cart-outline:before,.ion-ios-cart:before,.ion-ios-cash-outline:before,.ion-ios-cash:before,.ion-ios-chatboxes-outline:before,.ion-ios-chatboxes:before,.ion-ios-chatbubbles-outline:before,.ion-ios-chatbubbles:before,.ion-ios-checkbox-outline:before,.ion-ios-checkbox:before,.ion-ios-checkmark-circle-outline:before,.ion-ios-checkmark-circle:before,.ion-ios-checkmark-outline:before,.ion-ios-checkmark:before,.ion-ios-clipboard-outline:before,.ion-ios-clipboard:before,.ion-ios-clock-outline:before,.ion-ios-clock:before,.ion-ios-close-circle-outline:before,.ion-ios-close-circle:before,.ion-ios-close-outline:before,.ion-ios-close:before,.ion-ios-closed-captioning-outline:before,.ion-ios-closed-captioning:before,.ion-ios-cloud-circle-outline:before,.ion-ios-cloud-circle:before,.ion-ios-cloud-done-outline:before,.ion-ios-cloud-done:before,.ion-ios-cloud-download-outline:before,.ion-ios-cloud-download:before,.ion-ios-cloud-outline:before,.ion-ios-cloud-upload-outline:before,.ion-ios-cloud-upload:before,.ion-ios-cloud:before,.ion-ios-cloudy-night-outline:before,.ion-ios-cloudy-night:before,.ion-ios-cloudy-outline:before,.ion-ios-cloudy:before,.ion-ios-code-download-outline:before,.ion-ios-code-download:before,.ion-ios-code-outline:before,.ion-ios-code-working-outline:before,.ion-ios-code-working:before,.ion-ios-code:before,.ion-ios-cog-outline:before,.ion-ios-cog:before,.ion-ios-color-fill-outline:before,.ion-ios-color-fill:before,.ion-ios-color-filter-outline:before,.ion-ios-color-filter:before,.ion-ios-color-palette-outline:before,.ion-ios-color-palette:before,.ion-ios-color-wand-outline:before,.ion-ios-color-wand:before,.ion-ios-compass-outline:before,.ion-ios-compass:before,.ion-ios-construct-outline:before,.ion-ios-construct:before,.ion-ios-contact-outline:before,.ion-ios-contact:before,.ion-ios-contacts-outline:before,.ion-ios-contacts:before,.ion-ios-contract-outline:before,.ion-ios-contract:before,.ion-ios-contrast-outline:before,.ion-ios-contrast:before,.ion-ios-copy-outline:before,.ion-ios-copy:before,.ion-ios-create-outline:before,.ion-ios-create:before,.ion-ios-crop-outline:before,.ion-ios-crop:before,.ion-ios-cube-outline:before,.ion-ios-cube:before,.ion-ios-cut-outline:before,.ion-ios-cut:before,.ion-ios-desktop-outline:before,.ion-ios-desktop:before,.ion-ios-disc-outline:before,.ion-ios-disc:before,.ion-ios-document-outline:before,.ion-ios-document:before,.ion-ios-done-all-outline:before,.ion-ios-done-all:before,.ion-ios-download-outline:before,.ion-ios-download:before,.ion-ios-easel-outline:before,.ion-ios-easel:before,.ion-ios-egg-outline:before,.ion-ios-egg:before,.ion-ios-exit-outline:before,.ion-ios-exit:before,.ion-ios-expand-outline:before,.ion-ios-expand:before,.ion-ios-eye-off-outline:before,.ion-ios-eye-off:before,.ion-ios-eye-outline:before,.ion-ios-eye:before,.ion-ios-fastforward-outline:before,.ion-ios-fastforward:before,.ion-ios-female-outline:before,.ion-ios-female:before,.ion-ios-filing-outline:before,.ion-ios-filing:before,.ion-ios-film-outline:before,.ion-ios-film:before,.ion-ios-finger-print-outline:before,.ion-ios-finger-print:before,.ion-ios-flag-outline:before,.ion-ios-flag:before,.ion-ios-flame-outline:before,.ion-ios-flame:before,.ion-ios-flash-outline:before,.ion-ios-flash:before,.ion-ios-flask-outline:before,.ion-ios-flask:before,.ion-ios-flower-outline:before,.ion-ios-flower:before,.ion-ios-folder-open-outline:before,.ion-ios-folder-open:before,.ion-ios-folder-outline:before,.ion-ios-folder:before,.ion-ios-football-outline:before,.ion-ios-football:before,.ion-ios-funnel-outline:before,.ion-ios-funnel:before,.ion-ios-game-controller-a-outline:before,.ion-ios-game-controller-a:before,.ion-ios-game-controller-b-outline:before,.ion-ios-game-controller-b:before,.ion-ios-git-branch-outline:before,.ion-ios-git-branch:before,.ion-ios-git-commit-outline:before,.ion-ios-git-commit:before,.ion-ios-git-compare-outline:before,.ion-ios-git-compare:before,.ion-ios-git-merge-outline:before,.ion-ios-git-merge:before,.ion-ios-git-network-outline:before,.ion-ios-git-network:before,.ion-ios-git-pull-request-outline:before,.ion-ios-git-pull-request:before,.ion-ios-glasses-outline:before,.ion-ios-glasses:before,.ion-ios-globe-outline:before,.ion-ios-globe:before,.ion-ios-grid-outline:before,.ion-ios-grid:before,.ion-ios-hammer-outline:before,.ion-ios-hammer:before,.ion-ios-hand-outline:before,.ion-ios-hand:before,.ion-ios-happy-outline:before,.ion-ios-happy:before,.ion-ios-headset-outline:before,.ion-ios-headset:before,.ion-ios-heart-outline:before,.ion-ios-heart:before,.ion-ios-help-buoy-outline:before,.ion-ios-help-buoy:before,.ion-ios-help-circle-outline:before,.ion-ios-help-circle:before,.ion-ios-help-outline:before,.ion-ios-help:before,.ion-ios-home-outline:before,.ion-ios-home:before,.ion-ios-ice-cream-outline:before,.ion-ios-ice-cream:before,.ion-ios-image-outline:before,.ion-ios-image:before,.ion-ios-images-outline:before,.ion-ios-images:before,.ion-ios-infinite-outline:before,.ion-ios-infinite:before,.ion-ios-information-circle-outline:before,.ion-ios-information-circle:before,.ion-ios-information-outline:before,.ion-ios-information:before,.ion-ios-ionic-outline:before,.ion-ios-ionic:before,.ion-ios-ionitron-outline:before,.ion-ios-ionitron:before,.ion-ios-jet-outline:before,.ion-ios-jet:before,.ion-ios-key-outline:before,.ion-ios-key:before,.ion-ios-keypad-outline:before,.ion-ios-keypad:before,.ion-ios-laptop-outline:before,.ion-ios-laptop:before,.ion-ios-leaf-outline:before,.ion-ios-leaf:before,.ion-ios-link-outline:before,.ion-ios-link:before,.ion-ios-list-box-outline:before,.ion-ios-list-box:before,.ion-ios-list-outline:before,.ion-ios-list:before,.ion-ios-locate-outline:before,.ion-ios-locate:before,.ion-ios-lock-outline:before,.ion-ios-lock:before,.ion-ios-log-in-outline:before,.ion-ios-log-in:before,.ion-ios-log-out-outline:before,.ion-ios-log-out:before,.ion-ios-magnet-outline:before,.ion-ios-magnet:before,.ion-ios-mail-open-outline:before,.ion-ios-mail-open:before,.ion-ios-mail-outline:before,.ion-ios-mail:before,.ion-ios-male-outline:before,.ion-ios-male:before,.ion-ios-man-outline:before,.ion-ios-man:before,.ion-ios-map-outline:before,.ion-ios-map:before,.ion-ios-medal-outline:before,.ion-ios-medal:before,.ion-ios-medical-outline:before,.ion-ios-medical:before,.ion-ios-medkit-outline:before,.ion-ios-medkit:before,.ion-ios-megaphone-outline:before,.ion-ios-megaphone:before,.ion-ios-menu-outline:before,.ion-ios-menu:before,.ion-ios-mic-off-outline:before,.ion-ios-mic-off:before,.ion-ios-mic-outline:before,.ion-ios-mic:before,.ion-ios-microphone-outline:before,.ion-ios-microphone:before,.ion-ios-moon-outline:before,.ion-ios-moon:before,.ion-ios-more-outline:before,.ion-ios-more:before,.ion-ios-move-outline:before,.ion-ios-move:before,.ion-ios-musical-note-outline:before,.ion-ios-musical-note:before,.ion-ios-musical-notes-outline:before,.ion-ios-musical-notes:before,.ion-ios-navigate-outline:before,.ion-ios-navigate:before,.ion-ios-no-smoking-outline:before,.ion-ios-no-smoking:before,.ion-ios-notifications-off-outline:before,.ion-ios-notifications-off:before,.ion-ios-notifications-outline:before,.ion-ios-notifications:before,.ion-ios-nuclear-outline:before,.ion-ios-nuclear:before,.ion-ios-nutrition-outline:before,.ion-ios-nutrition:before,.ion-ios-open-outline:before,.ion-ios-open:before,.ion-ios-options-outline:before,.ion-ios-options:before,.ion-ios-outlet-outline:before,.ion-ios-outlet:before,.ion-ios-paper-outline:before,.ion-ios-paper-plane-outline:before,.ion-ios-paper-plane:before,.ion-ios-paper:before,.ion-ios-partly-sunny-outline:before,.ion-ios-partly-sunny:before,.ion-ios-pause-outline:before,.ion-ios-pause:before,.ion-ios-paw-outline:before,.ion-ios-paw:before,.ion-ios-people-outline:before,.ion-ios-people:before,.ion-ios-person-add-outline:before,.ion-ios-person-add:before,.ion-ios-person-outline:before,.ion-ios-person:before,.ion-ios-phone-landscape-outline:before,.ion-ios-phone-landscape:before,.ion-ios-phone-portrait-outline:before,.ion-ios-phone-portrait:before,.ion-ios-photos-outline:before,.ion-ios-photos:before,.ion-ios-pie-outline:before,.ion-ios-pie:before,.ion-ios-pin-outline:before,.ion-ios-pin:before,.ion-ios-pint-outline:before,.ion-ios-pint:before,.ion-ios-pizza-outline:before,.ion-ios-pizza:before,.ion-ios-plane-outline:before,.ion-ios-plane:before,.ion-ios-planet-outline:before,.ion-ios-planet:before,.ion-ios-play-outline:before,.ion-ios-play:before,.ion-ios-podium-outline:before,.ion-ios-podium:before,.ion-ios-power-outline:before,.ion-ios-power:before,.ion-ios-pricetag-outline:before,.ion-ios-pricetag:before,.ion-ios-pricetags-outline:before,.ion-ios-pricetags:before,.ion-ios-print-outline:before,.ion-ios-print:before,.ion-ios-pulse-outline:before,.ion-ios-pulse:before,.ion-ios-qr-scanner-outline:before,.ion-ios-qr-scanner:before,.ion-ios-quote-outline:before,.ion-ios-quote:before,.ion-ios-radio-button-off-outline:before,.ion-ios-radio-button-off:before,.ion-ios-radio-button-on-outline:before,.ion-ios-radio-button-on:before,.ion-ios-radio-outline:before,.ion-ios-radio:before,.ion-ios-rainy-outline:before,.ion-ios-rainy:before,.ion-ios-recording-outline:before,.ion-ios-recording:before,.ion-ios-redo-outline:before,.ion-ios-redo:before,.ion-ios-refresh-circle-outline:before,.ion-ios-refresh-circle:before,.ion-ios-refresh-outline:before,.ion-ios-refresh:before,.ion-ios-remove-circle-outline:before,.ion-ios-remove-circle:before,.ion-ios-remove-outline:before,.ion-ios-remove:before,.ion-ios-reorder-outline:before,.ion-ios-reorder:before,.ion-ios-repeat-outline:before,.ion-ios-repeat:before,.ion-ios-resize-outline:before,.ion-ios-resize:before,.ion-ios-restaurant-outline:before,.ion-ios-restaurant:before,.ion-ios-return-left-outline:before,.ion-ios-return-left:before,.ion-ios-return-right-outline:before,.ion-ios-return-right:before,.ion-ios-reverse-camera-outline:before,.ion-ios-reverse-camera:before,.ion-ios-rewind-outline:before,.ion-ios-rewind:before,.ion-ios-ribbon-outline:before,.ion-ios-ribbon:before,.ion-ios-rose-outline:before,.ion-ios-rose:before,.ion-ios-sad-outline:before,.ion-ios-sad:before,.ion-ios-school-outline:before,.ion-ios-school:before,.ion-ios-search-outline:before,.ion-ios-search:before,.ion-ios-send-outline:before,.ion-ios-send:before,.ion-ios-settings-outline:before,.ion-ios-settings:before,.ion-ios-share-alt-outline:before,.ion-ios-share-alt:before,.ion-ios-share-outline:before,.ion-ios-share:before,.ion-ios-shirt-outline:before,.ion-ios-shirt:before,.ion-ios-shuffle-outline:before,.ion-ios-shuffle:before,.ion-ios-skip-backward-outline:before,.ion-ios-skip-backward:before,.ion-ios-skip-forward-outline:before,.ion-ios-skip-forward:before,.ion-ios-snow-outline:before,.ion-ios-snow:before,.ion-ios-speedometer-outline:before,.ion-ios-speedometer:before,.ion-ios-square-outline:before,.ion-ios-square:before,.ion-ios-star-half-outline:before,.ion-ios-star-half:before,.ion-ios-star-outline:before,.ion-ios-star:before,.ion-ios-stats-outline:before,.ion-ios-stats:before,.ion-ios-stopwatch-outline:before,.ion-ios-stopwatch:before,.ion-ios-subway-outline:before,.ion-ios-subway:before,.ion-ios-sunny-outline:before,.ion-ios-sunny:before,.ion-ios-swap-outline:before,.ion-ios-swap:before,.ion-ios-switch-outline:before,.ion-ios-switch:before,.ion-ios-sync-outline:before,.ion-ios-sync:before,.ion-ios-tablet-landscape-outline:before,.ion-ios-tablet-landscape:before,.ion-ios-tablet-portrait-outline:before,.ion-ios-tablet-portrait:before,.ion-ios-tennisball-outline:before,.ion-ios-tennisball:before,.ion-ios-text-outline:before,.ion-ios-text:before,.ion-ios-thermometer-outline:before,.ion-ios-thermometer:before,.ion-ios-thumbs-down-outline:before,.ion-ios-thumbs-down:before,.ion-ios-thumbs-up-outline:before,.ion-ios-thumbs-up:before,.ion-ios-thunderstorm-outline:before,.ion-ios-thunderstorm:before,.ion-ios-time-outline:before,.ion-ios-time:before,.ion-ios-timer-outline:before,.ion-ios-timer:before,.ion-ios-train-outline:before,.ion-ios-train:before,.ion-ios-transgender-outline:before,.ion-ios-transgender:before,.ion-ios-trash-outline:before,.ion-ios-trash:before,.ion-ios-trending-down-outline:before,.ion-ios-trending-down:before,.ion-ios-trending-up-outline:before,.ion-ios-trending-up:before,.ion-ios-trophy-outline:before,.ion-ios-trophy:before,.ion-ios-umbrella-outline:before,.ion-ios-umbrella:before,.ion-ios-undo-outline:before,.ion-ios-undo:before,.ion-ios-unlock-outline:before,.ion-ios-unlock:before,.ion-ios-videocam-outline:before,.ion-ios-videocam:before,.ion-ios-volume-down-outline:before,.ion-ios-volume-down:before,.ion-ios-volume-mute-outline:before,.ion-ios-volume-mute:before,.ion-ios-volume-off-outline:before,.ion-ios-volume-off:before,.ion-ios-volume-up-outline:before,.ion-ios-volume-up:before,.ion-ios-walk-outline:before,.ion-ios-walk:before,.ion-ios-warning-outline:before,.ion-ios-warning:before,.ion-ios-watch-outline:before,.ion-ios-watch:before,.ion-ios-water-outline:before,.ion-ios-water:before,.ion-ios-wifi-outline:before,.ion-ios-wifi:before,.ion-ios-wine-outline:before,.ion-ios-wine:before,.ion-ios-woman-outline:before,.ion-ios-woman:before,.ion-logo-android:before,.ion-logo-angular:before,.ion-logo-apple:before,.ion-logo-bitcoin:before,.ion-logo-buffer:before,.ion-logo-chrome:before,.ion-logo-codepen:before,.ion-logo-css3:before,.ion-logo-designernews:before,.ion-logo-dribbble:before,.ion-logo-dropbox:before,.ion-logo-euro:before,.ion-logo-facebook:before,.ion-logo-foursquare:before,.ion-logo-freebsd-devil:before,.ion-logo-github:before,.ion-logo-google:before,.ion-logo-googleplus:before,.ion-logo-hackernews:before,.ion-logo-html5:before,.ion-logo-instagram:before,.ion-logo-javascript:before,.ion-logo-linkedin:before,.ion-logo-markdown:before,.ion-logo-nodejs:before,.ion-logo-octocat:before,.ion-logo-pinterest:before,.ion-logo-playstation:before,.ion-logo-python:before,.ion-logo-reddit:before,.ion-logo-rss:before,.ion-logo-sass:before,.ion-logo-skype:before,.ion-logo-snapchat:before,.ion-logo-steam:before,.ion-logo-tumblr:before,.ion-logo-tux:before,.ion-logo-twitch:before,.ion-logo-twitter:before,.ion-logo-usd:before,.ion-logo-vimeo:before,.ion-logo-whatsapp:before,.ion-logo-windows:before,.ion-logo-wordpress:before,.ion-logo-xbox:before,.ion-logo-yahoo:before,.ion-logo-yen:before,.ion-logo-youtube:before,.ion-md-add-circle:before,.ion-md-add:before,.ion-md-alarm:before,.ion-md-albums:before,.ion-md-alert:before,.ion-md-american-football:before,.ion-md-analytics:before,.ion-md-aperture:before,.ion-md-apps:before,.ion-md-appstore:before,.ion-md-archive:before,.ion-md-arrow-back:before,.ion-md-arrow-down:before,.ion-md-arrow-dropdown-circle:before,.ion-md-arrow-dropdown:before,.ion-md-arrow-dropleft-circle:before,.ion-md-arrow-dropleft:before,.ion-md-arrow-dropright-circle:before,.ion-md-arrow-dropright:before,.ion-md-arrow-dropup-circle:before,.ion-md-arrow-dropup:before,.ion-md-arrow-forward:before,.ion-md-arrow-round-back:before,.ion-md-arrow-round-down:before,.ion-md-arrow-round-forward:before,.ion-md-arrow-round-up:before,.ion-md-arrow-up:before,.ion-md-at:before,.ion-md-attach:before,.ion-md-backspace:before,.ion-md-barcode:before,.ion-md-baseball:before,.ion-md-basket:before,.ion-md-basketball:before,.ion-md-battery-charging:before,.ion-md-battery-dead:before,.ion-md-battery-full:before,.ion-md-beaker:before,.ion-md-beer:before,.ion-md-bicycle:before,.ion-md-bluetooth:before,.ion-md-boat:before,.ion-md-body:before,.ion-md-bonfire:before,.ion-md-book:before,.ion-md-bookmark:before,.ion-md-bookmarks:before,.ion-md-bowtie:before,.ion-md-briefcase:before,.ion-md-browsers:before,.ion-md-brush:before,.ion-md-bug:before,.ion-md-build:before,.ion-md-bulb:before,.ion-md-bus:before,.ion-md-cafe:before,.ion-md-calculator:before,.ion-md-calendar:before,.ion-md-call:before,.ion-md-camera:before,.ion-md-car:before,.ion-md-card:before,.ion-md-cart:before,.ion-md-cash:before,.ion-md-chatboxes:before,.ion-md-chatbubbles:before,.ion-md-checkbox-outline:before,.ion-md-checkbox:before,.ion-md-checkmark-circle-outline:before,.ion-md-checkmark-circle:before,.ion-md-checkmark:before,.ion-md-clipboard:before,.ion-md-clock:before,.ion-md-close-circle:before,.ion-md-close:before,.ion-md-closed-captioning:before,.ion-md-cloud-circle:before,.ion-md-cloud-done:before,.ion-md-cloud-download:before,.ion-md-cloud-outline:before,.ion-md-cloud-upload:before,.ion-md-cloud:before,.ion-md-cloudy-night:before,.ion-md-cloudy:before,.ion-md-code-download:before,.ion-md-code-working:before,.ion-md-code:before,.ion-md-cog:before,.ion-md-color-fill:before,.ion-md-color-filter:before,.ion-md-color-palette:before,.ion-md-color-wand:before,.ion-md-compass:before,.ion-md-construct:before,.ion-md-contact:before,.ion-md-contacts:before,.ion-md-contract:before,.ion-md-contrast:before,.ion-md-copy:before,.ion-md-create:before,.ion-md-crop:before,.ion-md-cube:before,.ion-md-cut:before,.ion-md-desktop:before,.ion-md-disc:before,.ion-md-document:before,.ion-md-done-all:before,.ion-md-download:before,.ion-md-easel:before,.ion-md-egg:before,.ion-md-exit:before,.ion-md-expand:before,.ion-md-eye-off:before,.ion-md-eye:before,.ion-md-fastforward:before,.ion-md-female:before,.ion-md-filing:before,.ion-md-film:before,.ion-md-finger-print:before,.ion-md-flag:before,.ion-md-flame:before,.ion-md-flash:before,.ion-md-flask:before,.ion-md-flower:before,.ion-md-folder-open:before,.ion-md-folder:before,.ion-md-football:before,.ion-md-funnel:before,.ion-md-game-controller-a:before,.ion-md-game-controller-b:before,.ion-md-git-branch:before,.ion-md-git-commit:before,.ion-md-git-compare:before,.ion-md-git-merge:before,.ion-md-git-network:before,.ion-md-git-pull-request:before,.ion-md-glasses:before,.ion-md-globe:before,.ion-md-grid:before,.ion-md-hammer:before,.ion-md-hand:before,.ion-md-happy:before,.ion-md-headset:before,.ion-md-heart-outline:before,.ion-md-heart:before,.ion-md-help-buoy:before,.ion-md-help-circle:before,.ion-md-help:before,.ion-md-home:before,.ion-md-ice-cream:before,.ion-md-image:before,.ion-md-images:before,.ion-md-infinite:before,.ion-md-information-circle:before,.ion-md-information:before,.ion-md-ionic:before,.ion-md-ionitron:before,.ion-md-jet:before,.ion-md-key:before,.ion-md-keypad:before,.ion-md-laptop:before,.ion-md-leaf:before,.ion-md-link:before,.ion-md-list-box:before,.ion-md-list:before,.ion-md-locate:before,.ion-md-lock:before,.ion-md-log-in:before,.ion-md-log-out:before,.ion-md-magnet:before,.ion-md-mail-open:before,.ion-md-mail:before,.ion-md-male:before,.ion-md-man:before,.ion-md-map:before,.ion-md-medal:before,.ion-md-medical:before,.ion-md-medkit:before,.ion-md-megaphone:before,.ion-md-menu:before,.ion-md-mic-off:before,.ion-md-mic:before,.ion-md-microphone:before,.ion-md-moon:before,.ion-md-more:before,.ion-md-move:before,.ion-md-musical-note:before,.ion-md-musical-notes:before,.ion-md-navigate:before,.ion-md-no-smoking:before,.ion-md-notifications-off:before,.ion-md-notifications-outline:before,.ion-md-notifications:before,.ion-md-nuclear:before,.ion-md-nutrition:before,.ion-md-open:before,.ion-md-options:before,.ion-md-outlet:before,.ion-md-paper-plane:before,.ion-md-paper:before,.ion-md-partly-sunny:before,.ion-md-pause:before,.ion-md-paw:before,.ion-md-people:before,.ion-md-person-add:before,.ion-md-person:before,.ion-md-phone-landscape:before,.ion-md-phone-portrait:before,.ion-md-photos:before,.ion-md-pie:before,.ion-md-pin:before,.ion-md-pint:before,.ion-md-pizza:before,.ion-md-plane:before,.ion-md-planet:before,.ion-md-play:before,.ion-md-podium:before,.ion-md-power:before,.ion-md-pricetag:before,.ion-md-pricetags:before,.ion-md-print:before,.ion-md-pulse:before,.ion-md-qr-scanner:before,.ion-md-quote:before,.ion-md-radio-button-off:before,.ion-md-radio-button-on:before,.ion-md-radio:before,.ion-md-rainy:before,.ion-md-recording:before,.ion-md-redo:before,.ion-md-refresh-circle:before,.ion-md-refresh:before,.ion-md-remove-circle:before,.ion-md-remove:before,.ion-md-reorder:before,.ion-md-repeat:before,.ion-md-resize:before,.ion-md-restaurant:before,.ion-md-return-left:before,.ion-md-return-right:before,.ion-md-reverse-camera:before,.ion-md-rewind:before,.ion-md-ribbon:before,.ion-md-rose:before,.ion-md-sad:before,.ion-md-school:before,.ion-md-search:before,.ion-md-send:before,.ion-md-settings:before,.ion-md-share-alt:before,.ion-md-share:before,.ion-md-shirt:before,.ion-md-shuffle:before,.ion-md-skip-backward:before,.ion-md-skip-forward:before,.ion-md-snow:before,.ion-md-speedometer:before,.ion-md-square-outline:before,.ion-md-square:before,.ion-md-star-half:before,.ion-md-star-outline:before,.ion-md-star:before,.ion-md-stats:before,.ion-md-stopwatch:before,.ion-md-subway:before,.ion-md-sunny:before,.ion-md-swap:before,.ion-md-switch:before,.ion-md-sync:before,.ion-md-tablet-landscape:before,.ion-md-tablet-portrait:before,.ion-md-tennisball:before,.ion-md-text:before,.ion-md-thermometer:before,.ion-md-thumbs-down:before,.ion-md-thumbs-up:before,.ion-md-thunderstorm:before,.ion-md-time:before,.ion-md-timer:before,.ion-md-train:before,.ion-md-transgender:before,.ion-md-trash:before,.ion-md-trending-down:before,.ion-md-trending-up:before,.ion-md-trophy:before,.ion-md-umbrella:before,.ion-md-undo:before,.ion-md-unlock:before,.ion-md-videocam:before,.ion-md-volume-down:before,.ion-md-volume-mute:before,.ion-md-volume-off:before,.ion-md-volume-up:before,.ion-md-walk:before,.ion-md-warning:before,.ion-md-watch:before,.ion-md-water:before,.ion-md-wifi:before,.ion-md-wine:before,.ion-md-woman:before,.ionicons{display:inline-block;font-family:Ionicons;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;text-rendering:auto;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.ion-ios-add:before{content:"\\F102"}.ion-ios-add-circle:before{content:"\\F101"}.ion-ios-add-circle-outline:before{content:"\\F100"}.ion-ios-add-outline:before{content:"\\F102"}.ion-ios-alarm:before{content:"\\F3C8"}.ion-ios-alarm-outline:before{content:"\\F3C7"}.ion-ios-albums:before{content:"\\F3CA"}.ion-ios-albums-outline:before{content:"\\F3C9"}.ion-ios-alert:before{content:"\\F104"}.ion-ios-alert-outline:before{content:"\\F103"}.ion-ios-american-football:before{content:"\\F106"}.ion-ios-american-football-outline:before{content:"\\F105"}.ion-ios-analytics:before{content:"\\F3CE"}.ion-ios-analytics-outline:before{content:"\\F3CD"}.ion-ios-aperture:before{content:"\\F108"}.ion-ios-aperture-outline:before{content:"\\F107"}.ion-ios-apps:before{content:"\\F10A"}.ion-ios-apps-outline:before{content:"\\F109"}.ion-ios-appstore:before{content:"\\F10C"}.ion-ios-appstore-outline:before{content:"\\F10B"}.ion-ios-archive:before{content:"\\F10E"}.ion-ios-archive-outline:before{content:"\\F10D"}.ion-ios-arrow-back-outline:before,.ion-ios-arrow-back:before{content:"\\F3CF"}.ion-ios-arrow-down-outline:before,.ion-ios-arrow-down:before{content:"\\F3D0"}.ion-ios-arrow-dropdown:before{content:"\\F110"}.ion-ios-arrow-dropdown-circle-outline:before,.ion-ios-arrow-dropdown-circle:before{content:"\\F10F"}.ion-ios-arrow-dropdown-outline:before{content:"\\F110"}.ion-ios-arrow-dropleft:before{content:"\\F112"}.ion-ios-arrow-dropleft-circle-outline:before,.ion-ios-arrow-dropleft-circle:before{content:"\\F111"}.ion-ios-arrow-dropleft-outline:before{content:"\\F112"}.ion-ios-arrow-dropright:before{content:"\\F114"}.ion-ios-arrow-dropright-circle-outline:before,.ion-ios-arrow-dropright-circle:before{content:"\\F113"}.ion-ios-arrow-dropright-outline:before{content:"\\F114"}.ion-ios-arrow-dropup:before{content:"\\F116"}.ion-ios-arrow-dropup-circle-outline:before,.ion-ios-arrow-dropup-circle:before{content:"\\F115"}.ion-ios-arrow-dropup-outline:before{content:"\\F116"}.ion-ios-arrow-forward-outline:before,.ion-ios-arrow-forward:before{content:"\\F3D1"}.ion-ios-arrow-round-back-outline:before,.ion-ios-arrow-round-back:before{content:"\\F117"}.ion-ios-arrow-round-down-outline:before,.ion-ios-arrow-round-down:before{content:"\\F118"}.ion-ios-arrow-round-forward-outline:before,.ion-ios-arrow-round-forward:before{content:"\\F119"}.ion-ios-arrow-round-up-outline:before,.ion-ios-arrow-round-up:before{content:"\\F11A"}.ion-ios-arrow-up-outline:before,.ion-ios-arrow-up:before{content:"\\F3D8"}.ion-ios-at:before{content:"\\F3DA"}.ion-ios-at-outline:before{content:"\\F3D9"}.ion-ios-attach-outline:before,.ion-ios-attach:before{content:"\\F11B"}.ion-ios-backspace:before{content:"\\F11D"}.ion-ios-backspace-outline:before{content:"\\F11C"}.ion-ios-barcode:before{content:"\\F3DC"}.ion-ios-barcode-outline:before{content:"\\F3DB"}.ion-ios-baseball:before{content:"\\F3DE"}.ion-ios-baseball-outline:before{content:"\\F3DD"}.ion-ios-basket:before{content:"\\F11F"}.ion-ios-basket-outline:before{content:"\\F11E"}.ion-ios-basketball:before{content:"\\F3E0"}.ion-ios-basketball-outline:before{content:"\\F3DF"}.ion-ios-battery-charging-outline:before,.ion-ios-battery-charging:before{content:"\\F120"}.ion-ios-battery-dead-outline:before,.ion-ios-battery-dead:before{content:"\\F121"}.ion-ios-battery-full-outline:before,.ion-ios-battery-full:before{content:"\\F122"}.ion-ios-beaker:before{content:"\\F124"}.ion-ios-beaker-outline:before{content:"\\F123"}.ion-ios-beer:before{content:"\\F126"}.ion-ios-beer-outline:before{content:"\\F125"}.ion-ios-bicycle-outline:before,.ion-ios-bicycle:before{content:"\\F127"}.ion-ios-bluetooth-outline:before,.ion-ios-bluetooth:before{content:"\\F128"}.ion-ios-boat:before{content:"\\F12A"}.ion-ios-boat-outline:before{content:"\\F129"}.ion-ios-body:before{content:"\\F3E4"}.ion-ios-body-outline:before{content:"\\F3E3"}.ion-ios-bonfire:before{content:"\\F12C"}.ion-ios-bonfire-outline:before{content:"\\F12B"}.ion-ios-book:before{content:"\\F3E8"}.ion-ios-book-outline:before{content:"\\F3E7"}.ion-ios-bookmark:before{content:"\\F12E"}.ion-ios-bookmark-outline:before{content:"\\F12D"}.ion-ios-bookmarks:before{content:"\\F3EA"}.ion-ios-bookmarks-outline:before{content:"\\F3E9"}.ion-ios-bowtie:before{content:"\\F130"}.ion-ios-bowtie-outline:before{content:"\\F12F"}.ion-ios-briefcase:before{content:"\\F3EE"}.ion-ios-briefcase-outline:before{content:"\\F3ED"}.ion-ios-browsers:before{content:"\\F3F0"}.ion-ios-browsers-outline:before{content:"\\F3EF"}.ion-ios-brush:before{content:"\\F132"}.ion-ios-brush-outline:before{content:"\\F131"}.ion-ios-bug:before{content:"\\F134"}.ion-ios-bug-outline:before{content:"\\F133"}.ion-ios-build:before{content:"\\F136"}.ion-ios-build-outline:before{content:"\\F135"}.ion-ios-bulb:before{content:"\\F138"}.ion-ios-bulb-outline:before{content:"\\F137"}.ion-ios-bus:before{content:"\\F13A"}.ion-ios-bus-outline:before{content:"\\F139"}.ion-ios-cafe:before{content:"\\F13C"}.ion-ios-cafe-outline:before{content:"\\F13B"}.ion-ios-calculator:before{content:"\\F3F2"}.ion-ios-calculator-outline:before{content:"\\F3F1"}.ion-ios-calendar:before{content:"\\F3F4"}.ion-ios-calendar-outline:before{content:"\\F3F3"}.ion-ios-call:before{content:"\\F13E"}.ion-ios-call-outline:before{content:"\\F13D"}.ion-ios-camera:before{content:"\\F3F6"}.ion-ios-camera-outline:before{content:"\\F3F5"}.ion-ios-car:before{content:"\\F140"}.ion-ios-car-outline:before{content:"\\F13F"}.ion-ios-card:before{content:"\\F142"}.ion-ios-card-outline:before{content:"\\F141"}.ion-ios-cart:before{content:"\\F3F8"}.ion-ios-cart-outline:before{content:"\\F3F7"}.ion-ios-cash:before{content:"\\F144"}.ion-ios-cash-outline:before{content:"\\F143"}.ion-ios-chatboxes:before{content:"\\F3FA"}.ion-ios-chatboxes-outline:before{content:"\\F3F9"}.ion-ios-chatbubbles:before{content:"\\F146"}.ion-ios-chatbubbles-outline:before{content:"\\F145"}.ion-ios-checkbox:before{content:"\\F148"}.ion-ios-checkbox-outline:before{content:"\\F147"}.ion-ios-checkmark:before{content:"\\F3FF"}.ion-ios-checkmark-circle:before{content:"\\F14A"}.ion-ios-checkmark-circle-outline:before{content:"\\F149"}.ion-ios-checkmark-outline:before{content:"\\F3FF"}.ion-ios-clipboard:before{content:"\\F14C"}.ion-ios-clipboard-outline:before{content:"\\F14B"}.ion-ios-clock:before{content:"\\F403"}.ion-ios-clock-outline:before{content:"\\F402"}.ion-ios-close:before{content:"\\F406"}.ion-ios-close-circle:before{content:"\\F14E"}.ion-ios-close-circle-outline:before{content:"\\F14D"}.ion-ios-close-outline:before{content:"\\F406"}.ion-ios-closed-captioning:before{content:"\\F150"}.ion-ios-closed-captioning-outline:before{content:"\\F14F"}.ion-ios-cloud:before{content:"\\F40C"}.ion-ios-cloud-circle:before{content:"\\F152"}.ion-ios-cloud-circle-outline:before{content:"\\F151"}.ion-ios-cloud-done:before{content:"\\F154"}.ion-ios-cloud-done-outline:before{content:"\\F153"}.ion-ios-cloud-download:before{content:"\\F408"}.ion-ios-cloud-download-outline:before{content:"\\F407"}.ion-ios-cloud-outline:before{content:"\\F409"}.ion-ios-cloud-upload:before{content:"\\F40B"}.ion-ios-cloud-upload-outline:before{content:"\\F40A"}.ion-ios-cloudy:before{content:"\\F410"}.ion-ios-cloudy-night:before{content:"\\F40E"}.ion-ios-cloudy-night-outline:before{content:"\\F40D"}.ion-ios-cloudy-outline:before{content:"\\F40F"}.ion-ios-code:before{content:"\\F157"}.ion-ios-code-download-outline:before,.ion-ios-code-download:before{content:"\\F155"}.ion-ios-code-outline:before{content:"\\F157"}.ion-ios-code-working-outline:before,.ion-ios-code-working:before{content:"\\F156"}.ion-ios-cog:before{content:"\\F412"}.ion-ios-cog-outline:before{content:"\\F411"}.ion-ios-color-fill:before{content:"\\F159"}.ion-ios-color-fill-outline:before{content:"\\F158"}.ion-ios-color-filter:before{content:"\\F414"}.ion-ios-color-filter-outline:before{content:"\\F413"}.ion-ios-color-palette:before{content:"\\F15B"}.ion-ios-color-palette-outline:before{content:"\\F15A"}.ion-ios-color-wand:before{content:"\\F416"}.ion-ios-color-wand-outline:before{content:"\\F415"}.ion-ios-compass:before{content:"\\F15D"}.ion-ios-compass-outline:before{content:"\\F15C"}.ion-ios-construct:before{content:"\\F15F"}.ion-ios-construct-outline:before{content:"\\F15E"}.ion-ios-contact:before{content:"\\F41A"}.ion-ios-contact-outline:before{content:"\\F419"}.ion-ios-contacts:before{content:"\\F161"}.ion-ios-contacts-outline:before{content:"\\F160"}.ion-ios-contract-outline:before,.ion-ios-contract:before{content:"\\F162"}.ion-ios-contrast-outline:before,.ion-ios-contrast:before{content:"\\F163"}.ion-ios-copy:before{content:"\\F41C"}.ion-ios-copy-outline:before{content:"\\F41B"}.ion-ios-create:before{content:"\\F165"}.ion-ios-create-outline:before{content:"\\F164"}.ion-ios-crop:before{content:"\\F41E"}.ion-ios-crop-outline:before{content:"\\F166"}.ion-ios-cube:before{content:"\\F168"}.ion-ios-cube-outline:before{content:"\\F167"}.ion-ios-cut:before{content:"\\F16A"}.ion-ios-cut-outline:before{content:"\\F169"}.ion-ios-desktop:before{content:"\\F16C"}.ion-ios-desktop-outline:before{content:"\\F16B"}.ion-ios-disc:before{content:"\\F16E"}.ion-ios-disc-outline:before{content:"\\F16D"}.ion-ios-document:before{content:"\\F170"}.ion-ios-document-outline:before{content:"\\F16F"}.ion-ios-done-all-outline:before,.ion-ios-done-all:before{content:"\\F171"}.ion-ios-download:before{content:"\\F420"}.ion-ios-download-outline:before{content:"\\F41F"}.ion-ios-easel:before{content:"\\F173"}.ion-ios-easel-outline:before{content:"\\F172"}.ion-ios-egg:before{content:"\\F175"}.ion-ios-egg-outline:before{content:"\\F174"}.ion-ios-exit:before{content:"\\F177"}.ion-ios-exit-outline:before{content:"\\F176"}.ion-ios-expand-outline:before,.ion-ios-expand:before{content:"\\F178"}.ion-ios-eye:before{content:"\\F425"}.ion-ios-eye-off:before{content:"\\F17A"}.ion-ios-eye-off-outline:before{content:"\\F179"}.ion-ios-eye-outline:before{content:"\\F424"}.ion-ios-fastforward:before{content:"\\F427"}.ion-ios-fastforward-outline:before{content:"\\F426"}.ion-ios-female-outline:before,.ion-ios-female:before{content:"\\F17B"}.ion-ios-filing:before{content:"\\F429"}.ion-ios-filing-outline:before{content:"\\F428"}.ion-ios-film:before{content:"\\F42B"}.ion-ios-film-outline:before{content:"\\F42A"}.ion-ios-finger-print-outline:before,.ion-ios-finger-print:before{content:"\\F17C"}.ion-ios-flag:before{content:"\\F42D"}.ion-ios-flag-outline:before{content:"\\F42C"}.ion-ios-flame:before{content:"\\F42F"}.ion-ios-flame-outline:before{content:"\\F42E"}.ion-ios-flash:before{content:"\\F17E"}.ion-ios-flash-outline:before{content:"\\F17D"}.ion-ios-flask:before{content:"\\F431"}.ion-ios-flask-outline:before{content:"\\F430"}.ion-ios-flower:before{content:"\\F433"}.ion-ios-flower-outline:before{content:"\\F432"}.ion-ios-folder:before{content:"\\F435"}.ion-ios-folder-open:before{content:"\\F180"}.ion-ios-folder-open-outline:before{content:"\\F17F"}.ion-ios-folder-outline:before{content:"\\F434"}.ion-ios-football:before{content:"\\F437"}.ion-ios-football-outline:before{content:"\\F436"}.ion-ios-funnel:before{content:"\\F182"}.ion-ios-funnel-outline:before{content:"\\F181"}.ion-ios-game-controller-a:before{content:"\\F439"}.ion-ios-game-controller-a-outline:before{content:"\\F438"}.ion-ios-game-controller-b:before{content:"\\F43B"}.ion-ios-game-controller-b-outline:before{content:"\\F43A"}.ion-ios-git-branch-outline:before,.ion-ios-git-branch:before{content:"\\F183"}.ion-ios-git-commit-outline:before,.ion-ios-git-commit:before{content:"\\F184"}.ion-ios-git-compare-outline:before,.ion-ios-git-compare:before{content:"\\F185"}.ion-ios-git-merge-outline:before,.ion-ios-git-merge:before{content:"\\F186"}.ion-ios-git-network-outline:before,.ion-ios-git-network:before{content:"\\F187"}.ion-ios-git-pull-request-outline:before,.ion-ios-git-pull-request:before{content:"\\F188"}.ion-ios-glasses:before{content:"\\F43F"}.ion-ios-glasses-outline:before{content:"\\F43E"}.ion-ios-globe:before{content:"\\F18A"}.ion-ios-globe-outline:before{content:"\\F189"}.ion-ios-grid:before{content:"\\F18C"}.ion-ios-grid-outline:before{content:"\\F18B"}.ion-ios-hammer:before{content:"\\F18E"}.ion-ios-hammer-outline:before{content:"\\F18D"}.ion-ios-hand:before{content:"\\F190"}.ion-ios-hand-outline:before{content:"\\F18F"}.ion-ios-happy:before{content:"\\F192"}.ion-ios-happy-outline:before{content:"\\F191"}.ion-ios-headset:before{content:"\\F194"}.ion-ios-headset-outline:before{content:"\\F193"}.ion-ios-heart:before{content:"\\F443"}.ion-ios-heart-outline:before{content:"\\F442"}.ion-ios-help:before{content:"\\F446"}.ion-ios-help-buoy:before{content:"\\F196"}.ion-ios-help-buoy-outline:before{content:"\\F195"}.ion-ios-help-circle:before{content:"\\F198"}.ion-ios-help-circle-outline:before{content:"\\F197"}.ion-ios-help-outline:before{content:"\\F446"}.ion-ios-home:before{content:"\\F448"}.ion-ios-home-outline:before{content:"\\F447"}.ion-ios-ice-cream:before{content:"\\F19A"}.ion-ios-ice-cream-outline:before{content:"\\F199"}.ion-ios-image:before{content:"\\F19C"}.ion-ios-image-outline:before{content:"\\F19B"}.ion-ios-images:before{content:"\\F19E"}.ion-ios-images-outline:before{content:"\\F19D"}.ion-ios-infinite:before{content:"\\F44A"}.ion-ios-infinite-outline:before{content:"\\F449"}.ion-ios-information:before{content:"\\F44D"}.ion-ios-information-circle:before{content:"\\F1A0"}.ion-ios-information-circle-outline:before{content:"\\F19F"}.ion-ios-information-outline:before{content:"\\F44D"}.ion-ios-ionic:before{content:"\\F1A1"}.ion-ios-ionic-outline:before{content:"\\F44E"}.ion-ios-ionitron:before{content:"\\F1A3"}.ion-ios-ionitron-outline:before{content:"\\F1A2"}.ion-ios-jet:before{content:"\\F1A5"}.ion-ios-jet-outline:before{content:"\\F1A4"}.ion-ios-key:before{content:"\\F1A7"}.ion-ios-key-outline:before{content:"\\F1A6"}.ion-ios-keypad:before{content:"\\F450"}.ion-ios-keypad-outline:before{content:"\\F44F"}.ion-ios-laptop-outline:before,.ion-ios-laptop:before{content:"\\F1A8"}.ion-ios-leaf:before{content:"\\F1AA"}.ion-ios-leaf-outline:before{content:"\\F1A9"}.ion-ios-link:before{content:"\\F22A"}.ion-ios-link-outline:before{content:"\\F1CA"}.ion-ios-list:before{content:"\\F454"}.ion-ios-list-box:before{content:"\\F1AC"}.ion-ios-list-box-outline:before{content:"\\F1AB"}.ion-ios-list-outline:before{content:"\\F454"}.ion-ios-locate:before{content:"\\F1AE"}.ion-ios-locate-outline:before{content:"\\F1AD"}.ion-ios-lock:before{content:"\\F1B0"}.ion-ios-lock-outline:before{content:"\\F1AF"}.ion-ios-log-in-outline:before,.ion-ios-log-in:before{content:"\\F1B1"}.ion-ios-log-out-outline:before,.ion-ios-log-out:before{content:"\\F1B2"}.ion-ios-magnet:before{content:"\\F1B4"}.ion-ios-magnet-outline:before{content:"\\F1B3"}.ion-ios-mail:before{content:"\\F1B8"}.ion-ios-mail-open:before{content:"\\F1B6"}.ion-ios-mail-open-outline:before{content:"\\F1B5"}.ion-ios-mail-outline:before{content:"\\F1B7"}.ion-ios-male-outline:before,.ion-ios-male:before{content:"\\F1B9"}.ion-ios-man:before{content:"\\F1BB"}.ion-ios-man-outline:before{content:"\\F1BA"}.ion-ios-map:before{content:"\\F1BD"}.ion-ios-map-outline:before{content:"\\F1BC"}.ion-ios-medal:before{content:"\\F1BF"}.ion-ios-medal-outline:before{content:"\\F1BE"}.ion-ios-medical:before{content:"\\F45C"}.ion-ios-medical-outline:before{content:"\\F45B"}.ion-ios-medkit:before{content:"\\F45E"}.ion-ios-medkit-outline:before{content:"\\F45D"}.ion-ios-megaphone:before{content:"\\F1C1"}.ion-ios-megaphone-outline:before{content:"\\F1C0"}.ion-ios-menu:before{content:"\\F1C3"}.ion-ios-menu-outline:before{content:"\\F1C2"}.ion-ios-mic:before{content:"\\F461"}.ion-ios-mic-off:before{content:"\\F45F"}.ion-ios-mic-off-outline:before{content:"\\F1C4"}.ion-ios-mic-outline:before{content:"\\F460"}.ion-ios-microphone:before{content:"\\F1C6"}.ion-ios-microphone-outline:before{content:"\\F1C5"}.ion-ios-moon:before{content:"\\F468"}.ion-ios-moon-outline:before{content:"\\F467"}.ion-ios-more:before{content:"\\F1C8"}.ion-ios-more-outline:before{content:"\\F1C7"}.ion-ios-move-outline:before,.ion-ios-move:before{content:"\\F1CB"}.ion-ios-musical-note:before{content:"\\F46B"}.ion-ios-musical-note-outline:before{content:"\\F1CC"}.ion-ios-musical-notes:before{content:"\\F46C"}.ion-ios-musical-notes-outline:before{content:"\\F1CD"}.ion-ios-navigate:before{content:"\\F46E"}.ion-ios-navigate-outline:before{content:"\\F46D"}.ion-ios-no-smoking:before{content:"\\F1CF"}.ion-ios-no-smoking-outline:before{content:"\\F1CE"}.ion-ios-notifications:before{content:"\\F1D3"}.ion-ios-notifications-off:before{content:"\\F1D1"}.ion-ios-notifications-off-outline:before{content:"\\F1D0"}.ion-ios-notifications-outline:before{content:"\\F1D2"}.ion-ios-nuclear:before{content:"\\F1D5"}.ion-ios-nuclear-outline:before{content:"\\F1D4"}.ion-ios-nutrition:before{content:"\\F470"}.ion-ios-nutrition-outline:before{content:"\\F46F"}.ion-ios-open:before{content:"\\F1D7"}.ion-ios-open-outline:before{content:"\\F1D6"}.ion-ios-options:before{content:"\\F1D9"}.ion-ios-options-outline:before{content:"\\F1D8"}.ion-ios-outlet:before{content:"\\F1DB"}.ion-ios-outlet-outline:before{content:"\\F1DA"}.ion-ios-paper:before{content:"\\F472"}.ion-ios-paper-outline:before{content:"\\F471"}.ion-ios-paper-plane:before{content:"\\F1DD"}.ion-ios-paper-plane-outline:before{content:"\\F1DC"}.ion-ios-partly-sunny:before{content:"\\F1DF"}.ion-ios-partly-sunny-outline:before{content:"\\F1DE"}.ion-ios-pause:before{content:"\\F478"}.ion-ios-pause-outline:before{content:"\\F477"}.ion-ios-paw:before{content:"\\F47A"}.ion-ios-paw-outline:before{content:"\\F479"}.ion-ios-people:before{content:"\\F47C"}.ion-ios-people-outline:before{content:"\\F47B"}.ion-ios-person:before{content:"\\F47E"}.ion-ios-person-add:before{content:"\\F1E1"}.ion-ios-person-add-outline:before{content:"\\F1E0"}.ion-ios-person-outline:before{content:"\\F47D"}.ion-ios-phone-landscape-outline:before,.ion-ios-phone-landscape:before{content:"\\F1E2"}.ion-ios-phone-portrait-outline:before,.ion-ios-phone-portrait:before{content:"\\F1E3"}.ion-ios-photos:before{content:"\\F482"}.ion-ios-photos-outline:before{content:"\\F481"}.ion-ios-pie:before{content:"\\F484"}.ion-ios-pie-outline:before{content:"\\F483"}.ion-ios-pin:before{content:"\\F1E5"}.ion-ios-pin-outline:before{content:"\\F1E4"}.ion-ios-pint:before{content:"\\F486"}.ion-ios-pint-outline:before{content:"\\F485"}.ion-ios-pizza:before{content:"\\F1E7"}.ion-ios-pizza-outline:before{content:"\\F1E6"}.ion-ios-plane:before{content:"\\F1E9"}.ion-ios-plane-outline:before{content:"\\F1E8"}.ion-ios-planet:before{content:"\\F1EB"}.ion-ios-planet-outline:before{content:"\\F1EA"}.ion-ios-play:before{content:"\\F488"}.ion-ios-play-outline:before{content:"\\F487"}.ion-ios-podium:before{content:"\\F1ED"}.ion-ios-podium-outline:before{content:"\\F1EC"}.ion-ios-power:before{content:"\\F1EF"}.ion-ios-power-outline:before{content:"\\F1EE"}.ion-ios-pricetag:before{content:"\\F48D"}.ion-ios-pricetag-outline:before{content:"\\F48C"}.ion-ios-pricetags:before{content:"\\F48F"}.ion-ios-pricetags-outline:before{content:"\\F48E"}.ion-ios-print:before{content:"\\F1F1"}.ion-ios-print-outline:before{content:"\\F1F0"}.ion-ios-pulse:before{content:"\\F493"}.ion-ios-pulse-outline:before{content:"\\F1F2"}.ion-ios-qr-scanner-outline:before,.ion-ios-qr-scanner:before{content:"\\F1F3"}.ion-ios-quote:before{content:"\\F1F5"}.ion-ios-quote-outline:before{content:"\\F1F4"}.ion-ios-radio:before{content:"\\F1F9"}.ion-ios-radio-button-off-outline:before,.ion-ios-radio-button-off:before{content:"\\F1F6"}.ion-ios-radio-button-on-outline:before,.ion-ios-radio-button-on:before{content:"\\F1F7"}.ion-ios-radio-outline:before{content:"\\F1F8"}.ion-ios-rainy:before{content:"\\F495"}.ion-ios-rainy-outline:before{content:"\\F494"}.ion-ios-recording:before{content:"\\F497"}.ion-ios-recording-outline:before{content:"\\F496"}.ion-ios-redo:before{content:"\\F499"}.ion-ios-redo-outline:before{content:"\\F498"}.ion-ios-refresh:before{content:"\\F49C"}.ion-ios-refresh-circle:before{content:"\\F226"}.ion-ios-refresh-circle-outline:before{content:"\\F224"}.ion-ios-refresh-outline:before{content:"\\F49C"}.ion-ios-remove:before{content:"\\F1FC"}.ion-ios-remove-circle:before{content:"\\F1FB"}.ion-ios-remove-circle-outline:before{content:"\\F1FA"}.ion-ios-remove-outline:before{content:"\\F1FC"}.ion-ios-reorder-outline:before,.ion-ios-reorder:before{content:"\\F1FD"}.ion-ios-repeat-outline:before,.ion-ios-repeat:before{content:"\\F1FE"}.ion-ios-resize-outline:before,.ion-ios-resize:before{content:"\\F1FF"}.ion-ios-restaurant:before{content:"\\F201"}.ion-ios-restaurant-outline:before{content:"\\F200"}.ion-ios-return-left-outline:before,.ion-ios-return-left:before{content:"\\F202"}.ion-ios-return-right-outline:before,.ion-ios-return-right:before{content:"\\F203"}.ion-ios-reverse-camera:before{content:"\\F49F"}.ion-ios-reverse-camera-outline:before{content:"\\F49E"}.ion-ios-rewind:before{content:"\\F4A1"}.ion-ios-rewind-outline:before{content:"\\F4A0"}.ion-ios-ribbon:before{content:"\\F205"}.ion-ios-ribbon-outline:before{content:"\\F204"}.ion-ios-rose:before{content:"\\F4A3"}.ion-ios-rose-outline:before{content:"\\F4A2"}.ion-ios-sad:before{content:"\\F207"}.ion-ios-sad-outline:before{content:"\\F206"}.ion-ios-school:before{content:"\\F209"}.ion-ios-school-outline:before{content:"\\F208"}.ion-ios-search:before{content:"\\F4A5"}.ion-ios-search-outline:before{content:"\\F20A"}.ion-ios-send:before{content:"\\F20C"}.ion-ios-send-outline:before{content:"\\F20B"}.ion-ios-settings:before{content:"\\F4A7"}.ion-ios-settings-outline:before{content:"\\F20D"}.ion-ios-share:before{content:"\\F211"}.ion-ios-share-alt:before{content:"\\F20F"}.ion-ios-share-alt-outline:before{content:"\\F20E"}.ion-ios-share-outline:before{content:"\\F210"}.ion-ios-shirt:before{content:"\\F213"}.ion-ios-shirt-outline:before{content:"\\F212"}.ion-ios-shuffle-outline:before,.ion-ios-shuffle:before{content:"\\F4A9"}.ion-ios-skip-backward:before{content:"\\F215"}.ion-ios-skip-backward-outline:before{content:"\\F214"}.ion-ios-skip-forward:before{content:"\\F217"}.ion-ios-skip-forward-outline:before{content:"\\F216"}.ion-ios-snow:before{content:"\\F218"}.ion-ios-snow-outline:before{content:"\\F22C"}.ion-ios-speedometer:before{content:"\\F4B0"}.ion-ios-speedometer-outline:before{content:"\\F4AF"}.ion-ios-square:before{content:"\\F21A"}.ion-ios-square-outline:before{content:"\\F219"}.ion-ios-star:before{content:"\\F4B3"}.ion-ios-star-half-outline:before,.ion-ios-star-half:before{content:"\\F4B1"}.ion-ios-star-outline:before{content:"\\F4B2"}.ion-ios-stats:before{content:"\\F21C"}.ion-ios-stats-outline:before{content:"\\F21B"}.ion-ios-stopwatch:before{content:"\\F4B5"}.ion-ios-stopwatch-outline:before{content:"\\F4B4"}.ion-ios-subway:before{content:"\\F21E"}.ion-ios-subway-outline:before{content:"\\F21D"}.ion-ios-sunny:before{content:"\\F4B7"}.ion-ios-sunny-outline:before{content:"\\F4B6"}.ion-ios-swap-outline:before,.ion-ios-swap:before{content:"\\F21F"}.ion-ios-switch:before{content:"\\F221"}.ion-ios-switch-outline:before{content:"\\F220"}.ion-ios-sync-outline:before,.ion-ios-sync:before{content:"\\F222"}.ion-ios-tablet-landscape-outline:before,.ion-ios-tablet-landscape:before{content:"\\F223"}.ion-ios-tablet-portrait-outline:before,.ion-ios-tablet-portrait:before{content:"\\F24E"}.ion-ios-tennisball:before{content:"\\F4BB"}.ion-ios-tennisball-outline:before{content:"\\F4BA"}.ion-ios-text:before{content:"\\F250"}.ion-ios-text-outline:before{content:"\\F24F"}.ion-ios-thermometer:before{content:"\\F252"}.ion-ios-thermometer-outline:before{content:"\\F251"}.ion-ios-thumbs-down:before{content:"\\F254"}.ion-ios-thumbs-down-outline:before{content:"\\F253"}.ion-ios-thumbs-up:before{content:"\\F256"}.ion-ios-thumbs-up-outline:before{content:"\\F255"}.ion-ios-thunderstorm:before{content:"\\F4BD"}.ion-ios-thunderstorm-outline:before{content:"\\F4BC"}.ion-ios-time:before{content:"\\F4BF"}.ion-ios-time-outline:before{content:"\\F4BE"}.ion-ios-timer:before{content:"\\F4C1"}.ion-ios-timer-outline:before{content:"\\F4C0"}.ion-ios-train:before{content:"\\F258"}.ion-ios-train-outline:before{content:"\\F257"}.ion-ios-transgender-outline:before,.ion-ios-transgender:before{content:"\\F259"}.ion-ios-trash:before{content:"\\F4C5"}.ion-ios-trash-outline:before{content:"\\F4C4"}.ion-ios-trending-down-outline:before,.ion-ios-trending-down:before{content:"\\F25A"}.ion-ios-trending-up-outline:before,.ion-ios-trending-up:before{content:"\\F25B"}.ion-ios-trophy:before{content:"\\F25D"}.ion-ios-trophy-outline:before{content:"\\F25C"}.ion-ios-umbrella:before{content:"\\F25F"}.ion-ios-umbrella-outline:before{content:"\\F25E"}.ion-ios-undo:before{content:"\\F4C7"}.ion-ios-undo-outline:before{content:"\\F4C6"}.ion-ios-unlock:before{content:"\\F261"}.ion-ios-unlock-outline:before{content:"\\F260"}.ion-ios-videocam:before{content:"\\F4CD"}.ion-ios-videocam-outline:before{content:"\\F4CC"}.ion-ios-volume-down-outline:before,.ion-ios-volume-down:before{content:"\\F262"}.ion-ios-volume-mute-outline:before,.ion-ios-volume-mute:before{content:"\\F263"}.ion-ios-volume-off-outline:before,.ion-ios-volume-off:before{content:"\\F264"}.ion-ios-volume-up-outline:before,.ion-ios-volume-up:before{content:"\\F265"}.ion-ios-walk-outline:before,.ion-ios-walk:before{content:"\\F266"}.ion-ios-warning:before{content:"\\F268"}.ion-ios-warning-outline:before{content:"\\F267"}.ion-ios-watch-outline:before,.ion-ios-watch:before{content:"\\F269"}.ion-ios-water:before{content:"\\F26B"}.ion-ios-water-outline:before{content:"\\F26A"}.ion-ios-wifi:before{content:"\\F26D"}.ion-ios-wifi-outline:before{content:"\\F26C"}.ion-ios-wine:before{content:"\\F26F"}.ion-ios-wine-outline:before{content:"\\F26E"}.ion-ios-woman:before{content:"\\F271"}.ion-ios-woman-outline:before{content:"\\F270"}.ion-logo-android:before{content:"\\F225"}.ion-logo-angular:before{content:"\\F227"}.ion-logo-apple:before{content:"\\F229"}.ion-logo-bitcoin:before{content:"\\F22B"}.ion-logo-buffer:before{content:"\\F22D"}.ion-logo-chrome:before{content:"\\F22F"}.ion-logo-codepen:before{content:"\\F230"}.ion-logo-css3:before{content:"\\F231"}.ion-logo-designernews:before{content:"\\F232"}.ion-logo-dribbble:before{content:"\\F233"}.ion-logo-dropbox:before{content:"\\F234"}.ion-logo-euro:before{content:"\\F235"}.ion-logo-facebook:before{content:"\\F236"}.ion-logo-foursquare:before{content:"\\F237"}.ion-logo-freebsd-devil:before{content:"\\F238"}.ion-logo-github:before{content:"\\F239"}.ion-logo-google:before{content:"\\F23A"}.ion-logo-googleplus:before{content:"\\F23B"}.ion-logo-hackernews:before{content:"\\F23C"}.ion-logo-html5:before{content:"\\F23D"}.ion-logo-instagram:before{content:"\\F23E"}.ion-logo-javascript:before{content:"\\F23F"}.ion-logo-linkedin:before{content:"\\F240"}.ion-logo-markdown:before{content:"\\F241"}.ion-logo-nodejs:before{content:"\\F242"}.ion-logo-octocat:before{content:"\\F243"}.ion-logo-pinterest:before{content:"\\F244"}.ion-logo-playstation:before{content:"\\F245"}.ion-logo-python:before{content:"\\F246"}.ion-logo-reddit:before{content:"\\F247"}.ion-logo-rss:before{content:"\\F248"}.ion-logo-sass:before{content:"\\F249"}.ion-logo-skype:before{content:"\\F24A"}.ion-logo-snapchat:before{content:"\\F24B"}.ion-logo-steam:before{content:"\\F24C"}.ion-logo-tumblr:before{content:"\\F24D"}.ion-logo-tux:before{content:"\\F2AE"}.ion-logo-twitch:before{content:"\\F2AF"}.ion-logo-twitter:before{content:"\\F2B0"}.ion-logo-usd:before{content:"\\F2B1"}.ion-logo-vimeo:before{content:"\\F2C4"}.ion-logo-whatsapp:before{content:"\\F2C5"}.ion-logo-windows:before{content:"\\F32F"}.ion-logo-wordpress:before{content:"\\F330"}.ion-logo-xbox:before{content:"\\F34C"}.ion-logo-yahoo:before{content:"\\F34D"}.ion-logo-yen:before{content:"\\F34E"}.ion-logo-youtube:before{content:"\\F34F"}.ion-md-add:before{content:"\\F273"}.ion-md-add-circle:before{content:"\\F272"}.ion-md-alarm:before{content:"\\F274"}.ion-md-albums:before{content:"\\F275"}.ion-md-alert:before{content:"\\F276"}.ion-md-american-football:before{content:"\\F277"}.ion-md-analytics:before{content:"\\F278"}.ion-md-aperture:before{content:"\\F279"}.ion-md-apps:before{content:"\\F27A"}.ion-md-appstore:before{content:"\\F27B"}.ion-md-archive:before{content:"\\F27C"}.ion-md-arrow-back:before{content:"\\F27D"}.ion-md-arrow-down:before{content:"\\F27E"}.ion-md-arrow-dropdown:before{content:"\\F280"}.ion-md-arrow-dropdown-circle:before{content:"\\F27F"}.ion-md-arrow-dropleft:before{content:"\\F282"}.ion-md-arrow-dropleft-circle:before{content:"\\F281"}.ion-md-arrow-dropright:before{content:"\\F284"}.ion-md-arrow-dropright-circle:before{content:"\\F283"}.ion-md-arrow-dropup:before{content:"\\F286"}.ion-md-arrow-dropup-circle:before{content:"\\F285"}.ion-md-arrow-forward:before{content:"\\F287"}.ion-md-arrow-round-back:before{content:"\\F288"}.ion-md-arrow-round-down:before{content:"\\F289"}.ion-md-arrow-round-forward:before{content:"\\F28A"}.ion-md-arrow-round-up:before{content:"\\F28B"}.ion-md-arrow-up:before{content:"\\F28C"}.ion-md-at:before{content:"\\F28D"}.ion-md-attach:before{content:"\\F28E"}.ion-md-backspace:before{content:"\\F28F"}.ion-md-barcode:before{content:"\\F290"}.ion-md-baseball:before{content:"\\F291"}.ion-md-basket:before{content:"\\F292"}.ion-md-basketball:before{content:"\\F293"}.ion-md-battery-charging:before{content:"\\F294"}.ion-md-battery-dead:before{content:"\\F295"}.ion-md-battery-full:before{content:"\\F296"}.ion-md-beaker:before{content:"\\F297"}.ion-md-beer:before{content:"\\F298"}.ion-md-bicycle:before{content:"\\F299"}.ion-md-bluetooth:before{content:"\\F29A"}.ion-md-boat:before{content:"\\F29B"}.ion-md-body:before{content:"\\F29C"}.ion-md-bonfire:before{content:"\\F29D"}.ion-md-book:before{content:"\\F29E"}.ion-md-bookmark:before{content:"\\F29F"}.ion-md-bookmarks:before{content:"\\F2A0"}.ion-md-bowtie:before{content:"\\F2A1"}.ion-md-briefcase:before{content:"\\F2A2"}.ion-md-browsers:before{content:"\\F2A3"}.ion-md-brush:before{content:"\\F2A4"}.ion-md-bug:before{content:"\\F2A5"}.ion-md-build:before{content:"\\F2A6"}.ion-md-bulb:before{content:"\\F2A7"}.ion-md-bus:before{content:"\\F2A8"}.ion-md-cafe:before{content:"\\F2A9"}.ion-md-calculator:before{content:"\\F2AA"}.ion-md-calendar:before{content:"\\F2AB"}.ion-md-call:before{content:"\\F2AC"}.ion-md-camera:before{content:"\\F2AD"}.ion-md-car:before{content:"\\F2B2"}.ion-md-card:before{content:"\\F2B3"}.ion-md-cart:before{content:"\\F2B4"}.ion-md-cash:before{content:"\\F2B5"}.ion-md-chatboxes:before{content:"\\F2B6"}.ion-md-chatbubbles:before{content:"\\F2B7"}.ion-md-checkbox:before{content:"\\F2B9"}.ion-md-checkbox-outline:before{content:"\\F2B8"}.ion-md-checkmark:before{content:"\\F2BC"}.ion-md-checkmark-circle:before{content:"\\F2BB"}.ion-md-checkmark-circle-outline:before{content:"\\F2BA"}.ion-md-clipboard:before{content:"\\F2BD"}.ion-md-clock:before{content:"\\F2BE"}.ion-md-close:before{content:"\\F2C0"}.ion-md-close-circle:before{content:"\\F2BF"}.ion-md-closed-captioning:before{content:"\\F2C1"}.ion-md-cloud:before{content:"\\F2C9"}.ion-md-cloud-circle:before{content:"\\F2C2"}.ion-md-cloud-done:before{content:"\\F2C3"}.ion-md-cloud-download:before{content:"\\F2C6"}.ion-md-cloud-outline:before{content:"\\F2C7"}.ion-md-cloud-upload:before{content:"\\F2C8"}.ion-md-cloudy:before{content:"\\F2CB"}.ion-md-cloudy-night:before{content:"\\F2CA"}.ion-md-code:before{content:"\\F2CE"}.ion-md-code-download:before{content:"\\F2CC"}.ion-md-code-working:before{content:"\\F2CD"}.ion-md-cog:before{content:"\\F2CF"}.ion-md-color-fill:before{content:"\\F2D0"}.ion-md-color-filter:before{content:"\\F2D1"}.ion-md-color-palette:before{content:"\\F2D2"}.ion-md-color-wand:before{content:"\\F2D3"}.ion-md-compass:before{content:"\\F2D4"}.ion-md-construct:before{content:"\\F2D5"}.ion-md-contact:before{content:"\\F2D6"}.ion-md-contacts:before{content:"\\F2D7"}.ion-md-contract:before{content:"\\F2D8"}.ion-md-contrast:before{content:"\\F2D9"}.ion-md-copy:before{content:"\\F2DA"}.ion-md-create:before{content:"\\F2DB"}.ion-md-crop:before{content:"\\F2DC"}.ion-md-cube:before{content:"\\F2DD"}.ion-md-cut:before{content:"\\F2DE"}.ion-md-desktop:before{content:"\\F2DF"}.ion-md-disc:before{content:"\\F2E0"}.ion-md-document:before{content:"\\F2E1"}.ion-md-done-all:before{content:"\\F2E2"}.ion-md-download:before{content:"\\F2E3"}.ion-md-easel:before{content:"\\F2E4"}.ion-md-egg:before{content:"\\F2E5"}.ion-md-exit:before{content:"\\F2E6"}.ion-md-expand:before{content:"\\F2E7"}.ion-md-eye:before{content:"\\F2E9"}.ion-md-eye-off:before{content:"\\F2E8"}.ion-md-fastforward:before{content:"\\F2EA"}.ion-md-female:before{content:"\\F2EB"}.ion-md-filing:before{content:"\\F2EC"}.ion-md-film:before{content:"\\F2ED"}.ion-md-finger-print:before{content:"\\F2EE"}.ion-md-flag:before{content:"\\F2EF"}.ion-md-flame:before{content:"\\F2F0"}.ion-md-flash:before{content:"\\F2F1"}.ion-md-flask:before{content:"\\F2F2"}.ion-md-flower:before{content:"\\F2F3"}.ion-md-folder:before{content:"\\F2F5"}.ion-md-folder-open:before{content:"\\F2F4"}.ion-md-football:before{content:"\\F2F6"}.ion-md-funnel:before{content:"\\F2F7"}.ion-md-game-controller-a:before{content:"\\F2F8"}.ion-md-game-controller-b:before{content:"\\F2F9"}.ion-md-git-branch:before{content:"\\F2FA"}.ion-md-git-commit:before{content:"\\F2FB"}.ion-md-git-compare:before{content:"\\F2FC"}.ion-md-git-merge:before{content:"\\F2FD"}.ion-md-git-network:before{content:"\\F2FE"}.ion-md-git-pull-request:before{content:"\\F2FF"}.ion-md-glasses:before{content:"\\F300"}.ion-md-globe:before{content:"\\F301"}.ion-md-grid:before{content:"\\F302"}.ion-md-hammer:before{content:"\\F303"}.ion-md-hand:before{content:"\\F304"}.ion-md-happy:before{content:"\\F305"}.ion-md-headset:before{content:"\\F306"}.ion-md-heart:before{content:"\\F308"}.ion-md-heart-outline:before{content:"\\F307"}.ion-md-help:before{content:"\\F30B"}.ion-md-help-buoy:before{content:"\\F309"}.ion-md-help-circle:before{content:"\\F30A"}.ion-md-home:before{content:"\\F30C"}.ion-md-ice-cream:before{content:"\\F30D"}.ion-md-image:before{content:"\\F30E"}.ion-md-images:before{content:"\\F30F"}.ion-md-infinite:before{content:"\\F310"}.ion-md-information:before{content:"\\F312"}.ion-md-information-circle:before{content:"\\F311"}.ion-md-ionic:before{content:"\\F313"}.ion-md-ionitron:before{content:"\\F314"}.ion-md-jet:before{content:"\\F315"}.ion-md-key:before{content:"\\F316"}.ion-md-keypad:before{content:"\\F317"}.ion-md-laptop:before{content:"\\F318"}.ion-md-leaf:before{content:"\\F319"}.ion-md-link:before{content:"\\F22E"}.ion-md-list:before{content:"\\F31B"}.ion-md-list-box:before{content:"\\F31A"}.ion-md-locate:before{content:"\\F31C"}.ion-md-lock:before{content:"\\F31D"}.ion-md-log-in:before{content:"\\F31E"}.ion-md-log-out:before{content:"\\F31F"}.ion-md-magnet:before{content:"\\F320"}.ion-md-mail:before{content:"\\F322"}.ion-md-mail-open:before{content:"\\F321"}.ion-md-male:before{content:"\\F323"}.ion-md-man:before{content:"\\F324"}.ion-md-map:before{content:"\\F325"}.ion-md-medal:before{content:"\\F326"}.ion-md-medical:before{content:"\\F327"}.ion-md-medkit:before{content:"\\F328"}.ion-md-megaphone:before{content:"\\F329"}.ion-md-menu:before{content:"\\F32A"}.ion-md-mic:before{content:"\\F32C"}.ion-md-mic-off:before{content:"\\F32B"}.ion-md-microphone:before{content:"\\F32D"}.ion-md-moon:before{content:"\\F32E"}.ion-md-more:before{content:"\\F1C9"}.ion-md-move:before{content:"\\F331"}.ion-md-musical-note:before{content:"\\F332"}.ion-md-musical-notes:before{content:"\\F333"}.ion-md-navigate:before{content:"\\F334"}.ion-md-no-smoking:before{content:"\\F335"}.ion-md-notifications:before{content:"\\F338"}.ion-md-notifications-off:before{content:"\\F336"}.ion-md-notifications-outline:before{content:"\\F337"}.ion-md-nuclear:before{content:"\\F339"}.ion-md-nutrition:before{content:"\\F33A"}.ion-md-open:before{content:"\\F33B"}.ion-md-options:before{content:"\\F33C"}.ion-md-outlet:before{content:"\\F33D"}.ion-md-paper:before{content:"\\F33F"}.ion-md-paper-plane:before{content:"\\F33E"}.ion-md-partly-sunny:before{content:"\\F340"}.ion-md-pause:before{content:"\\F341"}.ion-md-paw:before{content:"\\F342"}.ion-md-people:before{content:"\\F343"}.ion-md-person:before{content:"\\F345"}.ion-md-person-add:before{content:"\\F344"}.ion-md-phone-landscape:before{content:"\\F346"}.ion-md-phone-portrait:before{content:"\\F347"}.ion-md-photos:before{content:"\\F348"}.ion-md-pie:before{content:"\\F349"}.ion-md-pin:before{content:"\\F34A"}.ion-md-pint:before{content:"\\F34B"}.ion-md-pizza:before{content:"\\F354"}.ion-md-plane:before{content:"\\F355"}.ion-md-planet:before{content:"\\F356"}.ion-md-play:before{content:"\\F357"}.ion-md-podium:before{content:"\\F358"}.ion-md-power:before{content:"\\F359"}.ion-md-pricetag:before{content:"\\F35A"}.ion-md-pricetags:before{content:"\\F35B"}.ion-md-print:before{content:"\\F35C"}.ion-md-pulse:before{content:"\\F35D"}.ion-md-qr-scanner:before{content:"\\F35E"}.ion-md-quote:before{content:"\\F35F"}.ion-md-radio:before{content:"\\F362"}.ion-md-radio-button-off:before{content:"\\F360"}.ion-md-radio-button-on:before{content:"\\F361"}.ion-md-rainy:before{content:"\\F363"}.ion-md-recording:before{content:"\\F364"}.ion-md-redo:before{content:"\\F365"}.ion-md-refresh:before{content:"\\F366"}.ion-md-refresh-circle:before{content:"\\F228"}.ion-md-remove:before{content:"\\F368"}.ion-md-remove-circle:before{content:"\\F367"}.ion-md-reorder:before{content:"\\F369"}.ion-md-repeat:before{content:"\\F36A"}.ion-md-resize:before{content:"\\F36B"}.ion-md-restaurant:before{content:"\\F36C"}.ion-md-return-left:before{content:"\\F36D"}.ion-md-return-right:before{content:"\\F36E"}.ion-md-reverse-camera:before{content:"\\F36F"}.ion-md-rewind:before{content:"\\F370"}.ion-md-ribbon:before{content:"\\F371"}.ion-md-rose:before{content:"\\F372"}.ion-md-sad:before{content:"\\F373"}.ion-md-school:before{content:"\\F374"}.ion-md-search:before{content:"\\F375"}.ion-md-send:before{content:"\\F376"}.ion-md-settings:before{content:"\\F377"}.ion-md-share:before{content:"\\F379"}.ion-md-share-alt:before{content:"\\F378"}.ion-md-shirt:before{content:"\\F37A"}.ion-md-shuffle:before{content:"\\F37B"}.ion-md-skip-backward:before{content:"\\F37C"}.ion-md-skip-forward:before{content:"\\F37D"}.ion-md-snow:before{content:"\\F37E"}.ion-md-speedometer:before{content:"\\F37F"}.ion-md-square:before{content:"\\F381"}.ion-md-square-outline:before{content:"\\F380"}.ion-md-star:before{content:"\\F384"}.ion-md-star-half:before{content:"\\F382"}.ion-md-star-outline:before{content:"\\F383"}.ion-md-stats:before{content:"\\F385"}.ion-md-stopwatch:before{content:"\\F386"}.ion-md-subway:before{content:"\\F387"}.ion-md-sunny:before{content:"\\F388"}.ion-md-swap:before{content:"\\F389"}.ion-md-switch:before{content:"\\F38A"}.ion-md-sync:before{content:"\\F38B"}.ion-md-tablet-landscape:before{content:"\\F38C"}.ion-md-tablet-portrait:before{content:"\\F38D"}.ion-md-tennisball:before{content:"\\F38E"}.ion-md-text:before{content:"\\F38F"}.ion-md-thermometer:before{content:"\\F390"}.ion-md-thumbs-down:before{content:"\\F391"}.ion-md-thumbs-up:before{content:"\\F392"}.ion-md-thunderstorm:before{content:"\\F393"}.ion-md-time:before{content:"\\F394"}.ion-md-timer:before{content:"\\F395"}.ion-md-train:before{content:"\\F396"}.ion-md-transgender:before{content:"\\F397"}.ion-md-trash:before{content:"\\F398"}.ion-md-trending-down:before{content:"\\F399"}.ion-md-trending-up:before{content:"\\F39A"}.ion-md-trophy:before{content:"\\F39B"}.ion-md-umbrella:before{content:"\\F39C"}.ion-md-undo:before{content:"\\F39D"}.ion-md-unlock:before{content:"\\F39E"}.ion-md-videocam:before{content:"\\F39F"}.ion-md-volume-down:before{content:"\\F3A0"}.ion-md-volume-mute:before{content:"\\F3A1"}.ion-md-volume-off:before{content:"\\F3A2"}.ion-md-volume-up:before{content:"\\F3A3"}.ion-md-walk:before{content:"\\F3A4"}.ion-md-warning:before{content:"\\F3A5"}.ion-md-watch:before{content:"\\F3A6"}.ion-md-water:before{content:"\\F3A7"}.ion-md-wifi:before{content:"\\F3A8"}.ion-md-wine:before{content:"\\F3A9"}.ion-md-woman:before{content:"\\F3AA"}',""]);
},755:function(e,t,o){e.exports=o.p+"bdf1d30681cf87986c385eea78e8de9a.eot"},756:function(e,t,o){e.exports=o.p+"311d81961c5880647fec7eaca1221b2a.woff2"},757:function(e,t,o){e.exports=o.p+"81414686e99c00d2921e03dd53c0ab04.woff"},758:function(e,t,o){e.exports=o.p+"74c652671225d6ded874a648502e5f0a.ttf"},759:function(e,t,o){e.exports=o.p+"d9496a234c81179afbca6bf5959cc30a.svg"},760:function(e,t,o){var r=o(761);"string"==typeof r&&(r=[[e.id,r,""]]);o(752)(r,{});r.locals&&(e.exports=r.locals)},761:function(e,t,o){t=e.exports=o(747)(),t.push([e.id,"fieldset{border:0}input[type=file],input[type=text]{border:none;font-size:18px;padding-bottom:10px}input:focus,textarea:focus{outline:none}.react-datepicker__input-container input{background:transparent}*{font-family:Helvetica Neue,STHeiTi,sans-serif}",""])},763:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var r=o(300),n=_interopRequireDefault(r),i=function(){},a=function(){return{remove:i}};n["default"].DeviceEventEmitter={addListener:a,removeSubscription:i,removeAllListeners:i}},764:function(e,t,o){(function(e){"use strict";var t=o(300),r=function(){},n="LANDSCAPE";t.NativeModules.Orientation={initialOrientation:n,getOrientation:function(t){return e.nextTick(function(){return t(null,n)})},getSpecificOrientation:function(t){return e.nextTick(function(){return t(null,n)})},lockToPortrait:r,lockToLandscape:r,lockToLandscapeLeft:r,lockToLandscapeRight:r,unlockAllOrientations:r}}).call(t,o(295))},765:function(e,t,o){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t["default"]=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function goBack(e){var t=C["default"].getCurrentRouteInfo(e),o=(t.routes,t.route),r=t.index;return 0!==r&&!o.component.backButtonDisabled&&(e.pop(),!0)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},i=o(766),a=_interopRequireDefault(i);o(770),o(804),o(822);var s=o(935),l=_interopRequireWildcard(s),u=(o(1551),o(300)),c=o(946),f=_interopRequireDefault(c),d=o(1685),p=_interopRequireDefault(d),h=o(1690),m=_interopRequireDefault(h),g=o(301),b=_interopRequireDefault(g),y=o(1691),v=_interopRequireDefault(y),w=o(1695),C=_interopRequireDefault(w);try{o(1696)}catch(E){}o(1);var k=((0,a["default"])("tradle:app"),(0,a["default"])("perf"),o(1697)),T=(o(2105),o(2065)),A=o(2107),P=o(1553),S=o(1677),R=o(2112),I=o(2114),O=o(1947),x=o(1951),F=o(2115),M=o(2070),_=o(1721),D=o(1945),N=o(1944),B=o(1707),V=o(2116),L=o(2075),j=o(2085),z=o(2068),W=o(1724),q=o(1930),Y=o(2103),H=o(936),U=(H.translate,o(1355)),K=o(1554),G=o(1530),Q=o(1687),J=(o(1718),u.Text.getDefaultProps);u.Text.defaultProps=function(){return n({},J(),{allowFontScaling:!1})};var Z=!1,X=o(1551).TIMEOUT,$=function(e){function TiMApp(e){_classCallCheck(this,TiMApp);var t=_possibleConstructorReturn(this,(TiMApp.__proto__||Object.getPrototypeOf(TiMApp)).call(this,e)),e={modelName:U.TYPES.PROFILE};return t.state={currentAppState:"active",dateAppStateChanged:Date.now(),initialRoute:{id:1,component:A,passProps:e},props:e},["_handleOpenURL","_handleAppStateChange","onNavigatorBeforeTransition","onNavigatorAfterTransition"].forEach(function(e){t[e]=t[e].bind(t)}),t}return _inherits(TiMApp,e),r(TiMApp,[{key:"componentDidMount",value:function(){l.on(),u.AppState&&u.AppState.addEventListener("change",this._handleAppStateChange)}},{key:"componentWillUnmount",value:function(){u.AppState&&u.AppState.removeEventListener("change",this._handleAppStateChange),this._navListeners.forEach(function(e){return e.remove()})}},{key:"_handleAppStateChange",value:function(e){var t=this,o=Date.now(),r=(this.state.dateAppStateChanged,{currentAppState:e,dateAppStateChanged:o}),n=H.getMe();switch(e){case"inactive":return;case"active":return void l.hasUpdate().then(function(e){return e?l.install():(v["default"].resetBadgeNumber(),void("active"!==t.state.currentAppState&&(clearTimeout(t.state.unauthTimeout),l.sync(),t.setState(r))))});case"background":r.unauthTimeout=setTimeout(function(){n&&n.isRegistered&&(G.setAuthenticated(!1),G.start())},X)}this.setState(r)}},{key:"_handleOpenURL",value:function(e){var t,o=e.url.trim(),r=o.indexOf("://"),n=r+3===o.length?null:o.substring(r+3);if(n){var i=n.split("=");if(1===i.length)switch(parseInt(i[0])){case 1:t={_t:"tradle.Organization",_r:"96e460ca282d62e41d4b59c85b212d102d7a5a6e",name:"Lloyds",me:"me"};break;case 2:t={_t:"tradle.Organization",_r:"0191ef415aa2ec76fb8ec8760b55112cadf573bc",name:"HSBC",me:"31eb0b894cad3601adc76713d55a11c88e48b4a2"};break;case 3:t={_t:"tradle.Organization",_r:"96e460ca282d62e41d4b59c85b212d102d7a5a6e",name:"Lloyds",me:"b25da36eaf4b01b37fc2154cb1103eb5324a12345"}}else t=JSON.parse(decodeURIComponent(i[1])),t[U.TYPE]||(t[U.TYPE]="tradle.Organization")}else t={_t:"tradle.Organization",_r:"0191ef415aa2ec76fb8ec8760b55112cadf573bc",name:"HSBC",me:"me"};var a={modelName:"tradle.Message"};if(this.state.navigator){var s=this.state.navigator.getCurrentRoutes(),l={title:t.name||"Chat",backButtonTitle:"Back",component:N,id:11,passProps:{resource:t,modelName:"tradle.Message"}};1===s.length?this.state.navigator.push(l):this.state.navigator.replace(l)}else this.setState({initialRoute:{title:t.name||"Chat",component:N,id:11,passProps:{resource:t,modelName:"tradle.Message"}},props:a})}},{key:"onNavigatorBeforeTransition",value:function(e){Z&&Z.start(),G.startTransition()}},{key:"onNavigatorAfterTransition",value:function(){Z&&setTimeout(function(){Z.stop(),Z.printWasted()},500),G.endTransition()}},{key:"_lockToPortrait",value:function(){this._lockedOrientation||(this._lockedOrientation=!0,f["default"].lockToPortrait())}},{key:"_unlockOrientation",value:function(){this._lockedOrientation&&(this._lockedOrientation=!1,f["default"].unlockAllOrientations())}},{key:"render",value:function(){var e=b["default"].createElement(u.Navigator,{style:oe.container,initialRoute:this.state.initialRoute,renderScene:this.renderScene.bind(this),navigationBar:b["default"].createElement(u.Navigator.NavigationBar,{routeMapper:te}),passProps:this.state.props,configureScene:function(e){if(!H.isWeb()&&e.sceneConfig)return e.sceneConfig;var t=H.isWeb()?m["default"].NONE:n({},u.Navigator.SceneConfigs.FloatFromRight,{springFriction:26,springTension:200});return e.component===P&&(t.gestures={}),t}});return e}},{key:"renderScene",value:function(e,t){var o=this;1===e.id||20===e.id||!H.getMe()||!H.getMe().isRegistered&&4===e.id?this._lockToPortrait():this._unlockOrientation();var r=e.passProps;switch(this.state.navigator||(this._navListeners=[t.navigationContext.addListener("willfocus",this.onNavigatorBeforeTransition),t.navigationContext.addListener("didfocus",this.onNavigatorAfterTransition)],this.state.navigator=t,C["default"].watch(t),u.BackAndroid&&u.BackAndroid.addEventListener("hardwareBackPress",function(){return goBack(o.state.navigator)})),e.id){case 1:return b["default"].createElement(A,n({navigator:t},r));case 2:return b["default"].createElement(I,{navigator:t,modelName:r.modelName,resource:r.resource,returnRoute:r.returnRoute,sendForm:r.sendForm,callback:r.callback});case 3:return b["default"].createElement(_,n({navigator:t},r));case 4:return b["default"].createElement(O,n({navigator:t},r));case 5:return b["default"].createElement(D,n({navigator:t},r));case 6:return b["default"].createElement(x,n({navigator:t},r));case 7:return b["default"].createElement(B,{navigator:t,url:r.url});case 8:return b["default"].createElement(V,{navigator:t,filter:r.filter,list:r.list,callback:r.callback,modelName:r.modelName});case 9:return b["default"].createElement(F,n({navigator:t},r));case 11:return b["default"].createElement(N,n({navigator:t},r));case 12:return b["default"].createElement(z,n({navigator:t},r));case 14:return b["default"].createElement(W,r);case 15:return b["default"].createElement(L,n({navigator:t},r));case 16:return b["default"].createElement(Y,{navigator:t,onread:r.onread});case 17:return b["default"].createElement(q,{navigator:t,content:r.content,fullScreen:r.fullScreen,dimension:r.dimension});case 19:return b["default"].createElement(M,n({navigator:t},r));case 20:return b["default"].createElement(P,n({navigator:t},r));case 21:return b["default"].createElement(R,n({navigator:t},r));case 22:return b["default"].createElement(T,n({navigator:t},r));case 23:return b["default"].createElement(j,n({navigator:t},r));case 24:return b["default"].createElement(S,n({navigator:t},r));case 10:default:return b["default"].createElement(k,n({navigator:t},r))}}}]),TiMApp}(g.Component),ee={top:10,right:10,bottom:10,left:10},te={LeftButton:function(e,t,o,r){if(0===o||e.noLeftButton)return b["default"].createElement(u.View,null);var n="#7AAAC3";e.passProps.bankStyle&&e.passProps.bankStyle.LINK_COLOR&&(n=e.passProps.bankStyle.LINK_COLOR);var i=r.routeStack[o-1],a="backButtonTitle"in e?e.backButtonTitle:i.title;if(!a)return null;var s=[p["default"].navBarText];if(e.tintColor)s.push(e.tintColor);else{s.push(oe.navBarButtonText);var l={color:n};s.push(l)}var c=a.indexOf("|"),f=c!==-1?a.substring(idx+1):"Back"===a?"ios-arrow-back":null;s.push({fontSize:H.getFontSize(20)});var d=f?b["default"].createElement(K,{name:f,size:H.getFontSize(25),color:"#7AAAC3",style:oe.icon}):b["default"].createElement(u.Text,{style:s},a);e.component===k&&1===o&&2===t.getCurrentRoutes().length&&G.cleanup();var h=b["default"].createElement(u.View,null);return b["default"].createElement(u.TouchableOpacity,{hitSlop:ee,onPress:goBack.bind(null,t)},b["default"].createElement(u.View,{style:oe.navBarLeftButton},h,d))},RightButton:function(e,t,o,r){if(!e.rightButtonTitle)return b["default"].createElement(u.View,null);var n=[p["default"].navBarText,oe.navBarButtonText];e.tintColor?n.push({color:e.tintColor}):e.passProps.bankStyle&&n.push({color:e.passProps.bankStyle.LINK_COLOR||"#7AAAC3"}),n.push({fontSize:H.getFontSize(20)});var i,a=e.rightButtonTitle,s=(a.indexOf("|"),"Done"===a||"Accept"===a?"md-checkmark":"Profile"===a?"md-person":"Edit"===a?"md-create":"Share"===a?"md-share":null);if(s){var l="Done"===a?"#62C457":"#7AAAC3";i=b["default"].createElement(K,{name:s,size:H.getFontSize(25),color:l,style:oe.icon})}else a.indexOf("|")===-1?i=b["default"].createElement(u.Text,{style:n},a):!function(){var e=a.split("|"),t=[];e.forEach(function(e){t.push(b["default"].createElement(K,{name:e,key:e,size:20,color:"#7AAAC3",style:oe.iconSpace}))}),i=b["default"].createElement(u.View,null,t)}();return b["default"].createElement(u.View,{style:{position:"absolute",right:0,flexDirection:"row"}},b["default"].createElement(u.TouchableOpacity,{hitSlop:ee,onPress:function(){"function"==typeof e.onRightButtonPress?e.onRightButtonPress():e.onRightButtonPress.stateChange?(e.onRightButtonPress.before&&e.onRightButtonPress.before(),e.onRightButtonPress.stateChange(),e.onRightButtonPress.after&&e.onRightButtonPress.after()):t.push(e.onRightButtonPress)}},b["default"].createElement(u.View,{style:[oe.navBarRightButton,e.help?{paddingLeft:5}:{paddingLeft:25}]},i)))},Title:function(e,t,o,r){if(!e.title)return b["default"].createElement(u.View,null);var n;n=e.passProps.modelName&&"tradle.Message"===e.passProps.modelName&&e.passProps.resource.organization&&e.passProps.resource&&e.passProps.resource[U.TYPE]===U.TYPES.PROFILE?b["default"].createElement(u.Text,{style:i}," - ",e.passProps.resource.organization.title):b["default"].createElement(u.View,null);var i=[p["default"].navBarText,oe.navBarTitleText];return e.titleTextColor&&i.push({color:e.titleTextColor}),b["default"].createElement(u.View,null,b["default"].createElement(u.Text,{style:i},e.title),n)}},oe=Q.create({icon:{width:25,height:25,marginTop:"web"===u.Platform.OS?0:"android"===u.Platform.OS?19:10},row:{flexDirection:"row"},iconSpace:{paddingLeft:3},container:{flex:1},navBarTitleText:{color:"#2E3B4E",fontWeight:"400",fontSize:H.getFontSize(20)},navBarLeftButton:{paddingLeft:20,paddingRight:25},navBarRightButton:{paddingLeft:25,paddingRight:10},navBarButtonText:{color:"#7AAAC3",fontSize:18}});u.AppRegistry.registerComponent("Tradle",function(){return $})},766:function(e,t,o){"use strict";var r=o(767);r.disable(),e.exports=r},770:function(e,t,o){(function(e,t){"use strict";function cleanup(e){console.log("cleanup",arguments)}var r=o(300);if(o(771).shim(),"web"!==r.Platform.OS){if("undefined"==typeof e)t.process=o(295);else{var n=o(295);for(var i in n)i in e||(e[i]=n[i])}try{window.navigator.userAgent="react-native"}catch(a){}e.browser=!1,e.env.NODE_ENV="production","undefined"==typeof btoa&&(t.btoa=o(798)),o(767).formatters.j=o(803)}"undefined"!=typeof localStorage&&(localStorage.debug=""),e.on("exit",cleanup),e.on("SIGINT",cleanup),e.on("SIGTERM",cleanup),e.on("uncaughtException",function(e){console.log("Uncaught exception, caught in process catch-all: "+e.message),console.log(e.stack)}),"undefined"==typeof t.Buffer&&(t.Buffer=o(799).Buffer)}).call(t,o(295),function(){return this}())},804:function(e,t,o){(function(e){"use strict";function getRandomValues(e){for(var t=0;t<e.length;t++)e[t]=256*Math.random()|0;return e}var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=o(805);r.sha256||(r.sha256={sign:"ecdsa",hash:"sha256",id:new e("")}),"object"===("undefined"==typeof window?"undefined":t(window))&&(window.crypto||(window.crypto={getRandomValues:getRandomValues}));var n=o(806),i=n.randomBytes;n.randomBytes=function(t,o){if(o)return i.apply(n,arguments);var r=new e(t);return getRandomValues(r),r},n.getRandomValues=n.getRandomValues||getRandomValues}).call(t,o(799).Buffer)},830:function(e,t){},877:830,935:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function hasUpdate(){return d?Promise.resolve(!0):r.AsyncStorage.getItem(h).then(function(e){return d=!!e},function(e){return!1})}function install(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{alert:"Installing update...",delay:3e3},t=e.alert,o=e.delay;return r.AsyncStorage.getItem(h).then(function(e){if(e)return r.AsyncStorage.removeItem(h).then(function(){if(t&&(o=o||3e3,r.Alert.alert("string"==typeof t?t:"installing update...")),o)return i["default"].promiseDelay(o)}).then(function(){return l.restartApp()})})}function checkPeriodically(e){function loop(){return i["default"].promiseDelay(e).then(function(){return u&&checkPeriodically(e)})}return c?c:(e=e||f,c=sync().then(function(){if(!d)return loop()}))}function sync(){return l&&u?d?Promise.resolve(!0):p?p:p=l.sync({updateDialog:!1,installMode:l.InstallMode.ON_NEXT_RESTART}).then(function(e){if(e===l.SyncStatus.UPDATE_INSTALLED)return r.AsyncStorage.setItem(h,"1").then(function(){d=!0,s["default"].downloadedCodeUpdate()})},function(e){return!1}).then(function(e){return p=null,e}):Promise.resolve(!1)}function on(e){l&&!u&&(u=!0,checkPeriodically(e))}function off(){l&&(u=!1)}var r=o(300),n=o(936),i=_interopRequireDefault(n),a=o(1530),s=_interopRequireDefault(a),l=!i["default"].isSimulator()&&!i["default"].isWeb()&&o(1550),u=!1,c=void 0,f=6e5,d=!1,p=void 0,h="~hascodeupdate";r.AsyncStorage.removeItem(h),e.exports={sync:sync,on:on,off:off,hasUpdate:hasUpdate,install:install}},936:function(e,t,o){(function(t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function normalizeRemoveListener(e){return function(){e.remove?e.remove():e()}}function rebuf(e){if("[object Object]"!==Object.prototype.toString.call(e))return e;if(e&&"Buffer"===e.type&&e.data&&!r.isBuffer(e)&&2===Object.keys(e).length)return new r(e.data);for(var t in e)e[t]=rebuf(e[t]);return e}function parseDBValue(e){return e[1]&&rebuf(JSON.parse(e[1]))}function serialize(e){var t=[],o=0;return e.forEach(function(e){var n=r(4);"string"==typeof e&&(e=r(e)),n.writeUInt32BE(e.length,0),t.push(n),o+=n.length,t.push(e),o+=e.length}),r.concat(t)}function unserialize(e){for(var t=[],o=e.length,r=0;r<o;){var n=e.readUInt32BE(r);r+=4;var i=r,a=i+n,s=e.slice(i,a);t.push(s),r+=s.length}return t}var n,i,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=o(300),u=o(937),c=_interopRequireDefault(u),f=o(939),d=_interopRequireDefault(f),p=o(940),h=(_interopRequireDefault(p),o(942)),m=_interopRequireDefault(h),g=o(943),b=_interopRequireDefault(g),y=o(945),v=o(947),w=_interopRequireDefault(v),C=o(806),E=o(767)("tradle:app:utils"),k=o(949),T=o(987),A=(o(990),o(991)),P=o(1061),S=o(1062),R=o(948),I=t.fetch||o(762),O=o(1074),x=o(1078),F={"Please fill out this form and attach a snapshot of the original document":"fillTheFormWithAttachments","Please fill out this form":"fillTheForm"},M={en:o(1082),nl:o(1083)},_={algorithm:"aes-256-cbc",ivBytes:16},D=o(1084),N=D.protocol,B=D.utils,V=o(1355),L=V.TYPE,j=V.TYPES,z=j.VERIFICATION,W="tradle.MyProduct",q=V.CUR_HASH,Y=V.NONCE,H=V.ROOT_HASH,U=V.PREV_HASH,K=(V.SIG,j.FORM),G="hex",Q=o(1356),J=new Q({en:{},nl:{}}).getLanguage(),Z=o(1357).dict,X=M[J],$=Z[J],ee=({string:A.Str,"boolean":A.Bool,date:A.Dat,number:A.Num},{randomisationFactor:0,initialDelay:1e3,maxDelay:6e4}),te=5e3,oe={},re={isEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},setMe:function(e){i=e,i&&(i.languageCode&&(X=M[i.languageCode],i.dictionary?$=i.dictionary:Z[i.languageCode]&&($=Z[i.languageCode])),X||(X=M[J]))},getMe:function(){return i},setModels:function(e){n=e},getModels:function(){return n},getModel:function(e){return n?n[e]:null},getDefaultLanguage:function(){return J},translate:function(){return"string"==typeof(arguments.length<=0?void 0:arguments[0])?re.translateString.apply(re,arguments):1===arguments.length?re.translateModel(arguments.length<=0?void 0:arguments[0]):re.translateProperty(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])},translateProperty:function(e,t){if(!$)return e.title||re.makeLabel(e.name);var o=$.properties[e.name];return o?o[t.id]||o.Default:e.title||re.makeLabel(e.name)},translateModel:function(e){return $?$.models[e.id]||e.title:e.title},translateString:function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];if(!X)return t[0];var r=X[t[0]];if(!r)return t[0];if(t.length>1)for(var n=1;n<t.length;n++){var i="{"+n+"}",a=r.indexOf(i);a!==-1&&(r=r.substring(0,a)+t[n]+r.substring(a+i.length))}return r?r:t[0]},clone:function(e){return JSON.parse(JSON.stringify(e))},compare:function(e,t){if(!e||!t)return!e&&!t;var o=re.getModel(e[L]).value.properties,r=["time",H,q,U,Y,"verifications","sharedWith"];for(var n in e)if(o[n]&&r.indexOf(n)===-1&&e[n]!==t[n])if(Array.isArray(e[n])){if(!t[n])return!1;if(e[n].length!==t[n].length)return!1;for(var i=function(){var o=e[a],r=t.some(function(e){equal(o,e)});if(!r)return{v:!1}},a=0;a<e.length;a++){var l=i();if("object"===("undefined"==typeof l?"undefined":s(l)))return l.v}}else if("object"===s(e[n])){if(!t[n]||!o[n])return!1;if(o[n].ref===j.MONEY){if(e[n].currency!==t[n].currency)return!1;if(e[n].value!==e[n].value)return!1}else if(re.getId(e[n])!==re.getId(t[n]))return!1}else if(e[n]||t[n])return!1;return!0},getStringName:function(e){return F[e]},createAndTranslate:function(e,t){var o=e.replace(/\w\S*/g,function(e){return t?e.charAt(0).toUpperCase()+e.substr(1).toLowerCase():e});o=o.replace(/[^a-zA-Z0-9]/g,"");var r=re.translate(o);return r!==o?r:e},makeLabel:function(e){return e.replace(/([A-Z])/g," $1").replace(/^./,function(e){return e.toUpperCase()})},arrayToObject:function(e){if(e){var t=e.reduce(function(e,t,o){return e[t.trim()]=o,e},{});return t}},objectToArray:function(e){if(e)return Object.keys(e).map(function(t){return e[t]})},getImplementors:function(e,t){var o=[];for(var r in n){var i=n[r].value;if(t){for(var a=!1,s=0;s<t.length&&!a;s++)if(r===t[s])a=!0;else{var l=this.getModel(r).value;l.subClassOf&&l.subClassOf===t[s]&&(a=!0)}if(a)continue}i.interfaces&&i.interfaces.indexOf(e)!=-1&&o.push(i)}return o},getAllSubclasses:function(e){var t=[];for(var o in n){var r=n[o].value;r.subClassOf&&r.subClassOf===e&&t.push(r)}return t},getFontSize:function(e){var t=l.PixelRatio.getFontScale();return t<=3?e:Math.floor(e*(t<3.5?.95:.9))},getId:function(e){if("string"==typeof e)return e;if(e.id)return e.id;var t=re.getModel(e[L]),o=e[L]+"_"+e[H];return!t||t.value.subClassOf!==K&&t.value.id!==z&&t.value.id!==W?o:o+"_"+(e[q]||e[H])},getItemsMeta:function(e){var t=e.properties,o=(re.arrayToObject(e.required),{});for(var r in t)"array"==t[r].type&&(o[r]=t[r]);return o},makeTitle:function(e,t){return e.length>28?e.substring(0,28)+"...":e},getDisplayName:function(e,t){if(!t){if(e.title)return e.title;t=this.getModel(e[L]).value.properties}var o=this.getModel(e[L]),r="";for(var n in t)if("_"!==n.charAt(0))if(t[n].displayName){if(e[n])if("object"==t[n].type){var i=e[n].title||this.getDisplayName(e[n],re.getModel(e[n][L]).value.properties);r+=r.length?" "+i:i}else r+=r.length?" "+e[n]:e[n];else if(t[n].displayAs){var a=this.templateIt(t[n],e);a&&(r+=r.length?" "+a:a)}}else if(!r&&o&&e[n]&&"tradle.Enum"===o.value.subClassOf)return e[n];return r},template:function(e,t){return e.replace(/{([^{}]*)}/g,function(e,o){var r=t[o-1];return"string"==typeof r||"number"==typeof r?r:e})},templateIt1:function(e,t){for(var o=e.group,r=[],n=void 0,i=(this.getModel(t[L]),0);i<=o.length;i++){var a=o[i],l=t[a]?t[a]:"";l&&(n=!0),"object"===("undefined"==typeof l?"undefined":s(l))&&(l=l.title?l.title:re.getDisplayName(l,this.getModel(props[a].ref).value.properties)),r.push(l)}if(n){var u=this.template(e.displayAs,r).trim();if(u=u.replace(/[,\s+,]+[,,]/g,","),","===u.charAt(0)&&(u=u.replace(/,/,"")),","!==u.charAt(u.length-1))return u;for(var c=u.length-2;" "===u.charAt(c);)c--;return c=c<u.length-2?c:u.length-1,u.substring(0,c)}},templateIt:function(e,t){var o=e.displayAs;if("string"==typeof o)return this.templateIt1(e,t);var r="",n=this;return o instanceof Array&&o.forEach(function(e){if(e.match(/[a-z]/i)){if(t[e])if(r&&r.charAt(r.length-1).match(/[a-z,]/i)&&(r+=" "),"object"!==s(t[e]))r+=t[e];else if(t[e].title)r+=t[e].title;else{var o=n.getModel(t[e][L]).value;r+=n.getDisplayName(t[e],o.properties)}}else r.length&&r.indexOf(e)!=r.length-1&&(r+=e)}),r},formatDate:function(e,t){var o,e=new Date(e),r=new Date,n=Math.floor((r.getTime()-e.getTime())/864e5),t=!0;switch(n){case 0:t=!1,o=P(e,"h:MM TT");break;case 1:t=!1,o="yesterday, "+(t?"":P(e,"h:MM TT"));break;default:o=P(e,"mmmm d, yyyy"+(t?"":", h:MM TT"))}return o},keyByValue:function(e,t){for(var o in e)if(e[o]===t)return o},splitMessage:function(e){if(!e)return[];var t=e.indexOf("[");if(t==-1)return[e];var o=e.indexOf("]",t);if(o==-1)return[e];if("("!=e.charAt(o+1))return[e];var r=e.indexOf(")",o);return r==-1?[e]:t?[e.substring(0,t),e.substring(t+1,o),e.substring(o+2,r)]:[e.substring(t+1,o),e.substring(o+2,r)]},getImageUri:function(e){return e?0===e.indexOf("data")||0===e.indexOf("assets-")||0===e.indexOf("http")?e:0===e.indexOf("file:///")?e.replace("file://",""):0===e.indexOf("../")?e:"http://"+e:null},sendSigned:function(e,t){return"tradle.SelfIntroduction"==t.msg[L]&&(t["public"]=!0),e.sign(t.msg).then(function(o){return t.msg=o,e.send(t)})},dedupeVerifications:function(e){for(var t={},o=e.length;o--;){var r=e[o];if(r[L]===z){var n=r.document&&r.document[L];if(n){var i=r.organization&&r.organization.id;if(i){var a=n+i;t[a]?e.splice(o,1):t[a]=!0}}}}},isMyMessage:function(e){var t=re.getId(e.from),o=re.getMe();if(t==this.getId(o))return!0;if(re.getModel(e[L]).value.subClassOf==W){var r=e.from.organization;if(r&&re.getId(e.from.organization)!==re.getId(this.props.to))return!0}},isVerifiedByMe:function(e){if(!e.verifications)return!1;var t,o;return e.additionalInfo&&e.additionalInfo.forEach(function(e){t&&t<e.time&&(t=e.time)}),o},optimizeResource:function(e){var t=this.getModel(e[L]).value.properties;for(var o in e)if("_"!==o.charAt(0)&&t[o])if("object"===t[o].type){if(e[o]&&e[o].id&&e[o].title)continue;t[o].ref!==j.MONEY&&(e[o]={id:this.getId(e[o]),title:this.getDisplayName(e[o],t)})}else if("array"===t[o].type&&t[o].items.ref){var r=[];e[o].forEach(function(e){if(e.id)return e.photo&&delete e.photo,void r.push(e);var t={};t.id=re.getId(e);var o=re.getModel(e[L]);t.title=re.getDisplayName(e,o.properties),r.push(t)}),e[o]=r}},dangerousReadDB:function(e){if("web"===l.Platform.OS)return new Promise(function(t,o){T(e.createReadStream(),function(e,r){e?o(e):t(r)})});var t=e.location+"!",o=e.db._down.container._keys.slice();return o.length?c["default"].multiGet(o.map(function(e){return t+e})).then(function(e){return e.filter(function(e){return null!=e[1]}).map(function(e){e[1]=e[1].slice(2);try{e[1]=e[1]&&JSON.parse(e[1])}catch(o){}return{key:e[0].slice(t.length+2),value:e[1]}})}):Promise.resolve([])},isEmployee:function(e){if(!i.isEmployee)return!1;var t=this.getId(i.organization);return e[L]===j.ORGANIZATION?this.getId(e)===t:!e.organization||(re.getId(e.organization)===re.getId(i.organization)||void 0)},isVerifier:function(e,t){var o=this.getMe();if(!this.isEmployee(e))return!1;var r=this.getModel(e[L]).value;return!!o.organization&&(r.subClassOf===j.FORM?re.getId(o)===re.getId(e.to)&&!re.isVerifiedByMe(e):r.id===j.VERIFICATION?re.getId(o)===re.getId(e.from):void 0)},scrollComponentIntoView:function(e,t){function manualScroll(e,t){w["default"].measure(e,t,function(t,o){if(!t){var n=(o.left,o.top),s=(o.width,o.height),u=l.Dimensions.get("window").height;i.keyboardWillOpenTo&&(u=i.keyboardWillOpenTo.endCoordinates.screenY);var c=n+s,f=r+u,d=c-f+a,p=r-n+2*w["default"].navBarHeight,h=void 0;if(d>0)h=r+d;else{if(!(p>0))return;h=r-p}w["default"].scrollTo(e,0,h)}})}var o=w["default"].getNode(t),r=e.getScrollOffset&&e.getScrollOffset().y,n=e.refs&&e.refs.scrollView||e,i=n.getScrollResponder(),a=re.isWeb()?0:120,s=void 0;"undefined"==typeof r&&(re.isWeb()?r=0:s=!0),setTimeout(function(){s?w["default"].autoScroll(n,o,a):manualScroll(n,o)},50)},onNextTransitionStart:function(e,t){var o=normalizeRemoveListener(e.navigationContext.addListener("willfocus",function(){o(),setTimeout(t,0)}));return o},onNextTransitionEnd:function(e,t){var o=normalizeRemoveListener(e.navigationContext.addListener("didfocus",function(){o(),setTimeout(t,0)}));return o},multiGet:function(e){var t=e.strict,o=e.db.location,r=e.keys;return c["default"].multiGet(r.map(function(e){return o+"!"+e})).then(function(e){if(t){if(e.some(function(e){return!e[1]}))throw new O.NotFoundError;return e.map(parseDBValue)}return e.map(function(e){return{value:parseDBValue(e),reason:e[1]?null:new O.NotFoundError}})})},joinURL:function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var r=t.shift(),n=t.join("/");return"/"===r[r.length-1]&&(r=r.slice(0,-1)),"/"===n[0]&&(n=n.slice(1)),r+"/"+n},promiseDelay:function(e){return k.Promise(function(t){setTimeout(t,e)})},tryWithExponentialBackoff:function(e,t){function backOffAndLoop(){var t=k.defer();return o.once("ready",t.resolve),o.backoff(),t.promise.then(e)["catch"](backOffAndLoop)}t=t||{};var o=S.exponential(R(ee,t));return e()["catch"](backOffAndLoop)},fetchWithTimeout:function(e,t,o){return k.race([I(e,t),k.Promise(function(e,t){setTimeout(function(){t(new Error("timed out"))},o)})])},fetchWithBackoff:function(e,t,o){return re.tryWithExponentialBackoff(function(){return re.fetchWithTimeout(e,t,o||te)})},normalizeCurrencySymbol:function(e){return e},isSimulator:function(){return"Simulator"===d["default"].getModel()},toOldStyleWrapper:function(e){if(!e.permalink)return e;if(e.object){var t="tradle.Message"===e.object[L]?e.object.object:e.object,o=N.linkString(t);e[q]=o,e[H]=t[H]||o,e.from=_defineProperty({},H,e.author),e.parsed={data:t},e[L]=t[L]}else e.objectinfo?(e[q]=e.objectinfo.link,e[H]=e.objectinfo.permalink,e[L]=e.objectinfo.type):(e[q]=e.link,e[H]=e.permalink,e[L]=e.type);return e},setupSHACaching:function(e){var t=e.DEFAULT_MERKLE_OPTS;if(!t._caching){var o=new x({max:500});e.DEFAULT_MERKLE_OPTS={_caching:!0,leaf:function(e){var r="l:"+e.data.toString("hex"),n=o.get(r);if(n)return n;var i=t.leaf(e);return o.set(r,i),i},parent:function(e,r){var n="p:"+e.hash.toString("hex")+r.hash.toString("hex"),i=o.get(n);if(i)return i;var a=t.parent(e,r);return o.set(n,a),a}}}},generateSalt:function(e){e=e||{};var t=C.randomBytes(e.length||32);return e.enc?t.toString(e.enc):t},hashPassword:function(e){"string"==typeof e&&(e={password:e});var t=e.salt||re.generateSalt(),o=t.toString(G),r=C.createHash("sha256").update(e.password+o).digest();return{hash:r,salt:t}},kdf:function(e){"string"==typeof e&&(e={password:e});var t=e.password,o=e.salt||re.generateSalt({length:e.saltBytes||32}),r=e.iterations||1e4,n=e.keyBytes||32,i=e.digest||"sha256",a=C.pbkdf2Sync(t,o,r,n,i);return{key:a,salt:o}},setPassword:function(e,t){return E('saving password for username "'+e+'", service '+b["default"].serviceID),m["default"].setGenericPassword(e,t,b["default"].serviceID)},getPassword:function(e){return m["default"].getGenericPassword(e,b["default"].serviceID)},setHashedPassword:function(e,t){var o=re.hashPassword({password:t});return re.setPassword(e,o.hash.toString(G)+o.salt.toString(G))},getHashedPassword:function(e){return re.getPassword(e).then(function(e){var t=e.slice(-64),o=e.slice(0,e.length-64);return{hash:new r(o,G),salt:new r(t,G)}})},checkHashedPassword:function(e,t){return re.getHashedPassword(e).then(function(e){var o=re.hashPassword({password:t,salt:e.salt}).hash;return e.hash.equals(o)})["catch"](function(e){return!1})},encrypt:function(e,t){t=a({},_,t);var o=t.key,n=t.iv||C.randomBytes(t.ivBytes),i=C.createCipheriv(t.algorithm,o,n),s=r.concat([i.update(e),i["final"]()]),l=[n,s];return serialize(l)},decrypt:function(e,t){t=a({},_,t);var o=unserialize(e),n=o[0],i=(o[1],t.key),s=C.createDecipheriv(t.algorithm,i,n),l=s.update(o[1]);return r.concat([l,s["final"]()])},resetPasswords:function(){return Promise.all([m["default"].resetGenericPasswords(),m["default"].resetGenericPasswords(b["default"].serviceID)])},isAndroid:b["default"].isAndroid,isIOS:b["default"].isIOS,isWeb:b["default"].isWeb,fetch:I,groupByEveryN:function(e,t){for(var o=[],r=[],n=0;n<e.length;++n)n>0&&n%t===0&&(o.push(r),r=[]),r.push(e[n]);if(r.length>0){for(;r.length!==t;)r.push(null);o.push(r)}return o},promiseThunky:function(e){var t=void 0;return function(){return t?t:t=e.apply(this,arguments)}},getTopNonAuthRoute:function(e){for(var t=e.getCurrentRoutes(),o=void 0;(o=t.pop())&&o&&"PasswordCheck"===o.component.displayName;);
return o},orientation:function(e){function orientation(){return e.apply(this,arguments)}return orientation.toString=function(){return e.toString()},orientation}(function(){return"PORTRAITUPSIDEDOWN"===orientation?"LANDSCAPE":orientation.replace(/-LEFT|-RIGHT/,"")}),dimensions:function(e){return(0,y.getDimensions)(e)},styleFactory:function(e,t){if(!e.displayName)throw new Error('component must have "displayName"');return function(){var o=e.displayName;oe[o]||(oe[o]={});var r=oe[o],n=(0,y.getDimensions)(e),i=n.width+"x"+n.height;if(!r[i]){var a=(0,y.getOrientation)(e),s=n,l=s.width,u=s.height,c=!re.isWeb()&&("PORTRAIT"===a&&l>u||"LANDSCAPE"===a&&l<u);c&&(n={width:u,height:l}),r[i]=t({dimensions:n})}return r[i]}},resized:function(e,t){return e.orientation!==t.orientation||e.width!==t.width||e.height!==t.height},imageQuality:.2,restartApp:function(){re.isWeb()?window.location.reload():l.NativeModules.CodePush.restartApp(!1)},readFile:"web"==l.Platform.OS&&function(e,t){var o=new FileReader;o.addEventListener("load",function(){t(null,o.result)},!1),o.addEventListener("error",t),o.readAsDataURL(e)},readImage:"web"==l.Platform.OS&&function(e,t){re.readFile(e,function(e,o){var r=new window.Image;r.addEventListener("error",function(e){e||(e=new Error("failed to load image")),t(e)}),r.addEventListener("load",function(){t(null,{url:o,width:r.width,height:r.height})}),r.src=o})},printStack:B.printStack.bind(B)};e.exports=re}).call(t,function(){return this}(),o(799).Buffer)},937:function(e,t,o){"use strict";e.exports=o(938)},938:function(e,t,o){"use strict";e.exports=o(300).AsyncStorage},942:function(e,t,o){"use strict";var r=o(300),n="~keychain";e.exports={setGenericPassword:function(e,t,o){return r.AsyncStorage.setItem(n+o+"."+e,t)},getGenericPassword:function(e,t){return r.AsyncStorage.getItem(n+t+"."+e)},resetGenericPassword:function(e,t){return r.AsyncStorage.removeItem(n+t+"."+e)},resetGenericPasswords:function(e,t){return r.AsyncStorage.getAllKeys().then(function(e){return e.filter(function(e){return 0===e.indexOf(n)})}).then(function(e){return r.AsyncStorage.multiRemove(e)})}}},943:function(e,t,o){(function(t){"use strict";var r=o(300),n=o(944);e.exports={GCM_SENDER_ID:"633104277721",serviceID:"tradle",accessGroup:"94V7783F74.io.tradle.dev",LOCAL_IP:n,isAndroid:function(){return"android"===r.Platform.OS},isIOS:function(){return"ios"===r.Platform.OS},isWeb:function(){return"web"===r.Platform.OS},autoOptInTouchId:!1,get prefillWithTestData(){return"boolean"==typeof t.PREFILL_FORMS&&t.PREFILL_FORMS},lenientPassword:!0}}).call(t,function(){return this}())},944:function(e,t){e.exports="localhost"},947:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var r=o(342),n=_interopRequireDefault(r),i=o(948),a=(_interopRequireDefault(i),o(681)),s=_interopRequireDefault(a);e.exports={getNode:function(e){return"number"==typeof e?e:n["default"].findDOMNode(e)},measure:function(e,t,o){var r=t.getBoundingClientRect(),i=n["default"].findDOMNode(e),a=r.top+i.scrollTop;o(null,{width:r.width,height:r.height,top:a,left:r.left+i.scrollLeft,bottom:a+r.height,right:r.right+i.scrollLeft})},scrollTo:function(e,t,o){e.scrollTo({x:t,y:o})},navBarHeight:s["default"].General.NavBarHeight}},1082:function(e,t){e.exports={officialAccounts:"Official Accounts",getStarted:"Get started",back:"Back",profile:"Profile",done:"Done",edit:"Edit",settings:"Settings",theMinValueBiggerThenMaxValue:"The min value for the range should be smaller then the max value",thePropertyWithMinMaxRangeError:"The property with [min-max] range can have only two numbers",invalidProperty:"Invalid {1}",optional:"optional",thisFieldIsRequired:"This field is required",pleaseDrawPassword:"Draw your pattern",drawYourPassword:"Draw your pattern",drawYourPasswordAgain:"Draw your pattern again",drawYourNewPassword:"Draw a new pattern",drawYourNewPasswordAgain:"Draw the new pattern again",drawYourOldPassword:"Draw your old pattern",gestureNotRecognized:"Wrong pattern",passwordLimitations:"Pattern must have 5+ points",invalidPattern:"Wrong pattern",patternNotMatching:"The patterns didn't match.",wrongPattern:"Wrong pattern",correctGesture:"Correct pattern detected",authenticationFailed:"Authentication failed",setPassword:"Choose a secure password",enterPassword:"Enter your password",enterCurrentPassword:"Enter your current password",setNewPassword:"Choose a new password",textPasswordLimitations:"Must have 10+ characters, at least one uppercase letter, lowercase letter, number, and special character",lenientTextPasswordLimitations:"Must have 2+ characters",tooManyPasswordAttempts:"Too many failed attempts! This form has been disabled.",correctPassword:"Aww, you remembered!",passwordsDontMatch:"Passwords don't match",temporarilyLocked:"For your protection, this application has been temporarily locked for {1}",pleaseRestartTIM:"Please restart TiM",cancel:"Cancel",details:"Details",enterYourName:"Enter your name",addServerUrl:"Add server url",search:"Search",listOfProducts:"List of products",hello:"Hello {1}!",testForgetMe:"This is a test mechanism to reset all communications with this provider",confirmForgetMe:"Are you sure you want '{1}' to forget you",forgetMe:"Forget me",iNeed:"I need...",LivingWithParents:"Living with parents",HomeOwnerWithMortgage:"Home owner (with mortgage)",HomeOwnerWithoutMortgage:"Home owner (without mortgage)",TenantPrivate:"Tenant (private)",TenantCounsel:"Tenant (counsel)",BenefitPayments:"Benefit Payments",BillsExpenses:"Bills / Expenses",CapitalRaisingScottishWidowsBank:"Capital Raising ( Scottish Widows Bank )",Inheritance:"Inheritance",ProbateExecutorTrustee:"Probate / Executor / Trustee",SalaryPensionOtherRegularIncome:"Salary / Pension / Other Regular Income",Savings:"Savings",SpendingMoney:"Spending Money",Student:"Student",Home:"Home",Mobile:"Mobile",Work:"Work",newProduct:"New product",tapToRemovePhotos:"Tap to remove photos",addNew:"Add new {1}",switchToRepresentative:"Switching to representative mode is not yet implemented.",fillTheForm:"Please fill out this form",fillTheFormWithAttachments:"Please fill out this form and attach a snapshot of the original document",verifiedBy:"Verified by {1}",issuedBy:"Issued by {1}",sentTo:"Sent to {1}",typeMessage:"Type a message",newProductMsg:"I need a {1}.",shareOne:"{1}, this is your personal privacy assistant. I see you've already had your {2} verified. You can tap below to share it with {3}.",shareOneOfMany:"{1}, this is your personal privacy assistant. I see you've already had your {2} verified. You can tap on any items in the list below to share them with {3}.",shareWith:"Share {1}",verificationTransactionID:"Verification Transaction Id",scanQRcode:"Scan QR code",setDateValue:"Set",add:"Add {1}",myDocuments:"My Documents",confirmRevoke:"Ask {1} to delete this document from their records?",shareProduct:"You can tap below to share {1} with {2}",shareMyProduct:"You can tap below to share {1} with {2}",willBeAvailable:"This functionality will be available soon",switchTouchIdOff:"Switch touch ID off",switchTouchIdOn:"Switch touch ID on",noConnection:"Tradle requires a working internet connection which you don't have at the moment",noConnectionWillProcessLater:"Tradle requires a working internet connection which you don't have at the moment. The request will be processed when connection returns",noConnectionForPL:"Tradle requires a working internet connection to request a list of products from {1} which you don't have at the moment",noConnectionForNewProduct:"{1}, Tradle requires a working internet connection to fill out the {2} application.",inProgress:"Your request is in progress",newContactRequest:"{1} sent you contact request",howCanIHelpYou:"Hello {1}. My name is {2}. How can I help you today?",pleaseCorrectTheErrors:"Please correct error in the form",verifierHelp:"Click 'Done' button after reviewing the form. If some fields require correction check them them first and then click the 'Done' button",errorNotification:"Error notification has been sent to the customer to correct",addAnotherFormOrGetNext:"Add another {1} or move on to the next form",getNextForm:"Next",addSameForm:"Add",areYouSureAboutNextForm:"Are you sure you are done with {1}?",formChooser:"Form list",showQR:"My QR code",useTouchId:"Use Touch ID",useGesturePassword:"Use Gesture Password",useTouchIdAndGesturePassword:"Use Touch ID and Gesture",changeGesturePassword:"Change gesture password",changePassword:"Change password",touchIdOn:"Touch ID is ON",passwordOn:"Gesture Password is ON",bothOn:"Both are ON",turnTouchIdOn:"Turn touch ID on",turnPasswordOn:"Turn Gesture Password on",turnBothOn:"Turn Both on",pairDevices:"Pair devices",learnMore:"Learn more",offlineMode:"Offline Mode",learnMoreDescriptionTo:"You can still write messages in Offline Mode even though your device is not connected. When you reconnect all your messages will be automatically sent to {1}.",noNetwork:"No network",learnMoreDescription:"You can still write messages in Offline Mode even though your device is not connected. When you reconnect all your messages will be automatically sent.",shareChangesWith:"Share changes with",nothingChanged:"Nothing changed",en:"English",nl:"Dutch",submittingForm:"Submittted new {1}",submittingModifiedForm:"Modifying {1}",receivedProduct:"Received {1}",receivedVerification:"Received verification for {1}",formRequest:"Request for {1}",sharedForm:"Shared {1} from {2}",youAreForgotten:"You've been successfully forgotten",invalidPairingRequest:"Invalid Pairing Request",pairingRequest:"Pairing Request",deviceDoesNotHaveMyKeys:"Received identity does not have my keys",pairingRequestWasProcesseed:"Pairing request was processed",youShared:"You shared from {1}",termsAndConditions:"Terms and conditions.",acceptTermsAndConditions:"View terms and conditions",acceptingTermsAndConditions:"By pressing OK, you accept the Terms and Conditions",viewTerms:"Please view the Terms and Conditions",wipeDevice:"Wipe device",areYouSureAboutWipe:"This action is irreversible. You will lose all your data and private keys. Are you sure you want to proceed?",irrefutableProofs:"Irrefutable proofs",independentBlockchainViewer:"Independent blockchain viewer",contextsFor:"Contexts for",customerWaiting:"{1} has entered the chat",sharedContext:"Shared Context",shareContext:"Share {1}",shareAllPastAndFutureMessages:"Share all past and future messages in this context with selected parties"}},1083:function(e,t){e.exports={officialAccounts:"Officiële Accounts",back:"Terug",profile:"Profiel",done:"Klaar",edit:"Bewerk",settings:"Settings",theMinValueBiggerThenMaxValue:"The min value for the range should be smaller then the max value",thePropertyWithMinMaxRangeError:"The property with [min-max] range can have only two numbers",invalidProperty:"Invalid {property}",optional:"onverplicht",thisFieldIsRequired:"Dit veld is verplicht",pleaseDrawPassword:"Gelieve te trekken een gebaar wachtwoord",drawYourPassword:"Trek je gebaar wachtwoord",gestureNotRecognized:"Gebaar niet herkend, probeer het opnieuw",pleaseDrawPattern:"Please draw a pattern",drawYourPattern:"Teken uw patroon",pleaseDrawYourPatternAgain:"Please draw your pattern again",passwordLimitations:"Password must have 5 or more points",invalidPattern:"Invalid pattern, please try again",patternNotMatching:"Patterns didn\\'t match. Please start again",wrongPattern:"Wrong pattern",correctGesture:"Correct gesture detected",authenticationFailed:"Authentication failed",pleaseRestartTIM:"Please restart TiM",cancel:"Annuleren",details:"Details",addServerUrl:"Add server url",search:"Zoeken",listOfProducts:"Klik hier voor een lijst van producten",hello:"Hallo {1}!",testForgetMe:"This is a test mechanism to reset all communications with this provider",confirmForgetMe:"Bent u zeker dat u willen {1} om u te vergeten",forgetMe:"Vergeet me",iNeed:"Ik heb nodig",LivingWithParents:"Leven met ouders",HomeOwnerWithMortgage:"Home owner (with mortgage)",HomeOwnerWithoutMortgage:"Home owner (without mortgage)",TenantPrivate:"Tenant (private)",TenantCounsel:"Tenant (counsel)",BenefitPayments:"Benefit Payments",BillsExpenses:"Bills / Expenses",CapitalRaisingScottishWidowsBank:"Capital Raising ( Scottish Widows Bank )",Inheritance:"Inheritance",ProbateExecutorTrustee:"Probate / Executor / Trustee",SalaryPensionOtherRegularIncome:"Salary / Pension / Other Regular Income",Savings:"Savings",SpendingMoney:"Spending Money",Student:"Student",Home:"Thuis",Mobile:"Mobiel",Work:"Werk",newProduct:"New product",shareOne:"{1}, dit is uw persoonlijke privacy assistent. Ik zie dat je al hebt uw {2} geverifieerd. U kunt hieronder tikken op het te delen met {3}.",shareOneOfMany:"{1}, dit is uw persoonlijke privacy assistent. Ik zie dat je al hebt gehad uw {2} geverifieerd. U kunt tikken op alle items in de lijst hieronder om ze te delen met {3}.",Share:"Delen",tapToRemovePhotos:"Tap to remove photos",addNew:"Add new {1}",switchToRepresentative:"Switching to representative mode is not yet implemented.",fillTheForm:"Vul dit formulier in en voeg een momentopname van het originele document",verifiedBy:"Geverifieërd door {1}",issuedBy:"Issued by {1}",sentTo:"Sent to {1}",typeMessage:"Type a message",newProductMsg:"I need a {1}.",FulltimeEmployee:"Vast dienstverband onbepaalde tijd",TemporaryEmployment:"Tijdelijk dienstverband",FlexIncome:"Flexibel dienstverband",Employed:"Loondienst",SelfEmployed:"Zelfstandig",Alimony:"Partner alimentatie",IncomeOutOfRentingOrLeasing:"Inkomsten uit verhuur",Pension:"Inkomsten uit verhuur",PrePension:"AOW",OldAgeBenefits:"Ouderdomsregeling",InsurancePolicyPensionOutOfInsurance:"Lijfrente/Pensioenverzekering",PartnerAlimony:"Partner alimentatie",RevolvingCredit:"Doorlopend krediet","Personal Loan":"Persoonlijke lening",Overdraw:"Roodstand","Credit card":"Creditcard","???":"Aflopend krediet",ShoppingCredit:"Postorder krediet","Private Loan":"Onderhandse lening",StudyLoan:"Studieschuld",Monthly:"Maandelijks",Quarterly:"Per kwartaal",HalfYearly:"Half jaarlijks",Yearly:"Jaarlijks",ExistingInsurance:"Bestaand",TemporaryCoverage:"Voorlopige dekking",ToBeArranged:"Aanvragen",EqualOverTime:"Gelijkblijvend",YearlyDecreasing:"Annuitair dalend",LinearyDecreasing:"Lineair dalend",NewMortgage:"Nieuwe hypotheek",SecondMortgage:"Tweede hypotheek",AdditionalMortgageWithinExistingContract:"Verhoging binnen inschrijving",ChangeMortgageConstruction:"Omzetting",Single:"Ongehuwd",MarriedWithPrenuptialAgreement:"Getrouwd onder huwelijkse voorwaarden",Married:"Getrouwd in gemeenschap van goederen",RegisteredPartnership:"Geregistreerd partnerschap",LivingTogetherWithAgreement:"Samenlevingscontract",CivilPartnership:"Geregistreerd partnerschap",ElementarySchool:"Basisschool",HighSchool:"Middelbaar onderwijs",VocationalSecondarySchoolJunior:"LBO",VocationalSecondarySchoolSenior:"MBO",College:"HBO",University:"Universitair",verificationTransactionID:"Verificatie Transaction Id",setDateValue:"Set",scanQRcode:"Scan QR code",myDocuments:"My Documents",confirmRevoke:"Ask {1} to delete this document from their records?",Netherlands:"Nederland",France:"Frankrijk",French:"Frans",Dutch:"Nederlandse",English:"Engels",American:"Amerikaans",Russian:"Russisch",Russia:"Rusland",Passport:"Passpoort",ResidencePermit:"Verblijfsvergunning",IdCard:"Identiteitskaart",shareProduct:"I see you\\'ve already had your {1} verified",shareMyProduct:"You can tap below to share {1} with {2}",switchTouchIdOff:"Switch touch ID off",switchTouchIdOn:"Switch touch ID on",noConnection:"Tradle requires a working internet connection which yostru don't have at the moment",noConnectionWillProcessLater:"Tradle requires a working internet connection which you don't have at the moment. The request will be processed when connection returns",noConnectionForPL:"Tradle requires a working internet connection to request a list of products from {1} which you don't have at the moment",noConnectionForNewProduct:"{1}, Tradle requires a working internet connection to fill out the {2} application.",inProgress:"Your request is in progress",newContactRequest:"{1} sent you contact request",howCanIHelpYou:"Hello {1}. My name is {2}. How can I help you today?",pleaseCorrectTheErrors:"Please correct error in the form",verifierHelp:"Click 'Done' button after reviewing the form. If some fields require correction check them them first and then click the 'Done' button",addAnotherFormOrGetNext:"Add another {1} or get next form",getNextForm:"Get next form",addSameForm:"Add same form",areYouSureAboutNextForm:"Are you sure you are done with {1}."}},1097:830,1151:830,1161:830,1170:830,1202:830,1203:830,1204:830,1211:830,1212:830,1213:830,1310:830,1322:830,1520:function(e,t,o){function webpackContext(e){return o(webpackContextResolve(e))}function webpackContextResolve(e){return r[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var r={"./dictionary_en.json":1521,"./dictionary_nl.json":1522,"./dictionary_ru.json":1523};webpackContext.keys=function(){return Object.keys(r)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=1520},1530:function(e,t,o){"use strict";var r=o(1531),n=o(767)("Actions"),i={},a=["addItem","addMessage","getItem","getMe","getTo","getFrom","getEmployeeInfo","addNewIdentity","removeIdentity","showIdentityList","changeIdentity","reloadDB","reloadModels","list","listSharedWith","messageList","productList","addModelFromUrl","start","share","addVerification","startTransition","endTransition","talkToRepresentative","saveTemporary","getTemporary","cleanup","forgetMe","updateMe","scheduleUpdate","genPairingData","sendPairingRequest","processPairingRequest","processPairingResponse","pairingRequestAccepted","addApp","getAllContexts"],s=["setAuthenticated","downloadedCodeUpdate","requestWipe"];a.forEach(function(e){return i[e]={}}),s.forEach(function(e){i[e]={sync:!0}});var l=r.createActions(i);Object.keys(l).forEach(function(e){var t=l[e];l[e]=function(){return n("Actions."+e),t.apply(this,arguments)};for(var o in t)l[e][o]=t[o]}),e.exports=l},1550:830,1551:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function hasTouchID(){return b?b.hasTouchID().then(function(){return!0},function(e){return!1}):Promise.resolve(!1)}function authenticateUser(e){return x?x:(e="string"==typeof e?{reason:e}:e||{},e=r({},R,e),x=b.authenticate(e).then(function(){x=void 0})["catch"](function(e){x=void 0;throw e}))}function touchIDOrNothing(){return authenticateUser()["catch"](requestEnrollTouchID)}function requestEnrollTouchID(){return F?F:F=new Promise(function(e){n.Alert.alert("Error","Please enable TouchID, then press OK",[{text:"OK",onPress:function(){F=null,touchIDOrNothing().then(e)}}])})}function signIn(e,t,o){var r=y.getMe();if(r.isAuthenticated&&!t)return(0,l["default"])();var n=void 0;r.useTouchId;return n=r.useTouchId&&r.useGesturePassword?touchIDAndPasswordAuth(e,o):r.useTouchId?touchIDOrNothing():passwordAuth(e,o),n.then(function(){if(w.setAuthenticated(!0),o)return setPassword(e,o)})}function touchIDAndPasswordAuth(e,t){return E?passwordAuth(e,t):authenticateUser().then(function(){return passwordAuth(e,t)},function(o){if(k.indexOf(o.name)===-1)throw o;return passwordAuth(e,t)})}function passwordAuth(e,t){return g("passwordAuth"),y.getHashedPassword(C).then(function(){return checkPassword(e,t)},function(o){return setPassword(e,t)})}function lockUp(e,t){if(y.isWeb())try{n.Alert.alert(t)}catch(t){}else loopAlert(t);return g("lockUp"),new Promise(function(o){e.replace({component:p["default"],id:24,noLeftButton:!0,passProps:{bg:S,timer:T/1e3,message:t,callback:o}})})}function setPassword(e,t){var o=(v(y.isWeb()?"textPasswordLimitations":"passwordLimitations"),y.isWeb()?validateTextPassword:validateGesturePassword);return g("setPassword"),l["default"].Promise(function(n,i){var a=e.getCurrentRoutes().length,s=t||1===a?"push":"replace";e[s]({component:f["default"],id:20,noLeftButton:!0,passProps:r({},O,{mode:f["default"].Modes.set,validate:o,isChange:t,onSuccess:function(e){y.setHashedPassword(C,e).then(function(){w.updateMe({isRegistered:!0,useGesturePassword:!0}),n()})["catch"](i)}})})})}function checkPassword(e,t){g("checkPassword");var o=e.getCurrentRoutes(),n=o[o.length-1],i=n.component.displayName,a=i!==f["default"].displayName&&i!==p["default"].displayName,s=l["default"].defer(),u={component:f["default"],id:20,noLeftButton:!0,passProps:r({},O,{mode:f["default"].Modes.check,maxAttempts:3,isChange:t,isCorrect:function(e){return y.checkHashedPassword(C,e)},onSuccess:function(){return s.resolve()},onFail:function(t){lockUp(e,P).then(function(){return checkPassword(e)}).then(function(){return s.resolve()})}})};return e[a?"push":"replace"](u),s.promise}function validateTextPassword(e){return BS_PASSWORD_REGEX.test(e)}function validateGesturePassword(e){return e.length>4}function getPasswordPrompts(){var e=I[y.isWeb()?"text":"gesture"],t={};for(var o in e)t[o]=y.translate(e[o]);return t}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},n=o(300),i=o(1552),a=_interopRequireDefault(i),s=o(949),l=_interopRequireDefault(s),u=o(942),c=(_interopRequireDefault(u),o(1553)),f=_interopRequireDefault(c),d=o(1677),p=_interopRequireDefault(d),h=o(943),m=_interopRequireDefault(h),g=o(767)("tradle:app:local-auth"),b="web"!==n.Platform.OS&&o(1680),y=o(936),v=y.translate,w=o(1530),C="app-password",E="web"===n.Platform.OS,k=["LAErrorTouchIDNotAvailable","LAErrorTouchIDNotSupported","RCTTouchIDNotSupported"],T=3e5,A="5 minutes",P=v("temporarilyLocked",A),S=o(1683),R={reason:"unlock Tradle to proceed",fallbackToPasscode:m["default"].autoOptInTouchId,suppressEnterPassword:m["default"].autoOptInTouchId},I=o(1684),O=getPasswordPrompts(),x=(m["default"].lenientPassword?/.{1,}/:/^(?=.*[A-Z])(?=.*[!@#$&*])(?=.*[0-9])(?=.*[a-z]).{10,}$/,void 0),F=void 0,M=6e4;e.exports={TIMEOUT:M,Errors:a["default"],setPassword:setPassword,signIn:signIn,hasTouchID:hasTouchID,authenticateUser:authenticateUser}},1553:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(301),i=_interopRequireDefault(n),a=o(300),s=o(991),l=_interopRequireDefault(s),u=o(1554),c=_interopRequireDefault(u),f=(o(936),o(945)),d=o(1530),p=_interopRequireDefault(d),h=l["default"].form.Form,m=l["default"].struct({password:l["default"].String,passwordAgain:l["default"].String}),g=l["default"].struct({password:l["default"].String}),b={set:"set",check:"check"},y="#a94442",v="#888888",w=function(e){function PasswordCheck(e){_classCallCheck(this,PasswordCheck);var t=_possibleConstructorReturn(this,(PasswordCheck.__proto__||Object.getPrototypeOf(PasswordCheck)).call(this,e));return t._resetState(),t.onPress=t.onPress.bind(t),t.onChange=t.onChange.bind(t),t}return _inherits(PasswordCheck,e),r(PasswordCheck,[{key:"_resetState",value:function(e){e=e||this.props,this.state="set"===e.mode?this._getInitialSetState():this._getInitialCheckState()}},{key:"componentWillReceiveProps",value:function(e){this.props.mode!==e.mode&&this._resetState(e)}},{key:"_getInitialSetState",value:function(){return{message:this.props.isChange?this.props.promptSetChange:this.props.promptSet,value:{password:"",passwordAgain:""},errors:{password:null,passwordAgain:null}}}},{key:"_getInitialCheckState",value:function(){return{message:this.props.isChange?this.props.promptCheckCurrent:this.props.promptCheck,value:{password:""},attempts:0}}},{key:"_getInput",value:function(e){var t=this.refs.form.getComponent(e);if(t){var o=t.refs.input;if(o)return o.focus||(o=o.refs.input),o}}},{key:"componentDidMount",value:function(){function onKeyDown(t){if(this.value&&!e.isDisabled()){var o=t.keyCode?t.keyCode:t.which;13==o&&e.onPress()}}var e=this,t=this._getInput("password"),o=this._getInput("passwordAgain");t.focus(),t.addEventListener("keydown",onKeyDown),o&&o.addEventListener("keydown",onKeyDown)}},{key:"onChange",value:function(e,t){"set"===this.props.mode?this._onChangeSet.apply(this,arguments):this._onChangeCheck.apply(this,arguments)}},{key:"_onChangeCheck",value:function(e,t){this.setState({value:e})}},{key:"_onChangeSet",value:function(e,t){this.setState({value:e,errors:this.validatePasswordChoice(e,"passwordAgain"===t[0])})}},{key:"validatePasswordChoice",value:function(e,t){var o=this.props.validate(e&&e.password||"");o===!1?o=this.props.promptInvalidSet:o===!0&&(o=null);var r={password:o};return!o&&t&&(e&&e.password===e.passwordAgain||(r.passwordAgain=this.props.promptRetrySet)),r}},{key:"onPress",value:function(){this.isDisabled()||("set"===this.props.mode?this._onSet():this._onCheck())}},{key:"getValue",value:function(){var e=this._getInput("password"),t=this._getInput("passwordAgain");return{password:e.value,passwordAgain:t&&t.value}}},{key:"_onSet",value:function(){var e=this.validatePasswordChoice(this.getValue(),!0);e.password||e.passwordAgain?this.setState({errors:e}):this.props.onSuccess(this.state.value.password)}},{key:"_onCheck",value:function(){var e=this,t=this.getValue();if(t){var o=t.password,r=this.props.isCorrect(o),n="boolean"==typeof r?Promise.resolve(r):r;return n.then(function(t){if(t)return e.props.onSuccess(o);var r=e.state.attempts+1;e.setState({attempts:r},function(){if(r>=e.props.maxAttempts)return e.props.onFail()})})}}},{key:"isDisabled",value:function(){return"check"===this.props.mode&&this.state.attempts>=this.props.maxAttempts}},{key:"hasError",value:function(){return"set"===this.props.mode?!(!this.state.errors.password&&!this.state.errors.passwordAgain):this.state.attempts>0}},{key:"_getOptions",value:function(){return"set"===this.props.mode?this._getSetOptions():this._getCheckOptions()}},{key:"_getSetOptions",value:function(){return{auto:"placeholders",fields:{password:{placeholder:"Password",password:!0,secureTextEntry:!0,error:this.state.errors.password,hasError:!!this.state.errors.password,help:this.props.passwordRequirements},passwordAgain:{placeholder:"Re-enter password",password:!0,secureTextEntry:!0,hasError:!!this.state.errors.passwordAgain,error:this.state.errors.passwordAgain}},order:["password","passwordAgain"]}}},{key:"_getCheckOptions",value:function(){return{auto:"placeholders",fields:{password:{password:!0,secureTextEntry:!0,hasError:this.state.attempts>0,help:this.props.passwordRequirements}}}}},{key:"render",value:function(){var e=this._getOptions(),t=this.isDisabled();t&&l["default"].update(e,{fields:{password:{editable:{$set:!1}}}});var o=this.props.style||{},r="set"===this.props.mode?m:g,n=this.renderHeader(),s=a.Dimensions.get("window"),u=s.width,f=s.height,d=Math.min(u,f);return u=d/2,i["default"].createElement(a.View,{style:[C.container,o.container]},n,i["default"].createElement(a.View,{style:{width:u}},i["default"].createElement(h,{ref:"form",type:r,options:e,style:[C.form,o.form],value:this.state.value,onChange:this.onChange}),i["default"].createElement(a.TouchableOpacity,{style:[C.button,o.submit,{alignItems:"center"}],onPress:this.onPress,disabled:t},i["default"].createElement(c["default"],{name:"ios-lock",size:this.props.iconSize||100,style:{color:this.hasError()?y:v}}))),this.renderFooter())}},{key:"renderHeader",value:function(){var e=this.hasError()?C.error:C.prompt;return i["default"].createElement(a.Text,{style:[C.header,e]},this.state.message)}},{key:"renderFooter",value:function(){if("set"!==this.props.mode)return i["default"].createElement(a.TouchableOpacity,{style:C.footer,onPress:function(){return p["default"].requestWipe()}},i["default"].createElement(a.Text,{style:C.danger},"Wipe device"))}}]),PasswordCheck}(n.Component);w.displayName="PasswordCheck",w.propTypes={validate:n.PropTypes.func,onSuccess:n.PropTypes.func,onFail:n.PropTypes.func,passwordRequirements:n.PropTypes.string,submitText:n.PropTypes.string,isCorrect:n.PropTypes.func,maxAttempts:n.PropTypes.number,promptSet:n.PropTypes.string,promptCheck:n.PropTypes.string,promptReenter:n.PropTypes.string,promptRetrySet:n.PropTypes.string,promptRetryCheck:n.PropTypes.string,promptInvalidSet:n.PropTypes.string,successMsg:n.PropTypes.string,failMsg:n.PropTypes.string,style:n.PropTypes.shape({container:a.View.propTypes.style,form:a.View.propTypes.style,submit:a.View.propTypes.style,submitText:a.View.propTypes.style}),mode:function(e){return e in b}};var C=a.StyleSheet.create({container:{flex:1,backgroundColor:"#efefef",justifyContent:"center",alignItems:"center",padding:20},form:{alignSelf:"stretch",flex:1,justifyContent:"center",alignItems:"center"},header:{fontSize:25,padding:50,textAlign:"center"},error:{color:y},prompt:{color:v},footer:{position:"absolute",left:0,right:0,bottom:0,paddingRight:5,textAlign:"right"},danger:{color:"#ff8888"}});t=e.exports=(0,f.makeResponsive)(w),t.Modes=b},1677:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function positiveIntegerChecker(e,t,o,r){var n=e[t];return"number"==typeof n&&(0|n)===n?null:new Error('expected positive integer value for "'+t+'"')}function pad(e){return e<10?"0"+e:""+e}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(301),i=_interopRequireDefault(n),a=o(300),s=o(1678),l=_interopRequireDefault(s),u=o(1679),c=_interopRequireDefault(u),f=function(e){function LockScreen(e){_classCallCheck(this,LockScreen);var t=_possibleConstructorReturn(this,(LockScreen.__proto__||Object.getPrototypeOf(LockScreen)).call(this,e));return t.state={ttl:Math.ceil(e.timer)},t}return _inherits(LockScreen,e),r(LockScreen,[{key:"componentDidMount",value:function(){var e=this;this._countdown=setInterval(function(){var t=e.state.ttl-1;return t?void e.setState({ttl:t}):(clearInterval(e._countdown),e.props.callback())},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this._countdown)}},{key:"render",value:function(){var e=this.props,t=e.bg,o=e.message,r=e.style,n=void 0===r?{}:r,s=this.state.ttl,u=pad(s/60|0),c=pad(s%60|0);return i["default"].createElement(a.View,{style:d.container},t&&i["default"].createElement(l["default"],{source:t}),i["default"].createElement(a.View,{style:d.textContainer},o&&i["default"].createElement(a.Text,{style:[d.message,n.message]
},o),i["default"].createElement(a.Text,{style:[d.timer,n.timer]},u+":"+c)))}}]),LockScreen}(c["default"]);f.displayName="LockScreen",f.propTypes={bg:n.PropTypes.oneOfType([n.PropTypes.string,n.PropTypes.number]),timer:positiveIntegerChecker,message:n.PropTypes.string,callback:n.PropTypes.func.isRequired,styles:n.PropTypes.shape({message:n.PropTypes.style,timer:n.PropTypes.style})};var d=a.StyleSheet.create({container:{backgroundColor:"transparent",flex:1,padding:20,alignItems:"center",justifyContent:"center"},textContainer:{zIndex:1},message:{textAlign:"center",fontSize:24,color:"#ffffff"},timer:{textAlign:"center",fontSize:50,color:"#ffffff"}});e.exports=f},1678:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},n=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),i=o(301),a=_interopRequireDefault(i),s=o(300),l=o(945),u=function(e){function BackgroundImage(){return _classCallCheck(this,BackgroundImage),_possibleConstructorReturn(this,(BackgroundImage.__proto__||Object.getPrototypeOf(BackgroundImage)).apply(this,arguments))}return _inherits(BackgroundImage,e),n(BackgroundImage,[{key:"render",value:function(){var e=this.props,t=s.Dimensions.get("window");t.width,t.height;return a["default"].createElement(s.View,r({},e,{style:[e.style,{background:"url("+(e.source.uri||e.source)+") no-repeat center center fixed",backgroundSize:"cover",width:"100%",height:"100%",position:"absolute",top:0,left:0}]}))}}]),BackgroundImage}(i.Component);e.exports=(0,l.makeResponsive)(u)},1679:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(301),i=(_interopRequireDefault(n),o(300),function(e){function BackButtonDisabled(){return _classCallCheck(this,BackButtonDisabled),_possibleConstructorReturn(this,(BackButtonDisabled.__proto__||Object.getPrototypeOf(BackButtonDisabled)).apply(this,arguments))}return _inherits(BackButtonDisabled,e),r(BackButtonDisabled,[{key:"render",value:function(){return this.props.children}}]),BackButtonDisabled}(n.Component));i.backButtonDisabled=!0,t["default"]=i},1683:function(e,t){"use strict";e.exports="./img/bg.jpg"},1684:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var r=(o(300),o(943)),n=_interopRequireDefault(r),i={promptSet:"setPassword",promptSetChange:"setNewPassword",promptRetrySet:"passwordsDontMatch",promptCheck:"enterPassword",promptCheckCurrent:"enterCurrentPassword",promptInvalidSet:n["default"].lenientPassword?"lenientTextPasswordLimitations":"textPasswordLimitations",successMsg:"correctPassword",failMsg:"tooManyPasswordAttempts"},a={promptSet:"pleaseDrawPassword",promptSetChange:"drawYourNewPassword",promptRetrySet:"patternNotMatching",promptCheck:"drawYourPassword",promptCheckCurrent:"drawYourOldPassword",promptReenter:"drawYourPasswordAgain",promptReenterChange:"drawYourNewPasswordAgain",promptRetryCheck:"gestureNotRecognized",promptInvalidSet:"passwordLimitations",successMsg:"correctGesture",failMsg:"authenticationFailed"};e.exports={text:i,gesture:a}},1685:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var r=o(936),n=_interopRequireDefault(r);e.exports=o(n["default"].isAndroid()?1686:n["default"].isIOS()?1688:1689)},1686:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var r=o(1687),n=_interopRequireDefault(r);o(300),o(936);e.exports=t=n["default"].create({container:{backgroundColor:"#f7f7f7",marginTop:56,flex:1},navBarText:{marginTop:19,fontSize:17},menuButtonNarrow:{marginTop:2,paddingHorizontal:5},menuButtonRegular:{marginTop:2,paddingHorizontal:5},menuButton:{marginTop:5,paddingHorizontal:5},touchIdText:{color:"#2E3B4E",fontSize:18,marginTop:7,marginLeft:15,alignSelf:"flex-start"}});var i={name:"md-menu",color:"red"};t.MenuIcon=i},1687:function(e,t,o){"use strict";function adjust(e){var t=n.PixelRatio.getFontScale();if(!t||t<=3)return e;for(var o in e){var r=e[o].fontSize;r&&(e[o].fontSize=Math.floor(r*(t<3.5?.95:.9)))}return e}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},n=o(300);e.exports=r({},n.StyleSheet,{create:function(e){return n.StyleSheet.create(adjust(e))}})},1688:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var r=o(1687),n=_interopRequireDefault(r);e.exports=t=n["default"].create({container:{backgroundColor:"#f7f7f7",marginTop:64,flex:1},navBarText:{marginTop:10,fontSize:17},menuButtonNarrow:{marginTop:-23,paddingVertical:5,paddingHorizontal:21,height:45,borderRadius:24,shadowOpacity:1,shadowRadius:5,shadowColor:"#afafaf",backgroundColor:"red"},menuButton:{marginTop:-23,paddingVertical:5,paddingHorizontal:13,borderRadius:24,shadowOpacity:1,shadowRadius:5,shadowColor:"#afafaf",backgroundColor:"red"},menuButtonRegular:{marginTop:-20,paddingVertical:5,paddingHorizontal:10,borderRadius:24,shadowOpacity:1,shadowRadius:5,shadowColor:"#afafaf",backgroundColor:"red"},touchIdText:{color:"#2E3B4E",fontSize:18,marginTop:10,marginLeft:15,alignSelf:"flex-start"}});var i={name:"md-more",color:"#ffffff"};t.MenuIcon=i},1689:function(e,t,o){"use strict";var r=o(300);e.exports=t=r.StyleSheet.create({container:{marginTop:64,flex:1},navBarText:{marginTop:5,fontSize:17},menuButtonNarrow:{marginTop:-23,paddingVertical:5,paddingHorizontal:21,height:45,justifyContent:"center",borderRadius:24,shadowOpacity:1,shadowRadius:5,shadowColor:"#afafaf",backgroundColor:"red"},menuButton:{marginTop:-23,paddingVertical:5,paddingHorizontal:13,borderRadius:24,shadowOpacity:1,shadowRadius:5,shadowColor:"#afafaf",backgroundColor:"red"},menuButtonRegular:{marginTop:-20,paddingVertical:5,paddingHorizontal:10,borderRadius:24,shadowOpacity:1,shadowRadius:5,shadowColor:"#afafaf",backgroundColor:"red"},touchIdText:{color:"#2E3B4E",fontSize:18,marginTop:10,marginLeft:15,alignSelf:"flex-start"}});var n={name:"md-more",color:"#ffffff"};t.MenuIcon=n},1690:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},n=o(300),i=(_interopRequireDefault(n),"web"===n.Platform.OS&&o(682)),a={opacity:{value:1,type:"constant"}},s={NONE:r({},n.Navigator.SceneConfigs.FadeAndroid,{gestures:null,defaultTransitionVelocity:1e3,animationInterpolators:{into:i(a),out:i(a)}})};t["default"]=s},1691:function(e,t,o){(function(t){"use strict";e.exports=o("serviceWorker"in t.navigator&&"PushManager"in t?1692:1694)}).call(t,function(){return this}())},1692:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function postWithRetry(e,t,o){return"/"===t[0]&&(t=t.slice(1)),e.sign({object:o}).then(function(e){return n["default"].fetchWithBackoff(c+"/"+t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e.object)},1e4)})}var r=o(936),n=_interopRequireDefault(r),i=o(1530),a=(_interopRequireDefault(i),o(943)),s=(_interopRequireDefault(a),o(1084)),l=s.constants.TYPE,u=(o(767)("tradle:sse-push"),o(1693)),c="https://push1.tradle.io",f=void 0,d=new Promise(function(e){f=e}),p=o(1694);t.init=function(e){p.init(e);var t=e.node;return navigator.serviceWorker.register(u).then(function(e){return e.pushManager.getSubscription().then(function(t){return t?t:e.pushManager.subscribe({userVisibleOnly:!0})})}).then(function(e){var o;return postWithRetry(t,"/subscriber",(o={},_defineProperty(o,l,"tradle.PNSRegistration"),_defineProperty(o,"identity",t.identity),_defineProperty(o,"token",e.endpoint.split("/").pop()),_defineProperty(o,"protocol","gcm"),o))}).then(function(){return f(e)},function(e){throw console.error("failed to register service worker for Push notifications",e),e})},t.subscribe=function(e){return d.then(function(t){var o,r=t.node;return postWithRetry(r,"/subscription",(o={},_defineProperty(o,l,"tradle.PNSSubscription"),_defineProperty(o,"publisher",e),_defineProperty(o,"subscriber",r.permalink),o))})},t.resetBadgeNumber=function(){return Promise.resolve()}},1693:function(e,t,o){e.exports=o.p+"service-worker.js"},1694:function(e,t){(function(e){"use strict";function requestPermissions(){"granted"!==Notification.permission&&"denied"!==Notification.permission&&Notification.requestPermission(function(e){"granted"===e&&console.log("notifications permission granted")})}var o="Notification"in e;o&&requestPermissions();var r=!0,n=void 0;window.addEventListener("blur",function(){r=!1}),window.addEventListener("focus",function(){n&&n.unreadPushNotifications&&Actions.updateMe({unreadPushNotifications:0}),r=!0}),t.init=function(e){if(!o)return Promise.resolve();n=e.me;var t=e.node;t.on("message",function(){if(!r&&"granted"===Notification.permission){var e=new Notification("You have a message waiting!",{body:"Click to open your Tradle tab",icon:"/img/logo.png"});e.onclick=function(){try{window.focus()}catch(o){}clearTimeout(t),e.close()};var t=setTimeout(function(){return e.close()},5e3)}})},t.subscribe=function(){return Promise.resolve()},t.resetBadgeNumber=function(){return Promise.resolve()}}).call(t,function(){return this}())},1695:function(e,t){"use strict";var o=new Map,r={watch:function(e){if(!o.has(e)){var t=void 0;o.set(e,{get currentRoute(){return t||e.state.routeStack[e.state.presentedIndex]}}),e.navigationContext.addListener("willfocus",function(e){t=e.data.route})}},getCurrentRoute:function(e){var t=o.get(e);if(!t)throw new Error("nav not found! Run navs.watch(nav) first");return t.currentRoute},getCurrentRouteInfo:function(e){var t=r.getCurrentRoute(e),o=e.getCurrentRoutes();return{routes:o,route:t,index:o.indexOf(t)}}};e.exports=r},1696:function(e,t){"use strict";e.exports={}},1697:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(1698),i=_interopRequireDefault(n),a=o(301),s=_interopRequireDefault(a),l=o(300),u=o(1685),c=_interopRequireDefault(u),f=o(1702),d=_interopRequireDefault(f),p=o(1703),h=o(1704),m=o(1721),g=o(2099),b=o(1947),y=o(1944),v=o(1737),w=o(1945),C=o(936),E=C.translate,k=o(1718),T=o(1720),A=o(1738),P=o(1530),S=o(1531),R=o(1355),I=o(1554),O=o(2103),x=(o(1930),o(1736),o(2073)),F=o(2098),M=o(1687),_="0",D="1",N="5",B="tradle.ProductApplication",V="tradle.Enum",L="ios"!==l.Platform.OS?null:o(2066),j=function(e){function ResourceList(e){_classCallCheck(this,ResourceList);var t=_possibleConstructorReturn(this,(ResourceList.__proto__||Object.getPrototypeOf(ResourceList)).call(this,e));t.state={isLoading:!0,dataSource:new l.ListView.DataSource({rowHasChanged:function(e,t){return e!==t}}),allowToAdd:t.props.prop&&t.props.prop.allowToAdd,filter:t.props.filter,show:!1,isConnected:t.props.navigator.isConnected,userInput:""},e.multiChooser&&(t.state.chosen={});var o=t.props.isRegistration||t.props.resource&&t.props.resource[R.TYPE]===R.TYPES.PROFILE&&!t.props.resource[R.ROOT_HASH];if(o&&(t.state.isRegistration=o),t.props.chat){t.state.sharedWith={};var r=t.props.navigator.getCurrentRoutes();r[r.length-1].onRightButtonPress=t.done.bind(t)}else if(t.props.onDone){t.state.sharedWith={};var r=t.props.navigator.getCurrentRoutes();r[r.length-1].onRightButtonPress=t.props.onDone.bind(t,t.state.chosen)}return t}return _inherits(ResourceList,e),r(ResourceList,[{key:"done",value:function(){var e=[];for(var t in this.state.sharedWith)this.state.sharedWith[t]&&e.push(t);this.props.callback(e)}},{key:"componentWillUnmount",value:function(){1===this.props.navigator.getCurrentRoutes().length&&d["default"].setHidden(!0)}},{key:"componentWillMount",value:function(){var e=this;if(this.props.chat)return void C.onNextTransitionEnd(this.props.navigator,function(){P.listSharedWith(e.props.resource,e.props.chat)});var t={modelName:this.props.modelName};if(this.props._readOnly&&(t._readOnly=!0),this.props.isAggregation&&(t.isAggregation=!0),this.props.sortProperty&&(t.sortProperty=this.props.sortProperty),this.props.prop&&(t.prop=C.getModel(this.props.resource[R.TYPE]).value.properties[this.props.prop.name]),t.prop){var o=C.getModel(this.props.resource[R.TYPE]).value;o.interfaces&&(t.resource=this.props.resource)}else t.to=this.props.resource;C.onNextTransitionEnd(this.props.navigator,function(){P.list(t),d["default"].setHidden(!1)})}},{key:"componentDidMount",value:function(){this.listenTo(A,"onListUpdate")}},{key:"onListUpdate",value:function(e){var t=this;if(!e.error){var o=e.action;if("newContact"===o){var r=this.props.navigator.getCurrentRoutes(),n=r[r.length-1];if(11===n.id&&n.passProps.resource[R.ROOT_HASH]===e.to[R.ROOT_HASH])return;var i=this.mergeStyle(e.to.style);return void this.props.navigator[3===n.id?"replace":"push"]({title:e.to.firstName,component:y,id:11,backButtonTitle:"Back",passProps:{resource:e.to,filter:"",modelName:R.TYPES.MESSAGE,bankStyle:i}})}if("addApp"===o)return void this.props.navigator.pop();if("connectivity"===o)return void this.setState({isConnected:e.isConnected});if("addItem"===o||"addMessage"===o){var a="addMessage"===o?C.getModel(this.props.modelName).value:C.getModel(e.resource[R.TYPE]).value;if("addItem"===o&&a.id!==this.props.modelName)return;if("addMessage"===o&&this.props.modelName!==R.TYPES.PROFILE)return;return void P.list({query:this.state.filter,modelName:a.id,to:this.props.resource,sortProperty:a.sort})}if("getForms"===o){if(!e.to)return;var s=this.mergeStyle(e.to.style),u={title:e.to.name,component:y,id:11,backButtonTitle:"Back",passProps:{resource:e.to,filter:"",modelName:R.TYPES.MESSAGE,currency:e.to.currency,bankStyle:s,dictionary:e.dictionary}};return void this.props.navigator.replace(u)}if("talkToEmployee"===o){if(!e.to)return;var c=this.mergeStyle(e.to.style),u={title:e.to.name,component:y,id:11,backButtonTitle:"Back",passProps:{resource:e.to,filter:"",modelName:R.TYPES.MESSAGE,currency:e.to.currency,bankStyle:c,dictionary:e.dictionary}},f=C.getMe(),d={message:E("customerWaiting",f.firstName),_t:R.TYPES.SELF_INTRODUCTION,identity:e.myIdentity,from:f,to:e.to};return C.onNextTransitionEnd(this.props.navigator,function(){return P.addMessage(d)}),void(3===this.props.navigator.getCurrentRoutes().length?this.props.navigator.replace(u):this.props.navigator.push(u))}if("list"===o&&!e.list&&e.alert)return void l.Alert.alert(e.alert);if(("list"===o||"listSharedWith"===o)&&e.list&&e.isAggregation===this.props.isAggregation&&("list"!==o||!this.props.chat)&&("listSharedWith"!==o||this.props.chat)){var p=e.list;this.props.multiChooser&&p.length&&(p=p.filter(function(e){return e[R.ROOT_HASH]!==t.props.sharingChat[R.ROOT_HASH]}));var h={dataSource:this.state.dataSource.cloneWithRows(p),list:p,isLoading:!1};if(!p.length)return void(this.state.filter&&this.state.filter.length?this.setState(h):this.setState({isLoading:!1}));var m=p[0][R.TYPE];if(m!==this.props.modelName){var g=C.getModel(m).value;if(!g.subClassOf||g.subClassOf!=this.props.modelName)return}T(h,{forceUpdate:e.forceUpdate,dictionary:e.dictionary}),e.sharedWith&&!function(){h.sharedWithMapping=e.sharedWith;var t={};p.forEach(function(e){t[C.getId(e)]=!0}),h.sharedWith=t}(),this.setState(h)}}}},{key:"mergeStyle",value:function(e){var t={};return T(t,F),e&&(t=T(t,e)),t}},{key:"shouldComponentUpdate",value:function(e,t){if(t.forceUpdate)return!0;if(this.state.show!==t.show)return!0;if(t.isConnected!==this.state.isConnected)return!0;if(!this.state.list||!t.list||this.state.list.length!==t.list.length)return!0;for(var o=(this.props.modelName===R.TYPES.ORGANIZATION,0);o<this.state.list.length;o++){if(this.state.list[o].numberOfForms!==t.list[o].numberOfForms)return!0;if(this.state.list[o][R.ROOT_HASH]!==t.list[o][R.ROOT_HASH])return!0}return!1}},{key:"selectResource",value:function(e){var t=C.getMe(),o=C.getModel(this.props.modelName),r=this.props.modelName===R.TYPES.PROFILE,n=o.value.id===R.TYPES.VERIFICATION,i=o.value.id===R.TYPES.FORM,a=this.props.modelName===R.TYPES.ORGANIZATION;if(r||a||this.props.callback){if(this.props.prop){if(t&&this.props.modelName!=R.TYPES.PROFILE)return void this._selectResource(e);if(t){if(t[R.ROOT_HASH]===e[R.ROOT_HASH]||this.props.resource&&t[R.ROOT_HASH]===this.props.resource[R.ROOT_HASH]&&this.props.prop)return void this._selectResource(e)}else if(this.state.isRegistration)return void this._selectResource(e)}var s=r?e.firstName:e.name,l=R.TYPES.MESSAGE,u=this.mergeStyle(e.style),c={component:y,id:11,backButtonTitle:"Back",passProps:{resource:e,filter:"",modelName:l,currency:e.currency,bankStyle:u}};if(r){c.title=e.firstName,c.rightButtonTitle=E("profile"),c.onRightButtonPress={title:s,id:3,component:m,titleTextColor:"#7AAAC3",backButtonTitle:"Back",passProps:{bankStyle:u,resource:e}};var f=!r||e[R.ROOT_HASH]===t[R.ROOT_HASH];f&&(c.onRightButtonPress.rightButtonTitle=E("edit"),c.onRightButtonPress.onRightButtonPress={title:s,id:4,component:b,titleTextColor:"#7AAAC3",backButtonTitle:"Back",rightButtonTitle:"Done",passProps:{bankStyle:u,model:C.getModel(e[R.TYPE]).value,resource:e,currency:this.props.currency}})}if(a&&(c.title=e.name,this.props.officialAccounts&&!C.isEmployee(e))){var d={message:E("customerWaiting",t.firstName),_t:R.TYPES.CUSTOMER_WAITING,from:t,to:e,time:(new Date).getTime()};C.onNextTransitionEnd(this.props.navigator,function(){return P.addMessage(d,!0)})}this.props.navigator.push(c)}else{var p=C.getModel(e[R.TYPE]).value;if(n||i)this.props.navigator.push({title:p.title,id:5,component:w,backButtonTitle:"Back",passProps:{resource:e,bankStyle:this.props.bankStyle||F}});else{var s=C.makeTitle(C.getDisplayName(e,p.properties));this.props.navigator.push({title:s,id:3,component:m,backButtonTitle:"Back",rightButtonTitle:E("edit"),onRightButtonPress:{title:s,id:4,component:b,titleTextColor:"#7AAAC3",backButtonTitle:"Back",rightButtonTitle:"Done",passProps:{model:p,resource:e,bankStyle:this.props.bankStyle||F}},passProps:{resource:e}})}}}},{key:"_selectResource",value:function(e){var t=C.getModel(this.props.modelName),o=C.getDisplayName(e,t.value.properties),r=o;if(o.length>20){var n=o.split(" ");r="",n.forEach(function(e){r.length+e.length>20||(r+=r.length?" "+e:e)})}var i={title:C.makeTitle(r),id:3,component:m,parentMeta:t,backButtonTitle:"Back",passProps:{resource:e,bankStyle:this.props.style,currency:this.props.currency}},a=C.getMe();if((a||this.state.isRegistration)&&this.props.prop)return this.props.callback(this.props.prop,e),void(this.props.returnRoute?this.props.navigator.popToRoute(this.props.returnRoute):this.props.navigator.pop());if(a&&!t.value.isInterface&&(e[R.ROOT_HASH]===a[R.ROOT_HASH]||e[R.TYPE]!==R.TYPES.PROFILE)){i.rightButtonTitle=E("edit"),i.onRightButtonPress={title:E("edit"),id:4,component:b,rightButtonTitle:"Done",titleTextColor:"#7AAAC3",passProps:{model:C.getModel(e[R.TYPE]).value,bankStyle:this.props.style,resource:a}}}this.props.navigator.push(i)}},{key:"showRefResources",value:function(e,t){var o=C.getModel(e[R.TYPE]).value.properties,r=o[t],n=C.getDisplayName(e,o);n=C.makeTitle(n);var i=r.title+" - "+n;i=C.makeTitle(i);var a=r.items.ref;this.props.navigator.push({title:i,id:10,component:ResourceList,backButtonTitle:"Back",titleTextColor:"#7AAAC3",passProps:{resource:e,prop:t,bankStyle:this.props.style,modelName:a},rightButtonTitle:E("details"),onRightButtonPress:{title:n,id:3,component:m,titleTextColor:"#7AAAC3",backButtonTitle:"Back",rightButtonTitle:E("edit"),onRightButtonPress:{title:n,id:4,component:b,titleTextColor:"#7AAAC3",backButtonTitle:"Back",rightButtonTitle:"Done",passProps:{model:C.getModel(e[R.TYPE]).value,bankStyle:this.props.style,resource:e}},passProps:{bankStyle:this.props.style,resource:e,currency:this.props.currency}}})}},{key:"onSearchChange",value:function(e){this.state.filter=e,P.list({query:e,modelName:this.props.modelName,to:this.props.resource})}},{key:"renderRow",value:function(e){var t=this,o=C.getModel(this.props.modelName).value,r=o.id===R.TYPES.VERIFICATION||o.subClassOf===R.TYPES.VERIFICATION,n=o.id===R.TYPES.FORM||o.subClassOf===R.TYPES.FORM,i="tradle.MyProduct"===o.id||"tradle.MyProduct"===o.subClassOf,a=o.id===B&&e._readOnly;return r||n||i?s["default"].createElement(g,{onSelect:function(){return t.selectResource(r?e.document:e)},key:e[R.ROOT_HASH],navigator:this.props.navigator,prop:this.props.prop,currency:this.props.currency,isChooser:this.props.isChooser,resource:e}):s["default"].createElement(h,{onSelect:function(){return a?t.openSharedContextChat(e):t.selectResource(e)},key:e[R.ROOT_HASH],navigator:this.props.navigator,changeSharedWithList:this.props.chat?this.changeSharedWithList.bind(this):null,currency:this.props.currency,isOfficialAccounts:this.props.officialAccounts,multiChooser:this.props.multiChooser,showRefResources:this.showRefResources.bind(this),resource:e,chosen:this.state.chosen})}},{key:"openSharedContextChat",value:function(e){this.props.navigator.push({title:E(C.getModel(e.product).value),component:y,id:11,backButtonTitle:"Back",passProps:{resource:e,context:e,filter:"",modelName:R.TYPES.MESSAGE,bankStyle:this.props.bankStyle||F}})}},{key:"changeSharedWithList",value:function(e,t){this.state.sharedWith[e]=t}},{key:"renderFooter",value:function(){var e=this,t=(C.getMe(),C.getModel(this.props.modelName).value);if(!this.props.prop&&t.id!==R.TYPES.ORGANIZATION)return s["default"].createElement(l.View,null);if(this.props.prop&&!this.props.prop.allowToAdd)return s["default"].createElement(l.View,null);var o="android"===l.Platform.OS?"md-menu":"md-more",r="android"===l.Platform.OS?"red":"#ffffff";return s["default"].createElement(l.View,{style:z.footer},s["default"].createElement(l.TouchableOpacity,{onPress:function(){return e.ActionSheet.show()}},s["default"].createElement(l.View,{style:c["default"].menuButtonNarrow},s["default"].createElement(I,{name:o,size:33,color:r}))))}},{key:"onSettingsPressed",value:function(){var e=this,t=C.getModel(R.TYPES.SETTINGS).value;this.setState({show:!1});var o={component:b,title:"Settings",backButtonTitle:"Back",rightButtonTitle:"Done",id:4,titleTextColor:"#7AAAC3",passProps:{model:t,bankStyle:this.props.style,callback:function(){e.props.navigator.pop(),P.list({modelName:e.props.modelName})}}};this.props.navigator.push(o)}},{key:"showBanks",value:function(){this.props.navigator.push({title:E("officialAccounts"),id:10,component:ResourceList,backButtonTitle:"Back",titleTextColor:"#7AAAC3",passProps:{officialAccounts:!0,bankStyle:this.props.style,modelName:R.TYPES.ORGANIZATION}})}},{key:"showContexts",value:function(){this.props.navigator.push({title:E("sharedContext"),id:10,component:ResourceList,backButtonTitle:E("back"),titleTextColor:"#7AAAC3",passProps:{bankStyle:this.props.style,modelName:B,_readOnly:!0}})}},{key:"addNew",value:function(){var e,t=C.getModel(this.props.modelName).value;if(this.setState({show:!1}),this.props.resource){var o=t.properties;for(var r in o){var n=o[r].ref&&o[r].ref===this.props.resource[R.TYPE];o[r].ref&&!n&&C.getModel(o[r].ref).value.isInterface&&t.interfaces&&t.interfaces.indexOf(o[r].ref)!==-1&&(n=!0),n&&(e={},e[R.TYPE]=this.props.modelName,e[r]={id:this.props.resource[R.TYPE]+"_"+this.props.resource[R.ROOT_HASH]},this.props.resource.relatedTo&&o.relatedTo&&(e.relatedTo=this.props.resource.relatedTo))}}this.props.prop&&t.subClassOf===R.TYPES.FORM&&(e||(e={}),e[R.TYPE]=this.props.prop.ref||this.props.prop.items.ref,e.from=this.props.resource.from,e.to=this.props.resource.to);var i=this;this.props.navigator.push({title:t.title,id:4,component:b,titleTextColor:"#7AAAC3",backButtonTitle:"Back",rightButtonTitle:"Done",passProps:{model:t,bankStyle:this.props.style,resource:e,callback:function(e){i.props.navigator.pop();var t=[];i.state.list.forEach(function(e){var o={};T(o,e),t.push(o)}),t.push(e),i.setState({list:t,dataSource:i.state.dataSource.cloneWithRows(t)})}}})}},{key:"render",value:function(){var e,t=this,o=C.getModel(this.props.modelName).value;if(0!==this.state.dataSource.getRowCount()||!C.getMe()||C.getMe().organization||o.subClassOf===V||this.props.isChooser||this.props.modelName===R.TYPES.ORGANIZATION||o.subClassOf&&o.subClassOf===V){var o=C.getModel(this.props.modelName).value;e=s["default"].createElement(l.ListView,{dataSource:this.state.dataSource,renderHeader:this.renderHeader.bind(this),enableEmptySections:!0,renderRow:this.renderRow.bind(this),automaticallyAdjustContentInsets:!1,removeClippedSubviews:!1,keyboardDismissMode:C.isWeb()?"none":"on-drag",keyboardShouldPersistTaps:!C.isWeb(),initialListSize:1e3,showsVerticalScrollIndicator:!1})}else e=s["default"].createElement(p,{filter:this.state.filter,model:o,isLoading:this.state.isLoading});var r,o=C.getModel(this.props.modelName).value,n=this.renderFooter(),a=this.state.allowToAdd?[E("addNew",this.props.prop.title),E("cancel")]:[E("addServerUrl"),E("scanQRcode"),E("cancel")];return L&&(r=s["default"].createElement(L,{onChangeText:this.onSearchChange.bind(this),placeholder:E("search"),showsCancelButton:!1,hideBackground:!0})),s["default"].createElement(v,{style:c["default"].container},s["default"].createElement(x,{connected:this.state.isConnected}),r,e,n,s["default"].createElement(i["default"],{ref:function(e){t.ActionSheet=e},options:a,cancelButtonIndex:a.length-1,onPress:function(e){switch(e){case 0:t.state.allowToAdd?t.addNew():t.onSettingsPressed();break;case 1:t.scanFormsQRCode();break;default:return}}}))}},{key:"renderHeader",value:function(){return this.props.modelName===R.TYPES.PROFILE?s["default"].createElement(l.View,null,s["default"].createElement(l.View,{style:{padding:5,backgroundColor:"#CDE4F7"}},s["default"].createElement(l.TouchableOpacity,{underlayColor:"transparent",onPress:this.showBanks.bind(this)},s["default"].createElement(l.View,{style:z.row},s["default"].createElement(l.Image,{source:o(2104),style:z.cellImage}),s["default"].createElement(l.View,{style:z.textContainer},s["default"].createElement(l.Text,{style:z.resourceTitle},E("officialAccounts")))))),s["default"].createElement(l.View,{style:{paddingVertical:5,backgroundColor:"#f1ffe7"}},s["default"].createElement(l.TouchableOpacity,{underlayColor:"transparent",onPress:this.showContexts.bind(this)},s["default"].createElement(l.View,{style:z.row},s["default"].createElement(I,{name:"md-share",size:C.getFontSize(45),color:"#246624",style:[z.cellImage,{paddingLeft:5}]}),s["default"].createElement(l.View,{style:z.textContainer},s["default"].createElement(l.Text,{style:z.resourceTitle},E("sharedContext"))))))):s["default"].createElement(l.View,null)}},{key:"scanFormsQRCode",value:function(){this.setState({show:!1}),this.props.navigator.push({title:"Scan QR Code",id:16,component:O,titleTintColor:"#eeeeee",backButtonTitle:"Back",passProps:{onread:this.onread.bind(this)}})}},{key:"onread",value:function(e){if("{"===e.data.charAt(0))return t=JSON.parse(e.data),P.sendPairingRequest(t),void this.props.navigator.pop();var t=e.data.split(";"),o=C.getMe();switch(t[0]){case _:var r={_t:"tradle.GuestSessionProof",session:t[1],from:{id:C.getId(o),title:C.getDisplayName(o)},to:{id:R.TYPES.PROFILE+"_"+t[2]}};P.addItem({resource:r,value:r,meta:C.getModel("tradle.GuestSessionProof").value});break;case D:P.getEmployeeInfo(e.data.substring(t[0].length+1));break;case N:P.addApp(e.data.substring(t[0].length+1))}}}]),ResourceList}(a.Component);k(j.prototype,S.ListenerMixin);var z=M.create({centerText:{alignItems:"center"},separator:{height:1,backgroundColor:"#cccccc"},icon:{marginLeft:-23,marginTop:-25,color:"red"},image:{width:25,height:25,marginRight:5},footer:{flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-end",height:45,paddingHorizontal:10,backgroundColor:"transparent",borderColor:"#eeeeee",borderWidth:M.hairlineWidth,borderTopColor:"#cccccc"},row:{flexDirection:"row",padding:5},textContainer:{alignSelf:"center"},resourceTitle:{fontSize:20,fontWeight:"400",color:"#757575",marginBottom:2,paddingLeft:5},cellImage:{height:50,marginRight:10,width:50},menuButton:{marginTop:-23,paddingVertical:5,paddingHorizontal:21,borderRadius:24,shadowOpacity:1,shadowRadius:5,shadowColor:"#afafaf",backgroundColor:"red"},menuButtonA:{paddingVertical:5,paddingHorizontal:5},menuButton1:{marginTop:-30,paddingVertical:7,paddingHorizontal:13,borderRadius:25,backgroundColor:"red",shadowOpacity:1,shadowRadius:5,shadowColor:"#afafaf"}});e.exports=j},1702:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(300),n=o(936),i=function(){},a={setHidden:i},s=(0,n.isWeb)()?a:r.StatusBar;t["default"]=s},1703:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(300),i=o(936),a=(_interopRequireDefault(i),o(301)),s=_interopRequireDefault(a),l=function(e){function NoResources(){return _classCallCheck(this,NoResources),_possibleConstructorReturn(this,(NoResources.__proto__||Object.getPrototypeOf(NoResources)).apply(this,arguments))}return _inherits(NoResources,e),r(NoResources,[{key:"render",value:function(){var e;if(this.props.filter)e=s["default"].createElement(n.Text,{style:u.NoResourcesText},"No results for “"+this.props.filter+"”");else{if(this.props.isLoading)return s["default"].createElement(n.View,null);e=s["default"].createElement(n.Text,{style:u.NoResourcesText},"No "+(this.props.model.plural||this.props.model.title+"s")+" were found.")}return s["default"].createElement(n.View,{style:[u.container,u.centerText]},e)}}]),NoResources}(a.Component),u=n.StyleSheet.create({container:{flex:1,backgroundColor:"white"},centerText:{alignItems:"center",justifyContent:"center"},NoResourcesText:{color:"#888888",fontSize:18}});e.exports=l},1704:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r,n=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),i=o(300),a=o(945),s=o(1705),l=_interopRequireDefault(s),u=o(301),c=_interopRequireDefault(u),f=o(1706),d=(_interopRequireDefault(f),o(936)),p=d.translate,h=o(1707),m=o(1355),g=o(1554),b=o(1709),y=o(1697),v=o(1718),w=o(702),C=o(1720),E=o(1530),k=o(1687),T="tradle.ProductApplication",A=function(e){function ResourceRow(e){_classCallCheck(this,ResourceRow);var t=_possibleConstructorReturn(this,(ResourceRow.__proto__||Object.getPrototypeOf(ResourceRow)).call(this,e));return t.props.changeSharedWithList&&(t.state={sharedWith:!0}),t.props.multiChooser&&(t.state={isChosen:!1}),t}return _inherits(ResourceRow,e),n(ResourceRow,[{key:"shouldComponentUpdate",value:function(e,t){if(Object.keys(this.props).length!==Object.keys(e).length)return!0;if(this.props.resource.lastMessage!==e.resource.lastMessage)return!0;if(this.state||t){if(t.sharedWith&&t.sharedWith===this.state.sharedWith)return!0;if(!this.state||!t)return!0;if(Object.keys(this.state).length!==Object.keys(t).length)return!0}var o={strict:!0};for(var r in this.props)if("function"==typeof this.props[r]){if(""+this.props[r]!=""+e[r])return!0}else if(this.props[r]!==e[r]&&!w(this.props[r],e[r],o))return!0;if(!this.state&&!t)return!1;for(var r in this.state)if(this.state[r]!==t[r]&&!w(this.state[r],t[r],o))return!0;return!1}},{key:"render",value:function(){var e,t,o=this,n=this.props.resource,a=n[m.TYPE]===m.TYPES.PROFILE;if(n.photos&&n.photos.length){var s=d.getImageUri(n.photos[0].url),u={uri:d.getImageUri(s)};0===s.indexOf("/var/mobile/")&&(u.isStatic=!0),e=c["default"].createElement(i.Image,{source:u,style:P.cellImage,key:this.getNextKey()})}else if(a){if(!n.firstName&&!n.lastName)return c["default"].createElement(i.View,null);var f=n.firstName?n.firstName.charAt(0):"";f+=n.lastName?n.lastName.charAt(0):"",e=c["default"].createElement(l["default"],{colors:["#A4CCE0","#7AAAc3","#5E92AD"],style:P.cellRoundImage},c["default"].createElement(i.Text,{style:P.cellText},f))}else{var h=d.getModel(n[m.TYPE]).value,b=h.icon;b?e=c["default"].createElement(i.View,{style:P.cellImage},c["default"].createElement(g,{name:b,size:35,color:"#7AAAc3",style:P.icon})):h.properties.photos?e=c["default"].createElement(i.View,{style:P.cellImage}):(e=c["default"].createElement(i.View,{style:P.cellNoImage}),t=!0)}var v;v=c["default"].createElement(i.View,null);var w=n.online?c["default"].createElement(i.View,{style:P.online}):c["default"].createElement(i.View,{style:[P.online,{backgroundColor:"transparent"}]}),C=(d.getId(this.props.resource),this.props.onCancel||this.state&&this.state.sharedWith?c["default"].createElement(i.View,{style:{position:"absolute",right:10,top:25,backgroundColor:"transparent"}},c["default"].createElement(g,{name:this.state.sharedWith?"ios-checkmark-circle-outline":"ios-radio-button-off",size:30,color:this.state.sharedWith?"#B1010E":"#dddddd"})):c["default"].createElement(i.View,null)),E=this.props.multiChooser?c["default"].createElement(i.View,{style:{position:"absolute",right:10,top:25,backgroundColor:"transparent"}},c["default"].createElement(i.TouchableOpacity,{underlayColor:"transparent",onPress:this.chooseToShare.bind(this)},c["default"].createElement(g,{name:this.state.isChosen?"ios-checkmark-circle-outline":"ios-radio-button-off",size:30,color:"#7AAAc3"}))):c["default"].createElement(i.View,null),k=P.textContainer,T=void 0;if(r&&n[r]){var A=d.formatDate(new Date(n[r]),!0);T=c["default"].createElement(i.View,{style:P.dateRow},c["default"].createElement(i.Text,{style:P.verySmallLetters},A))}else T=c["default"].createElement(i.View,null);var S=n[m.TYPE]===m.TYPES.ORGANIZATION&&!n.contacts;if(S)return c["default"].createElement(i.View,{key:this.getNextKey(),style:[{opacity:.5},P.rowWrapper]},c["default"].createElement(i.View,{style:P.row,key:this.getNextKey()},e,v,w,c["default"].createElement(i.View,{style:[k,{flexDirection:"row",justifyContent:"space-between"}]},this.formatRow(n)),T,E,C),c["default"].createElement(i.View,{style:P.cellBorder,key:this.getNextKey()}));var R=this.state?this.action.bind(this):this.props.onSelect;return c["default"].createElement(i.View,{key:this.getNextKey(),style:{opacity:1,justifyContent:"center",backgroundColor:"#ffffff"}},c["default"].createElement(i.TouchableOpacity,{onPress:R,key:this.getNextKey()},c["default"].createElement(i.View,{style:[P.row,{width:d.dimensions(ResourceRow).width-50}],key:this.getNextKey()},e,v,w,c["default"].createElement(i.View,{style:k,key:this.getNextKey()},this.formatRow(n)))),this.props.isOfficialAccounts?c["default"].createElement(i.TouchableOpacity,{style:{position:"absolute",right:10,top:25,backgroundColor:"white"},onPress:function(){o.props.navigator.push({component:y,title:p("myDocuments"),backButtonTitle:"Back",passProps:{modelName:m.TYPES.FORM,resource:o.props.resource}})}},c["default"].createElement(i.View,{style:k},n.numberOfForms?c["default"].createElement(i.View,{style:{flexDirection:"row"}},c["default"].createElement(g,{name:"ios-paper-outline",color:"#7AAAc3",size:30,style:{marginTop:("ios"===i.Platform.OS,0)}}),c["default"].createElement(i.Text,{style:{fontWeight:"600",marginLeft:2,marginTop:("ios"===i.Platform.OS,-5),color:"#7AAAc3"}},n.numberOfForms)):c["default"].createElement(i.View,null))):c["default"].createElement(i.View,null),T,E,C,c["default"].createElement(i.View,{style:P.cellBorder}))}},{key:"chooseToShare",value:function(){var e=this.props.resource,t=d.getId(e);this.state.isChosen?(this.setState({isChosen:!1}),delete this.props.chosen[t]):(this.setState({isChosen:!0}),this.props.chosen[t]="")}},{key:"action",value:function(){if(this.props.multiChooser)this.chooseToShare();else if(this.props.onCancel)this.props.onCancel();else if("undefined"!=typeof this.props.changeSharedWithList){var e=d.getId(this.props.resource);this.setState({sharedWith:!this.state.sharedWith}),this.props.changeSharedWithList(e,!this.state.sharedWith)}}},{key:"hideResource",value:function(e){var t={};C(!0,t,e),t.hide=!0,E.addItem({resource:e,value:t,meta:d.getModel(e[m.TYPE]).value})}},{key:"_allowScroll",value:function(e){this.setState({scrollEnabled:e})}},{key:"rowContent",value:function(){}},{key:"formatRow",value:function(e){var t,o=this,n=d.getModel(e[m.TYPE]||e.id).value,a=n.gridCols||n.viewCols;if(!a){var s=d.getDisplayName(e,n.properties);return s&&s.length?(n.subClassOf&&"tradle.Enum"===n.subClassOf&&(s=d.createAndTranslate(s,!0)),c["default"].createElement(i.Text,{style:P.resourceTitle,numberOfLines:2},s)):c["default"].createElement(i.Text,{style:P.resourceTitle,numberOfLines:2},n.title+" "+d.getFormattedDate(e.time))}if(n.id===T)return e._readOnly&&e.to.organization?c["default"].createElement(i.View,{style:{padding:5}},c["default"].createElement(i.Text,{style:P.resourceTitle},p(d.getModel(e.product).value)),c["default"].createElement(i.Text,{style:P.contextOwners},e.from.organization||e.from.title," -> ",e.to.organization.title)):c["default"].createElement(i.Text,{style:P.resourceTitle},p(d.getModel(e.product).value));for(var l,u,s=[],f=n.properties,h=!0,b=0,y=0;y<a.length;y++){var v=a[y];"array"!==f[v].type?"date"===f[v].type&&e[v]&&e[v]&&("dateSubmitted"!==v&&"lastMessageTime"!==v||(r=v,b||(l=y),b++)):f[v].items.backlink&&(u=v)}b>1&&(r=null);var w=(this.props.isOfficialAccounts,e[m.TYPE]===m.TYPES.PROFILE);if(a.forEach(function(t){if(t!==r&&"array"!==f[t].type&&(e[t]||f[t].displayAs)){var n=h?P.resourceTitle:P.description;w&&"organization"===t&&(n=[n,{alignSelf:"flex-end",marginTop:20},P.verySmallLetters]),f[t].style&&(n=[n,f[t].style]);var a=f[t].ref;if(a){if(e[t]){var l;l=a==m.TYPES.MONEY?c["default"].createElement(i.Text,{style:n,numberOfLines:h?2:1,key:o.getNextKey()},(e[t].currency||CURRENCY_SYMBOL)+e[t].value):c["default"].createElement(i.Text,{style:n,numberOfLines:h?2:1,key:o.getNextKey()},e[t].title),s.push(l)}h=!1}else if("date"===f[t].type){if(r)return;s.push(o.addDateProp(t))}else{var l;if(e[t]&&"string"!=typeof e[t])l=c["default"].createElement(i.Text,{style:n,numberOfLines:1,key:o.getNextKey()},e[t]);else if(u||!e[t]||0!=e[t].indexOf("http://")&&0!=e[t].indexOf("https://")){var p=f[t].displayAs?d.templateIt(f[t],e):e[t],b=d.splitMessage(p);if(b.length<=2)p=b[0];else{p="";for(var y=0;y<b.length-1;y++)p+=b[y]}if(o.props.isOfficialAccounts&&"lastMessage"===t){var v=p.indexOf("You: ")!==-1,C=c["default"].createElement(i.View,null);if(v){p=p.substring(5);var E=e.lastMessageType;if(E){var k=d.getModel(E).value,T=void 0;k.subClassOf===m.TYPES.FINANCIAL_PRODUCT?T="ios-usd":k.subClassOf===m.TYPES.FORM&&(T="ios-paper-outline"),T&&(C=c["default"].createElement(g,{name:T,size:14,color:"#7AAAc3",style:{paddingLeft:1,marginTop:-2}}))}}var A=d.dimensions(ResourceRow).width-145;l=c["default"].createElement(i.View,{style:{flexDirection:"row"},key:o.getNextKey()},c["default"].createElement(i.View,{style:{flexDirection:"column"}},c["default"].createElement(g,{name:"md-done-all",size:16,color:v?"#cccccc":"#7AAAc3"}),C),c["default"].createElement(i.Text,{style:[n,{width:A,paddingLeft:2}]},p))}else l=c["default"].createElement(i.Text,{style:n,key:o.getNextKey()},p)}else l=c["default"].createElement(i.Text,{style:n,onPress:o.onPress.bind(o),numberOfLines:1,key:o.getNextKey()},e[t]);s.push(l),h=!1}}}),!s||!s.length){var s=d.getDisplayName(e,n.properties);return c["default"].createElement(i.Text,{style:P.resourceTitle,numberOfLines:2},s)}return t=s,u?[c["default"].createElement(i.TouchableOpacity,{key:this.getNextKey(),onPress:this.props.showRefResources.bind(this,e,u)},c["default"].createElement(i.View,{key:this.getNextKey()},t))]:t}},{key:"onPress",value:function(e){var t=d.getModel(resource[m.TYPE]||resource.id).value,o=d.makeTitle(d.getDisplayName(this.props.resource,t.properties));this.props.navigator.push({id:7,title:o,component:h,passProps:{url:this.props.resource.url}})}}]),ResourceRow}(u.Component);v(A.prototype,b);var P=k.create({textContainer:{flex:1,alignSelf:"center"},rowWrapper:{borderColor:"#f7f7f7",borderWidth:k.hairlineWidth,borderBottomColor:"#eeeeee",justifyContent:"center",backgroundColor:"#ffffff"},dateRow:{position:"absolute",top:2,backgroundColor:"transparent",right:10},resourceTitle:{fontSize:20,color:"#555555"},description:{flexWrap:"wrap",color:"#999999",fontSize:14},row:{backgroundColor:"white",justifyContent:"center",flexDirection:"row",padding:5},rowV:{padding:5},cellRoundImage:{justifyContent:"center",alignItems:"center",paddingVertical:1,borderRadius:30,height:60,marginRight:10,width:60,alignSelf:"center"},cellText:{color:"#ffffff",fontSize:20,backgroundColor:"transparent"},cellImage:{backgroundColor:"#ffffff",height:60,marginRight:10,width:60,borderColor:"#7AAAc3",borderRadius:30,borderWidth:k.hairlineWidth},cellNoImage:{backgroundColor:"#dddddd",height:40,marginLeft:10},cellBorder:{backgroundColor:"#eeeeee",height:1,marginLeft:4},icon:{alignSelf:"center",marginLeft:10,marginTop:7},online:{backgroundColor:"green",borderRadius:6,width:12,height:12,position:"absolute",top:83,left:8,borderWidth:k.hairlineWidth,borderColor:"#ffffff"},contextOwners:{fontSize:14,color:"#b4c3cb"},verySmallLetters:{fontSize:12,alignSelf:"flex-end",color:"#b4c3cb"}});A=(0,a.makeResponsive)(A),e.exports=A},1705:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(300);t["default"]=r.View},1706:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(300),n=r.ActivityIndicator||r.ActivityIndicatorIOS;t["default"]=n},1707:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(300),i=o(301),a=_interopRequireDefault(i),s=o(1706),l=_interopRequireDefault(s),u=o(1708),c=_interopRequireDefault(u),f=o(936),d=_interopRequireDefault(f),p=o(1687),h=_interopRequireDefault(p),m=function(e){function ArticleView(e){return _classCallCheck(this,ArticleView),_possibleConstructorReturn(this,(ArticleView.__proto__||Object.getPrototypeOf(ArticleView)).call(this,e))}return _inherits(ArticleView,e),r(ArticleView,[{key:"renderError",value:function(e,t,o){return a["default"].createElement(n.Text,{style:g.error},"error :( - ",o?o:"")}},{key:"renderLoading",value:function(){return a["default"].createElement(n.ScrollView,{contentContainerStyle:g.contentContainer},a["default"].createElement(n.View,{style:g.container},a["default"].createElement(n.View,{style:g.loading},a["default"].createElement(n.Text,null,"Loading..."),a["default"].createElement(l["default"],{style:{alignSelf:"center"}}))))}},{key:"render",value:function(){return a["default"].createElement(c["default"],{style:g.webView,source:{uri:this.props.url},startInLoadingState:!0,renderError:this.renderError.bind(this),automaticallyAdjustContentInsets:!1,renderLoading:this.renderLoading})}}]),ArticleView}(i.Component),g=h["default"].create({contentContainer:{padding:10},container:{flex:1},error:{marginTop:160,paddingHorizontal:20,fontSize:20,color:"#7AAAC3"},webView:{backgroundColor:"#ffffff",marginTop:60,height:d["default"].isWeb()?"100%":350}});e.exports=m},1708:function(e,t,o){(function(t){"use strict";var r=o(300);"web"===r.Platform.OS?e.exports=function(e){var o=e.src,r=e.source,n=e.style;return o=o||r.uri,n=n||{},t.createElement("iframe",{src:o,style:n})}:e.exports=r.WebView}).call(t,o(301))},1709:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var r,n,i=o(1710),a=_interopRequireDefault(i),s=o(300),l=o(301),u=o(936),c=u.translate,f=o(1355),d=o(1714),p=o(1687),h=0,m="£",g="tradle.MyProduct",b="tradle.Form",y="tradle.Enum",v=p.hairlineWidth,w={addDateProp:function(e,t){var o=this.props.resource,r=u.getModel(o[f.TYPE]||o.id).value.properties;r[e]&&r[e].style&&(t=[t,r[e].style]);var n=u.formatDate(new Date(o[e]));return!r[e]||r[e].skipLabel?l.createElement(s.Text,{style:t,key:this.getNextKey()},n):l.createElement(s.View,{style:{flexDirection:"row"},key:this.getNextKey()},l.createElement(s.Text,{style:t},r[e].title),l.createElement(s.Text,{style:t},n))},getNextKey:function(){return this.props.resource[f.ROOT_HASH]+"_"+h++},getPropRow:function(e,t,o,i){if(n=this.props.bankStyle.STRUCTURED_MESSAGE_COLOR,r=this.props.currency?this.props.currency.symbol||this.props.currency:m,e.ref)if(e.ref===f.TYPES.MONEY){var a=u.normalizeCurrencySymbol(o.currency);o=(a||r)+o.value}else{var d=u.getModel(e.ref).value;d.subClassOf===y&&(o="string"==typeof o?u.createAndTranslate(o):u.createAndTranslate(o.title))}var p=u.getModel(t[f.TYPE]).value,h={flexDirection:"row"},b=c(e,p);if(i)return this.props.isAggregation||(h=[h,{borderWidth:v,paddingVertical:3,borderColor:this.props.bankStyle.VERIFICATION_BG,borderTopColor:"#eeeeee"}]),l.createElement(s.View,{style:h,key:this.getNextKey()},l.createElement(s.View,{style:C.column},l.createElement(s.Text,{style:[C.title,{color:"#333333"}]},b)),l.createElement(s.View,{style:C.column},l.createElement(s.Text,{style:C.title},o+(e.units&&"["!==e.units.charAt(0)?" "+e.units:""))));var w=p.subClassOf===g,E=p.subClassOf===f.TYPES.FORM,k=this.isMyMessage();this.props.isAggregation||!k&&!E||w||(h=[h,{borderWidth:v,paddingVertical:3,borderColor:k?n:"#ffffff",borderBottomColor:k?this.props.bankStyle.STRUCTURED_MESSAGE_BORDER:"#eeeeee"}]);var T=this.isMyMessage()&&!w?{color:"#FFFFEE"}:{color:"#757575"};return l.createElement(s.View,{style:h,key:this.getNextKey()},l.createElement(s.View,{style:C.column},l.createElement(s.Text,{style:[C.descriptionB,T]},b)),l.createElement(s.View,{style:C.column},l.createElement(s.Text,{style:[C.descriptionB,T]},o+(e.units&&"["!==e.units.charAt(0)?" "+e.units:""))))},getOwnerPhoto:function(e){var t=this.props.to;if(e||!t)return l.createElement(s.View,{style:{marginVertical:0}});if(!e&&this.props.resource.from.photo){var o=u.getImageUri(this.props.resource.from.photo.url);return l.createElement(s.Image,{source:{uri:o},style:C.employeeImage})}if(t.photos){var r=u.getImageUri(t.photos[0].url);return l.createElement(s.Image,{source:{uri:r},style:C.msgImage})}if(!e){var n=this.props.resource.from.title.split(" ").map(function(e){return e.charAt(0)}).join("");return l.createElement(s.View,{style:{paddingRight:3}},l.createElement(s.View,{style:[{color:"#ffffff",backgroundColor:this.props.bankStyle.LINK_COLOR},C.cellRoundImage]},l.createElement(s.Text,{style:C.cellText},n)))}},getTime:function(e){if(e.time){var t=this.props.previousMessageTime,o=!t||this.props.isAggregation;if(!o){var r=new Date(t),n=new Date(e.time);o=e.time-t>36e5||r.getDate()!==n.getDate()||r.getMonth()!==n.getMonth()||r.getYear()!==n.getYear()}return o?u.formatDate(e.time):void 0}},isMyMessage:function(){if(!this.props.isAggregation){var e=this.props.resource,t=u.getId(e.from),o=u.getMe();if(t===u.getId(o))return!0;if(u.getModel(e[f.TYPE]).value.subClassOf==g){var r=e.from.organization;if(r&&u.getId(e.from.organization)!==u.getId(this.props.to))return!0}}},formatDocument:function(e){var t=this,o=e.model,r=e.verification,n=e.onPress,i=e.isAccordion,p=e.providers,h=r.document;i=!1;var m,y=u.getModel(h[f.TYPE]).value,w=y.subClassOf===g,E=y.title,k=E.indexOf("Verification"),T=k===-1?E:E.substring(0,k);m=h.message&&y.subClassOf!==b?l.createElement(s.View,null,l.createElement(s.Text,{style:C.description},h.message)):l.createElement(s.View,null);var A=h&&h.photos&&h.photos.length,P=A?l.createElement(s.Image,{resizeMode:"cover",source:{uri:u.getImageUri(h.photos[0].url)},style:C.cellImage}):l.createElement(s.View,null),S={paddingTop:5,alignSelf:"center"},R=l.createElement(s.View,{style:S},l.createElement(s.Text,{style:[C.resourceTitle,C.header,{color:this.props.bankStyle.VERIFIED_HEADER_COLOR}]},c(o)+" ...")),I=void 0;I=n?{}:{backgroundColor:this.props.bankStyle.VERIFICATION_BG,borderWidth:v,borderColor:this.props.bankStyle.VERIFICATION_BG,borderBottomColor:this.props.bankStyle.VERIFIED_HEADER_COLOR},R=A?l.createElement(s.View,{style:[C.rowContainer,C.verification,I]},P,R):l.createElement(s.View,{style:[I,C.verification]},R),i||(R=l.createElement(s.TouchableHighlight,{underlayColor:"transparent",onPress:this.props.onSelect.bind(this,h,r)},R));var O=l.createElement(s.View,null);if(r&&r.organization){var x,F,M,_;!function(){x=r.organization.photo?l.createElement(s.Image,{source:{uri:u.getImageUri(r.organization.photo)},style:[C.orgImage,{marginTop:-5}]}):l.createElement(s.View,null),F=l.createElement(s.View,{style:[C.shareButton,{opacity:t.props.resource.documentCreated?.3:1}]},l.createElement(a["default"],{name:"tradle",style:{color:"#4982B1"},size:32}),l.createElement(s.Text,{style:C.shareText},c("Share"))),M=t.props.to[f.TYPE]===f.TYPES.ORGANIZATION?t.props.to.name:t.props.to.organization?t.props.to.organization.title:null;var e=void 0;w?e=c("issuedBy",r.organization.title):r[f.ROOT_HASH]?!function(){var t=void 0;p?p.forEach(function(e){t?t+=", "+e.title:t=e.title}):t=r.organization.title,e=c("verifiedBy",t)}():e=c("sentTo",r.organization.title),_=l.createElement(s.View,{style:C.orgView},l.createElement(s.Text,{style:C.description},e)),n||(O=t.props.resource.documentCreated?l.createElement(s.View,{style:C.shareView},F,l.createElement(s.TouchableHighlight,{onPress:t.props.onSelect.bind(t,h,r),underlayColor:"transparent"},_)):l.createElement(s.View,{style:C.shareView},l.createElement(s.TouchableHighlight,{underlayColor:"transparent",onPress:n?n:function(){return s.Alert.alert("Sharing "+T+" "+e,"with "+M,[{text:c("cancel"),onPress:function(){return console.log("Canceled!")}},{text:c("Share"),onPress:t.props.share.bind(t,r,t.props.to,t.props.resource)}])}},F),l.createElement(s.TouchableHighlight,{onPress:t.props.onSelect.bind(t,h,r),underlayColor:"transparent"},_)))}()}var D=l.createElement(s.View,{style:{flex:1}},l.createElement(s.TouchableHighlight,{onPress:this.props.onSelect.bind(this,h,r),underlayColor:"transparent"},m),O);return i?l.createElement(s.View,{style:{marginTop:5},key:this.getNextKey()},l.createElement(d,{header:R,style:{padding:5},content:D,underlayColor:"transparent",easing:"easeOutCirc"})):l.createElement(s.View,{style:{flex:1},key:this.getNextKey()},R,D)},formatDocument1:function(e,t,o){var i=e.gridCols||e.viewCols;if(i){var a=[],c=this;if(t[f.TYPE]==e.id){var d=e.properties;i.forEach(function(o){if("array"!==d[o].type&&"date"!==d[o].type){var i=C.title;if(d[o].ref){if(t[o]){var p;if("object"===d[o].type&&d[o].ref)if(d[o].ref===f.TYPES.MONEY)if(p=t[o],"string"==typeof p)p={value:p,currency:r};else{var h=u.normalizeCurrencySymbol(p.currency);p.currency=h}else{var m=u.getModel(d[o].ref).value;m.subClassOf&&m.subClassOf==y&&(p=t[o].title)}p||(p=t[o].title||t[o]),a.push(c.getPropRow(d[o],t,p,!0))}}else{var g;if(!t[o]||"string"!==d[o].type||0!=t[o].indexOf("http://")&&0!=t[o].indexOf("https://"))if(e.autoCreate){if(!t[o]||!t[o].length)return;var b=u.splitMessage(t[o]);if(2===b.length){var v=u.getModel(b[1]);if(v)return void a.push(l.createElement(s.View,{key:c.getNextKey()},l.createElement(s.Text,{style:i},b[0]),l.createElement(s.Text,{style:[i,{color:isMyMessage?n:LINK_COLOR}]},v.value.title)))}g=c.getPropRow(d[o],t,t[o],!0)}else{var p=d[o].displayAs?u.templateIt(d[o],t):"boolean"===d[o].type?t[o]?"Yes":"No":t[o];if(!p)return;g=c.getPropRow(d[o],t,p||t[o],!0)}else g=l.createElement(s.Text,{style:i,key:c.getNextKey()},t[o]);a.push(g)}}}),a&&a.length&&a.forEach(function(e){o.push(e)})}}},isShared:function(){var e=this.props.resource;if(!e.organization||this.props.context&&this.props.context._readOnly)return!1;var t=this.props.to;return t[f.TYPE]!==f.TYPES.PROFILE&&u.getId(e.organization)!==u.getId(t)}},C=p.create({title:{fontSize:18,color:"#757575"},description:{color:"#757575",fontSize:14},descriptionB:{fontSize:18},shareButton:{flexDirection:"row",marginHorizontal:10,justifyContent:"space-between",padding:5,borderRadius:10,borderWidth:1,borderColor:"#4982B1"},shareText:{color:"#4982B1",fontSize:18,paddingHorizontal:3,alignSelf:"center"},shareView:{flexDirection:"row",marginTop:5,paddingBottom:5,justifyContent:"space-between"},msgImage:{height:30,marginRight:3,marginLeft:0,width:30,borderRadius:15,borderColor:"#cccccc",borderWidth:v},cellText:{marginTop:8,alignSelf:"center",color:"#ffffff",fontSize:18,backgroundColor:"transparent"},employeeImage:{height:30,marginRight:3,marginLeft:0,width:30},cellRoundImage:{paddingVertical:1,borderRadius:20,height:40,width:40,alignSelf:"center"},cellImage:{height:40,width:40,marginRight:10,borderColor:"transparent",borderRadius:10,borderWidth:v},rowContainer:{flexDirection:"row",justifyContent:"space-between"},verification:{paddingVertical:7},orgImage:{width:20,height:20,borderRadius:10},resourceTitle:{fontSize:18,marginBottom:2},column:{flex:1,flexDirection:"column"},orgView:{maxWidth:.8*u.dimensions().width-150,paddingLeft:3,marginRight:10,flex:1,justifyContent:"center"},header:{fontSize:18,marginTop:2,paddingRight:10}});e.exports=w},1710:function(e,t,o){"use strict";var r=o(1711),n={tradle:58896},i=(0,r.createIconSet)(n,"tradle","tradle.ttf");e.exports=i,e.exports.glyphMap=n},1721:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(1722),i=_interopRequireDefault(n),a=o(1698),s=_interopRequireDefault(a),l=o(1685),u=_interopRequireDefault(l),c=o(1551),f=o(945),d=o(300),p=o(301),h=_interopRequireDefault(p),m=o(936),g=m.translate,b=m.getFontSize,y=o(1728),v=o(1733),w=o(1735),C=o(1737),E=o(1554),k=o(1530),T=o(1531),A=o(1738),P=o(1718),S=o(1732),R=o(1930),I=o(1944),O=o(2098),x=(o(943),o(1687)),F="1",M=o(1720),_=o(1355),D=0,N=1,B=2,V=3,L=4,j=function(e){function ResourceView(e){_classCallCheck(this,ResourceView);var t=_possibleConstructorReturn(this,(ResourceView.__proto__||Object.getPrototypeOf(ResourceView)).call(this,e)),o=m.getMe();t.state={resource:e.resource,isLoading:!!e.resource.id,isModalOpen:!1,useTouchId:o&&o.useTouchId,useGesturePassword:o&&o.useGesturePassword};var r=t.props.navigator.getCurrentRoutes(),n=r.length;return!r[n-1].onRightButtonPress&&r[n-1].rightButtonTitle&&(r[n-1].onRightButtonPress=t.props.action.bind(t)),t}return _inherits(ResourceView,e),r(ResourceView,[{key:"componentWillMount",value:function(){this.props.resource.id&&k.getItem(this.props.resource)}},{key:"componentDidMount",value:function(){this.listenTo(A,"handleEvent")}},{key:"handleEvent",value:function(e){switch(e.action){case"showIdentityList":this.onShowIdentityList(e);break;case"getItem":this.setState({resource:e.resource,isLoading:!1});break;case"genPairingData":e.error?d.Alert.alert(e.error):this.setState({pairingData:e.pairingData,isModalOpen:!0});break;case"invalidPairingRequest":this.props.navigator.pop(),d.Alert.alert(g(e.error));break;case"acceptingPairingRequest":this.closeModal(),(0,c.signIn)(this.props.navigator,m.getMe()).then(function(){k.pairingRequestAccepted(e.resource)});break;case"pairingRequestAccepted":this.props.navigator.pop();break;case"newContact":this.closeModal();break;case"employeeOnboarding":var t=(this.props.navigator.getCurrentRoutes(),{});M(t,O),e.to.style&&(t=M(t,e.to.style)),this.props.navigator.replacePreviousAndPop({component:I,title:m.getDisplayName(e.to),id:11,backButtonTitle:"Back",passProps:{resource:e.to,filter:"",modelName:_.TYPES.MESSAGE,bankStyle:t}},2);break;default:e.resource&&this.onResourceUpdate(e)}}},{key:"shouldComponentUpdate",value:function(e,t){return m.resized(this.props,e)||this.state.isModalOpen!==t.isModalOpen||this.state.useGesturePassword!==t.useGesturePassword||this.state.useTouchId!==t.useTouchId||this.state.pairingData!==t.pairingData}},{key:"onResourceUpdate",value:function(e){var t=e.resource;this.setState({resource:t})}},{key:"changePhoto",value:function(e){this.setState({currentPhoto:e})}},{key:"onShowIdentityList",value:function(e){m.getMe();this.props.navigator.push({id:8,title:"My Identities",component:IdentitiesList,backButtonTitle:"Profile",passProps:{filter:"",list:e.list}})}},{key:"render",value:function(){var e=this;if(this.state.isLoading)return h["default"].createElement(d.View,null);var t=(this.props.dimensions,z()),o=this.state.resource,r=o[_.TYPE],n=m.getModel(r).value,a=[];o.photos&&M(a,o.photos);var l,c=n.id===_.TYPES.PROFILE,f=n.id===_.TYPES.ORGANIZATION,p=m.getMe();if(p){var k=!c||o[_.ROOT_HASH]===p[_.ROOT_HASH];l=c&&!k||f&&(!p.organization||m.getId(p.organization)!==m.getId(o))?h["default"].createElement(d.View,null):h["default"].createElement(w,{showQR:this.openModal.bind(this),resource:o,currency:this.props.currency,navigator:this.props.navigator})}else l=h["default"].createElement(d.View,null);var T,A,P=m.dimensions(ResourceView),S=P.width;P.height;this.state.pairingData?(A=Math.floor(S/3*2),T=h["default"].createElement(d.View,{style:{alignSelf:"center",justifyContent:"center",backgroundColor:"#ffffff",padding:10},onPress:function(){return e.setState({isModalOpen:!0})}},h["default"].createElement(R,{inline:!0,content:this.state.pairingData,dimension:A}))):k&&p.isEmployee&&p.organization&&p.organization.url?(A=Math.floor(S/3*2),T=h["default"].createElement(d.View,{style:{alignSelf:"center",justifyContent:"center",backgroundColor:"#ffffff",padding:10},onPress:function(){return e.setState({isModalOpen:!0})}},h["default"].createElement(R,{inline:!0,content:F+";"+p.organization.url+";"+m.getId(p.organization).split("_")[1]+";"+p[_.ROOT_HASH],dimension:A}))):T=h["default"].createElement(d.View,null);var I=void 0;I=g(this.state.useTouchId&&this.state.useGesturePassword?"bothOn":this.state.useTouchId?"touchIdOn":"passwordOn");var O=c?h["default"].createElement(d.View,{style:t.footer},h["default"].createElement(d.Text,{style:u["default"].touchIdText},I),h["default"].createElement(d.TouchableHighlight,{
underlayColor:"transparent",onPress:function(){return e.ActionSheet.show()}},h["default"].createElement(d.View,{style:[u["default"].menuButtonRegular]},h["default"].createElement(E,{name:"md-finger-print",color:"android"===d.Platform.OS?"red":"#ffffff",size:b(33)})))):h["default"].createElement(d.View,null),x=[],j=[];return c&&k&&(m.isIOS()&&(x.push(g("useTouchId")+(this.state.useTouchId?" ✓":"")),j.push(D),x.push(g("useGesturePassword")+(this.state.useGesturePassword?" ✓":"")),j.push(N)),!this.state.useGesturePassword&&m.isIOS()||(x.push(g(m.isWeb()?"changePassword":"changeGesturePassword")),j.push(B)),x.push(g("pairDevices")),j.push(V)),m.isWeb()&&(x.push(g("wipeDevice")),j.push(L)),x.push(g("cancel")),h["default"].createElement(C,{style:u["default"].container},h["default"].createElement(d.ScrollView,{ref:"this"},1===a.length?h["default"].createElement(d.View,{style:t.photoBG},h["default"].createElement(v,{resource:o,navigator:this.props.navigator})):h["default"].createElement(d.View,null),l,h["default"].createElement(d.Modal,{animationType:"fade",visible:this.state.isModalOpen,transparent:!0,onRequestClose:function(){return e.closeModal()}},h["default"].createElement(d.TouchableHighlight,{onPress:function(){return e.closeModal()},underlayColor:"transparent"},h["default"].createElement(d.View,{style:t.modalBackgroundStyle},T))),h["default"].createElement(i["default"],{photos:a,resource:this.props.resource,navigator:this.props.navigator,isView:!0}),h["default"].createElement(y,{resource:o,showItems:this.showResources.bind(this),showRefResource:this.getRefResource.bind(this),currency:this.props.currency,excludedProperties:["photos"],navigator:this.props.navigator}),h["default"].createElement(s["default"],{ref:function(t){e.ActionSheet=t},options:x,cancelButtonIndex:x.length-1,onPress:function(t){t<x.length-1&&e.changePreferences(t,j[t])}})),O)}},{key:"openModal",value:function(){this.setState({isModalOpen:!0})}},{key:"closeModal",value:function(){this.setState({isModalOpen:!1})}},{key:"getRefResource",value:function(e,t){m.getModel(this.props.resource[_.TYPE]).value;this.state.prop=t,this.state.propValue=m.getId(e.id),k.getItem(e.id)}},{key:"changePreferences",value:function(e,t){var o=m.getMe(),r={_r:o[_.ROOT_HASH],_t:_.TYPES.PROFILE},n=void 0;switch(t){case D:r.useTouchId=!o.useTouchId||!o.useGesturePassword,r.useGesturePassword=o.useGesturePassword;break;case N:r.useGesturePassword=!o.useGesturePassword||!o.useTouchId,r.useTouchId=o.useTouchId;break;case B:n=!0;break;case V:return void k.genPairingData();case L:return void k.requestWipe()}if(r.useGesturePassword||r.useTouchId||(r.useGesturePassword=!0),n||o.useTouchId!==r.useTouchId||o.useGesturePassword!==r.useGesturePassword){var i=this;(0,c.signIn)(i.props.navigator,r,n).then(function(){if(k.addItem({resource:o,value:r,meta:m.getModel(_.TYPES.PROFILE).value}),n){var e=i.props.navigator.getCurrentRoutes();i.props.navigator.popToRoute(e[e.length-3])}else i.props.navigator.pop();i.setState({useGesturePassword:r.useGesturePassword,useTouchId:r.useTouchId})})}}}]),ResourceView}(p.Component);j.displayName="ResourceView",P(j.prototype,T.ListenerMixin),P(j.prototype,S),j=(0,f.makeResponsive)(j);var z=m.styleFactory(j,function(e){var t=e.dimensions;return x.create({modalBackgroundStyle:{backgroundColor:"rgba(0, 0, 0, 0.7)",justifyContent:"center",padding:20,height:t.height},photoBG:{alignItems:"center"},footer:{flexDirection:"row",flexWrap:"nowrap",justifyContent:"space-between",alignSelf:"stretch",height:45,width:t.width,backgroundColor:"#eeeeee",borderColor:"#eeeeee",borderWidth:1,borderTopColor:"#cccccc",paddingRight:10}})});e.exports=j},1722:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MIN_WIDTH=void 0;var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(300),i=o(301),a=_interopRequireDefault(i),s=o(936),l=(s.groupByEveryN,o(1355)),u=o(1718),c=o(1723),f=o(1709),d=o(702),p=t.MIN_WIDTH=140,h=function(e){function PhotoList(e){_classCallCheck(this,PhotoList);var t=_possibleConstructorReturn(this,(PhotoList.__proto__||Object.getPrototypeOf(PhotoList)).call(this,e)),o=new n.ListView.DataSource({rowHasChanged:function(e,t){return e!==t}});return t.state={photos:t.props.photos,anim:new n.Animated.Value(.7),dataSource:o},t}return _inherits(PhotoList,e),r(PhotoList,[{key:"componentDidMount",value:function(){n.Animated.timing(this.state.anim,{toValue:1,duration:500}).start()}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.resource[l.ROOT_HASH]!==e.resource[l.ROOT_HASH]||(e.forceUpdate||!d(this.props.resource.photos,e.resource.photos)||!d(this.props.photos,e.photos))}},{key:"render",value:function(){var e=this.props.photos;if(!e||!e.length||1==e.length&&this.props.isView)return null;var t=m(),o=this.renderPhotoList(e,t);return a["default"].createElement(n.View,{style:[t.photoContainer,this.props.style?{}:{marginHorizontal:5}],key:this.getNextKey()},o)}},{key:"renderPhotoList",value:function(e,t){var o=this.props.style,r=e.length;if(!o||s.isEmpty(o))switch(r){case 1:case 2:case 3:o=[t.thumb3];break;case 4:o=[t.thumb4];break;default:case 5:o=[t.thumb5]}for(var i=this.props.numberInRow||Math.floor(s.dimensions().width/o[0].width)-1,l=[],u=0;u<r;u++){for(var c=[],f=0;f<i&&u<r;f++,u++)c.push(this.renderRow(t,e[u],o));l.push(a["default"].createElement(n.View,{style:{flexDirection:"row"},key:this.getNextKey()},c)),u--}return a["default"].createElement(n.View,{style:{flexDirection:"column",alignSelf:"center"}},l)}},{key:"renderRow",value:function(e,t,o){var r=t.url;if(!r)return a["default"].createElement(n.View,null);var i={uri:r};return 0!==r.indexOf("data")&&"/"!=r.charAt(0)||(i.isStatic=!0),a["default"].createElement(n.View,{style:[{margin:1},o[0]],key:this.getNextKey()},a["default"].createElement(n.TouchableHighlight,{underlayColor:"transparent",onPress:this.props.callback?this.props.callback.bind(this,t):this.showCarousel.bind(this,t)},a["default"].createElement(n.Image,{resizeMode:"cover",style:[e.thumbCommon,o],source:i})))}}]),PhotoList}(i.Component);h.displayName="PhotoList",u(h.prototype,c),u(h.prototype,f);var m=s.styleFactory(h,function(e){var t=e.dimensions,o=t.width,r=Math.min(o/3-5,240),i=Math.min(o/4-5,190),a=Math.min(o/5-5,p);return n.StyleSheet.create({photoContainer:{paddingTop:5},thumb3:{width:r,height:r},thumb4:{width:i,height:i},thumb5:{width:a,height:a},thumbCommon:{borderWidth:.5,margin:1,borderColor:"#999999"},row:{flexDirection:"row",flex:1}})});e.exports=h},1723:function(e,t,o){"use strict";var r=o(300),n=o(1724),i={showCarousel:function(e){this.props.navigator.push({id:14,noLeftButton:!0,component:n,passProps:{currentPhoto:e,photos:this.props.resource.photos,resource:this.props.resource},rightButtonTitle:"Done",titleTintColor:"black",sceneConfig:r.Navigator.SceneConfigs.FadeAndroid,tintColor:"#dddddd",onRightButtonPress:{stateChange:this.closeCarousel.bind(this)}})},closeCarousel:function(){this.props.navigator.pop()}};e.exports=i},1724:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(1725),i=_interopRequireDefault(n),a=o(945),s=o(300),l=o(301),u=_interopRequireDefault(l),c=o(936),f=o(1355),d=function(e){function PhotoCarousel(e){return _classCallCheck(this,PhotoCarousel),_possibleConstructorReturn(this,(PhotoCarousel.__proto__||Object.getPrototypeOf(PhotoCarousel)).call(this,e))}return _inherits(PhotoCarousel,e),r(PhotoCarousel,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.orientation!==e.orientation}},{key:"render",value:function(){for(var e=this.props.currentPhoto||this.props.photos[0],t=-1,o=this.props.photos.length,r=(c.getModel(this.props.resource[f.TYPE]).value,e.isVertical),n=2e3,a=this.props.resource,l=p(),d=[],h=0;h<2;h++){for(var m=0;m<o;m++){var g=this.props.photos[m];if(t!=-1||g.url===e.url){t==-1&&(t=m);var b=a[f.ROOT_HASH]+n++;if(g.width){var y,v,w=c.dimensions(PhotoCarousel),C=w.width,E=w.height,k=C;E>C?(g.width>C?y=g.height*C/g.width:(y=g.height,k=g.width,v=(C-g.width)/2),y>.8*E&&(y=Math.floor(.8*E))):(y=Math.floor(.8*E),g.height>y?k=g.width*y/g.height:(y=g.height,k=g.width)),d.push(u["default"].createElement(s.View,{style:[l.container],key:b},u["default"].createElement(s.Image,{resizeMode:"cover",source:{uri:g.url},style:{width:k,height:y}})))}else d.push(r?u["default"].createElement(s.View,{style:l.container,key:b},u["default"].createElement(s.Image,{resizeMode:"cover",source:{uri:g.url},style:l.imageV})):u["default"].createElement(s.View,{style:l.container,key:b},u["default"].createElement(s.Image,{resizeMode:"cover",source:{uri:g.url},style:l.image})))}}o=t}return u["default"].createElement(i["default"],{width:C,loop:!1,animate:!1,indicatorOffset:20,indicatorColor:"#efefef"},d)}}]),PhotoCarousel}(l.Component);d.displayName="PhotoCarousel",d=(0,a.makeResponsive)(d);var p=c.styleFactory(d,function(e){var t=e.dimensions;return s.StyleSheet.create({image:{width:t.width,height:t.height-200},imageH:{width:t.width,height:t.width-100},imageV:{width:t.width,height:t.height-200},container:{width:t.width,flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"black"}})});d=(0,a.makeResponsive)(d),e.exports=d},1728:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r,n=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),i=o(1698),a=(_interopRequireDefault(i),o(1729)),s=_interopRequireDefault(a),l=o(1687),u=_interopRequireDefault(l),c=o(300),f=o(301),d=_interopRequireDefault(f),p=o(1707),h=o(936),m=h.translate,g=o(1355),b=o(1709),y=o(1732),v=o(1718),w=o(1714),C=o(1554),E="[not specified]",k="£",T="tradle.TermsAndConditions",A="tradle.Enum",P=function(e){function ShowPropertiesView(e){_classCallCheck(this,ShowPropertiesView);var t=_possibleConstructorReturn(this,(ShowPropertiesView.__proto__||Object.getPrototypeOf(ShowPropertiesView)).call(this,e));return t.state={promptVisible:null},r=e.currency?e.currency.symbol||e.currency:k,t}return _inherits(ShowPropertiesView,e),n(ShowPropertiesView,[{key:"render",value:function(){return d["default"].createElement(c.View,{key:this.getNextKey()},this.getViewCols())}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.promptVisible!==t.promptVisible||(!this.props.errorProps||!e.errorProps||this.props.errorProps!=e.errorProps)}},{key:"getViewCols",value:function(e,t){var o=this,e=this.props.resource,n=e[g.TYPE],t=h.getModel(n).value,i=i=t.viewCols;i&&this.props.checkProperties&&!function(){var e=t.properties,o=[];i.forEach(function(t){"_"===t.charAt(0)||e[t].hidden||e[t].readOnly||(o.push(t),t.indexOf("_group")===t.length-6&&e[t].list.forEach(function(e){return o.push(e)}))}),i=o}();var a=this.props.excludedProperties,l=t.properties;if(a){var u=[];a.forEach(function(e){l[e]&&u.push(e)}),a=u}if(!i){i=[];for(var f in l)f!=g.TYPE&&i.push(f)}var p=t.interfaces;if(!p)for(var b=i.length,y=0;y<b;y++)l[i[y]].displayName&&(i.splice(y,1),b--);var v=!0,k=i.map(function(i){if(!a||a.indexOf(i)===-1){var u,f,p,b=e[i],y=t.properties[i];if(b)if(y.ref){if(y.ref==g.TYPES.MONEY){var k=h.normalizeCurrencySymbol(b.currency);b=(k||r)+b.value}else if(h.getModel(y.ref).value.subClassOf===A)b=b.title;else if(o.props.showRefResource){var P=b[g.TYPE]?h.getDisplayName(b,h.getModel(b[g.TYPE]).value.properties):b.title;b=d["default"].createElement(c.TouchableOpacity,{onPress:o.props.showRefResource.bind(o,b,y)},d["default"].createElement(c.Text,{style:[S.title,S.linkTitle]},P)),u=!0}}else"date"===y.type&&(b=h.formatDate(b));else if(y.displayAs)b=h.templateIt(y,e);else{if(!o.props.checkProperties)return;if(i.indexOf("_group")===i.length-6)return d["default"].createElement(c.View,{style:{padding:15},key:o.getNextKey()},d["default"].createElement(c.View,{key:o.getNextKey(),style:{borderBottomColor:o.props.bankStyle.LINK_COLOR,borderBottomWidth:1,paddingBottom:5}},d["default"].createElement(c.Text,{style:{fontSize:22,color:o.props.bankStyle.LINK_COLOR}},m(y))));b=E}if(!b)return d["default"].createElement(c.View,{key:o.getNextKey()});if(!u)if(b instanceof Array){if(y.items.backlink)return d["default"].createElement(c.View,{key:o.getNextKey()});var R=(y.viewCols,b.length);b=d["default"].createElement(c.View,{style:{marginHorizontal:7}},o.renderItems(b,y)),f=!0,v=!1,I=d["default"].createElement(c.View,{style:{flexDirection:"row"}},d["default"].createElement(c.Text,{style:S.title},y.title||h.makeLabel(i)),R>3&&n!==T?d["default"].createElement(C,{name:"ios-arrow-down",size:15,color:"#7AAAC3",style:{position:"absolute",right:10,top:10}}):d["default"].createElement(c.View,null)),b=R>3&&n!==T?d["default"].createElement(c.View,{key:o.getNextKey()},O,d["default"].createElement(w,{header:I,content:b,underlayColor:"transparent",easing:"easeInCirc"})):d["default"].createElement(c.View,{key:o.getNextKey()},I,b)}else l[i].units&&"["!=l[i].units.charAt(0)&&(b+=" "+l[i].units),b=b===E?d["default"].createElement(c.Text,{style:[S.description,{color:o.props.bankStyle.LINK}]},b):"number"==typeof b||"boolean"==typeof b?d["default"].createElement(c.Text,{style:S.description},b?"Yes":"No"):"boolean"===y.type?d["default"].createElement(c.Text,{style:S.description},b.title):"object"===y.type||"string"!=typeof b||0!=b.indexOf("http://")&&0!==b.indexOf("https://")?n===T?d["default"].createElement(c.Text,{style:[S.description,{flexWrap:"wrap"}]},b):d["default"].createElement(c.Text,{style:[S.description],numberOfLines:2},b):d["default"].createElement(c.Text,{onPress:o.onPress.bind(o,b),style:[S.description,{color:"#7AAAC3"}]},b);var I=y.skipLabel||f?d["default"].createElement(c.View,null):d["default"].createElement(c.Text,{style:n===T?S.bigTitle:S.title},y.title||h.makeLabel(i)),O=v?d["default"].createElement(c.View,null):d["default"].createElement(c.View,{style:S.separator});v=!1;var x=null!==o.state.promptVisible;x&&console.log(o.state.promptVisible);var F=o.props.checkProperties?d["default"].createElement(c.View,{style:S.iconView},d["default"].createElement(C,{key:i,name:o.props.errorProps&&o.props.errorProps[i]?"ios-close-circle":"ios-radio-button-off",size:25,color:o.props.errorProps&&o.props.errorProps[i]?"red":o.props.bankStyle.LINK_COLOR,style:{marginTop:10,marginRight:20},onPress:function(){o.setState({promptVisible:y})}}),d["default"].createElement(s["default"],{title:"Please write a message to the customer",placeholder:"Start typing",visible:x,onCancel:function(){return o.setState({promptVisible:null})},onSubmit:function(e){o.setState({promptVisible:null}),o.props.checkProperties(o.state.promptVisible,e)}})):d["default"].createElement(c.View,null);o.props.checkProperties&&(p=!0);var M=[S.textContainer,{padding:10}];return p?(M.push({flexDirection:"row"}),F&&M.push({justifyContent:"space-between"})):M.push({flexDirection:"column"}),d["default"].createElement(c.View,{key:o.getNextKey()},O,d["default"].createElement(c.View,{style:p?{flexDirection:"row"}:{flexDirection:"column"}},d["default"].createElement(c.View,{style:[M,{flexDirection:"column"}]},I,b),F))}});return e.txId&&k.push(d["default"].createElement(c.View,{key:this.getNextKey()},d["default"].createElement(c.View,{style:S.separator}),d["default"].createElement(c.View,{style:[S.textContainer,{padding:10}]},d["default"].createElement(c.Text,{style:S.title},m("irrefutableProofs")),d["default"].createElement(c.TouchableOpacity,{onPress:this.onPress.bind(this,"https://tbtc.blockr.io/tx/info/"+e.txId)},d["default"].createElement(c.Text,{style:[S.description,{color:"#7AAAC3"}]},m("independentBlockchainViewer")+" 1")),d["default"].createElement(c.TouchableOpacity,{onPress:this.onPress.bind(this,"https://test-insight.bitpay.com/tx/"+e.txId)},d["default"].createElement(c.Text,{style:[S.description,{color:"#7AAAC3"}]},m("independentBlockchainViewer")+" 2"))))),k}},{key:"onPress",value:function(e,t){var o=h.getModel(this.props.resource[g.TYPE]).value;this.props.navigator.push({id:7,backButtonTitle:"Back",title:h.getDisplayName(this.props.resource,o.properties),component:p,passProps:{url:e?e:this.props.resource.url}})}}]),ShowPropertiesView}(f.Component);v(P.prototype,b),v(P.prototype,y);var S=u["default"].create({textContainer:{flex:1},separator:{height:1,backgroundColor:"#eeeeee",marginHorizontal:15},title:{fontSize:16,marginTop:3,marginBottom:0,marginHorizontal:7,color:"#9b9b9b"},bigTitle:{fontSize:20,marginTop:3,marginBottom:0,marginHorizontal:7,color:"#7AAAC3"},linkTitle:{color:"#2892C6"},description:{fontSize:18,marginVertical:3,marginHorizontal:7,color:"#2E3B4E"},photo:{width:86,height:86,marginLeft:1},icon:{width:40,height:40},iconView:{alignSelf:"center",marginRight:20}});e.exports=P},1732:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var r=o(300),n=o(301),i=_interopRequireDefault(n),a=o(936),s=(o(1720),a.translate),l=o(1554),u=(o(702),o(1687)),c=o(1722),f=o(1355),d={showRefResource:function(e,t){var r=a.getId(e);if(r===this.state.propValue){var n=e[f.TYPE]||r.split("_")[0],i=a.getModel(n).value,s=a.getDisplayName(e,i.properties);this.props.navigator.push({title:s,id:3,component:o(1721),titleTextColor:"#7AAAC3",backButtonTitle:"Back",passProps:{resource:e,prop:t,currency:this.props.currency}})}},showResources:function(e,t){this.props.navigator.push({id:10,title:s(t,a.getModel(e[f.TYPE]).value),titleTextColor:"#7AAAC3",backButtonTitle:"Back",component:o(1697),passProps:{modelName:t.items.ref,filter:"",resource:e,prop:t,currency:this.props.currency}})},renderItems:function(e,t,n){var s=this.props.bankStyle&&this.props.bankStyle.LINK_COLOR||"#7AAAC3",u=t.items.properties,f=t;if(!u){var d=t.items.ref;d&&(t=a.getModel(d).value,u=t.properties)}var h=0,m=t.viewCols;if(!m){m=[];for(var g in u)m.push(g)}var b=e.length,y=this;return e.map(function(e){var t=[];if(h++,m.forEach(function(o){var d=u[o];if((e[o]||d.displayAs)&&!d.displayName){var h;if(d.displayAs)h=a.templateIt(d,e);else if("date"===d.type)h=a.formatDate(e[o]);else if("object"!==d.type){if("photos"==o){return void t.push(i["default"].createElement(c,{photos:e.photos,navigator:y.props.navigator,numberInRow:4,resource:resource}))}h=e[o]}else h=d.ref?e[o].title||a.getDisplayName(e[o],a.getModel(d.ref).value.properties):e[o].title;if(h){var m=i["default"].createElement(r.View,{style:p.itemColContainer},i["default"].createElement(r.Text,{style:d.skipLabel?{height:0}:p.itemText},d.skipLabel?"":d.title||a.makeLabel(o)),i["default"].createElement(r.Text,{style:p.itemText},h));t.push(i["default"].createElement(r.View,{style:p.item,key:y.getNextKey()},n?i["default"].createElement(r.View,{style:p.row},m,i["default"].createElement(r.TouchableHighlight,{underlayColor:"transparent",onPress:n.bind(y,f,e)},i["default"].createElement(l,{name:"ios-close-circle-outline",size:25,color:s,style:{marginTop:"web"===r.Platform.OS?-5:0,paddingLeft:10}}))):m))}}}),!t.length&&e.title){var d=i["default"].createElement(r.View,{style:[p.itemColContainer,{flexDirection:"row"}]},e.photo?i["default"].createElement(r.Image,{source:{uri:e.photo},style:p.thumb}):i["default"].createElement(r.View,null),i["default"].createElement(r.Text,{style:[p.itemText,{color:n?"#000000":s}]},e.title));t.push(i["default"].createElement(r.View,{style:{paddingBottom:5},key:y.getNextKey()},n?i["default"].createElement(r.View,{style:p.row},d,i["default"].createElement(r.TouchableHighlight,{underlayColor:"transparent",onPress:n.bind(y,f,e)},i["default"].createElement(l,{name:"ios-close",size:25,color:s}))):i["default"].createElement(r.TouchableHighlight,{underlayColor:"transparent",onPress:function(){y.props.navigator.push({title:e.title,id:3,component:o(1721),backButtonTitle:"Back",passProps:{resource:e}})}},d)))}return i["default"].createElement(r.View,{key:y.getNextKey()},t,h==b?i["default"].createElement(r.View,null):i["default"].createElement(r.View,{style:p.itemSeparator}))})}},p=u.create({thumb:{width:25,height:25,marginRight:2,borderRadius:5},itemText:{fontSize:18,marginBottom:0,color:"#000000"},itemSeparator:{height:1,backgroundColor:"#eeeeee"},itemColContainer:{},item:{paddingVertical:7},row:{flexDirection:"row",justifyContent:"space-between",marginRight:3}});e.exports=d},1733:function(e,t,o){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t["default"]=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(300),i=o(301),a=_interopRequireDefault(i),s=o(1734),l=(_interopRequireWildcard(s),o(936)),u=(o(1554),o(1355)),c=(o(1724),o(1718)),f=o(1723),d=o(702),p=function(e){function PhotoView(e){_classCallCheck(this,PhotoView);var t=_possibleConstructorReturn(this,(PhotoView.__proto__||Object.getPrototypeOf(PhotoView)).call(this,e));return t.state={anim:new n.Animated.Value(1.5),isModalOpen:!1},t}return _inherits(PhotoView,e),r(PhotoView,[{key:"componentDidMount",value:function(){n.Animated.timing(this.state.anim,{toValue:1,duration:500}).start()}},{key:"changePhoto",value:function(e){this.setState({currentPhoto:e})}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.resource[u.ROOT_HASH]!==e.resource[u.ROOT_HASH]||this.state.isModalOpen!==t.isModalOpen||!d(this.props.resource.photos,e.resource.photos)}},{key:"render",value:function(){var e=this.props.resource;if(!e)return a["default"].createElement(n.View,null);var t=e[u.TYPE],o=l.getModel(t).value;if(!o.interfaces&&!o.isInterface&&!e[u.ROOT_HASH])return a["default"].createElement(n.View,null);var r=e.photos&&e.photos.length,i=this.state.currentPhoto||r&&e.photos[0];if(!i)return a["default"].createElement(n.View,null);for(var s,c=i.url,s=1==e.photos.length,f=l.getImageUri(c),d="/"==f.charAt(0)||0===f.indexOf("data")?{uri:f,isStatic:!0}:{uri:f},p=e.photos.length,h=0;h<p&&!s;h++){var m=e.photos[h].url;m===c&&(s=h===p-1?e.photos[0]:e.photos[h+1])}var g=l.dimensions(PhotoView),b=g.width,y=g.height,v=.8*b,w=.8*y,C=l.isWeb()?{width:Math.floor(b<y?v:w),height:Math.floor(b<y?w/2:v/2)}:{width:b<y?b:y,height:Math.floor(b<y?y/2:b/2)};return a["default"].createElement(n.View,null,a["default"].createElement(n.TouchableHighlight,{underlayColor:"transparent",onPress:this.showCarousel.bind(this,e.photos[0])},a["default"].createElement(n.Image,{resizeMode:"cover",source:d,style:C})))}},{key:"shwCarousel",value:function(e){for(var t=[],o=-1,r=0;r<this.props.resource.photos.length;r++){var n=this.props.resource.photos[r];o===-1&&n.url===e.url&&(o=r),t.push(n.url)}return a["default"].createElement(Gallery,{style:{flex:1},images:t,initialPage:o})}},{key:"openModal",value:function(){this.setState({isModalOpen:!0})}},{key:"closeModal",value:function(){this.setState({isModalOpen:!1})}}]),PhotoView}(i.Component);c(p.prototype,f);n.StyleSheet.create({photoBG:{backgroundColor:"#245D8C",alignItems:"center",alignSelf:"stretch"},modalBackgroundStyle:{backgroundColor:"rgba(0, 0, 0, 0.4)",justifyContent:"center"}});e.exports=p},1735:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(945),i=o(300),a=o(301),s=_interopRequireDefault(a),l=o(936),u=l.translate,c=(o(1697),o(1554)),f=o(1736),d=o(1355),p=o(1718),h=o(1709),m=o(1732),g=function(e){function ShowRefList(e){return _classCallCheck(this,ShowRefList),_possibleConstructorReturn(this,(ShowRefList.__proto__||Object.getPrototypeOf(ShowRefList)).call(this,e))}return _inherits(ShowRefList,e),r(ShowRefList,[{key:"render",value:function(){var e=this,t=this.props.resource,o=l.getModel(t[d.TYPE]).value,r=o.properties,n=[],a=o.id===d.TYPES.PROFILE,p=l.getMe(),h=!a||t[d.ROOT_HASH]===p[d.ROOT_HASH],m=[];for(var g in r){if(a){if(!h&&r[g].allowRoles&&"me"===r[g].allowRoles)continue;if("verifiedByMe"===g&&!p.organization)continue;if("myVerifications"==g&&p.organization)continue}"_"!==g.charAt(0)&&r[g].items&&r[g].items.backlink&&m.push(g)}l.getId(p)===l.getId(t)&&p.isEmployee;return m.forEach(function(t){var a=u(r[t],o),d=r[t].icon||l.getModel(r[t].items.ref).value.icon;d||(d="ios-checkmark"),n.push(s["default"].createElement(i.View,{style:[f.container,{flex:1,alignSelf:"stretch"}],key:e.getNextKey()},s["default"].createElement(i.TouchableHighlight,{onPress:e.showResources.bind(e,e.props.resource,r[t]),underlayColor:"transparent"},s["default"].createElement(i.View,{style:{alignItems:"center"}},s["default"].createElement(c,{name:d,size:l.getFontSize(30),color:"#ffffff"}),s["default"].createElement(i.Text,{style:[f.text,"android"===i.Platform.OS?{marginTop:3}:{marginTop:0}]},a)))))}),l.getId(p)===l.getId(t)&&p.isEmployee&&n.push(s["default"].createElement(i.View,{style:[f.container,{flex:1,alignSelf:"stretch"}],key:this.getNextKey()},s["default"].createElement(i.TouchableHighlight,{onPress:this.props.showQR.bind(this),underlayColor:"transparent"},s["default"].createElement(i.View,{style:{alignItems:"center"}},s["default"].createElement(c,{name:"ios-qr-scanner",size:l.getFontSize(30),color:"#ffffff"}),s["default"].createElement(i.Text,{style:[f.text,"android"===i.Platform.OS?{marginTop:3}:{marginTop:0}]},u("showQR")))))),n.length?s["default"].createElement(i.View,{style:f.buttons,key:"ShowRefList"},n):s["default"].createElement(i.View,null)}}]),ShowRefList}(a.Component);p(g.prototype,m),p(g.prototype,h),g=(0,n.makeResponsive)(g),e.exports=g},1736:function(e,t,o){"use strict";var r="#7AAAC3",n=14,i=17,a=o(936),s=Object.freeze({icon:{width:30,height:30},row:{flexDirection:"row"},container:{alignSelf:"center",paddingHorizontal:7,marginTop:10},buttons:{flexDirection:"row",backgroundColor:"#a0a0a0",alignSelf:"stretch"},text:{color:"#ffffff",paddingBottom:10,fontSize:a.getFontSize(n),alignSelf:"center"},row1:{flexDirection:"row",alignSelf:"center",position:"absolute",left:30,top:5},icon1:{width:25,height:25,paddingTop:2},container1:{flex:1,paddingHorizontal:10},buttonContent:{alignSelf:"center",width:150,height:40,borderRadius:10,backgroundColor:r,opacity:.7,borderWidth:1,borderColor:"#466690"},text1:{paddingTop:3,color:"#ffffff",fontFamily:"Avenir Next",fontSize:a.getFontSize(i)}});e.exports=s},1737:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(300),i=o(301),a=_interopRequireDefault(i),s=o(936),l=(_interopRequireDefault(s),function(e){function PageView(e){return _classCallCheck(this,PageView),_possibleConstructorReturn(this,(PageView.__proto__||Object.getPrototypeOf(PageView)).call(this,e))}return _inherits(PageView,e),r(PageView,[{key:"render",value:function(){return a["default"].createElement(n.View,{style:[this.props.style,u.separator,{flex:1
}]},this.props.children)}}]),PageView}(i.Component)),u=n.StyleSheet.create({separator:{borderColor:"transparent",borderTopColor:"#eeeeee",borderWidth:n.StyleSheet.hairlineWidth}});e.exports=l},1738:function(e,t,o){(function(t){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t["default"]=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function getProviderUrl(e){return e.id?W.joinURL(e.url,e.id):e.url}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=o(300),a=(_interopRequireDefault(i),o(937)),s=_interopRequireDefault(a),l=o(1551),u=_interopRequireWildcard(l),c=o(1691),f=_interopRequireDefault(c),d=o(1341),p=o(1739),d=(o(1742).parse,o(1341)),h=o(1531),m=o(1530),g=o(1720),b=o(767),y=o(702),v="Sent",w="Sending",C="Queued",E=b("Store"),k=o(1745),T=o(949);T.longStackSupport=!1,T.onerror=function(e){throw console.error(e),e};var A,P,S,R,I,O,x,F,M,_,D=o("ios"!==i.Platform.OS?1746:1747),N=o(1357),B=N.data,V=N.currencies,L=N.nationalities,j=N.countries,z=(o(1748),o(1749)),W=o(936),q=null,Y=W.translate,H=o(1752),U=o(1755),K=o(1803),G=o(1234),Q=o(987),J=o(1084),Z=J.utils,X=J.protocol,$=o(1355),ee=o(1078),te=$.NONCE,oe=$.TYPE,re=$.SIG,ne=$.ROOT_HASH,ie=$.CUR_HASH,ae=$.PREV_HASH,se="_n",le="lastMessageTime",ue=$.TYPES.ORGANIZATION,ce=$.TYPES.IDENTITY,fe=$.TYPES.IDENTITY_PUBLISHING_REQUEST,de=$.TYPES.MESSAGE,pe=$.TYPES.SIMPLE_MESSAGE,he=$.TYPES.FINANCIAL_PRODUCT,me=$.TYPES.PRODUCT_LIST,ge=$.TYPES.PROFILE,be=$.TYPES.ADDITIONAL_INFO,ye=$.TYPES.VERIFICATION,ve=$.TYPES.FORM,we=$.TYPES.MODEL,Ce=$.TYPES.CUSTOMER_WAITING,Ee=$.TYPES.SELF_INTRODUCTION,ke="tradle.Introduction",Te=$.TYPES.FORGET_ME,Ae=$.TYPES.FORGOT_YOU,Pe="tradle.MyIdentities",Se="tradle.ProductApplication",Re="tradle.MyProduct",Ie="tradle.Enum",Oe="tradle.GuestSessionProof",xe="tradle.FormError",Fe="tradle.EmployeeOnboarding",Me="tradle.MyEmployeeOnboarding",_e="tradle.FormRequest",De="tradle.PairingRequest",Ne="tradle.PairingResponse",Be="tradle.PairingData",Ve=Pe+"_1",Le=$.TYPES.SETTINGS,je=o(1804),ze=o(1825),We=o(1871),qe={resendInterval:3e4,mtu:1e4,autoConnect:!0},Ye=ze.Switchboard,He=ze.Client,Ue=(o(1343),o(1905)),Ke=o(1917),Ge=o(1929),Qe=o(806),Je={},Ze="me",Xe=(u.TIMEOUT,{}),$e={},et={},tt={},ot={},rt={},nt="testnet",it=D.topLevelProviders||[D.topLevelProvider],at=(o(943),it.map(function(e){return e.baseUrl})),st=(it.map(function(e){return e.name}),[]),lt={wsClients:{}},ut="accountkey",ct=!1,ft=!0,dt=h.createStore({listenables:[m],init:function(){var e=this,t=this,o=K("TiM.db",{valueEncoding:"json"});return S=H(o),this._loadedResourcesDefer=T.defer(),i.NetInfo&&(i.NetInfo.isConnected.addEventListener("change",this._handleConnectivityChange.bind(this)),W.isSimulator()?this.isConnected=!0:i.NetInfo.isConnected.fetch().then(function(t){return e.isConnected=t})),this.loadModels(),N.forEach(function(e){Xe[e.id]={key:e.id,value:e},t.addNameAndTitleProps(e),t.addVerificationsToFormModel(e)}),W.setModels(Xe),this.ready=T.all([this.getMe(),this.getSettings()]).then(function(){if(W.isEmpty($e)||(R=!0),I)return e.getDriver(I).then(function(){return e.monitorTim()})}).then(function(){I&&I.registeredForPushNotifications&&f["default"].resetBadgeNumber()})},_handleConnectivityChange:function(e){this.isConnected=e,this.trigger({action:"connectivity",isConnected:e})},getMe:function(){var e=this;return S.get(Ve).then(function(t){if(t){var o=Ve;return e._setItem(o,t),S.get(t.currentIdentity.replace(ge,ce))}}).then(function(t){return e._setItem(W.getId(t),t),S.get(W.getId(t).replace(ce,ge))}).then(function(t){I=t,I.isAuthenticated&&(delete I.isAuthenticated,delete I.dateAuthenticated,S.put(W.getId(I),I)),I.isEmployee&&!I.organization&&(delete I.isEmployee,S.put(W.getId(I),I)),e.setMe(I);var o=t[oe]+"_"+t[ne];e._setItem(o,t)})["catch"](function(e){!e.notFound})},setMe:function(e){I=e,_&&I.organization&&!I.organization.url&&!function(){var e=W.getId(I.organization),t=_.filter(function(t){return t.org==e});t&&t.length&&t[0].url&&(I.organization.url=t[0].url)}(),W.setMe(I)},onUpdateMe:function(e){var t={};g(!0,t,I,e),this.setMe(t);var o=W.getId(t);return this._setItem(o,t),S.put(o,t)},onSetAuthenticated:function(e){I||(I=W.getMe());W.getId(I);this.onUpdateMe({isAuthenticated:e,dateAuthenticated:Date.now()}),this.trigger({action:"authenticated",value:e})},getSettings:function(){var e=this,t=Le+"_1";return S.get(t).then(function(o){o&&e._setItem(t,o)})["catch"](function(e){})},buildDriver:function(e){var t=e.keys,o=e.identity,r=e.encryption,n=this,i=Ke({path:d.join(Ze,"keeper"),db:U,encryption:r});Ge(i,{max:100});var a=new Ue(nt),s=lt.wsClients;x=new J.node({name:"me",dir:Ze,identity:o,keys:t,keeper:i,networkName:nt,blockchain:a,leveldown:U,syncInterval:6e5}),console.log("me: "+x.permalink),x=Z.promisifyNode(x),x.identityPublishStatus=x.identitySealStatus,x._multiGetFromDB=W.multiGet,x.addressBook.setCache(new ee({max:500}));if(!M){var l,u=Le+"_1",c=this._getItem(u);M=at.slice();var c=(l={},_defineProperty(l,oe,Le),_defineProperty(l,ne,"1"),_defineProperty(l,ie,"1"),_defineProperty(l,"urls",M),_defineProperty(l,"hashToUrl",{}),l);this._setItem(u,c),S.put(u,c)}lt.tlsKey=ct&&x.keys.filter(function(e){return"tls"===e.get("purpose")})[0];return x._send=function(e,t,o){var r=t.permalink,i=s[r];if(!i){var a=n._getItem(Le+"_1").hashToUrl[r];i=s[a]}if(!i)return o(new Error("recipient not found"));var l=n.getIdentifier(t);i.send(l,e,o),i.setTimeout(6e4)},this.getInfo(M,!0)["catch"](function(e){}),T(x)},initChats:function(){var e=this,t=W.getId(I),o=I.organization?W.getId(I.organization):null,r=function(){var r=e._getItem(n);if(r._context){var i=e._getItem(r._context);if(i&&i._readOnly)return e.addMessagesToChat(W.getId(r._context),r,!0),"continue"}var a=e._getItem(e.getModel(r[oe]));if(!a.interfaces||a.interfaces.indexOf(de)===-1)return"continue";var s=[];if(r._sharedWith&&r._sharedWith.forEach(function(t){var n=e._getItem(t.bankRepresentative),i=W.getId(n.organization);o!==i&&(e.addMessagesToChat(i,r,!0,t.timeShared),s.push(i))}),a.id===ye&&t===W.getId(r.from))e.addMessagesToChat(W.getId(r.to),r,!0);else{var l=W.getId(r.from),u=e._getItem(t===l?W.getId(r.to):l),c=u.organization?W.getId(u.organization):W.getId(u);s.indexOf(c)===-1&&e.addMessagesToChat(c,r,!0)}};for(var n in $e){r()}for(var i in et){var a=et[i];a.sort(function(e,t){return e.time-t.time}),et[i]=this.filterChatMessages(a,i)}},filterChatMessages:function(e,t,o){for(var r=this,n=W.getId(I),i={},a={},s=e.length-1;s>=0;s--){var l=this._getItem(e[s].id);if(l[oe]===_e&&!l.document){var u=i[l.product];u||(i[l.product]={});var c=i[l.product][l.form];"undefined"!=typeof c&&e.splice(c,1),i[l.product][l.form]=s}if(l[oe]===Se){var f=a[l.product];f?e.splice(f,1):a[l.product]=s}}e=e.filter(function(e,t){var o=r._getItem(e.id);return o[oe]!==Ee});var d=e.filter(function(o,i){var a=(o.time,o.id),s=a.split("_")[0];if(s===me&&i!==e.length-1){var l=e[i+1];if(l&&l.id.split("_")[0]===me)return!1}var u=r._getItem(o.id),c=W.getId(u.from);if(!I.isEmployee&&c!==n&&$e[c]){var f=r._getItem(c);if(!f.bot){var d=f.photos;d?u.from.photo=d[0]:u.from.photo=k}}var p=r.getModel(u[oe]).value;if(p.subClassOf===ve){var h=r._getItem(W.getId(u.to));t&&u._sharedWith&&u._sharedWith.length>1,u.to.organization=h.organization;for(var m in u)if(p.properties[m]&&"array"===p.properties[m].type&&p.properties[m].items.ref){var g=r.getModel(p.properties[m].items.ref).value;if(g.properties.photos){var b=u[m];b.forEach(function(e){var t=r._getItem(W.getId(e)),o=t&&t.photos;o&&(e.photo=o[0].url)})}}}return!0});if(o&&o.split("_")[0]===me){for(var p=d.length-1;p>=0&&d[p][oe]===me;p--);d.splice(p,1)}return d},getInfo:function(e,t,o){var r=this,n=T.defer(),i=e.length;return e.forEach(function(e){r.getServiceProviders(e,t,o).then(function(e){lt.wsClients,lt.tlsKey;if(e.forEach(function(e){r.addProvider(e),f["default"].subscribe(e.hash)["catch"](function(e){return console.log("failed to register for push notifications")})}),0===--i)return n.resolve(),x})["catch"](function(e){})}),n.promise},onGetEmployeeInfo:function(e){var t=this,o=e.split(";"),r=ue+"_"+o[1],n=_?_.filter(function(e){return e.org===r}):null;n=n&&n.length?n[0]:null;var i=this._getItem(r),a=n?T():this.getInfo([o[0]]);return a.then(function(){return n||(n=_.filter(function(e){return e.org===r})[0]),T.race([fetch(W.joinURL(n.url,n.id+"/employee/"+o[2]),{headers:{cache:"no-cache"}}),T.Promise(function(e,t){setTimeout(function(){t(new Error("timed out"))},5e3)})])}).then(function(e){return e.clone().json()}).then(function(e){var o=this._getItem(r),n={bot:e,org:o,style:o.style,isEmployee:!0};return t.addInfo(n)}).then(function(e){t.addProvider(e),t.addToSettings(e),x.addContactIdentity(e.identity);var o=this._getItem(ge+"_"+e.hash);Je[W.getId(i)]=o;var r=this._getItem(Ve),n=r.currentIdentity,a=r.allIdentities.filter(function(e){if(e.id===n)return!0})[0].publishedIdentity;t.trigger({action:"talkToEmployee",to:i,myIdentity:a})})["catch"](function(e){})},addToSettings:function(e){var t=this._getItem(Le+"_1");t.hashToUrl||(t.hashToUrl={}),t.hashToUrl[e.hash]=getProviderUrl(e),S.put(Le+"_1",t)},addProvider:function(e){function receive(e,s){try{var l=function(){e=Z.unserializeMessage(e);var t=e.object;if(t.context){var r=Se+"_"+t.context;$e[r]}var s=function(){switch(t[oe]){case ke:var e=t.identity[ne]||X.linkString(t.identity);return{v:{v:x.addContactIdentity(t.identity).then(function(){return o.addContact(t,e)}).then(function(){var t=W.keyByValue(a,u);o.addToSettings({hash:e,url:t})})}};case Ee:e=t.identity[ne]||X.linkString(t.identity);var r=t.name;return r&&r.length||(r=t.identity.name,r&&(r=r.formatted)),!r&&t.message&&(r=t.message.split(" ")[0]),i.Alert.alert(Y("newContactRequest",r),t.message||null,[{text:Y("Ok"),onPress:function(){return x.addContactIdentity(t.identity).then(function(){return o.addContact(t,e)}).then(function(){var t=W.keyByValue(a,u);o.addToSettings({hash:e,url:t})})}},{text:Y("cancel"),onPress:function(){return console.log("Canceled!")}}]),{v:{v:void 0}}}}();if("object"===("undefined"==typeof s?"undefined":n(s)))return s.v}();if("object"===("undefined"==typeof l?"undefined":n(l)))return l.v}catch(c){try{var f=function(){var t=JSON.parse(e);if(t[oe]===De){t.identity[ne]||X.linkString(t.identity);i.Alert.alert(Y("pairingRequest"),null,[{text:Y("Ok"),onPress:function(){o.trigger({action:"acceptingPairingRequest",resource:t})}},{text:Y("cancel"),onPress:function(){return console.log("Canceled!")}}])}return{v:void 0}}();if("object"===("undefined"==typeof f?"undefined":n(f)))return f.v}catch(c){return}}var d=r?"pubKey":"permalink",p="permalink"===d?s:{type:"ec",curve:"curve25519",pub:new t(s,"hex")};return x.sender.resume(p),x.receive(e,_defineProperty({},d,p))["catch"](function(t){console.warn("failed to receive msg:",t,e)})}var o=this,r=lt.tlsKey,a=lt.wsClients,s=getProviderUrl(e);if(a[s])return a[s];var l=this.getWsClient(s),u=this.getTransport(l);l.on("disconnect",function(){u.clients().forEach(function(e){E("aborting pending sends due to disconnect"),e.destroy()}),x.sender.pause()}),l.on("connect",function(e){x.sender.resume()}),a[s]=u,a[e.hash]=u,u.on("404",function(e){x.sender.pause(e),u.cancelPending(e),setTimeout(function(){return x.resume()},1e4)});var c={};u.on("message",function(e,t){c[t]||(c[t]=G());var o=c[t];o(function(o){var r=function(){clearTimeout(n),o()},n=setTimeout(r,1e4),i=receive(e,t);return T.isPromiseAlike(i)?void i["finally"](r):r()})}),u.on("timeout",function(e){u.cancelPending(e)})},onPairingRequestAccepted:function(e){var t=this;return this.onProcessPairingRequest(this._getItem(Be+"_1"),e).then(function(){t.trigger({action:"pairingRequestAccepted"})})["catch"](function(e){t.trigger({action:"invalidPairingRequest",error:Y("exists"===e.fullType?"thisDeviceWasAlreadyPaired":"invalidPairingRequest")})})},getIdentifier:function(e){return e=e||x.identityInfo,ct?this.getIdentifierPubKey(e):e.permalink},getIdentifierPubKey:function(e){e=e||x;var t=ct?"tls":"sign",o=Z.find(e.keys||e.object.pubkeys,function(e){var o=e.purpose||e.get("purpose");return o===t});return o.pubKeyString||o.pub},getWsClient:function(e){var t=(lt.tlsKey,W.joinURL(e,"ws?"+p.stringify({from:this.getIdentifier()})).replace(/^http/,"ws"));return new He({url:t,autoConnect:!0,forceBase64:!0})},getTransport:function(e){var o=lt.tlsKey;return Ye({identifier:this.getIdentifier(),unreliable:e,clientForRecipient:function(e){var r=new je(qe);return o?new We({key:{secretKey:o.priv,publicKey:o.pub},client:r,theirPubKey:new t(e,"hex")}):r}})},getServiceProviders:function(e,t,o){var r=this,n=this,i=t?W.fetchWithBackoff:W.fetchWithTimeout,a=e;e=W.joinURL(e,"info");var s=void 0;return I&&(O=I.language,O&&$e[W.getId(O)]&&(O=this._getItem(W.getId(O)),s=O.code)),s||(s=W.getDefaultLanguage()),s&&(e+="?lang="+s),i(e,{headers:{cache:"no-cache"}},5e3).then(function(t){if(t.status>300)throw new Error("Cannot access: "+e);return t.json()}).then(function(e){e.dictionary&&(g(!0,rt,e.dictionary),I&&(I.dictionary=rt,O&&(I.language=O),n.setMe(I))),_||(_=[]);var t=[];return e.providers.forEach(function(e){if(!o||e.id===o){e.org[ne]||(e.org[ne]=X.linkString(e.org));var r=null,i=_.some(function(t){t.org===W.getId(e.org)&&(r=t)});i||(_.push({id:e.id,org:W.getId(e.org),url:a,style:e.style}),t.push(n.addInfo(e,a)))}}),W.getMe()&&n.setMe(W.getMe()),T.allSettled(t)}).then(function(e){var t=n.searchNotMessages({modelName:ue});return r.trigger({action:"list",list:t}),e.filter(function(e){return"fulfilled"===e.state}).map(function(e){return e.value})})},addInfo:function(e,t){var o=e.org?W.getId(e.org):null,r=X.linkString(e.bot.pub),n=ce+"_"+r,i=[];if($e[o]||(i.push({type:"put",key:o,value:e.org}),this._setItem(o,e.org)),e.style&&(this._getItem(o).style=e.style),!$e[n]){var a,s,l=(a={},_defineProperty(a,oe,ge),_defineProperty(a,ne,r),_defineProperty(a,"firstName",e.bot.profile.name.firstName||e.id+"Bot"),_defineProperty(a,"organization",this.buildRef(e.org)),a);e.bot.profile.name.lastName&&(l.lastName=e.bot.profile.name.lastName),l.formatted=e.bot.profile.name.formatted||(l.lastName?l.firstName+" "+l.lastName:l.firstName),l.photos=[],e.bot.profile.photo?l.photos.push(e.bot.profile.photo):l.photos.push(k),e.isEmployee?l.isEmployee=!0:l.bot=!0;var u=(s={},_defineProperty(s,ne,r),_defineProperty(s,"txId",e.bot.txId),s);g(!0,u,e.bot.pub),u.name&&(u.firstName=u.name.firstName,u.formatted=u.name.formatted||u.firstName,delete u.name);var c=W.getId(l);i.push({type:"put",key:n,value:u}),i.push({type:"put",key:c,value:l}),this._setItem(n,u),this._setItem(c,l)}this._getItem(o).contacts||this._mergeItem(o,{contacts:[]});var c=ge+"_"+r,f=this._getItem(o),d={id:c};this._mergeItem(o,{contacts:[].concat(_toConsumableArray(f.contacts),[d])});var p=[x.addContactIdentity(e.bot.pub)];return i.length&&p.push(S.batch(i)),T.allSettled(p).then(function(){if(!e.isEmployee)return{hash:r,txId:e.bot.txId,id:e.id,url:t};var n=_.filter(function(e){return W.getId(e.org)===o})[0];return{hash:r,txId:e.bot.txId,id:n.id,url:n.url,identity:e.bot.pub}})["catch"](function(e){throw e})},addContact:function(e,t){var o=ce+"_"+t,n=ge+"_"+t,i=$e[n]&&this._getItem(n),a=$e[o]&&this._getItem(o),s=!i||!a,l=e[oe]&&e[oe]===De;if(s){if(""===e.name&&(e.name=e.identity.name&&e.identity.name.formatted),l){var u;u={},_defineProperty(u,oe,ge),_defineProperty(u,ne,t),_defineProperty(u,"firstName",I.firstName),_defineProperty(u,"formatted",I.formatted),i=u}else{var c;i=r((c={},_defineProperty(c,oe,ge),_defineProperty(c,ne,t),c),e.profile),i.firstName||(i.firstName=e.name||e.message.split(" ")[0]),i.formatted||(i.formatted=i.firstName)}i.formatted=i.firstName+(e&&e.lastName?" "+e.lastName:"");var a=e.identity;a[ne]=t,a[ie]=t;var f=[];f.push({type:"put",key:o,value:a}),f.push({type:"put",key:n,value:i}),this._setItem(o,a),this._setItem(n,i)}i.firstName.length||(i.firstName=a.name.firstName,i.formatted=a.name.formatted||i.firstName),l||this._getItem(W.getId(i)).bot||this.trigger({action:"newContact",to:i,newContact:!0});var d=void 0;if(l)d=T();else{var p,h=this._getItem(W.getId(i));d=h&&h.bot?T():this.onAddMessage((p={},_defineProperty(p,oe,pe),_defineProperty(p,"message",Y("howCanIHelpYou",i.formatted,W.getMe().firstName)),_defineProperty(p,"from",this.buildRef(W.getMe())),_defineProperty(p,"to",this._getItem(n)),p))}return d.then(function(){if(s)return S.batch(f)})["catch"](function(e){})},findKey:function(e,t){var o;return e.some(function(e){for(var r in t)if(e[r]!==t[r])return!1;return o=e,!0}),o},onStart:function(){var e=this;T.all([u.hasTouchID(),this.ready]).spread(function(t){e.trigger({action:"start",models:Xe,me:I,hasTouchID:t})})},onAddMessage:function(e,t,o){var r,n=this,i=this.getModel(e[oe]).value,a=i.properties;e.time||(e.time=(new Date).getTime());var s;if(e.to[oe]===ue){var l=W.getId(e.to),u=this.getRepresentative(l);if(!u){var c={action:"addMessage",error:"No "+e.to.name+" representative was found"};return void this.trigger(c)}s=e.to,e.to=u}var f=e[oe]===Ee,d={};e._context&&(d._context=e._context);for(var p in e)a[p]&&(f||!a[p].ref||a[p].id?d[p]=e[p]:d[p]=this.buildRef(e[p]));if(e[oe]===Se){var h=this.searchMessages({modelName:Se,to:s});h&&(h=h.filter(function(e){return e.message===e.message&&!e.documentCreated}),h.length&&h.forEach(function(e){var t=W.getId(e);n._mergeItem(t,{documentCreated:!0})}))}var m=e[oe]===Ce;d[te]=this.getNonce();var g=(r={},_defineProperty(r,oe,d[oe]),_defineProperty(r,te,d[te]),_defineProperty(r,"time",e.time),r);d.message&&(g.message=d.message),d.photos&&(g.photos=d.photos),f&&(g.profile={firstName:I.firstName}),e.list&&(d.list=e.list);var b=i.required;b&&(b.forEach(function(e){g[e]=d[e]}),delete g.from,delete g.to);var y,v,E=[],k=e.to[ne];k||(k=this._getItem(W.getId(e.to))[ne]);var T=ce+"_"+k;d._sendStatus=n.isConnected?w:C;var A;return x.sign({object:g}).then(function(o){g=o.object;var r=X.linkString(o.object);if(d[ne]=e[ne]=d[ie]=e[ie]=r,e[oe]===Se){d._context=e._context={id:W.getId(e),title:e.product};var i={action:"addItem",resource:d};n.trigger(i)}if(!t){E.length;n.addLastMessage(e,E)}if(t&&!W.isEmployee(e.to)&&u&&(!u.lastMessageTime||(t=u.lastMessage===e.message))&&!I.txId)return n.getDriver(I).then(function(){if(/*!self.isConnected  || */!st[l])return x.identityPublishStatus()}).then(function(t){if(t){if(st[l]=!0,t.watches.link||t.link){var o,r=n._getItem(Ve),i=r.allIdentities,a=r.currentIdentity,s=i.filter(function(e){return e.id===a}),c=(o={message:I.firstName+" is waiting for the response"},_defineProperty(o,oe,Ee),_defineProperty(o,"identity",s[0].publishedIdentity),_defineProperty(o,"profile",{firstName:I.firstName}),_defineProperty(o,"from",I),_defineProperty(o,"to",e.to),o);return m&&(A=!0),n.onAddMessage(c)}return m&&(A=!0),n.publishMyIdentity(u)}})}).then(function(){if(!t||!W.isEmpty(v)){var o=W.getId(d);if(n._setItem(o,d),!s){var r=n._getItem(W.getId(e.to));s=r.organization?r.organization:r}n.addMessagesToChat(W.getId(s),d);var i={action:"addMessage",resource:t?v:d};return y&&(i.error=y),n.trigger(i),E.length&&!y&&n._getItem(T).pubkeys?n.getDriver(I):void 0}}).then(function(){if(!A&&n._getItem(T).pubkeys){var t=n.packMessage(e,g),o=g[re]?"send":"signAndSend";return x[o](t)["catch"](function(e){})}}).then(function(r){if((o||!t)&&(!t||!W.isEmpty(v))){if(!s){var i=n._getItem(W.getId(e.to));s=i.organization?i.organization:i}var a=(W.getId(s),W.toOldStyleWrapper(r.message));a&&(d[ne]=a[ne],d[ie]=a[ie]);var l=W.getId(d);return E.push({type:"put",key:l,value:d}),n._setItem(l,d),S.batch(E)}})["catch"](function(e){})},packMessage:function(e,t){var o=this,r={object:t},n=e.to[ne];n===I[ne]&&(n=e.from[ne]),n||(n=this._getItem(W.getId(e.to))[ne]);var i,a=ce+"_"+n;if(I.isEmployee){var s=this._getItem(W.getId(e.to));i=!s.organization||W.getId(s.organization)===W.getId(I.organization)}if(i){var l=_.filter(function(e){var t=o.getRepresentatives(e.org),r=t.forEach(function(e){return e[ne]===n});return!(!r||!r.length)});if(!l.length){var u=n;r.other={forward:u};var c=this.getRepresentative(W.getId(I.organization));r.to={fingerprint:this.getFingerprint(this._getItem(ce+"_"+c[ne]))}}}if(e._context){r.other||(r.other={});var f=W.getId(e._context);if(r.other.context=f.split("_")[1],e[oe]!==Se){var d=this._getItem(f);d&&(d.lastMessageTime=(new Date).getTime(),d.formsCount=d.formsCount?++d.formsCount:1,S.put(f,d))}}var a=ce+"_"+n;return r.to||(r.to={fingerprint:this.getFingerprint(this._getItem(a))}),r},disableOtherFormRequestsLikeThis:function(e){var t=this,o=W.getId(e.from),r=W.getId(this._getItem(o).organization),n=et[r];n.forEach(function(o){var r=t._getItem(o.id);r[oe]!==_e||r.product!==e.product||r.form!==e.form||r.document||r.documentCreated||(r.documentCreated=!0,S.put(W.getId(r),r))})},addMessagesToChat:function(e,t,o,r){if((!t.documentCreated||o)&&(t.time||r)){if(t._context){var n=this._getItem(t._context);n&&n._readOnly&&(e=W.getId(t._context))}var i=et[e],a=W.getId(t);if(i&&i.length){if(!o){if(t[oe]===Ee)return;if(t[oe]===me){var s=i[i.length-1].id;s.split("_")[0]===me&&i.splice(i.length-1,1)}for(var l=-1,u=0;u<i.length&&l===-1;u++)i[u].id===a&&(l=u);if(l!==-1){if(t.time===$e[a].value.time)return;i.splice(l,1)}}}else i=[],et[e]=i;i.push({id:W.getId(t),time:r?r:t.time})}},deleteMessageFromChat:function(e,t){var o=et[e];if(o)for(var r=W.getId(t),n=0;n<o.length;n++)if(o[n].id===r){o.splice(n,1);break}},getRepresentatives:function(e){var t=this.searchNotMessages({modelName:ge,all:!0}),o=[];return t.some(function(t){t.organization&&W.getId(t.organization)===e&&o.push(t)}),o.length?o:null},getRepresentative:function(e){if(Je[e])return Je[e];var t,o=this.searchNotMessages({modelName:ge,all:!0});return o.some(function(o){if(o.organization)return W.getId(o.organization)===e&&o.bot?(t=o,!0):void 0}),t},onAddVerification:function(e,t,o){var r,n=this,i=[],a=W.getId(e.from),s=this._getItem(a),l=W.getId(e.to);this._getItem(l);e[te]=e[te]||this.getNonce(),e.time=e.time||(new Date).getTime();var u=this._getItem(W.getId(e.document));u._context&&(e._context=u._context);var c,f={},d=l.split("_")[1];o||(g(f,e),e[ne]&&(f[ie]=e[ne],e[ie]=e[ne]),delete f.from,delete f.to,f.time=e.time,c=this.packMessage(e,f));var r=ce+"_"+d,p=o?T():x.signAndSend(c),h=void 0;if(e._context){var m=this._getItem(W.getId(e._context));h=m&&m._readOnly}var b;return p.then(function(t){t&&(e[ie]=t.object.link,e[ne]=t.object.permalink),r=W.getId(e),s.organization&&(e.organization=s.organization),e._sharedWith||(e._sharedWith=[],e._sharedWith.push(n.createSharedWith(W.getId(e.from),e.time))),i.push({type:"put",key:r,value:e}),b=n.buildRef(e);i.length;return h||n.addLastMessage(e,i),S.batch(i)}).then(function(){n._setItem(r,e),h&&n.addMessagesToChat(W.getId(e._context),e),W.getId(s)===W.getId(I)?n.addMessagesToChat(W.getId(e.to),e):n.addMessagesToChat(s.organization?W.getId(s.organization):a,e),t?n.trigger({action:"addItem",resource:e}):n.trigger({action:"addVerification",resource:e});var o=W.getId(e.document),i=n._getItem(o);if(i.verifications||(i.verifications=[]),e.txId)for(var l=0;l<i.verifications.length;l++)W.getId(i.verifications).split("_")[1]===e[ne]&&(i.verifications=n.buildRef(b));else i.verifications.push(n.buildRef(b));return S.put(o,i)}).then(function(e){})["catch"](function(e){e=e})},onGetTo:function(e){this.onGetItem(e,"getTo")},onGetFrom:function(e){this.onGetItem(e,"getFrom")},onGetItem:function(e,t){var o={};g(o,this._getItem(W.getId(e)));var r=this.getModel(o[oe]).value.properties;for(var n in r)if("_"!==n.charAt(0)){var i=r[n].items;if(i&&i.backlink){var a=(i.backlink,this.getModel(i.ref).value),s={modelName:i.ref,to:o,meta:a,props:a.properties},l=this.searchNotMessages(s);l&&l.length&&(o[n]=l)}}this.trigger({resource:o,action:t||"getItem"})},getItem:function(e){var t=e[oe],o=this.getModel(t).value,r=[],n=this.getRefs(e,r,o.properties),i={};g(i,e);for(var a=0;a<r.length;a++){var s=r[a];if("fulfilled"===s.state){var l=W.getId(s.value),u=n[l];i[u]=s.value,i[u].id=l,i[u].title||(i[u].title=W.getDisplayName(i,o))}}return i},getDependencies:function(e){var t=this,o=e.map(function(e){return t.getItem(e)});return o},getRefs:function(e,t,o){var r=[];for(var n in e)if(o[n]&&"object"===o[n].type){var i=o[n].ref;if(i&&e[n]){var a=W.getId(e[n]);if(r[a]=n,$e[a]){var s={value:this._getItem(a),state:"fulfilled"};t.push(s)}}}return r},onAddModelFromUrl:function(e){var t,o,r=this;return fetch(e).then(function(e){return e.json()}).then(function(e){t=e,o=t.properties;var n="",i=t.id;i||(n+='"id" is required. Could be something like "myGithubId.nameOfTheModel"');var a=i,s=(t.message,o.from);s||(n+='"from" is required. Should have {ref: "'+ge+'"}');var l=o.to;l||(n+='"to" is required. Should have {ref: "'+ge+'"}');var u=o.time;if(u||(n+='"time" is required'),n.length)return void r.trigger({action:"newModelAdded",err:n});t.interfaces=[],t.interfaces.push(de);var c=z(t);return t[ne]=c,t[$.OWNER]=r.buildRef(I),S.put(a,t)}).then(function(){I.myModels||(I.myModels=[]);var e=t.id;I.myModels.push({key:e,title:t.title}),r.setPropertyNames(o),Xe[e]={key:e,value:t},r.trigger({action:"newModelAdded",newModel:t})})["catch"](function(e){e=e}).done()},setPropertyNames:function(e){for(var t in e){var o=e[t];o.name||"function"==typeof o||(e[t].name=t),o.title||(o.title=W.makeLabel(t))}},onSaveTemporary:function(e){tt[e[oe]]=e},onGetTemporary:function(e){var t=tt[e];this.trigger({action:"getTemporary",resource:t})},onAddItem:function(e){var t=this,o=this,r=e.value,n=e.resource;delete tt[n[oe]];var i=e.meta,a=(e.shareWith,e.isRegistration),s=(e.additionalInfo,{}),l=[],u=[],c=i.properties;if(i.id==ye||i.subClassOf===ye)return this.onAddVerification(n,!0);var f,d=i[oe]===Ee,p=!n[ne],h=!p&&o.isSwitchingToEmployeeMode(n);return f=i.id===Oe||h?this.getDriver(I).then(function(){return x.identityPublishStatus()}).then(function(e){if(e.watches.link||e.link){if(h){var t,r=W.getId(n.organization),i=o.getRepresentative(r),a=(t={message:I.firstName+" is waiting for the response"},_defineProperty(t,oe,Ee),_defineProperty(t,"identity",x.identity),_defineProperty(t,"profile",{firstName:I.firstName}),_defineProperty(t,"from",I),_defineProperty(t,"to",i),t);f=o.onAddMessage(a)}}else h?o.publishMyIdentity(o.getRepresentative(W.getId(n.organization))):o.publishMyIdentity(o._getItem(W.getId(n.to)))}):T(),f.then(function(){function handleRegistration(){return o.trigger({action:"runVideo"}),T.all([o.loadDB(),W.resetPasswords()]).then(function(){return o.getDriver(A)}).then(function(){return n&&!p||(A[ne]=X.linkString(x.identity)),save()})}function handleMessage(){if(A.documentCreated){var e={action:"addItem",resource:A};return o.disableOtherFormRequestsLikeThis(A),$e[W.getId(A)].value=A,o.trigger(e),o.waitForTransitionToEnd().then(function(){save()})["catch"](function(e){})}var t=null==A[ne],r=o.getModel(A[oe]).value.subClassOf===ve;if(t)A[ne]=A[te];else{if(r){var n=W.getId(A),i=o._getItem(n);if(W.compare(A,i))return void o.trigger({action:"noChanges"});A[ae]=A[ie],A[ie]=A[te]}A.txId&&delete A.txId}A.txId&&delete A.txId;var a=W.getId(A);o._setItem(a,A);var s=o._getItem(W.getId(A.to)).organization,l=W.getId(s);o.addMessagesToChat(l,A);var e;A[oe]===Oe?(s=o._getItem(W.getId(s)),e={action:"getForms",to:s}):e={action:"addItem",resource:W.clone(A)};o.getModel(A[oe]).value;try{o.trigger(e)}catch(u){}return o.waitForTransitionToEnd().then(function(){var e=W.getId(A.to),r=o._getItem(e),n={};t||(n[ae]=A[ae]);var i=["to","from","verifications",ie,"sharedWith","_sendStatus","_context"];t&&i.push(ne),g(n,A);var a=!0,s=!1,l=void 0;try{for(var u,c=i[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;delete n[f]}}catch(d){s=!0,l=d}finally{try{!a&&c["return"]&&c["return"]()}finally{if(s)throw l}}n.time=A.time;var p=(ce+"_"+r[ne],o.packMessage(A,n));return x.signAndSend(p)}).then(function(e){(t||r)&&(delete $e[a],o.deleteMessageFromChat(l,A)),A[ie]=e.object.link,A[ne]=e.object.permalink;var n=o.isConnected?w:C;return A._sendStatus=n,delete A._sharedWith,delete A.verifications,save(!0)}).then(function(){var e=W.getId(A.to),r=o._getItem(e);if(t&&o.getModel(A[oe]).value.subClassOf===ve){var n=o.searchMessages({modelName:_e,to:r}),i=n&&n.filter(function(e){if(e.document===A[te])return!0});if(i&&i.length){var a=i[0];a.document=W.getId(A),A=a,save(!0)}}})}function save(e){return o._putResourceInDB({type:A[oe],resource:A,roothash:A[ne],isRegistration:a,noTrigger:e})}for(var f in n)if(c[f]&&"object"===c[f].type){var m=c[f].ref;if(m&&n[f]){var b=t.getModel(m).value;if(b.inlined||b.subClassOf===Ie)continue;var y=W.getId(n[f]);if(s[y]=f,$e[y]){var v={value:t._getItem(y),state:"fulfilled"};u.push(v)}else l.push(T.ninvoke(S,"get",y))}}var E=W.clone(r);for(f in n)c[f]&&"array"===c[f].type&&(E[f]=n[f]);E[oe]||(E[oe]=i.id);var k=t.checkRequired(E,c);if(k)return u.forEach(function(e){var t=W.getId(e.value),o=s[t];E[o]=e.value}),void t.trigger({action:"addItem",resource:E,error:k});var A;d||W.optimizeResource(n);var P=i.isInterface||i.interfaces&&i.interfaces.indexOf(de)!=-1;T.allSettled(l).then(function(t){var i=u.concat(t);if(i.forEach(function(e){if("fulfilled"===e.state){var t=e.value,r=W.getId(t),n=s[r];W.getDisplayName(t,o.getModel(t[oe]).value.properties);E[n]=o.buildRef(t),P&&!E.documentCreated&&(E.time=(new Date).getTime())}}),!p&&r.documentCreated||(n.time=(new Date).getTime()),!n||p)A=E;else{A={},g(!0,A,n);for(var l in E)if(A[l]){if(!c[l])continue;c[l].readOnly||c[l].immutable||(A[l]=E[l])}else A[l]=E[l]}if(a||A[oe]!==ge&&(A[te]=o.getNonce()),e.chat){var f=W.getId(e.chat);A.to=o.buildRef(o.getRepresentative(f))}return a?handleRegistration():P?handleMessage():save(h)}).then(function(){h&&!function(){var e,r=W.getId(n.organization),i=o.getRepresentative(r),a=(e={},_defineProperty(e,oe,Se),_defineProperty(e,"product",Fe),_defineProperty(e,te,o.getNonce()),_defineProperty(e,"time",(new Date).getTime()),e);o.trigger({action:"employeeOnboarding",to:t._getItem(r)});var s={object:a,to:{fingerprint:o.getFingerprint(t._getItem(W.getId(ce+"_"+i[ne])))}};x.signAndSend(s).then(function(e){a[ie]=e.object.link,a[ne]=e.object.permalink,a.to=o.buildRef(i),a.from=o.buildRef(I),o._setItem(W.getId(a),a),o.addMessagesToChat(r,a)})["catch"](function(e){})}()})})},onAddApp:function(e){var t=this,o=e.split(";");return this.getInfo([o[0]],!1,o[1]).then(function(){t.trigger({action:"addApp"})})},isSwitchingToEmployeeMode:function(e){var t=this;if(e[oe]===ge&&e.organization&&_){var o=this._getItem(W.getId(e)).organization,r=W.getId(e.organization),i=!o||W.getId(o)!==r;if(i){var a=_.filter(function(e){return e.org==r});if(a&&a.length)return!0}else if(o){var s=function(){var e=t.searchMessages({to:I,modelName:Me});if(!e)return{v:!0};var o=W.getId(I.organization),r=W.getId(t.getRepresentative(o)),n=e.some(function(e){return r===W.getId(e.to)});return{v:n.length}}();if("object"===("undefined"==typeof s?"undefined":n(s)))return s.v}}},onGetMe:function(){this.trigger({action:"getMe",me:I})},onCleanup:function(){var e=this;if(I){var t=this.searchMessages({to:I,modelName:Ce,isForgetting:!0});if(t)return t.length&&delete t[t.length-1],this.cleanup(t).then(function(){if(t=e.searchMessages({to:I,modelName:me,isForgetting:!0}),t&&t.length)return delete t[t.length-1],e.cleanup(t)})}},onShare:function(e,t,o){var r=this;if(e[oe]===Se){var n,i=t.map(function(e){var t=r.getRepresentative(e);return r.buildRef(t)}),a=(n={},_defineProperty(n,oe,"tradle.ShareContext"),
_defineProperty(n,"context",this.buildRef(e)),_defineProperty(n,"with",i),n),s=this.getRepresentative(W.getId(o)),l={object:a,to:{fingerprint:this.getFingerprint(this._getItem(ce+"_"+s[ne]))}};return x.signAndSend(l)}if(!Array.isArray(t))return this.onShareOne(e,t,o);var u=[];t.forEach(function(t){u.push(r.onShareOne(e,r._getItem(t)))}),T.all(u).then(function(e){})},onShareOne:function(e,t,o){var n,i=this;if(t[oe]===ue?(n=W.getId(t),t=this.getRepresentative(ue+"_"+t[ne])):n=W.getId(t.organization),t){var a=ce+"_"+t[ne],s={to:{fingerprint:this.getFingerprint(this._getItem(a))},seal:!0};o&&o._context&&(s.other={context:W.getId(o._context).split("_")[1]});var l=x.send(r({},s,{link:e.document[ie]}));return l.then(function(){return e[ie]?x.send(r({},s,{link:e[ie]})):T()}).then(function(){var r=W.getId(o),a=i._getItem(r);a.documentCreated=!0,a[oe]===_e&&(a.document=e[oe]===ye?W.getId(e.document):W.getId(e));var s=[];s.push({type:"put",key:r,value:a});var l=W.getId(t),u=(new Date).getTime();if(e[ne]){r=W.getId(e);var c=i._getItem(r);c._sharedWith||(c._sharedWith=[]),c._sharedWith.push(i.createSharedWith(l,u)),W.optimizeResource(c),s.push({type:"put",key:r,value:c})}var f=W.getId(e.document),d=i._getItem(f);return d._sharedWith||(d._sharedWith=[],d._sharedWith.push(i.createSharedWith(W.getId(d.to),d.time))),d._sharedWith.push(i.createSharedWith(l,u)),i.addMessagesToChat(n,d,!1,u),c&&i.addMessagesToChat(n,c,!1,u),W.optimizeResource(d),i.addLastMessage(d,s,t),s.push({type:"put",key:f,value:d}),S.batch(s)})["catch"](function(e){})}},createSharedWith:function(e,t){return{bankRepresentative:e,timeShared:t}},checkRequired:function(e,t){var o=e[oe],r=e[ne],n=r?$e[o+"_"+r]:null,i=t.required;if(i)for(var a=0;a<i.length;a++){var s=i[a];if(!(e[s]||n&&n[s]))return'Please add "'+t.properties[s].title+'"'}},onReloadModels:function(){this.loadModels()},onRequestWipe:function(){i.Alert.alert(Y("areYouSureAboutWipe"),"",[{text:"Cancel",onPress:function(){}},{text:"OK",onPress:function(){return m.reloadDB()}}])},wipe:function(){return W.isWeb()?this.wipeWeb():this.wipeMobile()},wipeWeb:function(){if(localStorage&&localStorage.clear(),sessionStorage&&sessionStorage.clear(),U.destroyAll)return U.destroyAll()},wipeMobile:function(){return T.all([s["default"].clear(),W.resetPasswords()]).then(function(){return s["default"].getAllKeys()}).then(function(e){return console.log("AsyncStorage has "+e.length+" keys")})},onReloadDB:function(){var e=this,t=x?x.destroy():T();return t.then(function(){return e.wipe()}).then(function(){return W.restartApp()})},onMessageList:function(e){this.onList(e)},onList:function(e){var t=this;R?this.getList(e):this.loadDB().then(function(){R=!0,e.modelName&&t.getList(e)})},getList:function(e){var t=this,o=this.getModel(e.modelName).value,r=o.isInterface||o.interfaces&&o.interfaces.indexOf(de)!=-1;if(!r){e.fromView=!0;var n=this.searchNotMessages(e);if(!n)return void(this.isConnected||e.modelName!==ue||this.trigger({action:"list",alert:Y("noConnection")}));e.isAggregation&&(n=this.getDependencies(n));var i={action:"list",list:n,spinner:e.spinner,isAggregation:e.isAggregation};return e.prop&&(i.prop=e.prop),void this.trigger(i)}return this._searchMessages(e).then(function(o){if(o){e.isAggregation&&(o=t.getDependencies(o));var n,i={action:!r||e.prop||e._readOnly?"list":"messageList",list:o,spinner:e.spinner,isAggregation:e.isAggregation},a=e.limit&&o.length>e.limit;if((e.loadEarlierMessages||a)&&(a&&(o.splice(0,1),i.allLoaded=!0),i.loadEarlierMessages=!0),!e.isAggregation&&e.to&&(n=t.getShareableResources(o,e.to)),e.to){var s=void 0;if(e.to.organization?s=W.getId(e.to.organization):e.to[oe]===ue&&(s=W.getId(e.to)),s){var l=t.getRepresentative(s);l&&!l.bot&&(i.isEmployee=!0)}}if(e.context)i.context=e.context;else if(e.modelName!==Se){var u=t.searchMessages({modelName:Se,to:e.to});if(u)if(1===u.length)u[0]._readOnly||(i.context=u[0]);else{var c=u.filter(function(e){return!e._readOnly&&e.formsCount});c&&(1===c.length?i.context=c[0]:(c.sort(function(e,t){return t.lastMessageTime-e.lastMessageTime}),i.context=c[0]))}}n&&(i.shareableResources=n),e.prop&&(i.prop=e.prop),t.trigger(i)}})},getList1:function(e){var t=this.searchResources(e);if(e.isAggregation&&(t=this.getDependencies(t)),!t)return void(this.isConnected||e.modelName!==ue||this.trigger({action:"list",alert:Y("noConnection")}));var o,r=this.getModel(e.modelName).value,n=r.isInterface||r.interfaces&&r.interfaces.indexOf(de)!=-1,i=t,a={action:!n||e.prop||e._readOnly?"list":"messageList",list:i,spinner:e.spinner,isAggregation:e.isAggregation};if(n){var s=e.limit&&t.length>e.limit;if((e.loadEarlierMessages||s)&&(s&&(t.splice(0,1),a.allLoaded=!0),a.loadEarlierMessages=!0),!e.isAggregation&&e.to&&(o=this.getShareableResources(t,e.to)),e.to){var l=void 0;if(e.to.organization?l=W.getId(e.to.organization):e.to[oe]===ue&&(l=W.getId(e.to)),l){var u=this.getRepresentative(l);u&&!u.bot&&(a.isEmployee=!0)}}if(e.context)a.context=e.context;else{var c=this.searchMessages({modelName:Se,to:e.to});if(c)if(1===c.length)c[0]._readOnly||(a.context=c[0]);else{var f=c.filter(function(e){return!e._readOnly&&e.formsCount});f&&(1===f.length?a.context=f[0]:(f.sort(function(e,t){return t.lastMessageTime-e.lastMessageTime}),a.context=f[0]))}}}o&&(a.shareableResources=o),e.prop&&(a.prop=e.prop),this.trigger(a)},searchResources:function(e){var t=this.getModel(e.modelName).value,o=t.isInterface||t.interfaces&&t.interfaces.indexOf(de)!=-1;return o?this._searchMessages(e):(e.fromView=!0,this.searchNotMessages(e))},onListSharedWith:function(e,t){var o=this,r=e._sharedWith;if(!r)return null;var n=W.getId(t),i={},a=[];r.forEach(function(e){var t=o._getItem(e.bankRepresentative),r=o._getItem(W.getId(t.organization));W.getId(r)!==n&&(a.push(r),i[e.bankRepresentative]=r)}),this.trigger({action:"listSharedWith",list:a,sharedWith:i})},searchNotMessages:function(e){var t,o,r=this,n={},i=e.modelName,a=e.to,s=e.notVerified,l=this.getModel(i).value,u=l.properties,c=e.modelName==ue,f=e.sortProperty?e.sortProperty:c&&!e.sortProperty?le:l.sort,d=i===ge;if(a)for(var p in u)u[p].ref&&u[p].ref===a[oe]&&(t=p,o=W.getId(a));var h=e.query,m=(l.required,I?W.getId(I):null,W.getAllSubclasses(i).map(function(e){return e.id})),b={};for(var y in $e){var v=this._getItem(y);if(y.indexOf(i+"_")==-1){var w=y.split("_")[0];if(c){if(this.getModel(w).value.subClassOf!==ve)continue;var C=W.getId(this._getItem(y).to);if(v._sharedWith){v._sharedWith.forEach(function(e){var t=r._getItem(e.bankRepresentative).organization,o=W.getId(t);b[o]?b[o]=++b[o]:b[o]=1})}else{var E=this._getItem(C).organization;if(!E){var k=W.getId(this._getItem(y).from);E=$e[k].value.organization}var T=W.getId(E);b[T]?b[T]=++b[T]:b[T]=1}continue}if(!m)continue;if(m.indexOf(w)===-1)continue}else{if(e.fromView&&d&&v.bot)continue;if(s&&v.verifications&&v.verifications.length)continue}if(!v.canceled&&(!t||v[t]&&W.getId(v[t])===o))if(h){var P="";for(var S in u)v[S]instanceof Array||(P+=P?" "+v[S]:v[S]);P&&(!P||h&&P.toLowerCase().indexOf(h.toLowerCase())==-1)||(n[y]=v)}else n[y]=v}if(!t&&I&&d)if(B.getMyId())delete n[W.getId(I)];else if(!A){var R=this._getItem(Ve).allIdentities;R.forEach(function(e){n[e.id]&&delete n[e.id]})}if(!W.isEmpty(n)){var O=W.objectToArray(n);if(d&&!e.all&&I.isEmployee&&!function(){var e=[];O.forEach(function(t){if(!t.organization)return void e.push(t);var o=W.getId(t.organization);if(t.isEmployee&&W.getId(t.organization)!==o){var r=_.filter(function(e){return e.org===o});r.length||e.push(t)}}),O=e}(),1===O.length)return O;if(f){var x="undefined"!=typeof e.asc&&e.asc;"date"==u[f].type?O.sort(function(e,t){var o=e[f]?e[f]:0,r=t[f]?t[f]:0;return x?o-r:r-o}):"string"==u[f].type?!function(){var e={},t=O.map(function(t){return e[t[f]]=t,t[f]});t.sort(),x&&(t=t.reverse()),O=t.map(function(t){return e[t]})}():"number"==u[f].type&&O.sort(function(e,t){return x?e-t:t-e})}return c&&!function(){var e=[];O=O.filter(function(e){var t=W.getId(e);if(!_)return!1;var o=_.filter(function(e){return e.org===t});return!!o.length}),O.forEach(function(t){var o=W.getId(t),r={};g(!0,r,t),e.push(r),r.numberOfForms=b[o]}),O=e}(),O}},_searchMessages:function(e){var t=this;return this._loadedResourcesDefer.promise.then(function(){return t.searchMessages(e)})},searchMessages:function(e){var t=this,o=e.query,r=e.modelName,i=this.getModel(r).value,a=e.prop,s=e.context;e._readOnly||s&&s._readOnly;"string"==typeof a&&(a=i[a]);var l=a?a.items?a.items.backlink:a:null,u=[],c=i.properties,f=W.getId(I),d=I.isEmployee?W.getId(I.organization):null,p=e.to;p&&p.id&&(p=this._getItem(W.getId(p)));var h,m,b=p?W.getId(p):null,y=p&&p[oe]===ue,v=void 0;if(y){var w=this.getRepresentative(b);if(!w)return;p=w,b=W.getId(p),h=W.getId(e.to),m=this._getItem(h),v=et[h]}else p&&(p.organization&&!d?(h=W.getId(p.organization),v=et[h]):v=et[W.getId(p)]);if(v||e.to&&b!==f||!function(){v=[];var e=t;Object.keys($e).filter(function(o){var n=e._getItem(o),i=n[oe],a=t.getModel(i);return!!a&&(i===r||a.value.subClassOf===r||r===de&&a.value.interfaces?(v.push({id:o,time:n.time}),!0):void 0)}),v.sort(function(e,t){return e.time-t.time})}(),!v||!v.length)return null;var C=p?p.me:null;if(C){"me"===C&&(P||(P=I),C=P[ne]),A=!0;var f=$.TYPES.PROFILE+"_"+C;I=this._getItem(f),this.setMe(I);var E=this._getItem(Ve);E&&(E.currentIdentity=f)}var k=(e.from,e.limit?e.limit+1:null),T=i.isInterface,S=(T?W.getImplementors(r):null,r===ye||i.subClassOf===ye),R=e.lastId,O=v.length-1;if(R)for(;O>=0;O--)if(v[O].id===R){O--;break}for(var x=e.resource?W.getId(e.resource):null,F=O;F>=0;F--){var M=v[F].id,_=this._getItem(M),D=null;if(T)D=W.getModel(M.split("_")[0]).value;else if(_[oe]!==r){var N=this.getModel(_[oe]);if(!N)continue;if(N=N.value,N.subClassOf!==r)continue}if(D||(D=i),!_.canceled&&(!s||this.inContext(_,s))){var B=T&&_[oe]===xe;if(S){if(_.document){var V=this._getItem(W.getId(_.document));if(!V)continue;if(e.resource&&x!==f&&W.getId(e.resource)!==W.getId(V))continue;_.document=V}}else if(B){var L=this._getItem(W.getId(_.prefill));_.prefill=L?L:_.prefill}else if(_.message&&_.message.length){if(_[oe]===Ee&&!e.isForgetting&&W.getId(_.to)!==f)continue;if("[already published](tradle.Identity)"===_.message)continue;var j=W.splitMessage(_.message);if(2===j.length&&j[1]===ge)continue;if(p.organization&&_[oe]===$.TYPES.CUSTOMER_WAITING){var z=W.getId(p.organization);if(!W.isEmployee(this._getItem(z)))continue}}var q=!1,Y=null;if(_._sharedWith&&h){var H=_._sharedWith.filter(function(e){var o=t._getItem(e.bankRepresentative).organization;return!!o&&W.getId(o)===h});q=0!==H.length,q&&(Y={time:H[0].timeShared,resource:_})}if(p){if(l&&_[l]){var U=e.resource?W.getId(e.resource):b;if(U===W.getId(_[l])&&(u.push(_),k&&u.length===k))break;continue}var j=this.getModel(_[oe]).value,K=_[oe]===ye||j.subClassOf===ye,G=j.subClassOf===ve,Q=j.subClassOf===Re,J=j.id===Se;if(!(_.message&&0!==_.message.trim().length||_.photos||K||G||Q||J))continue;var Z=W.getId(_.to);if(e.strict&&b!==Z)continue}if((!e.strict||b===W.getId(_.to))&&(!_._sharedWith||!h||q)){if(K||_[oe]===be){var X={},ee=$e[W.getId(_.document)];if(!ee){e.isForgetting&&u.push(_);continue}for(var te in ee.value)if("verifications"!==te&&"additionalInfo"!==te){var re=ee.value[te];switch("undefined"==typeof re?"undefined":n(re)){case"object":re&&(Array.isArray(re)?X[te]=re.slice(0):X[te]=g(!0,{},re));break;default:X[te]=re}}_.document=X}if(o){var ie="";for(var ae in c)_[ae]instanceof Array||(ie+=ie?" "+_[ae]:_[ae]);if((!ie||ie&&(!o||ie.toLowerCase().indexOf(o.toLowerCase())!=-1))&&(u.push(this.fillMessage(_)),k&&u.length===k))break}else{var se=this.fillMessage(_);if(se||(se=_),u.push(se),k&&u.length===k)break}}}}return u.length?(e._readOnly&&(u=u.filter(function(e){return e._readOnly})),u.reverse()):void 0},onGetAllContexts:function(e){var t=this.searchMessages(e),o=t&&t.filter(function(e){return e.formsCount});this.trigger({action:"allContexts",list:o,to:e.to})},inContext:function(e,t){return e._context&&W.getId(e._context)===W.getId(t)},getSearchResult:function(e){return e.map(function(e){return e.value})},fillMessage:function(e){return e},getShareableResources:function(e,t){function addAndCheckShareable(e){var t=e.document,o=t[oe],r=W.getModel(o).value.subClassOf===Re;if(r||W.getId(t.from)===W.getId(I)){var n=d[o];if(n){if(e.from&&p[t[ne]])for(var a=d[t[oe]],s=(W.getId(e.from),0);s<a.length;s++){var l=a[s].document;if(t[ne]===l[ne]){if(t.time<l.time)return void addSharedWithProvider(e);a.splice(s,1)}}}else d[o]=[];(W.getId(t.to)!==i||r)&&(d[o].push(e),p[t[ne]]=t,addSharedWithProvider(e))}}function addSharedWithProvider(e){var t=e.document[ne],o=h[t];if(o){var r=function(){var t=W.getId(e.organization),r=o.filter(function(e){return W.getId(e)===t});if(r.length)return{v:void 0}}();if("object"===("undefined"==typeof r?"undefined":n(r)))return r.v}else o=[],h[t]=o;o.push(e.organization)}var o=this;if(e){for(var r=[],i=W.getId(I),a={},i=W.getId(W.getMe()),s=0;s<e.length;s++){var l=e[s];if(!(I&&W.getId(l.to)!==i&&W.getId(l.from)!==i||l[oe]!==_e||l.documentCreated||W.getId(l.to)!==i)){var u=a[l.form];if(u)u.documentCreated=!0,this._getItem(W.getId(u)).documentCreated=!0;else{a[l.form]=l;var c=this.getModel(l.form);c&&c.value.subClassOf!==Re&&r.push(c.value.id)}}}var f,d={},p={},h={},m=t&&t[oe]===ue,b=m?t:t.organization?this._getItem(W.getId(t.organization)):null;f=m?this.getRepresentatives(W.getId(b)):[W.getId(t)];var y=this.searchMessages({modelName:Re,to:W.getMe(),strict:!0});if(y&&y.length&&y.forEach(function(e){var t;W.getId(e.from);if(e._sharedWith){var r=e._sharedWith.filter(function(e){if(f.filter(function(t){if(W.getId(t)===e.bankRepresentative)return!0}).length)return!0});if(r.length)return}if(p[e[ne]]){for(var n=d[e[oe]],i=void 0,a=0;a<n.length&&!i;a++)e[ne]===s[ne]&&(e.time<s.time?i=!0:n.splice(a,1));if(i)return}var s=(t={},_defineProperty(t,oe,ye),_defineProperty(t,"document",e),_defineProperty(t,"organization",o._getItem(W.getId(e.from)).organization),t);addAndCheckShareable(s)}),!r.length)return d;var v=W.getId(t),w=this.searchMessages({modelName:ye});return w&&w.forEach(function(e){var n=e.document,a=n.id&&n.id.split("_")[0]||n[oe];if(r.indexOf(a)!==-1){var s=W.getId(e.to.id);if(s===i){var l=W.getId(e.from),u=W.getId(o._getItem(l).organization);if(u!==v){var c=n.id?o._getItem(W.getId(n.id)):n;if(c){if(t&&b&&c.verifications)for(var d,p=0;p<c.verifications.length;p++){var h=o._getItem(W.getId(c.verifications[p]));if(h.organization&&W.getId(b)===W.getId(h.organization)){var m=n._sharedWith;if(m){var y=m.filter(function(e){if(f.filter(function(t){if(W.getId(t)===e.bankRepresentative)return!0}).length)return!0});y.length&&(d=!0)}else d=!0;break}}var w={};g(w,e),w.document=c,addAndCheckShareable(w)}}}}}),r.forEach(function(e){var t=o.searchNotMessages({modelName:e,notVerified:!0});t&&t.forEach(function(e){var t,r=(t={},_defineProperty(t,oe,ye),_defineProperty(t,"document",e),_defineProperty(t,"organization",o._getItem(W.getId(e.to)).organization),t);addAndCheckShareable(r)})}),{verifications:d,providers:h}}},getNonce:function(){return Qe.randomBytes(32).toString("hex")},_putResourceInDB:function(e){var t=this,o=e.type,r=e.resource,n=e.roothash,i=e.isRegistration,a=e.noTrigger;for(var s in r)r[s]||"undefined"!=typeof r[s]||delete r[s];r[oe]||(r[oe]=o);var l,u=this.getModel(o).value,c=u.properties,f=u.isInterface||u.interfaces&&u.interfaces.indexOf(de)!=-1,d=$e[W.getId(r)],p=!r[ne]||!r[ie]||!f&&!d;if(r[oe]===Le){if(p&&(at.includes(r.url)?p=!1:(r[ne]=1,r[ie]=1)),!p&&(!r.urls||r.urls&&r.urls.indexOf(r.url)!==-1))return void this.trigger({action:"addItem",resource:r,error:'The "'+c.url.title+'" was already added'})}else p&&(r[ie]=n);var h=[];if(p){if(r[oe]===be){var m=r.document,g=W.getId(m),b=this._getItem(g);b.additionalInfo&&b.additionalInfo.length||(b.additionalInfo=[]),b.additionalInfo.push(this.buildRef(r)),h.push({type:"put",key:g,value:b})}}if(r.time=r.time||(new Date).getTime(),f){var y=u.subClassOf===ve;if(y&&(r._sharedWith||(r._sharedWith=[]),r._sharedWith.push(this.createSharedWith(W.getId(r.to),(new Date).getTime()))),!p&&y){var v=$e[r[oe]+"_"+r[ne]+"_"+r[ae]];v&&(v=v.value,v[se]=r[ie],W.optimizeResource(v),h.push({type:"put",key:W.getId(v),value:v}))}c.to&&c.from&&this.addLastMessage(r,h)}var w=W.getId(r);h.push({type:"put",key:w,value:r});var C;if(i)return void this.registration(r);if(r[oe]===Le)return this.addSettings(r);var E=W.getId(I);S.batch(h).then(function(){return S.get(w)}).then(function(e){if(t._setItem(w,e),f){var o=W.getId(e.to);o===E&&(o=W.getId(e.from));var r=t._getItem(o).organization;t.addMessagesToChat(W.getId(r),e)}if(C)t._setItem(Ve,C);else if(!p&&w===E&&((I.language||e.language)&&e.language&&(I.language&&W.getId(I.language)===W.getId(e.language)||(l=t._getItem(W.getId(e.language)))),Object.assign(I,e),t.setMe(I),l)){var n=t._getItem(W.getId(I.language));e.languageCode=n.code,S.put(w,e),I.language=n,I.languageCode=n.code,t.setMe(I);var i=[];if(_)return _.forEach(function(e){i.indexOf(e.url)===-1&&i.push(e.url)}),t.getInfo(i)}}).then(function(){var e={action:l?"languageChange":"addItem",resource:r};if(a||t.trigger(e),u.subClassOf===ve){var o=(t.searchMessages({modelName:ve}),t.searchNotMessages({modelName:ue}));t.trigger({action:"list",modelName:ue,list:o,forceUpdate:!0})}})["catch"](function(e){a||t.trigger({action:"addItem",error:e.message,resource:r}),e=e})},addLastMessage:function(e,t,o){var r=this.getModel(e[oe]).value;if(r.id!==Ce&&r.id!==Ee&&(r.id!==pe||!e.message||"[already published](tradle.Identity)"!==e.message)){var n=this._getItem(W.getId(e.to)),i=W.getId(n);i!==d&&n.bot&&(n=this._getItem(W.getId(n.organization)));var a=void 0,s=r.id;if(o){var l=this._getItem(W.getId(o.organization)),u=W.getDisplayName(n,this.getModel(ue).value.properties);if(r.subClassOf!==Re&&r.subClassOf!==ve)return;return a=Y("sharedForm",Y(r),u),l.lastMessage=a,l.lastMessageTime=e.time,l.lastMessageType=s,t.push({type:"put",key:W.getId(l),value:l}),void this.trigger({action:"list",list:this.searchNotMessages({modelName:ue}),forceUpdate:!0})}var c=this._getItem(W.getId(e.from)),f=W.getId(c),d=W.getId(I),p=!e[ne]||!this._getItem(W.getId(e));if(f!==d&&c.bot&&(c=this._getItem(W.getId(c.organization))),r.id===_e&&e.product){var h=this.getModel(e.product).value;if(0!==h.forms.indexOf(e.form))return;a=Y("formRequest",Y(this.getModel(e.product).value)),s=he}else if(r.id===ye){var m=W.getId(e.document).split("_")[0];a=Y("receivedVerification",Y(this.getModel(m).value))}else if(r.id===Se)a=W.getModel(e.product).value.title;else if(r.subClassOf===Re)a=Y("receivedProduct",Y(r));else if(r.subClassOf===ve)a=p?Y("submittingForm",Y(r)):f!==d?Y("receivedForm",Y(r)):Y("submittingModifiedForm",Y(r));else if(a=e.message||W.getDisplayName(e,r.properties),!a)return;var g=void 0;i!==d?(g=n,n.lastMessage="You: "+a):(g=c,c.lastMessage=a),g.lastMessageTime=e.time,g.lastMessageType=s,t.push({type:"put",key:W.getId(g),value:g}),this.trigger({action:"list",list:this.searchNotMessages({modelName:ue}),forceUpdate:!0})}},registration:function(e){var t,o=this;R=!0,I=e;var r=W.getId(I),n=[],i=x.identity,a=(t={},_defineProperty(t,oe,Pe),_defineProperty(t,"currentIdentity",r),_defineProperty(t,"allIdentities",[{id:r,title:W.getDisplayName(e,Xe[I[oe]].value.properties),privkeys:I.privkeys,publishedIdentity:i}]),t);delete I.privkeys,n.push({type:"put",key:r,value:I}),n.push({type:"put",key:Ve,value:a});var s={};s[ne]=I[ne],g(!0,s,i);var l=ce+"_"+s[ne];return I.language&&(I.language=this._getItem(W.getId(I.language)),I.languageCode=I.language.code),n.push({type:"put",key:l,value:s}),S.batch(n).then(function(){var t={action:"addItem",resource:e,me:e};return o.setMe(I),o.trigger(t)}).then(function(e){o._setItem(l,s),o._setItem(r,I),a&&o._setItem(Ve,a),o.monitorTim()})["catch"](function(e){e=e})},addSettings:function(e){var t=this,o=e.url;"/"===o.charAt(o.length-1)&&(o=o.substring(0,o.length-1));var r=Le+"_1";return this.getInfo([o]).then(function(n){var i=$e[r];if(i){var a=t._getItem(r);t._mergeItem(r,{urls:[].concat(_toConsumableArray(a.urls),[o])})}else e.urls=at.concat(o),t._setItem(r,e)}).then(function(){t.trigger({action:"addItem",resource:e}),S.put(r,t._getItem(r))})["catch"](function(o){t.trigger({action:"addItem",error:o.message,resource:e})})},forgetAndReset:function(){var e=this.searchNotMessages({modelName:ue}),t=e.length,o=[],r=!0,n=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;o.push(this.onForgetMe(l,!0))}}catch(u){n=!0,i=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(n)throw i}}return T.all(o).then(function(){function onMessage(o){o[oe]===Ae&&0===--t&&(x.removeListener("message",onMessage),e.resolve())}var e=T.defer();return setTimeout(function(){return e.reject("forget me request was timed out")},1e4),x.on("message",onMessage),e.promise}).then(function(){return x.destroy()})},getFingerprint:function(e){var t=e.pubkeys;if(!t&&e[oe]===ue){var o=this.searchNotMessages({modelName:ge,prop:"organization",to:e});o&&(t=$e[ce+"_"+o[0][ne]].pubkeys)}if(t)for(var r=0;r<t.length;r++){var n=t[r];if("sign"===n.purpose&&"ec"===n.type)return n.fingerprint}},loadIdentityAndKeys:function(e){var t,o,n=e[ne]?this._getItem(ce+"_"+e[ne]).pubkeys:e.pubkeys,i=this._getItem(Ve);if(i){var a=i.allIdentities,s=i.currentIdentity;a.some(function(e){if(e.id===s)return t=e.privkeys,o=e.publishedIdentity,n=n||o.pubkeys,!0})}if(n){var l=q?q.lookupKeys(n):T.resolve(t.map(function(e){return Z.importKey(e)}));return T.all([l,W.getPassword(ut)]).spread(function(e,t){return{keys:e,encryptionKey:t,identity:o}})}return this.createNewIdentity().spread(function(e,t){return r({},t,{encryptionKey:e})})},getDriver:function(e){var o=this;return F?F:(e.language&&(O=$e[W.getId(e.language)]&&this._getItem(W.getId(e.language))),F=this.loadIdentityAndKeys(e).then(function(r){return q||!function(){var t=r.keys.map(function(e){return e.toJSON?e.toJSON(!0):e}),n=o._getItem(Ve);n?!function(){var e=n.currentIdentity;n.allIdentities.forEach(function(o){o.id===e&&(o.privkeys=t)}),S.put(Ve,n)}():e.privkeys=t}(),e[te]=e[te]||o.getNonce(),o.buildDriver({identity:r.identity,keys:r.keys,encryption:{key:new t(r.encryptionKey,"hex")}})}).then(function(t){return f["default"].init({me:e,node:t,Store:o}),t},function(e){throw e}))},createNewIdentity:function(){var e=Qe.randomBytes(32).toString("hex"),t=q?q.generateNewSet({networkName:nt}).then(function(e){return T.ninvoke(Z,"newIdentityForKeys",e)}):T.ninvoke(Z,"newIdentity",{networkName:nt});return T.all([W.setPassword(ut,e).then(function(){return e}),t])},publishMyIdentity:function(e){var t,o=this,r=(t={},_defineProperty(t,oe,fe),_defineProperty(t,te,o.getNonce()),_defineProperty(t,"identity",x.identity),_defineProperty(t,"profile",{firstName:I.firstName}),t),n=ce+"_"+e[ne];return x.signAndSend({object:r,to:{fingerprint:o.getFingerprint(this._getItem(n))}})["catch"](function(e){})},monitorTim:function(){var e=this;x.on("readseal",function(t){function save(t){var o="tradle.Message"===t.type?T(t):getAuthorForObject(t);return o.then(function(o){return t.from=_defineProperty({},ne,o.author),t.to=_defineProperty({},ne,o.recipient),t=W.toOldStyleWrapper(t),t.objectinfo||(t.objectinfo=Z.pick(t,"author","type","link","permalink","prevlink")),e.putInDb(t)})["catch"](function(e){console.error("unable to get message for object",t)})}function getAuthorForObject(e){var t=x.objects.messagesWithObject({permalink:e.permalink,link:o});return T.all([x.addressBook.lookupIdentity({permalink:e.author}),T.nfcall(Q,t)]).spread(function(t,o){var r=o.filter(function(e){return e.author===t.permalink})[0];if(!r)throw console.error("unable to get message for object",e),new Error("unable to get message for object");return r})}var o=t.link;x.objects.get(o).then(function(e){if(e.object[oe]!==ce||e.link!==x.link){var o=r({},t,e);save(o)}})}),x.on("error",function(e){console.log(e)}),x.on("sent",function(t){var o=W.toOldStyleWrapper(t),r=e.getModel(o[oe]).value,n=r.subClassOf===ve||r.subClassOf===Re,i=o[oe]+"_"+o[ne]+(n?"_"+o[ie]:""),a=$e[i];a&&(a=a.value,e.trigger({action:"updateItem",sendStatus:v,resource:a}),a._sendStatus=v,S.put(i,a)),e.maybeWatchSeal(t)}),x.on("message",function(o){if(o.object.object[oe]===de){var r=function(){var r=o.object;return r.from=_defineProperty({},ne,o.objectinfo.author),r.objectinfo=o.objectinfo,t.isBuffer(o.object.object.recipientPubKey.pub)||(o.object.object.recipientPubKey.pub=new t(o.object.object.recipientPubKey.pub.data)),T.ninvoke(x.addressBook,"byPubKey",o.object.object.recipientPubKey).then(function(t){r.to=_defineProperty({},ne,t.permalink),r.parsed={data:o.object.object.object},r[ne]=X.linkString(r.parsed.data),r.parsed.data[ie]||(r[ie]=r[ne]),e.putInDb(r,!0).then(function(){e.trigger({action:"receivedMessage",msg:o})},function(e){console.error(e)}),e.maybeWatchSeal(o)})["catch"](function(e){}),{v:void 0}}();if("object"===("undefined"==typeof r?"undefined":n(r)))return r.v}var i=W.toOldStyleWrapper(o);i.to=_defineProperty({},ne,x.permalink),e.putInDb(i,!0).then(function(){e.trigger({action:"receivedMessage",msg:o})},function(e){console.error(e)}),e.maybeWatchSeal(o)})},maybeWatchSeal:function(e){var t=e.object.object,o=t[oe],r=this.getModel(o);if(r){r=r.value;var n=r.subClassOf,i=void 0;if(o===fe)i=X.linkString(t.identity);else switch(n){case ve:case Re:case ye:i=X.linkString(t);break;default:return}var a=e.author===x.permalink?e.recipient:e.author;return x.addressBook.lookupIdentity({permalink:a}).then(function(e){var t=Z.chainPubKey(e.object);return x.watchSeal({link:i,basePubKey:t})})["catch"](function(e){console.error(e)})}},putInDb:function(e,t){return this._putInDb(e,t)||T()},_putInDb:function(e,t){var o=this,r=this,n=g(!0,{},e.parsed.data);if(n){n[ne]=n[ne]||e[ne],n[ie]=e[ie];var i=e.objectinfo?e.objectinfo.author:e.txId?e.from[ne]:null;i=ge+"_"+i;var a=this._getItem(i),s=W.getMe();W.getId(s)===i?n.time=n.time||e.timestamp:(n.time=(new Date).getTime(),n.sentTime=n.time||e.timestamp);var l=n[oe];if(l===Te)return void this.forgetMe(a);if(t&&n[oe]===Ae)return void this.forgotYou(a);var u,c=this.getModel(l)&&this.getModel(l).value;if(!c){if(!n.message||n.message.indexOf("Congratulations! You were approved for: ")==-1)return;m=!0,l=pe,n[oe]=l,c=Xe[pe].value,u=!0}e.txId&&(n.txId=e.txId),n.permissionKey=e.permissionKey;var f,d,p=W.getId(n),h=[];if(c.id===ce)f=this.putIdentityInDB(n,h);else{var m=c.interfaces&&c.interfaces.indexOf(de)!=-1;if(m&&(d=this.putMessageInDB(n,e,h,t),l===ye))return}c.subClassOf===Re&&(n._sharedWith=[this.createSharedWith(W.getId(n.from.id),(new Date).getTime())]),r._mergeItem(p,n);var b,y={action:m?"messageList":"list"},v=!!m&&(C!==E&&i!==E);if(m){var w,C=ge+"_"+e.to[ne],E=ge+"_"+s[ne],k=c.id===Ee;if(v&&(w=k||C!==E?C:i,!d&&w)){var T=this._getItem(w);if(T.organization){var A=this._getItem(W.getId(T.organization));b=this.searchMessages({to:A,modelName:de})}else b=this.searchMessages({to:T,modelName:de});y.list=b;var P=this.getShareableResources(b,T);P&&(y.shareableResources=P),y.resource=T}}else t||n[oe]==ge||(b=this.searchNotMessages({modelName:n[oe]}),y.list=b);return S.batch(h).then(function(){if(c.id===me&&v&&o.trigger({action:"getItem",resource:o._getItem(W.getId(a.organization))}),u&&v){var e,t=a.organization,r=t?o._getItem(W.getId(t)):null,i=(e={message:s.firstName+" is waiting for the response"},_defineProperty(e,oe,$.TYPES.CUSTOMER_WAITING),_defineProperty(e,"from",s),_defineProperty(e,"to",r),_defineProperty(e,"time",(new Date).getTime()),e);o.onAddMessage(i,!0)}else if(m&&!d)o.trigger({action:"addItem",resource:n});else if(f&&!triggeredOrgs){var l=o.searchNotMessages({modelName:ue});o.trigger({action:"list",list:l,forceUpdate:!0})}})}},putIdentityInDB:function(e,t){var o={};if(e.name){for(var r in e.name)o[r]=e.name[r];delete e.name}if(e.location){for(var r in e.location)o[r]=e.location[r];delete e.location}g(!0,o,e),o[oe]=ge,delete o.pubkeys,delete o.v;var n=W.getId(e),i=W.getId(o),a=$e[n]?this._getItem(i):null;if(!a&&I&&e[ne]===I[ne]&&(a=I),a){var s={};g(s,a),g(s,o),o=s}var l;e.organization&&(l=$e[W.getId(e.organization)]&&this._getItem(W.getId(e.organization)),l&&(o.organization=e.organization,delete e.organization)),t.push({type:"put",key:i,value:o}),this._setItem(i,o);var u;if(t.push({type:"put",key:n,value:e}),l){var c;if(l.contacts){for(var f=0;f<l.contacts.length&&l.contacts[f][ne]!==n;f++);c=f!==l.contacts.length}else c=!0;if(c){var d={id:n,title:e.formatted||e.firstName},p={};g(p,l),p.contacts||(p.contacts=[]),p.contacts.push(d);var h=W.getId(l);this._setItem(h,p),t.push({type:"put",key:h,value:p}),u=l[ne]}}return u},putMessageInDB:function(e,t,o,r){var n=this,i=ge+"_"+(t.objectinfo?t.objectinfo.author:t.from[ne]),a=this._getItem(i);if(!a){var s;if(e[oe]!==Ee)return;var l=e.name||e.identity.name&&e.identity.name.formatted;s={},_defineProperty(s,oe,ge),_defineProperty(s,ne,t.objectinfo.author),_defineProperty(s,"firstName",l?l.charAt(0).toUpperCase()+l.slice(1):"NewCustomer"+Object.keys($e).length),a=s}var u,c=W.getId(e),f=this._getItem(ge+"_"+t.to[ne]),d=I&&a[ne]===I[ne]?f.organization:a.organization,p=d?this._getItem(W.getId(d)):null;if(r){this.getModel(ge).value;e.from={id:W.getId(a),title:a.formatted||a.firstName},e.to={id:W.getId(f),title:f.formatted||f.firstName}}else{var h=this._getItem(c);e.from=h.from,e.to=h.to,e._context=h._context,e._sharedWith=h._sharedWith,e.verifications=h.verifications,e.txId&&!h.txId&&(e.time=h.time,e.sealedTime=e.time||t.timestamp)}var m=W.getId(I),b=W.getId(f)!==m&&W.getId(a)!==m;if(e[oe]===Se&&b&&(e.from.organization=this._getItem(W.getId(e.from)).organization,e.to.organization=this._getItem(W.getId(e.to)).organization,e._readOnly=!0),t.object.context&&e[oe]!==Se){var y=Se+"_"+t.object.context,v=this._getItem(y);v&&(u||(v.formsCount=v.formsCount?++v.formsCount:1),v.lastMessageTime=(new Date).getTime(),o.push({type:"put",key:y,value:v}),e._context=this.buildRef(v))}else if(e[oe]===_e&&e[ne]===e[ie]){var w=e.product,C=this.searchMessages({modelName:Se,to:p});if(C)for(var E=C.length-1;E>=0;E--)if(C[E].product===w){e._context=this.buildRef(C[E]);break}}var k,T=e[oe]===me;if(T){var A=e.list;p.products=[],A.forEach(function(e){n.addNameAndTitleProps(e),Xe[e.id]={key:e.id,value:e},e.subClassOf===he&&p.products.push(e.id),n.addVerificationsToFormModel(e),e[ne]||(e[ne]=z(e)),o.push({type:"put",key:e.id,value:e})}),W.setModels(Xe);var P=W.getId(p);$e[P].value=p,o.push({type:"put",key:W.getId(p),value:p}),k=this.hasNoTrigger(P)}e.time||(e.time=t.timestamp);var S=e[oe],R=this.getModel(S)&&this.getModel(S).value,O=S===ye||R&&R.subClassOf===ye;if(O)return void this.onAddVerification(e,!1,!0);if(R.subClassOf===Re&&(e.from.organization=this._getItem(W.getId(e.from)).organization),T||b||(e[oe]===Me&&(f.isEmployee=!0,f.organization=this.buildRef(p),this.setMe(f),o.push({type:"put",key:W.getId(f),value:f})),this.addLastMessage(e,o)),$e[c]){var x={};g(!0,x,e),this._setItem(c,x)}if(b){if(e[oe]===Se)this.addMessagesToChat(W.getId(e),e);else if(e._context){var F=this._getItem(W.getId(e._context));e._context&&F._readOnly&&this.addMessagesToChat(W.getId(F),e)}}else this.addMessagesToChat(W.getId(p?p:a),e);return o.push({type:"put",key:c,value:e}),k},hasNoTrigger:function(e){var t=et[e];if(!t)return!1;for(var o=t.length-1,r=void 0;o>=0&&(r=t[o].id.split("_")[0],r===Ee);o--);return r===me},fillFromAndTo:function(e,t){var o=e.parsed.data._i.split(":")[0],r=this._getItem(ge+"_"+e.objectinfo.author),n=this._getItem(ge+"_"+e.to[ne]);if(o!==r[ne]){var i=[n,r];r=i[0],n=i[1]}t.to={id:W.getId(n),title:n.formatted||n.firstName},t.from={id:W.getId(r),title:r.formatted||r.firstName}},addNameAndTitleProps:function(e,t){var o=t||e.properties;for(var r in o)if("_"!==r.charAt(0)&&(o[r].name||(o[r].name=r),o[r].title||(o[r].title=W.makeLabel(r)),"array"===o[r].type)){var t=o[r].items.properties;t&&this.addNameAndTitleProps(e,t)}},addVerificationsToFormModel:function(e){e.subClassOf!==ve||e.verifications||(e.properties.verifications={type:"array",readOnly:!0,title:"Verifications",name:"verifications",
items:{backlink:"document",ref:ye}})},loadMyResources:function(){var e=this,t=this,o=B.getMyId();o&&(o=ge+"_"+o);var r={};return this.myResourcesLoaded=W.dangerousReadDB(S).then(function(n){if(!n.length)return t.loadModels();n.forEach(function(n){if(null!=n.value){if(n.value.type===we)return Xe[n.key]=n,void t.setPropertyNames(n.value.properties);if(R=!0,o||n.key!==Ve||(o=n.value.currentIdentity,$e[o]&&(I=e._getItem(o))),!I&&o&&n.key==o&&(I=n.value),n.value[oe]===ge&&(n.value.securityCode&&(ot[n.value.securityCode]=n.value),n.value.organization)){r[W.getId(n.value.organization)]||(r[W.getId(n.value.organization)]=[]);var i=r[W.getId(n.value.organization)];i.push(t.buildRef(n.value))}t._setItem(n.key,n.value)}});var i={};for(var a in r)if($e[a]){var s=e._getItem(a);if(s.contacts&&s.contacts.length===r[a].length){var l;r[a].forEach(function(e){for(var t=0;t<s.contacts.length;t++){var o=W.getId(s.contacts[t]);if(e[$.TYPE]+"_"+e[$.ROOT_HASH]===o)break}t!==s.contacts.length&&(l=!0)}),l?s.contacts=r[a]:i[a]=a}else s.contacts=r[a]}e.loadStaticData();for(var u in i)delete r[u];if(!W.isEmpty(r)){var n=e.searchNotMessages({modelName:$.TYPES.ORGANIZATION});t.trigger({action:"list",list:n})}console.log("Stream ended");var c=W.isEmpty(Xe);return c?t.loadModels():(!I||$e[I[oe]+"_"+I[ne]]&&$e[ce+"_"+I[ne]]||(I=null),console.log("Stream closed"),void W.setModels(Xe))}).then(function(){I&&W.isEmpty(et)&&e.initChats(),e._loadedResourcesDefer.resolve()})["catch"](function(e){console.error("err:"+e)})},forgetMe:function(e){var t=this,o=this.searchMessages({modelName:de,to:e,isForgetting:!0}),r=[],n=[];o.forEach(function(e){var t=W.getId(e);r.push({type:"del",key:t}),n.push(t)});var i=W.getId(e);return n.push(i),r.push({type:"del",key:i}),S.batch(r).then(function(){return n.forEach(function(o){t.deleteMessageFromChat(W.getId(e),t._getItem(o)),delete $e[o]}),t.trigger({action:"messageList",modelName:de,forgetMeFromCustomer:!0}),x.signAndSend({object:_defineProperty({},oe,Ae),to:{permalink:e[ne]}})})["catch"](function(e){})},forgotYou:function(e){var t,o=this,r=this,n=this._getItem(W.getId(e.organization)),i=W.getId(n),a=(t={},_defineProperty(t,oe,Ae),_defineProperty(t,te,this.getNonce()),_defineProperty(t,"message",Y("youAreForgotten")),_defineProperty(t,"from",this.buildRef(n)),_defineProperty(t,"to",this.buildRef(I)),t);a.id=z(a);var s=this.getRepresentatives(W.getId(n)),l=[];s.forEach(function(e){return l.push(x.forget(e[ne]))});var u=[];return T.allSettled(l).then(function(e){return e.forEach(function(e){"fulfilled"===e.state&&e.value.forEach(function(t){t=W.toOldStyleWrapper(t);var r=W.getId(t),n=$e[r]&&o._getItem(r);if(!n){var i=t[oe].indexOf("Confirmation");if(i===-1)return;var a=t[oe].substring(0,t[oe].length-"Confirmation".length),l=W.getModel(a);if(!l||l.value.subClassOf!==he)return;if(r=pe+"_"+t[ne],n=$e[r],!n)return;n=n.value,t=n}var c=t[oe]===ye,f=o.getModel(t[oe]).value,d=(!c&&f.subClassOf===ve,!(n._sharedWith&&n._sharedWith.length>1));if(!d){var p=(W.getId(n.from),W.getId(n.to),n._sharedWith||[]),h=p.map(function(e){return e.bankRepresentative});s.forEach(function(e){var t=W.getId(e),o=h.indexOf(t);o!==-1&&p.splice(o,1)}),W.optimizeResource(n),u.push({type:"put",key:r,value:n})}if(c&&d){var m=$e[W.getId(n.document)];if(m){var g=o._getItem(W.getId(n.document));if(g.verifications){var b=g.verifications.filter(function(e){return W.getId(e)!==r});if(g.verifications.length!=b.length){g.verifications=b,W.optimizeResource(g);for(var y=0;y<e.length;y++)e[y][ne]!==g[ne]||e[y].deleted||u.push({type:"put",key:W.getId(g),value:g})}}}}d&&(n._sharedWith&&n._sharedWith.forEach(function(e){o._getItem(e.bankRepresentative).organization}),delete $e[r],u.push({type:"del",key:r}))})}),o.trigger({action:"messageList",list:[a],resource:n}),et[i]=[],S.batch(u)}).then(function(){var e=r.searchMessages({to:n,modelName:de,isForgetting:!0});if(u=[],e&&e.forEach(function(e){var t=e[oe]===Ee||e[oe]===pe&&e.message&&0===e.message.indexOf("Congratulations");if(t){var o=W.getId(e);u.push({type:"del",key:o}),delete $e[o]}}),delete st[i],n.lastMessage=null,n.lastMessageTime=null,n.lastMessageType=null,r.trigger({action:"list",list:r.searchNotMessages({modelName:ue,to:n})}),u.push({type:"put",key:i,value:n}),u.length)return S.batch(u)})["catch"](function(e){})},cleanup:function(e){var t=this;if(!e.length)return T();var o=[];return e.forEach(function(e){o.push({type:"del",key:W.getId(e),value:e})}),S.batch(o).then(function(){e.forEach(function(e){if(t.getModel(e[oe]).value.interfaces){var o=W.getId(e.from)===meId?W.getId(e.from):W.getId(e.to),r=t._getItem(o),n=r.organization?W.getId(r.organization):W.getId(r);t.deleteMessageFromChat(n,e)}delete $e[W.getId(e)]})})["catch"](function(e){e=e})},onTalkToRepresentative:function(e,t){var o,r=e[oe]===ue?this.getRepresentative(W.getId(e)):e;if(!r){var n,i=(n={},_defineProperty(n,oe,pe),_defineProperty(n,te,this.getNonce()),_defineProperty(n,"message","All representatives are currently assisting other customers. Please try again later"),n);return msgFrom.from=this.buildRef(e),msgFrom.to=this.buildRef(I),i.id=z(i),a.push(i),void this.trigger({action:"messageList",list:a,resource:e})}var a=this.searchMessages({to:e,modelName:de}),i=(o={},_defineProperty(o,oe,pe),_defineProperty(o,te,this.getNonce()),_defineProperty(o,"message","Representative will be with you shortly. Please tell us how can we help you today?"),o);msgFrom.from=this.buildRef(e),msgFrom.to=this.buildRef(I),i.id=z(i),a.push(i),this.trigger({action:"messageList",list:a,resource:e});var s=ce+"_"+r[ne];return x.signAndSend({object:i,to:{fingerprint:this.getFingerprint(this._getItem(s))}})},onForgetMe:function(e,t){var o,r=this,n=(o={},_defineProperty(o,oe,Te),_defineProperty(o,te,this.getNonce()),o),i=W.getId(e),a=e[oe]===ue?this.getRepresentatives(i):[e],s=[],l=!0,u=!1,c=void 0;try{for(var f,d=a[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){var p=f.value;s.push(x.signAndSend({object:n,to:{fingerprint:this.getFingerprint(this._getItem(ce+"_"+p[ne]))}}))}}catch(h){u=!0,c=h}finally{try{!l&&d["return"]&&d["return"]()}finally{if(u)throw c}}return T.all(s).then(function(o){if(!t){n[ne]=o[0].object.permalink,n.message=Y("inProgress"),n.from=r.buildRef($e[ge+"_"+o[0].message.recipient].value),n.to=r.buildRef(I);var a=W.getId(n);$e[a]={key:a,value:n};var s=[];r.addMessagesToChat(W.getId(i),n),s.push({type:"put",key:a,value:n}),r.trigger({action:"addMessage",to:e,resource:n}),e.lastMessage=Y("requestedForgetMe"),e.lastMessageTime=(new Date).getTime(),e.lastMessageType=Te,r.trigger({action:"list",list:r.searchNotMessages({modelName:ue}),forceUpdate:!0}),s.push({type:"put",key:i,value:e}),S.batch(s)}})["catch"](function(e){})},onGenPairingData:function(){if(!_)return void this.trigger({action:"genPairingData",error:"Can't connect to server"});var e={nonce:Qe.randomBytes(32).toString("base64"),identity:x.link,firstName:I.firstName,rendezvous:{url:_[0].url+"/"+_[0].id}},t=W.clone(e);t[oe]=Be,$e[Be+"_1"]={key:Be+"_1",value:t},this.trigger({action:"genPairingData",pairingData:JSON.stringify(e)})},onSendPairingRequest:function(e){var t=this,o=void 0,r=void 0,n=this._getItem(Ve);n&&(o=n.allIdentities[0].publishedIdentity,r=this._getItem(ce+"_"+e.identity).deviceId);var a=n?T():this.createNewIdentity();return a.spread(function(t,n){var i,a,s;if(n){o=n.identity;var l=o.pubkeys,u=n.keys,c=ge+"_"+e.identity,f=(i={},_defineProperty(i,oe,Pe),_defineProperty(i,"currentIdentity",c),_defineProperty(i,"allIdentities",[{id:c,privkeys:u,publishedIdentity:o}]),i),d=(a={},_defineProperty(a,oe,ge),_defineProperty(a,ne,e.identity),_defineProperty(a,"firstName",e.firstName),_defineProperty(a,"formatted",e.firstName),a);r=n.link;var p=(s={},_defineProperty(s,oe,ce),_defineProperty(s,ne,e.identity),_defineProperty(s,"pubkeys",l),_defineProperty(s,"deviceId",r),s),h=[];$e[c]={key:c,value:d};var m=W.getId(p);$e[m]={key:m,value:p},$e[Ve]={key:Ve,value:f},h.push({type:"put",key:Ve,value:f}),h.push({type:"put",key:c,value:d}),h.push({type:"put",key:W.getId(p),value:p}),S.batch(h)}}).then(function(){function send(){return T.ninvoke(u,"send",e.identity,d).then(function(){var t=W.clone(e);t[oe]=Be,$e[Be+"_1"]={key:Be+"_1",value:t}})["catch"](function(e){})}var n,a=(n={},_defineProperty(n,oe,De),_defineProperty(n,"identity",o),n),s=Qe.createHmac("sha256",e.nonce);s.update(Z.stringify(a)),a.auth=s.digest("base64");var l=e.rendezvous.url,u=lt.wsClients[l];if(!u){var c=t.getWsClient(l,r);u=t.getTransport(c,r),lt.wsClients[l]=u}var f=t;u.on("message",function(e,o){try{var r=JSON.parse(e);if(r[oe]===Ne)return u.destroy(),delete lt.wsClients[l],f.onProcessPairingResponse(t._getItem(Be+"_1"),r).then(function(){i.Alert.alert("Pairing was successful"),t.trigger({action:"pairingSuccessful"})})["catch"](function(e){i.Alert.alert(e)})}catch(n){}});var d=Z.stringify(a);return W.tryWithExponentialBackoff(send)})},onProcessPairingRequest:function(e,t){function sendResponse(){var o=x.identity[ae]?T.ninvoke(x.keeper,"get",x.identity[ae]):Promise.resolve(x.identity);return o.then(function(o){function send(){return T.ninvoke(a,"send",Z.hexLink(t.identity),s).then(function(){S.put(Ne+"_1",n)})["catch"](function(e){})}var r,n=(r={},_defineProperty(r,oe,Ne),_defineProperty(r,"prev",o),_defineProperty(r,"identity",x.identity),r),i=e.rendezvous.url,a=lt.wsClients[i],s=Z.stringify(n);return W.tryWithExponentialBackoff(send)})}var o=this,r=x.identity.pubkeys,n=t.identity.pubkeys.some(function(e){return r.some(function(t){return e.pub===t.pub})}),i=Qe.createHmac("sha256",e.nonce);if(i.update(Z.stringify(Z.omit(t,"auth"))),i.digest("base64")!==t.auth)return Promise.reject(new Error("invalidPairingRequest"));if(n)return sendResponse();var a=x.identity.pubkeys.concat(t.identity.pubkeys),s=a.map(function(e){return Z.clone(e)}),l={keys:x.keys.concat(t.identity.pubkeys),identity:Z.clone(x.identity,{pubkeys:s})};return T.ninvoke(x,"updateIdentity",l).then(function(){var e=[];e.push({type:"put",key:De+"_1",value:t}),o.updatePubkeys(e)}).then(function(){return sendResponse()})},updatePubkeys:function(e,t){var o=this,r=this._getItem(Ve),n=r.currentIdentity,i=n.replace(ge,ce);$e[i].value=t||x.identity,r.allIdentities.forEach(function(e){e.id===n&&(e.publishedIdentity=o._getItem(i))}),e.push({type:"put",key:Ve,value:r}),e.push({type:"put",key:i,value:this._getItem(i)}),S.batch(e)},onProcessPairingResponse:function(e,t){var o=this;if(Z.hexLink(t.prev)!==e.identity)return Promise.reject(new Error("prev identity does not match expected"));var r=this._getItem(ce+"_"+e.identity).pubkeys,n=r.every(function(e){return t.identity.pubkeys.some(function(t){return y(t,e)})});if(!n)return Promise.reject(new Error(Y("deviceDoesNotHaveMyKeys")));var i=[];this.updatePubkeys(i,t.identity);var a=this._getItem(ge+"_"+e.identity);return this.getDriver(a).then(function(){return x.addContact(t.prev)}).then(function(){T.ninvoke(x,"setIdentity",{keys:x.keys.concat(t.identity.pubkeys),identity:t.identity})}).then(function(){o.setMe(a)})},getModel:function(e){return Xe[e]},loadDB:function(){var e=this;return W.isEmpty(Xe)&&N.forEach(function(e){e[ne]||(e[ne]=z(e));var t=W.getId(e);Xe[t]={key:t,value:e}}),this.loadStaticDbData(!0).then(function(){return e.loadMyResources()})["catch"](function(e){e=e})},loadStaticData:function(){var e=this;B.getResources().forEach(function(t){e.loadStaticItem(t)})},loadStaticDbData:function(e){var t=this,o=[],r=[V,L,j];return r.forEach(function(r){r.forEach(function(r){t.loadStaticItem(r,e,o)})}),o.length?S.batch(o):T()},loadStaticItem:function(e,t,o){e[ne]||(e[ne]=z(e)),e[ie]=e[ne];var r=W.getId(e);$e[r]||this._setItem(r,e),t&&o.push({type:"put",key:r,value:e})},loadModels:function(){var e=this,t=[];return N.forEach(function(o){o[ne]||(o[ne]=z(o),e.addNameAndTitleProps(o)),t.push({type:"put",key:o.id,value:o})}),S.batch(t).then(function(){return e.loadMyResources()})["catch"](function(e){e=e})},clearDb:function(){return S.createReadStream().on("data",function(e){S.del(e.key,function(e){e=e})}).on("error",function(e){console.log("Oh my!",e.name+": "+e.message)}).on("close",function(e){console.log("Stream closed")}).on("end",function(){console.log("Stream end")})},onStartTransition:function(){ft&&x&&x.pause(2e3)},onEndTransition:function(){if(ft&&x&&x.resume(),this._transitionCallbacks){var e=this._transitionCallbacks.slice();this._transitionCallbacks.length=0,e.forEach(function(e){return e()})}},waitForTransitionToEnd:function(e){this._transitionCallbacks||(this._transitionCallbacks=[]);var t=T.defer();return this._transitionCallbacks.push(t.resolve),t.promise},buildRef:function(e){if(!e[oe]&&e.id)return e;var t=(this.getModel(e[oe]).value.subClassOf===ve,{id:W.getId(e),title:e.id?e.title:W.getDisplayName(e,this.getModel(e[oe]).value.properties)});return e.time&&(t.time=e.time),t},_setItem:function(e,t){$e[e]={key:e,value:t}},_getItem:function(e){if("string"==typeof e)return $e[e]?$e[e].value:null;if(e.value)return e.value;var t=$e[W.getId(e)];return t?t.value:null},_mergeItem:function(e,t){var o=$e[e]||{};$e[e]={key:e,value:r({},o.value,t)}}});e.exports=dt}).call(t,o(799).Buffer)},1745:function(e,t){e.exports={url:"data:image/png;base64,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"}},1746:function(e,t){e.exports={appName:"Tradle-Dev",topLevelProviders:[{name:"Tradle",baseUrl:"https://azure1.tradle.io"}]}},1748:function(e,t){e.exports={msg:"Welcome {firstName}! It is a pleasure to have you here!"}},1755:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var r,n=o(949),i=_interopRequireDefault(n),a=o(300),s=o(1756),l=_interopRequireDefault(s);o(1757),o(1758);if("web"===a.Platform.OS){console.log("browser",l["default"]);var u=o(1787),c=[];r=function(){var e=u.apply(this,arguments);return c.push(e),e},r.destroyAll=function(){return i["default"].allSettled(c.map(function(e){return i["default"].ninvoke(e,"close")})).then(function(){return i["default"].all(c.map(function(e){return i["default"].ninvoke(u,"destroy",e)}))})}}else{var f=o(1787);r=o(1797),r.setLeveldown(f)}e.exports=r},1756:function(e,t,o){(function(t){"use strict";var r=o(300);e.exports={isIE:function(){if("web"!==r.Platform.OS)return!1;var e=t.navigator.userAgent,o=e.indexOf("MSIE ");return o>0||!t.ActiveXObject&&"ActiveXObject"in t}()}}).call(t,function(){return this}())},1775:830,1776:830,1777:830,1803:function(e,t,o){"use strict";function level(e,t){return t=t||{},t.db=t.db||function(){var e=n.apply(null,arguments);return e.maxSize&&e.maxSize(100),e},r(e,t)}var r=o(1758),n=o(1755);e.exports=t=level},1811:830,1859:830,1876:830,1886:830,1897:830,1921:830,1922:830,1923:830,1930:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(300),i=o(1706),a=_interopRequireDefault(i),s=o(301),l=_interopRequireDefault(s),u=(o(948),o(1931)),c=function(e){function QRCodeView(e){_classCallCheck(this,QRCodeView);var t=_possibleConstructorReturn(this,(QRCodeView.__proto__||Object.getPrototypeOf(QRCodeView)).call(this,e));return t.state={renderPlaceholderOnly:!0},t}return _inherits(QRCodeView,e),r(QRCodeView,[{key:"componentDidMount",value:function(){var e=this;n.InteractionManager.runAfterInteractions(function(){e.setState({renderPlaceholderOnly:!1})})}},{key:"render",value:function(){var e;if(this.state.renderPlaceholderOnly)return l["default"].createElement(a["default"],{hidden:"true",size:"large",style:this.state.style});var e=l["default"].createElement(u,{value:this.props.content,style:this.state.style,size:this.props.dimension,bgColor:this.props.bgColor,fgColor:this.props.fgColor});return this.props.fullScreen?l["default"].createElement(n.View,{style:f.container},e):e}}]),QRCodeView}(s.Component),f=n.StyleSheet.create({container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"transparent"}});e.exports=c},1944:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r,n,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},a=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),
o&&defineProperties(e,o),e}}(),s=o(1698),l=_interopRequireDefault(s),u=o(945),c=o(301),f=_interopRequireDefault(c),d=o(300),p=o(1706),h=_interopRequireDefault(p),m=o(1685),g=_interopRequireDefault(m),b=o(1945),y=o(2074),v=o(2081),w=o(2082),C=o(2083),E=(o(1703),o(1947)),k=o(2075),T=o(1737),A=o(1697),P=o(2084),S=o(2085),R=o(1554),I=o(936),O=I.translate,x=o(1718),F=(o(702),o(1738)),M=o(1530),_=o(1531),D=o(1355),N=o(2086),B=o(2073),T=o(1737),V=o(1720),L=300,j="_n",z="tradle.ProductApplication",W="tradle.MyProduct",q="tradle.FormRequest",Y=o(1687),H=function(e){function MessageList(e){_classCallCheck(this,MessageList);var t=_possibleConstructorReturn(this,(MessageList.__proto__||Object.getPrototypeOf(MessageList)).call(this,e));return n=null,t.state={isLoading:!0,selectedAssets:{},isConnected:t.props.navigator.isConnected,allContexts:!0,isEmployee:I.isEmployee(e.resource),filter:t.props.filter,userInput:"",allLoaded:!1},t}return _inherits(MessageList,e),a(MessageList,[{key:"componentWillMount",value:function(){var e={modelName:this.props.modelName,to:this.props.resource,prop:this.props.prop,context:this.props.context,limit:L};this.props.isAggregation&&(e.isAggregation=!0),I.onNextTransitionEnd(this.props.navigator,function(){return M.messageList(e)})}},{key:"componentDidMount",value:function(){this.listenTo(F,"onAction"),this._watchSubmit()}},{key:"_watchSubmit",value:function(){var e=this;if(I.isWeb()&&this._GiftedMessenger&&this._GiftedMessenger.refs.textInput){var t=this._GiftedMessenger.refs.textInput.refs.input;this._watchedInput!==t&&(this._watchedInput=t,t.addEventListener("keydown",function(o){if(t.value){var r=o.keyCode?o.keyCode:o.which;13==r&&(e.onSubmitEditing(t.value),e._GiftedMessenger.setState({text:""}))}}))}}},{key:"onAction",value:function(e){if(!e.error){if("connectivity"===e.action)return void this.setState({isConnected:e.isConnected});if("addItem"===e.action||"addVerification"===e.action){var t={query:this.state.filter,modelName:this.props.modelName,to:this.props.resource,context:this.state.allContexts?null:this.state.context,limit:this.state.list?this.state.list.length+1:L};return e.resource._sendStatus&&(this.state.sendStatus=e.resource._sendStatus,this.state.sendResource=e.resource),void M.messageList(t)}if(this.state.newItem=!1,"updateItem"===e.action)return void this.setState({sendStatus:e.sendStatus,sendResource:e.resource});if("addMessage"===e.action)return this.state.sendStatus=e.resource._sendStatus,this.state.sendResource=e.resource,void M.messageList({modelName:this.props.modelName,to:this.props.resource,limit:this.state.list?this.state.list.length+1:L,context:this.state.allContexts?null:this.state.context});if("messageList"===e.action&&(e.list||e.forgetMeFromCustomer)&&e.isAggregation===this.props.isAggregation){if(e.forgetMeFromCustomer){M.list({modelName:D.TYPES.PROFILE});var o=this.props.navigator.getCurrentRoutes();return void(o[o.length-1].component&&this.props.navigator.popToRoute(o[1]))}if(e.resource&&e.resource[D.ROOT_HASH]!=this.props.resource[D.ROOT_HASH]){var n;if(this.props.resource[D.TYPE]===D.TYPES.ORGANIZATION&&e.resource.organization&&this.props.resource[D.TYPE]+"_"+this.props.resource[D.ROOT_HASH]===I.getId(e.resource.organization)&&(n=!0),!n)return}var a=e.list;if(e.loadEarlierMessages&&this.state.postLoad)if(a&&a.length){this.state.postLoad(a,!1);var s=a.length<L;this.state.list.forEach(function(e){a.push(e)});var l=this.gatherForms(a);this.setState({list:a,noScroll:!0,allLoaded:s,productToForms:l,loadEarlierMessages:!s})}else this.state.postLoad([],!0),this.state=i({allLoaded:!0,isLoading:!1,noScroll:!0,loadEarlierMessages:!1},this.state);else{r=this.props.bankStyle&&this.props.bankStyle.LINK_COLOR;var u=I.isEmployee(this.props.resource);if(a.length||this.state.filter&&this.state.filter.length){var c=this.gatherForms(a),f=a[0][D.TYPE];if(f!==this.props.modelName){var d=I.getModel(this.props.modelName).value;if(!d.isInterface)return;var p=I.getModel(f).value;if(!p.interfaces||p.interfaces.indexOf(this.props.modelName)===-1)return}I.getMe();this.setState({isLoading:!1,list:a,shareableResources:e.shareableResources,allLoaded:!1,context:e.context,isEmployee:u,loadEarlierMessages:e.loadEarlierMessages,productToForms:c})}else this.setState({isLoading:!1,isEmployee:u})}}}}},{key:"gatherForms",value:function(e){var t={};return e.forEach(function(e){if(e[D.TYPE]===q&&e.documentCreated&&e.document){var o=t[e.product];o||(o={},t[e.product]=o);var r=o[e.form];r||(r=[],o[e.form]=r),r.push(e.document)}}),t}},{key:"shouldComponentUpdate",value:function(e,t){if(!this.state.isConnected&&!this.state.list&&!t.list&&this.state.isLoading===t.isLoading)return!1;if(t.isConnected!==this.state.isConnected)return!0;if(this.state.context!==t.context||this.state.allContexts!==t.allContexts)return!0;if(!this.state.list||!t.list||this.props.orientation!==e.orientation||this.state.allLoaded!==t.allLoaded||this.state.list.length!==t.list.length||this.state.sendStatus!==t.sendStatus)return!0;for(var o=0;o<this.state.list.length;o++){var r=this.state.list[o],n=t.list[o];if(r[D.TYPE]!==n[D.TYPE]||r[D.ROOT_HASH]!==n[D.ROOT_HASH]||r[D.CUR_HASH]!==n[D.CUR_HASH])return!0}return!1}},{key:"share",value:function(e,t,o){console.log("Share"),M.share(e,t,o)}},{key:"selectResource",value:function(e,t){if(e[D.TYPE]){var o=I.getModel(e[D.TYPE]).value,r=o.title,n=r,i=(I.getMe(),!t&&I.isVerifier(e)),a=I.isEmployee(this.props.resource),s={title:n,id:5,backButtonTitle:"Back",component:b,parentMeta:o,passProps:{bankStyle:this.props.bankStyle,resource:e,currency:this.props.currency,verification:t,isVerifier:i}};t||a||e[j]||o.subClassOf===W||(s.rightButtonTitle="Edit",s.onRightButtonPress={title:n,id:4,component:E,backButtonTitle:"Back",rightButtonTitle:"Done",passProps:{model:o,resource:e,chat:this.props.resource,bankStyle:this.props.bankStyle}}),i&&(s.rightButtonTitle="Done",s.help=O("verifierHelp")),this.props.navigator.push(s)}}},{key:"onSearchChange",value:function(e){var t={query:e,modelName:this.props.modelName,to:this.props.resource,context:this.state.allContexts?null:this.state.context,limit:this.state.list?this.state.list.length+1:L};this.state.emptySearch=!0,M.messageList(t)}},{key:"renderRow",value:function(e,t,o){var r=I.getModel(e[D.TYPE]||e.id).value,i=(r.interfaces&&r.interfaces.indexOf(D.TYPES.MESSAGE)!=-1,this.props.isAggregation),a=(I.getMe(),n);n=e.time;var s={onSelect:this.selectResource.bind(this),resource:e,bankStyle:this.props.bankStyle,context:this.props.resource[D.TYPE]===z?this.props.resource:e._context||this.state.context,to:i?e.to:this.props.resource,navigator:this.props.navigator};if("tradle.MyProduct"===r.subClassOf)return f["default"].createElement(v,s);var l=this.state.sendStatus&&this.state.sendResource[D.ROOT_HASH]===e[D.ROOT_HASH]?this.state.sendStatus:"Sent"===e._sendStatus?null:e._sendStatus,u={share:this.share.bind(this),sendStatus:l,currency:this.props.currency,previousMessageTime:a};return s=V(s,u),r.id===D.TYPES.VERIFICATION?f["default"].createElement(w,s):r.subClassOf===D.TYPES.FORM?f["default"].createElement(C,s):(s.isLast=o===this.state.list.length-1,s.productToForms=this.state.productToForms,s.shareableResources=this.state.shareableResources,s.isAggregation=i,f["default"].createElement(y,s))}},{key:"addedMessage",value:function(e){M.messageList({modelName:this.props.modelName,to:this.props.resource,context:this.state.allContexts?null:this.state.context,limit:this.state.list?this.state.list.length+1:L})}},{key:"componentDidUpdate",value:function(){var e=this;clearTimeout(this._scrollTimeout),this.state.allLoaded||this.state.noScroll?this.state.noScroll=!1:this._scrollTimeout=setTimeout(function(){e._GiftedMessenger&&e._GiftedMessenger.scrollToBottom()},200),this._watchSubmit()}},{key:"render",value:function(){var e,t=this,o=I.getModel(this.props.modelName).value,n=this.props.bankStyle.BACKGROUND_COLOR?{backgroundColor:this.props.bankStyle.BACKGROUND_COLOR}:{backgroundColor:"#f7f7f7"},i=f["default"].createElement(d.View,null);if(this.state.list&&this.state.list.length||(this.props.navigator.isConnected&&this.props.resource[D.TYPE]===D.TYPES.ORGANIZATION?this.state.isLoading&&(e=f["default"].createElement(d.View,{style:{flex:1}},f["default"].createElement(d.View,{style:[g["default"].container,n]},f["default"].createElement(d.Text,{style:{fontSize:17,alignSelf:"center",marginTop:80,color:"#629BCA"}},"Loading..."),f["default"].createElement(h["default"],{size:"large",style:{alignSelf:"center",marginTop:20}})),f["default"].createElement(d.View,{style:U.footer},this.paintMenuButton()))):this.state.isLoading||this.props.navigator.isConnected||(i=this.props.resource[D.TYPE]===D.TYPES.ORGANIZATION?d.Alert.alert(O("noConnectionForPL",this.props.resource.name)):d.Alert.alert(O("noConnection")))),!e){var a=(o.isInterface&&o.id===D.TYPES.MESSAGE,this.props.resource[D.TYPE]===z&&this.props.resource._readOnly),s=I.dimensions(MessageList).height,u=s-("android"===d.Platform.OS?77:64)-(this.state.isConnected?0:35)-(this.state.context?45:0),c=10,p=I.isWeb()?20:10;e=f["default"].createElement(N,_defineProperty({style:{paddingLeft:c,paddingRight:p},ref:function(e){return t._GiftedMessenger=e},loadEarlierMessagesButton:this.state.loadEarlierMessages,onLoadEarlierMessages:this.onLoadEarlierMessages.bind(this),messages:this.state.list,messageSent:this.state.sendResource,messageSentStatus:this.state.sendStatus,enableEmptySections:!0,autoFocus:!1,textRef:"chat",renderCustomMessage:this.renderRow.bind(this),handleSend:this.onSubmitEditing.bind(this),submitOnReturn:!0,underlineColorAndroid:"transparent",menu:this.generateMenu.bind(this),keyboardShouldPersistTaps:!I.isWeb(),keyboardDismissMode:I.isWeb()?"none":"on-drag",initialListSize:20,hideTextInput:a,maxHeight:u},"hideTextInput",a))}var m,b=!this.props.isAggregation&&this.props.resource&&this.props.resource[D.TYPE]===D.TYPES.ORGANIZATION;m=b?f["default"].createElement(d.View,{style:{flex:1,marginTop:8}},f["default"].createElement(d.TouchableHighlight,{underlayColor:"transparent",onPress:this.onAddNewPressed.bind(this,!0)},f["default"].createElement(R,{name:"ios-arrow-round-down",size:25,style:U.imageOutline}))):f["default"].createElement(d.View,null);var y={height:1,backgroundColor:r};this.state.allLoaded||this.props.navigator.isConnected||!this.state.isForgetting||d.Alert.alert(O("noConnectionWillProcessLater"));var v=(I.getMe(),[]);return this.state.isEmployee&&this.props.resource[D.TYPE]!==D.TYPES.ORGANIZATION?v.push(O("formChooser")):v.push(O("forgetMe")),v.push(O("cancel")),f["default"].createElement(T,{style:[g["default"].container,n]},f["default"].createElement(B,{connected:this.state.isConnected,resource:this.props.resource}),f["default"].createElement(P,{context:this.state.context,contextChooser:this.contextChooser.bind(this),shareWith:this.shareWith.bind(this),bankStyle:this.props.bankStyle,allContexts:this.state.allContexts}),f["default"].createElement(d.View,{style:y}),e,f["default"].createElement(l["default"],{ref:function(e){t.ActionSheet=e},options:v,cancelButtonIndex:1,onPress:function(e){0===e&&(t.state.isEmployee?t.chooseFormForCustomer():t.forgetMe())}}),i)}},{key:"contextChooser",value:function(e){this.props.navigator.push({title:O("contextsFor")+" "+this.props.resource.name,id:23,component:S,sceneConfig:d.Navigator.SceneConfigs.FloatFromBottom,backButtonTitle:"Back",passProps:{resource:this.props.resource,selectContext:this.selectContext.bind(this)}})}},{key:"selectContext",value:function(e){this.props.navigator.pop(),M.messageList({modelName:this.props.modelName,to:this.props.resource,context:e,limit:e?300:L}),this.setState({context:e,allContexts:null==e})}},{key:"shareWith",value:function(){this.props.navigator.push({title:O(I.getModel(this.state.context.product).value),id:10,component:A,backButtonTitle:"Back",rightButtonTitle:"Share",passProps:{modelName:D.TYPES.ORGANIZATION,multiChooser:!0,sharingChat:this.props.resource,onDone:this.shareContext.bind(this)}})}},{key:"shareContext",value:function(e){var t=this;delete e[I.getId(this.props.resource)],d.Alert.alert(O("shareContext",I.getModel(this.state.context.product).value.title),O("shareAllPastAndFutureMessages"),[{text:O("cancel"),onPress:function(){return console.log("Cancel")}},{text:"OK",onPress:function(){M.share(t.state.context,Object.keys(e),t.props.resource),t.props.navigator.pop()}}])}},{key:"generateMenu",value:function(e){var t=this;return e?f["default"].createElement(d.TouchableHighlight,{underlayColor:"transparent",onPress:function(){return t.ActionSheet.show()}},this.paintMenuButton()):f["default"].createElement(d.View,null)}},{key:"paintMenuButton",value:function(){return f["default"].createElement(d.View,{style:[g["default"].menuButtonNarrow,{opacity:.5}]},f["default"].createElement(R,{name:m.MenuIcon.name,size:33,color:m.MenuIcon.color}))}},{key:"onLoadEarlierMessages",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){});this.state.loadEarlierMessages=!0;var t=this.state.list,o=I.getId(t[0]);M.messageList({lastId:o,limit:L,loadEarlierMessages:!0,context:this.state.allContexts?null:this.state.context,modelName:this.props.modelName,to:this.props.resource});this.state.postLoad=e}},{key:"checkStart",value:function(e){e=e}},{key:"chooseFormForCustomer",value:function(){var e=this.props.navigator.getCurrentRoutes(),t=this.props.resource;this.setState({show:!1}),this.props.navigator.push({title:O(I.getModel(D.TYPES.FORM).value),id:15,component:k,sceneConfig:d.Navigator.SceneConfigs.FloatFromBottom,backButtonTitle:"Back",passProps:{resource:t,returnRoute:e[e.length-1],callback:this.props.callback,type:D.TYPES.FORM}})}},{key:"forgetMe",value:function(){var e=this,t=this.props.resource;this.setState({show:!1}),d.Alert.alert(O("confirmForgetMe",I.getDisplayName(t,I.getModel(t[D.TYPE]).value.properties)),O("testForgetMe"),[{text:O("cancel"),onPress:function(){return console.log("Cancel")}},{text:"OK",onPress:function(){e.state.isForgetting=!0,M.forgetMe(t)}}])}},{key:"onPhotoSelect",value:function(e){var t=this.state.selectedAssets;t[e.node.image.uri]?delete t[e.node.image.uri]:t[e.node.image.uri]=e}},{key:"onAddNewPressed",value:function(e){var t=this.props.modelName,o=I.getModel(t).value,r=o.isInterface;if(r){var n=this,i=n.props.navigator.getCurrentRoutes(),a=this.props.resource,i=n.props.navigator.getCurrentRoutes();this.props.navigator.push({title:O(I.getModel(D.TYPES.FINANCIAL_PRODUCT).value),id:15,component:k,sceneConfig:d.Navigator.SceneConfigs.FloatFromBottom,backButtonTitle:"Back",passProps:{resource:a,returnRoute:i[i.length-1],callback:this.props.callback,type:z},rightButtonTitle:"ion|plus",onRightButtonPress:{id:4,title:O("newProduct"),component:E,backButtonTitle:"Back",rightButtonTitle:"Done",passProps:{model:I.getModel("tradle.NewMessageModel").value,currency:a.currency}}})}}},{key:"onTakePicPressed",value:function(){var e=this;this.props.navigator.push({title:"Take a pic",backButtonTitle:"Back",id:12,component:CameraView,sceneConfig:d.Navigator.SceneConfigs.FloatFromBottom,passProps:{onTakePic:e.onTakePic.bind(this)}})}},{key:"onTakePic",value:function(e){var t={from:I.getMe(),to:this.props.resource,time:(new Date).getTime(),photos:[{url:e}],_context:this.state.context};t[D.TYPE]=D.TYPES.SIMPLE_MESSAGE,this.props.navigator.pop(),M.addMessage(t)}},{key:"onSubmitEditing",value:function(e){var t=I.getMe(),o={from:I.getMe(),to:this.props.resource},r=I.getModel(this.props.modelName).value,n=(I.getDisplayName(o.to,I.getModel(o.to[D.TYPE]).value.properties),I.getModel(t[D.TYPE]).value.properties),i=(I.getDisplayName(t,n),D.TYPES.SIMPLE_MESSAGE),a={message:e?r.isInterface?e:"["+this.state.userInput+"]("+this.props.modelName+")":"",from:t,to:o.to,_context:this.state.context};a[D.TYPE]=i,this.setState({userInput:"",selectedAssets:{}}),this.state.clearCallback&&this.state.clearCallback(),M.addMessage(a)}}]),MessageList}(c.Component);x(H.prototype,_.ListenerMixin),H=(0,u.makeResponsive)(H);var U=Y.create({imageOutline:{width:25,height:25,borderRadius:13,borderColor:"#aaaaaa",paddingLeft:6,borderWidth:1,color:"#79AAF2"},footer:{flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-end",height:45,backgroundColor:"#eeeeee",borderColor:"#eeeeee",borderWidth:1,borderTopColor:"#cccccc",paddingRight:10}});e.exports=H},1945:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(300),i=o(301),a=_interopRequireDefault(i),s=o(1685),l=_interopRequireDefault(s),u=o(1687),c=_interopRequireDefault(u),f=o(936),d=f.translate,p=o(1355),h=o(1707),m=o(1722),g=o(1733),b=o(1728),y=o(1946),v=o(1947),w=o(1737),C=o(1530),E=o(1531),k=o(1738),T=o(1718),A=o(1720),P=o(1732),S=(o(1736),o(2073),function(e){function MessageView(e){_classCallCheck(this,MessageView);var t=_possibleConstructorReturn(this,(MessageView.__proto__||Object.getPrototypeOf(MessageView)).call(this,e));t.state={resource:e.resource,isConnected:t.props.navigator.isConnected,promptVisible:!1};var o=t.props.navigator.getCurrentRoutes(),r=o.length;return!o[r-1].onRightButtonPress&&o[r-1].rightButtonTitle&&(o[r-1].onRightButtonPress=t.verifyOrCreateError.bind(t)),t}return _inherits(MessageView,e),r(MessageView,[{key:"componentDidMount",value:function(){this.listenTo(k,"onAction")}},{key:"onAction",value:function(e){if("addVerification"===e.action||"addAdditionalInfo"===e.action){var t=this.props.navigator.getCurrentRoutes(),o=t.length;5===t[o-1].id&&this.props.navigator.pop(),C.messageList({modelName:p.TYPES.MESSAGE,to:e.resource})}else"connectivity"==e.action&&this.setState({isConnected:e.isConnected})}},{key:"verifyOrCreateError",value:function(){var e=this.props.resource,t=f.getModel(e[p.TYPE]).value;if(f.isEmpty(this.state.errorProps))n.Alert.alert("Verify "+f.getDisplayName(e,t.properties),null,[{text:"Cancel",onPress:function(){return console.log("Canceled!")}},{text:"Ok",onPress:this.verify.bind(this)}]);else{var o=f.getModel(this.state.resource[p.TYPE]).value.properties,r="";for(var i in this.state.errorProps)r+=r?", "+o[i].title:o[i].title;r="Please correct or fill out the following fields: "+r,n.Alert.alert("Sending message to "+e.from.title,r,[{text:"Cancel",onPress:function(){return console.log("Canceled!")}},{text:"Ok",onPress:this.createError.bind(this,r)}])}}},{key:"createError",value:function(e){var t=[];for(var o in this.state.errorProps)t.push({name:o,error:this.state.errorProps[o]||"Please correct this property"});var r=this.props.resource,n={_t:"tradle.FormError",errors:t,prefill:r,from:r.to,to:r.from,_context:this.props.context,message:e||d("pleaseCorrectTheErrors")};C.addMessage(n),this.props.navigator.pop()}},{key:"onCheck",value:function(e,t){var o={};this.state.errorProps&&A(o,this.state.errorProps),this.state.errorProps&&this.state.errorProps[e.name]?delete o[e.name]:o[e.name]=t,this.setState({errorProps:o})}},{key:"getRefResource",value:function(e,t){f.getModel(this.props.resource[p.TYPE]).value;this.state.prop=t,this.state.propValue=f.getId(e.id),this.showRefResource(e,t)}},{key:"render",value:function(){var e=this.state.resource,t=e[p.TYPE],o=(f.getModel(t).value,f.formatDate(new Date(e.time))),r=e.photos?e.photos.length:0;r&&r>4&&(r=5);var i,s,u=a["default"].createElement(y,{resource:e,navigator:this.props.navigator,additionalInfo:this.additionalInfo.bind(this),currency:this.props.currency,bankStyle:this.props.bankStyle});this.props.verification&&this.props.verification.txId?(i=a["default"].createElement(n.View,{style:{padding:10,flex:1}},a["default"].createElement(n.Text,{style:R.title},"Verification Transaction Id"),a["default"].createElement(n.Text,{style:R.verification,onPress:this.onPress.bind(this,"https://tbtc.blockr.io/tx/info/"+this.props.verification.txId)},this.props.verification.txId)),s=a["default"].createElement(n.View,{style:R.separator})):(i=a["default"].createElement(n.View,null),s=a["default"].createElement(n.View,null));var c=e.message&&e.message.length?a["default"].createElement(n.View,null,a["default"].createElement(n.Text,{style:R.itemTitle},e.message)):a["default"].createElement(n.View,null);return a["default"].createElement(w,{style:l["default"].container},a["default"].createElement(n.ScrollView,{ref:"this"},a["default"].createElement(n.View,{style:[R.band,{borderBottomColor:this.props.bankStyle.PRODUCT_ROW_BG_COLOR,borderTopColor:"#dddddd"}]},a["default"].createElement(n.Text,{style:R.date},o)),a["default"].createElement(n.View,{style:R.photoBG},a["default"].createElement(g,{resource:e,navigator:this.props.navigator})),u,a["default"].createElement(n.View,{style:{marginTop:-3}},a["default"].createElement(n.View,{style:R.photoListStyle},a["default"].createElement(m,{photos:e.photos,resource:e,isView:!0,navigator:this.props.navigator,numberInRow:r})),a["default"].createElement(n.View,{style:R.rowContainer},c,a["default"].createElement(b,{navigator:this.props.navigator,resource:e,bankStyle:this.props.bankStyle,errorProps:this.state.errorProps,currency:this.props.currency,checkProperties:this.props.isVerifier?this.onCheck.bind(this):null,excludedProperties:["tradle.Message.message","time","photos"],showRefResource:this.getRefResource.bind(this)}),s,i))))}},{key:"onPress",value:function(e){this.props.navigator.push({id:7,component:h,backButtonTitle:"Back",passProps:{url:e}})}},{key:"additionalInfo",value:function(e,t,o){var r=f.getModel(e[p.TYPE]).value;o=o.length?o:"Please submit more info";var n={_t:t.items.ref,from:f.getMe(),to:e.from,time:(new Date).getTime(),message:o};n[t.items.backlink]={id:f.getId(e),title:f.getDisplayName(e,r.properties)},C.addVerification(n)}},{key:"verify",value:function(){var e=this.props.resource,t=f.getModel(e[p.TYPE]).value,o=f.getMe(),r=this.props.resource.from,n=p.TYPES.VERIFICATION,i={document:{id:f.getId(e),title:e.message?e.message:t.title},to:{id:r.id,title:r.title},from:{id:f.getId(o),title:f.getDisplayName(o,f.getModel(o[p.TYPE]).value.properties)},time:(new Date).getTime()};i[p.TYPE]=n,n===p.TYPES.VERIFICATION?C.addVerification(i):this.props.navigator.replace({title:e.message,id:4,component:v,backButtonTitle:e.firstName,rightButtonTitle:"Done",titleTextColor:"#7AAAC3",passProps:{model:f.getModel(n).value,resource:i}})}},{key:"createVerification",value:function(e){C.addVerification(e,!0)}}]),MessageView}(i.Component));T(S.prototype,E.ListenerMixin),T(S.prototype,P);var R=c["default"].create({itemTitle:{fontSize:18,margin:5,marginBottom:0,color:"#7AAAC3"},title:{fontSize:18,marginHorizontal:7,color:"#9b9b9b"},verification:{fontSize:18,marginVertical:3,marginHorizontal:7,color:"#7AAAC3"},separator:{height:1,backgroundColor:"#eeeeee",marginHorizontal:15},photoBG:{backgroundColor:"#f7f7f7",alignItems:"center"},photoListStyle:{flexDirection:"row"},band:{height:30,backgroundColor:"#f7f7f7",borderColor:"#f7f7f7",borderWidth:1,alignSelf:"stretch"},rowContainer:{paddingBottom:10},date:{fontSize:14,marginTop:5,marginRight:10,alignSelf:"flex-end",color:"#2E3B4E"}});e.exports=S},1946:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(300),i=o(301),a=_interopRequireDefault(i),s=o(936),l=s.translate,u=(o(1697),o(1944)),c=o(1554),f=o(1736),d=o(1355),p=o(1718),h=o(1732),m=o(1709),g=function(e){function ShowMessageRefList(e){return _classCallCheck(this,ShowMessageRefList),_possibleConstructorReturn(this,(ShowMessageRefList.__proto__||Object.getPrototypeOf(ShowMessageRefList)).call(this,e))}return _inherits(ShowMessageRefList,e),r(ShowMessageRefList,[{key:"render",value:function(){var e=this,t=this.props.resource,o=s.getModel(t[d.TYPE]).value,r=o.properties,i=[],u=o.id===d.TYPES.PROFILE,p=!u||t[d.ROOT_HASH]===s.getMe()[d.ROOT_HASH],h=[];for(var m in r)u&&!p&&r[m].allowRoles&&"me"===r[m].allowRoles||"_"!==m.charAt(0)&&r[m].items&&r[m].items.backlink&&h.push(r[m]);h.forEach(function(t){var u=r[m].icon||s.getModel(r[m].items.ref).value.icon;u||(u="ios-checkmark");var d=[f.container,{flex:1,alignSelf:"stretch"}];i.push(a["default"].createElement(n.View,{style:d,key:e.getNextKey()},a["default"].createElement(n.TouchableHighlight,{onPress:e.showResources.bind(e,e.props.resource,r[m]),underlayColor:"transparent"},a["default"].createElement(n.View,{style:{alignItems:"center"}},a["default"].createElement(c,{name:u,size:35,color:"#ffffff"}),a["default"].createElement(n.Text,{style:f.text},l(r[m],o))))))});var g=this.props.bankStyle&&this.props.bankStyle.PRODUCT_ROW_BG_COLOR?{backgroundColor:this.props.bankStyle.PRODUCT_ROW_BG_COLOR}:{backgroundColor:"#a0a0a0"};return i.length?a["default"].createElement(n.View,{style:[f.buttons,g,{flexDirection:"row"}]},i):a["default"].createElement(n.View,null)}},{key:"showMoreLikeThis",value:function(){var e=this.props.resource[d.TYPE];this.props.navigator.push({title:l(s.getModel(e).value),component:u,id:11,backButtonTitle:"Back",passProps:{resource:s.getMe(),filter:"",isAggregation:!0,modelName:e}})}}]),ShowMessageRefList}(i.Component);p(g.prototype,h),p(g.prototype,m),e.exports=g},1947:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r,n,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),l=o(1948),u=(_interopRequireDefault(l),o(1949)),c=_interopRequireDefault(u),f=o(1710),d=_interopRequireDefault(f),p=o(300),h=(_interopRequireDefault(p),o(301)),m=_interopRequireDefault(h),g=o(1706),b=_interopRequireDefault(g),y=o(1685),v=_interopRequireDefault(y),w=o(945),C=o(1678),E=_interopRequireDefault(C),k=(o(767)("NewResource"),o(936)),T=k.translate,A=o(1951),P=o(1697),S=o(2070),R=o(1733),I=o(1721),O=o(1732),x=o(1737),F=o(991),M=o(1720),_=o(1530),D=o(1738),N=o(1531),B=o(1718),V=o(1554),L=(o(1952),o(2071)),j=o(1953),x=o(1737),B=o(1718),z=o(1683),W=o(702),q=o(1355),Y=o(2072),H=o(1687),U="tradle.Enum",K="#a94442",G="tradle.FormError",Q=F.form.Form,J=o(1952);"web"!==p.Platform.OS&&(n=o(1696));var Z=function(e){function NewResource(e){_classCallCheck(this,NewResource);var t=_possibleConstructorReturn(this,(NewResource.__proto__||Object.getPrototypeOf(NewResource)).call(this,e));r=t.props.bankStyle?t.props.bankStyle.LINK_COLOR||K:K;var o={};e.resource?o=k.clone(e.resource):o[q.TYPE]=e.model.id;var n=!(k.getMe()||t.props.model.id!==q.TYPES.PROFILE||t.props.resource&&t.props.resource[q.ROOT_HASH]);t.state={resource:o,date:new Date,isUploading:!(n||o[q.ROOT_HASH]&&2!==Object.keys(o).length),isRegistration:n,isLoadingVideo:!1,isPrefilled:t.props.isPrefilled,modal:{},termsAccepted:!n};var i=t.props.navigator.getCurrentRoutes(),a=i.length;return i[a-1].onRightButtonPress=t.onSavePressed.bind(t),t.scrollviewProps={automaticallyAdjustContentInsets:!0,scrollEventThrottle:50,onScroll:t.onScroll.bind(t)},t}return _inherits(NewResource,e),s(NewResource,[{key:"shouldComponentUpdate",value:function(e,t){var o=t.err||this.props.orientation!==e.orientation||t.missedRequiredOrErrorValue||this.state.modal!==t.modal||this.state.prop!==t.prop||this.state.isUploading!==t.isUploading||this.state.itemsCount!==t.itemsCount||this.state.isLoadingVideo!==t.isLoadingVideo||this.state.keyboardSpace!==t.keyboardSpace||this.state.inFocus!==t.inFocus||!W(this.state.resource,t.resource);return o||k.compare(this.props.resource,e.resource),o}},{key:"componentWillMount",value:function(){this.state.resource[q.ROOT_HASH]&&2===Object.keys(this.state.resource).length?_.getItem(k.getId(this.state.resource)):this.state.isUploading&&_.getTemporary(this.state.resource[q.TYPE])}},{key:"componentDidMount",value:function(){var e=this;this.listenTo(D,"itemAdded"),n&&(n.addListener("keyboardWillShow",function(t){e.updateKeyboardSpace(t)}),n.addListener("keyboardWillHide",function(t){e.resetKeyboardSpace(t)}))}},{key:"componentDidUpdate",value:function(){if(this.state.missedRequiredOrErrorValue&&!k.isEmpty(this.state.missedRequiredOrErrorValue)){var e=this.props.model.viewCols,t=void 0;for(var o in this.state.missedRequiredOrErrorValue){if(!e){t=o;break}(!t||e.indexOf(o)<e.indexOf(t))&&(t=o)}var r=this.refs.form.getComponent(t)||this.refs[t];r&&(k.isEmpty(this.state.missedRequiredOrErrorValue)||this.state.noScroll||(k.scrollComponentIntoView(this,r),this.state.noScroll=!0))}}},{key:"itemAdded",value:function(e){var t=this,o=e.resource;if("languageChange"===e.action)return void this.props.navigator.popToTop();if("noChanges"===e.action)return void this.setState({err:T("nothingChanged"),submitted:!1});if("getItem"===e.action&&k.getId(this.state.resource)===k.getId(e.resource))return void this.setState({resource:e.resource,isUploading:!1});if("getTemporary"===e.action){var r={};return M(r,this.state.resource),M(r,e.resource),void this.setState({resource:r,isUploading:!1})}if("runVideo"===e.action&&this.state.isRegistration)return void(this.props.callback&&this.setState({isLoadingVideo:!0}));if(o||!e.error||"addItem"!==e.action){if(o&&("addItem"===e.action||"addMessage"===e.action)&&this.state.resource[q.TYPE]===o[q.TYPE]){
if(e.error)return o[q.TYPE]==this.state.resource[q.TYPE]&&this.setState({err:e.error,resource:o,isRegistration:this.state.isRegistration}),console.log("addItem error: submitted = false"),void(this.state.submitted=!1);if("addItem"===e.action&&o._sharedWith&&o._sharedWith.length>1)return void this.showSharedWithList(e.resource);if(this.props.callback)return k.onNextTransitionEnd(this.props.navigator,function(){return t.state.submitted=!1}),void this.props.callback(o);var n=this,i=k.getDisplayName(o,this.props.model.properties),a=this.props.model.interfaces&&this.props.model.interfaces.indexOf(q.TYPES.MESSAGE)!=-1;if(a&&this.props.originatingMessage&&o[q.ROOT_HASH]!==this.props.originatingMessage[q.ROOT_HASH]){var e={value:{documentCreated:!0,document:o[q.NONCE]},resource:this.props.originatingMessage,meta:k.getModel(this.props.originatingMessage[q.TYPE]).value};return _.addItem(e),void this.props.navigator.pop()}var s=n.props.navigator.getCurrentRoutes(),l=s.length,u=2==l?this.props.navigator.replace:this.props.navigator.replacePrevious;if(this.props.chat){var c=this.props.navigator.getCurrentRoutes();return void this.props.navigator.popToRoute(c[c.length-3])}u({id:3,title:i,component:I,titleTextColor:"#7AAAC3",rightButtonTitle:T("edit"),backButtonTitle:"Back",onRightButtonPress:{title:i,id:4,component:NewResource,rightButtonTitle:"Done",backButtonTitle:"Back",titleTextColor:"#7AAAC3",passProps:{model:n.props.model,resource:o,currency:this.props.currency,bankStyle:this.props.bankStyle}},passProps:{resource:o,currency:this.props.currency,bankStyle:this.props.bankStyle}}),2!=l&&this.props.navigator.pop()}}else{this.state.submitted=!1,console.log("addItem: submitted = false"),p.Alert.alert(e.error);({query:this.state.filter,modelName:this.props.modelName,to:this.props.resource})}}},{key:"showSharedWithList",value:function(e){this.props.resource&&this.props.resource._sharedWith&&this.props.navigator.replace({id:10,title:T("shareChangesWith"),backButtonTitle:"Back",component:P,rightButtonTitle:"Done",passProps:{message:T("chooseCompaniesToShareChangesWith"),modelName:q.TYPES.ORGANIZATION,to:this.state.resource.to,resource:this.props.resource,callback:this.shareWith.bind(this,e),chat:this.props.chat,bankStyle:this.props.bankStyle,currency:this.props.currency}})}},{key:"shareWith",value:function(e,t){t.length&&_.share(e,t),this.props.navigator.pop()}},{key:"onSavePressed",value:function(){var e=this;if(!this.state.submitted){this.state.submitted=!0,this.state.noScroll=!1;var t=this.state.resource,o=this.refs.form.getValue();o||(o=this.refs.form.refs.input.state.value,o||(o={}));var r=k.clone(o);if(this.checkEnums(r,t),this.floatingProps)for(var n in this.floatingProps)r[n]=this.floatingProps[n];var i=this.props.model.required;if(!i){i=[];for(var n in this.props.model.properties)"_"!==n.charAt(0)&&i.push(n)}var s={};i.forEach(function(o){var n="undefined"!=typeof r[o]||r[o]?r[o]:e.props.resource?e.props.resource[o]:null;if(n)if("string"!=typeof n||n.length){if("object"===("undefined"==typeof n?"undefined":a(n))){var i=e.props.model.properties[o].ref;if(i){var l=k.getModel(i).value;if(i===q.TYPES.MONEY){if(!n.value||"string"==typeof n.value&&!n.value.length)return void(s[o]=T("thisFieldIsRequired"))}else if(!l.subClassOf||l.subClassOf!==U){var u=e.props.model.properties[o].units;return void(u?n=n.value:(""===n.value&&(n=null),delete r[o]))}}else if("array"===e.props.model.properties[o].type&&!n.length)return void(s[o]=T("thisFieldIsRequired"))}}else n=null,delete r[o];if("boolean"!==e.props.model.properties[o].type||"undefined"==typeof n){var c="[object Date]"===Object.prototype.toString.call(n);if(!n||c&&isNaN(n.getTime())){var f=e.props.model.properties[o];if(f.items&&f.items.backlink)return;if(f.ref||c||f.items){if(t&&t[o])return;s[o]=T("thisFieldIsRequired")}else f.displayAs||(s[o]=T("thisFieldIsRequired"))}}});var l=this.validateProperties(r);for(var n in l)s[n]=l[n];if(!k.isEmpty(s)){console.log("onSavePressed not all required: submitted = false"),this.state.submitted=!1;var u={missedRequiredOrErrorValue:s};return void this.setState(u)}t||(t={},t[q.TYPE]=this.props.model.id);var c={};M(!0,c,t),r._context=c._context||this.props.originatingMessage&&this.props.originatingMessage._context,delete c.url;var f={value:r,resource:c,meta:this.props.model,isRegistration:this.state.isRegistration};this.props.chat&&(f.chat=this.props.chat),_.addItem(f)}}},{key:"checkEnums",value:function(e,t){var o=this.props.model.properties;for(var r in e)if(o[r]&&o[r].ref){var n=k.getModel(o[r].ref).value;n.subClassOf&&n.subClassOf===U&&(e[r]=t[r])}}},{key:"addFormValues",value:function(){var e=this.refs.form.getValue(),t=e?e:this.refs.form.refs.input.state.value,o=this.state.resource;o||(o={},o[q.TYPE]=this.props.model.id);for(var r in t)!o[r]&&t[r]&&(o[r]=t[r]);return o}},{key:"onAddItem",value:function(e,t){if(t){var o=this.addFormValues(),r=o[e];r||(r=[],o[e]=r),r.push(t);var n=this.state.itemsCount?this.state.itemsCount+1:1;this.state.missedRequiredOrErrorValue&&delete this.state.missedRequiredOrErrorValue[e],this.setState({resource:o,itemsCount:n,prop:e,inFocus:e})}}},{key:"onNewPressed",value:function(e){var t=this.addFormValues();this.setState({resource:t,err:"",inFocus:e.name});var o=e.items.ref?k.getModel(e.items.ref).value:this.props.model;return e.items.ref&&e.allowToAdd?void this.props.navigator.push({id:10,title:T(e,o),backButtonTitle:"Back",component:P,passProps:{modelName:e.items.ref,to:this.state.resource.to,resource:this.state.resource,isChooser:!0,prop:e,callback:this.setChosenValue.bind(this),bankStyle:this.props.bankStyle,currency:this.props.currency}}):void this.props.navigator.push({id:6,title:T("addNew",T(e,o)),backButtonTitle:"Back",component:A,rightButtonTitle:"Done",passProps:{metadata:e,resource:this.state.resource,parentMeta:this.props.parentMeta,onAddItem:this.onAddItem.bind(this),currency:this.props.currency}})}},{key:"render",value:function(){var e=this;if(this.state.isUploading)return m["default"].createElement(p.View,null);var t=this.props,o=this.state.resource,r=t.model;this.props.setProperty&&(this.state.resource[this.props.setProperty.name]=this.props.setProperty.value);var n={},a={},s=[];M(!0,n,o);var l=r.interfaces&&r.interfaces.indexOf(q.TYPES.MESSAGE)!=-1,u=(l&&this.props.model.subClassOf&&this.props.model.subClassOf===q.TYPES.FINANCIAL_PRODUCT,!1);if(l){var c=o.message&&k.splitMessage(o.message).length;c<2?u=!0:n.message=""}var f={meta:r,data:n,model:a,items:s,onEndEditing:this.onEndEditing.bind(this),component:NewResource};this.props.editCols&&(f.editCols=this.props.editCols);var h=this.state.isRegistration;h&&(f.isRegistration=!0),this.props.originatingMessage&&this.props.originatingMessage[q.TYPE]===G&&(f.errors={},this.props.originatingMessage.errors.forEach(function(e){f.errors[e.name]=e.error}));var g,y=this.getFormFields(f),w=F.struct(a);this.props.editCols?(g=[],this.props.editCols.forEach(function(e){"array"===r.properties[e].type&&g.push(r.properties[e])})):g=k.getItemsMeta(r);var C,T=[];for(var A in g){var P=g[A];if("ios-telephone-outline"===P.icon&&(P.icon="ios-call-outline"),P.readOnly||P.items.backlink)T.push(m["default"].createElement(p.View,{key:this.getNextKey(),ref:P.name}));else{var S=0;C=null;var S=o&&o[P.name]?o[P.name].length:0;S&&"photos"===P.name?T.push(this.getPhotoItem(P)):T.push(this.getItem(P))}}h?Q.stylesheet=L:Q.stylesheet=J;var I=k.dimensions(NewResource),O=(I.width,I.height);y||(y={}),y.auto="placeholders",y.tintColor="red";var _=X.photoBG,D=h?m["default"].createElement(p.View,null,m["default"].createElement(p.TouchableHighlight,{style:X.thumbButton,underlayColor:"transparent",onPress:function(){e.state.termsAccepted?e.onSavePressed():e.showTermsAndConditions()}},m["default"].createElement(p.View,{style:X.getStarted},m["default"].createElement(p.Text,{style:X.getStartedText},"ENTER")))):m["default"].createElement(p.View,{style:{height:0}}),N=h?{justifyContent:"center",height:O-(O>1e3?0:h?50:100)}:{justifyContent:"flex-start"},B=m["default"].createElement(p.ScrollView,i({style:{backgroundColor:"transparent"},ref:"scrollView"},this.scrollviewProps,{keyboardShouldPersistTaps:!0,keyboardDismissMode:this.state.isRegistration||"ios"===p.Platform.OS?"on-drag":"interactive"}),m["default"].createElement(p.View,{style:[X.container,N]},k.isWeb()?m["default"].createElement(p.View,null):m["default"].createElement(p.View,{style:_},m["default"].createElement(R,{resource:o,navigator:this.props.navigator})),m["default"].createElement(p.View,{style:this.state.isRegistration?{marginHorizontal:O>1e3?50:30}:{marginHorizontal:10}},m["default"].createElement(Q,{ref:"form",type:w,options:y,value:n,onChange:this.onChange.bind(this)}),D,m["default"].createElement(p.View,{style:{marginTop:h?0:-10}},T),m["default"].createElement(p.View,{style:{alignItems:"center",marginTop:50}},this.state.isLoadingVideo?m["default"].createElement(b["default"],{animating:!0,size:"large",color:"#ffffff"}):m["default"].createElement(p.View,null)))));return h?m["default"].createElement(p.View,{style:{height:O}},m["default"].createElement(E["default"],{source:z,style:X.bgImage}),m["default"].createElement(p.View,{style:{justifyContent:"center",height:O}},h?m["default"].createElement(p.View,{style:X.logo},m["default"].createElement(d["default"],{name:"tradle",size:40,color:"#ffffff",style:{padding:10}})):m["default"].createElement(p.View,null),B,m["default"].createElement(p.View,null))):(this.state.err&&(p.Alert.alert(this.state.err),this.state.err=null),m["default"].createElement(x,{style:v["default"].container},B))}},{key:"showTermsAndConditions",value:function(){this.props.navigator.push({id:3,component:I,title:T("termsAndConditions"),backButtonTitle:"Back",rightButtonTitle:T("Accept"),passProps:{resource:Y,action:this.acceptTsAndCs.bind(this)}})}},{key:"acceptTsAndCs",value:function(){this.props.navigator.pop(),this.setState({termsAccepted:!0}),this.state.resource.firstName&&this.onSavePressed()}},{key:"cancelItem",value:function(e,t){for(var o=this.state.resource[e.name],r=0;r<o.length;r++)if(W(o[r],t))return o.splice(r,1),void this.setState({resource:this.state.resource,itemsCount:o.length})}},{key:"showItems",value:function(e,t,o){var r=this.state.resource,t=this.props.model||this.props.metadata;r||(r={},r[q.TYPE]=t.id);var n=this.props.navigator.getCurrentRoutes();this.props.navigator.push({title:T("tapToRemovePhotos"),titleTintColor:"red",id:19,component:S,noLeftButton:!0,rightButtonTitle:"Done",passProps:{prop:e.name,resource:r,onAddItem:this.onAddItem.bind(this),list:r[e.name],returnRoute:n[n.length-1],callback:this.setChosenValue.bind(this)}})}},{key:"getItem",value:function(e){var t,o=this,n=this.props.model,i=this.state.resource,a=n,s=0,l=null,s=i&&i[e.name]?i[e.name].length:0,u="photos"===e.name,f=this.getLabelAndBorderColor(e.name);if(s){var d=m["default"].createElement(p.View,null,this.renderItems(i[e.name],e,this.cancelItem.bind(this))),h=(m["default"].createElement(p.View,{style:X.separator}),s?X.activePropTitle:X.noItemsText);l=m["default"].createElement(p.View,null,m["default"].createElement(p.Text,{style:[h,{color:f}]},T(e,a)),d),t=m["default"].createElement(p.View,{style:[X.itemsCounterEmpty,{paddingBottom:10,marginTop:15}]},m["default"].createElement(V,{name:e.icon||"md-add",size:e.icon?25:20,color:r}))}else l=m["default"].createElement(p.Text,{style:s?X.itemsText:X.noItemsText},T(e,a)),t=m["default"].createElement(p.View,{style:[X.itemsCounterEmpty]},u?m["default"].createElement(V,{name:"ios-camera-outline",size:25,color:r}):m["default"].createElement(V,{name:e.icon||"md-add",size:e.icon?25:20,color:r}));var g=this.state.missedRequiredOrErrorValue?this.state.missedRequiredOrErrorValue[e.name]:null,b=T("thisFieldIsRequired"),y=g?m["default"].createElement(p.View,{style:X.error},m["default"].createElement(p.Text,{style:X.errorText},b)):m["default"].createElement(p.View,null),v=[X.itemButton];if(g)v.push({marginBottom:10});else if(s){var w=i[e.name].photo?55:45;v.push({paddingBottom:0,height:s*w+35})}else v.push({paddingBottom:0,height:70});if(!s||!u){var C=[{paddingBottom:7}];return m["default"].createElement(p.View,{key:this.getNextKey()},m["default"].createElement(p.View,{style:[v,{marginHorizontal:10}],ref:e.name},u?m["default"].createElement(c["default"],{prop:e,style:C,onImage:function(t){return o.onAddItem(e.name,t)}},m["default"].createElement(p.View,{style:X.items},l,t)):m["default"].createElement(p.TouchableHighlight,{style:C,underlayColor:"transparent",onPress:this.onNewPressed.bind(this,e,n)},m["default"].createElement(p.View,{style:X.items},l,t))),y)}var C=[{flex:7},s?{paddingTop:0}:{paddingTop:15,paddingBottom:7}],E=u?m["default"].createElement(c["default"],{prop:e,style:C,onImage:function(t){return o.onAddItem(e.name,t)}},l):m["default"].createElement(p.TouchableHighlight,{style:C,underlayColor:"transparent",onPress:this.onNewPressed.bind(this,e,n)},l),A=[{flex:1,position:"absolute",right:0},s||k.isWeb()?{paddingTop:0}:{marginTop:15,paddingBottom:7}],P=u?m["default"].createElement(c["default"],{prop:e,style:A,onImage:function(t){return o.onAddItem(e.name,t)}},t):m["default"].createElement(p.TouchableHighlight,{underlayColor:"transparent",style:A,onPress:this.onNewPressed.bind(this,e,n)},t);return m["default"].createElement(p.View,{key:this.getNextKey()},m["default"].createElement(p.View,{style:[v,{marginHorizontal:10,borderBottomColor:f}],ref:e.name},m["default"].createElement(p.View,{style:X.items},E,P)),y)}},{key:"getPhotoItem",value:function(e){var t,o=this,n=this.props.model,i=this.state.resource,a=n,s=0,l=null,u=this.getLabelAndBorderColor(e.name),s=i&&i[e.name]?i[e.name].length:0;if(s){for(var f=[],d=i[e.name],h=Math.min(d.length,k.isWeb()?k.dimensions().width-2.5:7),g=0;g<h;g++)f.push(m["default"].createElement(p.Image,{resizeMode:"cover",style:X.thumb,source:{uri:d[g].url},key:this.getNextKey(),onPress:function(){o.openModal(d[g])}}));l=m["default"].createElement(p.View,{style:[X.photoStrip,s?{marginTop:-25}:{marginTop:0}]},m["default"].createElement(p.Text,{style:[X.activePropTitle,{color:u}]},T(e,a)),m["default"].createElement(p.View,{style:X.photoStripItems},f)),t=m["default"].createElement(p.View,null,m["default"].createElement(p.View,{style:{marginTop:25,paddingHorizontal:5}},m["default"].createElement(V,{name:"ios-camera-outline",size:25,color:r})))}else l=m["default"].createElement(p.Text,{style:s?X.itemsText:X.noItemsText},T(e,a)),t=m["default"].createElement(p.View,{style:[X.itemsCounterEmpty]},m["default"].createElement(V,{name:"ios-camera-outline",size:25,color:r}));var b=(T(e,a),this.state.missedRequiredOrErrorValue?this.state.missedRequiredOrErrorValue[e.name]:null),y=T("thisFieldIsRequired"),v=b?m["default"].createElement(p.View,{style:X.error},m["default"].createElement(p.Text,{style:X.errorText},y)):m["default"].createElement(p.View,null),w=s?m["default"].createElement(p.TouchableHighlight,{style:{flex:7,paddingTop:15},underlayColor:"transparent",onPress:this.showItems.bind(this,e,n)},l):m["default"].createElement(c["default"],{prop:e,style:[{flex:7},s?{paddingTop:0}:{paddingTop:15,paddingBottom:7}],underlayColor:"transparent",onImage:function(t){return o.onAddItem(e.name,t)}},l),C=[s?X.photoButton:X.itemButton,{marginHorizontal:10,borderBottomColor:u}];return m["default"].createElement(p.View,{key:this.getNextKey()},m["default"].createElement(p.View,{style:C,ref:e.name},m["default"].createElement(p.View,{style:X.items},w,m["default"].createElement(c["default"],{prop:e,underlayColor:"transparent",style:[{flex:1,position:"absolute",right:0},s?{marginTop:15}:{marginTop:15,paddingBottom:7}],onImage:function(t){return o.onAddItem(e.name,t)}},t))),v)}},{key:"onEndEditing",value:function(e,t){(this.state.resource[e]||t.nativeEvent.text.length)&&(this.state.resource[e]=t.nativeEvent.text)}},{key:"onChange",value:function(e,t){var o=this;t&&t.forEach(function(t){o.state.resource[t]=e[t]})}},{key:"onSubmitEditing",value:function(e){e=e?e:this.state.userInput;var t=this.state.selectedAssets,o=k.isEmpty(t);if(e||!o){var r=k.getMe(),n={from:k.getMe(),to:this.props.resource.to},i=this.props.model,a=k.getDisplayName(n.to,k.getModel(n.to[q.TYPE]).value.properties),s=k.getModel(r[q.TYPE]).value.properties,l=k.getDisplayName(r,s),u=q.TYPES.SIMPLE_MESSAGE,c={message:e?i.isInterface?e:"["+e+"]("+i.id+")":"",from:{id:k.getId(r),title:l},to:{id:k.getId(n),title:a},time:(new Date).getTime()};if(c[q.TYPE]=u,this.props.context&&(c._context=this.props.context),!o){var f=[];for(var d in t)f.push({url:d,title:"photo"});c.photos=f}this.setState({userInput:"",selectedAssets:{}}),_.addMessage(c)}}}]),NewResource}(h.Component);Z.displayName="NewResource",B(Z.prototype,N.ListenerMixin),B(Z.prototype,j),B(Z.prototype,O),Z=(0,w.makeResponsive)(Z);var X=H.create({container:{flex:1},noItemsText:{fontSize:20,color:"#AAAAAA"},itemsText:{fontSize:20,color:"#000000",paddingLeft:10},itemsCounterEmpty:{paddingHorizontal:5},itemsCounter:{borderColor:"#2E3B4E",borderRadius:10,borderWidth:1,alignSelf:"center",paddingHorizontal:5},itemButton:{height:60,marginLeft:10,borderColor:"#ffffff",borderBottomColor:"#b1b1b1",borderBottomWidth:1,paddingBottom:10,justifyContent:"flex-end"},photoButton:{marginLeft:10,borderColor:"#ffffff",borderBottomColor:"#b1b1b1",borderBottomWidth:1},photoBG:{alignItems:"center",paddingBottom:10},err:{flexWrap:"wrap",paddingHorizontal:25,fontSize:16,color:"darkred"},getStartedText:{color:"#eeeeee",fontSize:20,fontWeight:"300",alignSelf:"center"},getStarted:{backgroundColor:"#467EAE",paddingVertical:10,marginHorizontal:10,alignSelf:"stretch"},thumbButton:{marginTop:20,alignSelf:"stretch",alignItems:"center",justifyContent:"center"},thumb:{width:40,height:40,marginRight:2,borderRadius:5},error:{marginTop:-10,backgroundColor:"transparent"},errorText:{fontSize:14,marginLeft:10,color:"#a94442"},items:{flexDirection:"row",justifyContent:"space-between"},activePropTitle:{fontSize:12,marginTop:20,paddingBottom:5,color:"#bbbbbb"},photoStrip:{paddingBottom:5},photoStripItems:{flexDirection:"row"},logo:{opacity:.7,alignSelf:"flex-end"}});e.exports=(0,w.makeResponsive)(Z)},1949:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},i=o(301),a=_interopRequireDefault(i),s=o(300),l=o(342),u=_interopRequireDefault(l),c=o(936),f=_interopRequireDefault(c),d="web"===s.Platform.OS&&o(1950),p=(n({},s.TouchableHighlight.propTypes,{prop:i.PropTypes.string.isRequired,onImage:i.PropTypes.func.isRequired}),function(e){function ImageInput(e){_classCallCheck(this,ImageInput);var t=_possibleConstructorReturn(this,(ImageInput.__proto__||Object.getPrototypeOf(ImageInput)).call(this,e));return t._onPress=t._onPress.bind(t),t}return _inherits(ImageInput,e),r(ImageInput,[{key:"_onPress",value:function(){var e=this;this._pressing||(this._pressing=!0,setTimeout(function(){return e._pressing=!1},100),this.showImagePicker())}},{key:"showImagePicker",value:function(){var e=u["default"].findDOMNode(this),t=e.getElementsByTagName("input"),o=[].filter.call(t,function(e){return"file"===e.type})[0];o.click()}},{key:"render",value:function(){var e=n({},this.props);return delete e.prop,delete e.onImage,a["default"].createElement(s.View,null,a["default"].createElement(s.TouchableHighlight,n({underlayColor:"transparent"},e,{onPress:this.props.onPress||this._onPress}),this.props.children),this.renderImageFileInput())}},{key:"renderImageFileInput",value:function(){var e=this,t=this.props,o=t.prop,r=t.onImage;return a["default"].createElement(s.View,{style:{width:0,height:0,opacity:0}},a["default"].createElement(d,{ref:function(t){return e._input=t},name:o.name,placeholder:o.title||o.name,onChange:function(e){f["default"].readImage(e.target.files[0],function(e,t){return e?Alert.alert("Unable to process file",e.message):void r(n({},t,{isVertical:!0}))})}}))}}]),ImageInput}(i.Component));e.exports=p},1951:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),i=o(1685),a=_interopRequireDefault(i),s=o(300),l=o(301),u=_interopRequireDefault(l),c=o(991),f=o(936),d=f.translate,p=o(1720),h=o(1952),m=o(1355),g=o(1953),b=o(1737),y=o(1718),v=c.form.Form;v.stylesheet=h;var w=function(e){function NewItem(e){_classCallCheck(this,NewItem);var t=_possibleConstructorReturn(this,(NewItem.__proto__||Object.getPrototypeOf(NewItem)).call(this,e));t.state={selectedAssets:{},resource:t.props.resource};var o=t.props.navigator.getCurrentRoutes(),r=o.length;return o[r-1].onRightButtonPress=t.onSavePressed.bind(t),t}return _inherits(NewItem,e),n(NewItem,[{key:"onSavePressed",value:function(){if(!this.state.submitted){this.state.submitted=!0;var e=this.refs.form.getValue();if(e||(e=this.refs.form.refs.input.state.value),e||(e=this.state.data,e||(e={})),this.floatingProps)for(var t in this.floatingProps)e[t]=this.floatingProps[t];var o=this.props.metadata.name,r=this.props.resource,n=f.clone(e),i=this.checkRequired(this.props.metadata,n,r);if(!f.isEmpty(i)){this.state.submitted=!1;var a={missedRequiredOrErrorValue:i};return void this.setState(a)}if(this.props.metadata.items){var s=this.props.metadata.items.properties;if(s){var l=f.getModel(r[m.TYPE]).value.properties;for(var t in s)t!==o&&s[t].ref&&r[t]&&!l[t]&&(n[t]=r[t],delete r[t])}}if(!this.validateValues(this.props.metadata,n))return void(this.state.submitted=!1);if(f.isEmpty(this.state.selectedAssets))this.props.onAddItem(o,n);else for(var u in this.state.selectedAssets){var c={};p(c,n),c={url:u,title:"photo"},this.props.onAddItem(o,c)}this.props.navigator.pop()}}},{key:"checkRequired",value:function(e,t,o){var n=this,i=e.required;if(!i){i=[];for(var a in e.items.properties)"_"!==a.charAt(0)&&i.push(a)}var s={};return i.forEach(function(i){var a=t[i]?t[i]:n.props.resource?n.props.resource[i]:null;if(a)if("string"!=typeof a||a.length){if("object"===("undefined"==typeof a?"undefined":r(a))&&e.items.properties[i].ref==m.TYPES.MONEY){var l=e.items.properties[i].units;l?a=a.value:(""===a.value&&(a=null),delete t[i])}}else a=null,delete t[i];var u="[object Date]"===Object.prototype.toString.call(a);if(!a||u&&isNaN(a.getTime())){var c=e;if(c.items&&c.items.backlink)return;if(c.ref||u||c.items){if(o&&o[i])return;s[i]=s[i]=d("thisFieldIsRequired")}else c.displayAs||(s[i]=s[i]=d("thisFieldIsRequired"))}}),s}},{key:"validateValues",value:function(e,t){var o,r=this,n=e.required;return this.state.options={fields:{}},n&&n.forEach(function(n){if(!t[n]&&"photos"==e.name){if(!f.isEmpty(r.state.selectedAssets))return;o=!0,r.setState({err:"Select the photo please"})}}),o||(this.state.options=null),!o}},{key:"addItem",value:function(){var e=this.props.metadata.name,t=f.clone(value);return this.props.onAddItem(e,t),!0}},{key:"render",value:function(){var e=this.props,t=e.err||this.state.err||"",o=t?C.err:{padding:0,height:0},r=t?u["default"].createElement(s.Text,{style:o},t):u["default"].createElement(s.View,null),n=e.metadata,i={},l={meta:n,model:i,onSubmitEditing:this.onSavePressed.bind(this),component:NewItem};this.state.data&&(l.data=this.state.data[0]);var f=this.getFormFields(l);f.auto="placeholders";var d=c.struct(i);if(this.state.options)for(var p in this.state.options.fields){var h=this.state.options.fields[p];for(var m in h)f.fields[p][m]=h[m]}return u["default"].createElement(b,{style:a["default"].container},u["default"].createElement(s.View,{style:{marginLeft:10,marginRight:20,marginBottom:15}},u["default"].createElement(v,{ref:"form",type:d,options:f})),r)}},{key:"onSelect",value:function(e){var t=this.state.selectedAssets;t[e.node.image.uri]?delete t[e.node.image.uri]:t[e.node.image.uri]=e}}]),NewItem}(l.Component);w.displayName="NewItem",y(w.prototype,g);var C=s.StyleSheet.create({imageContainer:{flex:1},row:{flexDirection:"row",flex:1,alignSelf:"center"},buttons:{flex:1,flexDirection:"row"},buttonText:{fontSize:16,color:"white",alignSelf:"center"},button:{height:36,width:100,flex:1,backgroundColor:"#ffffff",borderColor:"#6093ae",borderWidth:1,borderRadius:8,marginBottom:10,justifyContent:"center",alignSelf:"center"},err:{paddingVertical:10,fontSize:20,color:"darkred"}});e.exports=w},1952:function(e,t){"use strict";var o="#cccccc",r="#000000",n="#a94442",i="#999999",a="#bbbbbb",s="#777777",l="#eeeeee",u=20,c=14,f=11,d="400",p=Object.freeze({fieldset:{},formGroup:{normal:{marginBottom:10},error:{marginBottom:10}},controlLabel:{normal:{color:o,fontSize:f,marginBottom:3,paddingLeft:15,fontWeight:d},error:{color:n,fontSize:f,marginBottom:7,fontWeight:d}},helpBlock:{normal:{color:i,fontSize:c,marginTop:5},error:{color:i,fontSize:c,marginBottom:2}},errorBlock:{fontSize:u,marginBottom:2,color:n},textbox:{normal:{color:r,fontSize:u,height:46,padding:7,borderRadius:4,borderColor:a,borderBottomColor:a,borderTopColor:"#ffffff",borderLeftColor:"#ffffff",borderRightColor:"#ffffff",borderWidth:.5,marginBottom:0},error:{color:r,fontSize:u,height:36,padding:7,borderRadius:4,borderColor:n,borderWidth:1,marginBottom:5},notEditable:{fontSize:u,height:36,padding:7,borderRadius:4,borderColor:a,borderWidth:1,marginBottom:5,color:s,backgroundColor:l}},checkbox:{normal:{color:r,marginBottom:4},error:{color:r,marginBottom:4}},select:{normal:{marginBottom:4},error:{marginBottom:4}},datepicker:{normal:{marginBottom:4,marginLeft:15},error:{marginBottom:4,marginLeft:15}}});e.exports=p},1953:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,o){function step(r,n){try{var i=t[r](n),a=i.value}catch(s){return void o(s)}return i.done?void e(a):Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)})}return step("next")})}}var r,n,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},l=o(1954),u=_interopRequireDefault(l),c=o(300),f=o(301),d=o(342),p=(o(1061),o(1697)),h=o(2065),m=o(2067),g=o(1554),b=o(936),y=o(2068),v=b.translate,w=o(1956),C=o(1687),E=o(1355),k=o(991),T=o(1530),A=o(1720),P="£",S="tradle.Enum",R="tradle.Settings",I=31536e6,O=864e5,x=36e5,F=6e4,M="#139459",_=0,D={string:k.Str,"boolean":k.Bool,date:k.Dat,number:k.Num},N="#a94442",B={onScroll:function(e){var t=d.findDOMNode(this.refs.scrollView);this._contentOffset={x:t.scrollLeft,y:t.scrollTop}},getScrollOffset:function(){return s({},this._contentOffset)},getFormFields:function(e){r=this.props.currency?this.props.currency.symbol||this.props.currency:P,i=e.component,n=this.props.bankStyle?this.props.bankStyle.LINK_COLOR||N:N;var t=this.props.model||this.props.metadata,o=e.model,s=t.interfaces,l=s?this.onSubmitEditing||e.onSubmitEditing:this.onSavePressed,u=this.onEndEditing||e.onEndEditing,c=this.chooser||this.props.chooser,f=b.getModels(),d=e.data,p={};p.fields={};var h,m;t.items?(m=t.items.backlink,h=t.items.ref?b.getModel(t.items.ref).value.properties:t.items.properties):h=t.properties;d&&f[d[E.TYPE]];if(!b.isEmpty(d)&&!t.items&&d[E.TYPE]!==t.id){var g=t.interfaces;if(!g||g.indexOf(d[E.TYPE])==-1)return;d[E.TYPE]=t.id;for(var y in d)y!=E.TYPE&&!h[y]}var w;this.props.editCols?(w={},this.props.editCols.forEach(function(e){w[e]=h[e]})):t.editCols&&(b.arrayToObject(t.editCols),w={},t.editCols.forEach(function(e){var t=e.indexOf("_group");t!==-1&&h[e].list&&h[e].title.toLowerCase()===e||(w[e]=h[e]),t!==-1&&h[e].list&&h[e].list.forEach(function(e){return w[e]=h[e]})}));var C;if(w)C=w;else if(t.viewCols){C={},t.viewCols.forEach(function(e){C[e]=h[e]});for(var T in h)C[T]||h[T].readOnly||h[T].hidden||(C[T]=h[T])}else C=h;var A=b.arrayToObject(t.required);for(var S in C)if(!(S===E.TYPE||S===m||h[S].items&&h[S].items.backlink||t&&t.hidden&&t.hidden.indexOf(S)!==-1)){var R=A&&!A.hasOwnProperty(S),I=h[S].type,O=D[I],x=h[S].readOnly;if(!x){var F=v(h[S],t);F||(F=b.makeLabel(S));var M=this.props.errs&&this.props.errs[S]?this.props.errs[S]:v("thisFieldIsRequired");p.fields[S]={error:M,bufferDelay:20};if(h[S].units&&("["===h[S].units.charAt(0)?p.fields[S].placeholder=F+" "+h[S].units:p.fields[S].placeholder=F+" ("+h[S].units+")"),h[S].description&&(p.fields[S].help=h[S].description),(h[S].readOnly||h[S].immutable&&d&&d[S])&&(p.fields[S]={editable:!1}),O){if(h[S].keyboard&&(p.fields[S].keyboardType=h[S].keyboard),o[S]=!o[S]&&(R?k.maybe(O):O),d&&"date"==I)o[S]=k.Str,p.fields[S].template=this.myDateTemplate.bind(this,{label:F,prop:h[S],model:t,value:d[S]?new Date(d[S]):d[S]}),d[S]&&(d[S]=new Date(d[S])),p.fields[S].mode="date",p.fields[S].auto="labels",p.fields[S].label=F,p.fields[S].onDateChange=this.onDateChange;else if("boolean"===I){var _=d&&d[S];_&&"boolean"!=typeof _&&(_="No"!==_.title),p.fields[S].template=this.myBooleanTemplate.bind(this,{label:F,prop:h[S],model:t,value:_,required:!R,errors:e.errors}),p.fields[S].onSubmitEditing=l.bind(this),u&&(p.fields[S].onEndEditing=u.bind(this,S)),h[S].maxLength&&(p.fields[S].maxLength=h[S].maxLength),"number"===I&&(h[S].keyboard||(p.fields[S].keyboardType="numeric"),d&&d[S]&&"number"!=typeof d[S]&&(d[S]=parseFloat(d[S])))}else"string"===I&&(h[S].maxLength>100&&(p.fields[S].multiline=!0),p.fields[S].autoCorrect=!1,h[S].oneOf&&(o[S]=k.enums(h[S].oneOf),p.fields[S].auto="labels"));"string"===I&&S.length>7&&S.indexOf("_group")===S.length-6?p.fields[S].template=this.myTextTemplate.bind(this,{label:F,prop:h[S],model:t}):p.fields[S].multiline||"string"!==I&&"number"!==I||(p.fields[S].template=this.myTextInputTemplate.bind(this,{
label:F,prop:h[S],model:t,value:d&&d[S]?d[S]+"":null,required:!R,errors:e.errors,keyboard:h[S].keyboard||("number"===I?"numeric":"default")}),p.fields[S].onSubmitEditing=l.bind(this),u&&(p.fields[S].onEndEditing=u.bind(this,S)),h[S].maxLength&&(p.fields[S].maxLength=h[S].maxLength),"number"===I&&(h[S].keyboard||(p.fields[S].keyboardType="numeric"),d&&d[S]&&"number"!=typeof d[S]&&(d[S]=parseFloat(d[S]))))}else if(h[S].oneOf)o[S]=k.enums(h[S].oneOf),p.fields[S].auto="labels";else if("enum"==I){var B=h[S].facet,V=f.filter(function(e){return e.type===B?e.values:null});if(V&&V.length){var L={};V[0].values.forEach(function(e){L[e.label]=e.displayName}),o[S]=k.enums(L)}p.fields[S].auto="labels"}else{var j=h[S].ref;if(!j){if("number"!==I&&"string"!==I)continue;j=E.TYPES.MONEY}if(j===E.TYPES.MONEY){o[S]=R?k.maybe(k.Num):k.Num;var z=(h[S].units,d[S]);z?"object"!==("undefined"==typeof z?"undefined":a(z))?z={value:z,currency:r}:z.currency||(z.currency=r):z={currency:r},p.fields[S].template=this.myMoneyInputTemplate.bind(this,{label:F,prop:h[S],value:z,model:t,keyboard:"numeric",required:!R,errors:e.errors}),p.fields[S].onSubmitEditing=l.bind(this),p.fields[S].onEndEditing=u.bind(this,S);continue}o[S]=R?k.maybe(k.Str):k.Str;var W=f[j];d&&d[S]&&(p.fields[S].value=d[S][E.TYPE]?b.getId(d[S]):d[S].id,d[S]=b.getDisplayName(d[S],W.value.properties)||d[S].title),p.fields[S].onFocus=c.bind(this,h[S],S),p.fields[S].template=this.myCustomTemplate.bind(this,{label:F,prop:S,required:!R,errors:e.errors,chooser:p.fields[S].onFocus}),p.fields[S].nullOption={value:"",label:"Choose your "+b.makeLabel(S)}}}}if(C.video){var R=A&&!A.hasOwnProperty("video");o.video=R?k.maybe(k.Str):k.Str,p.fields.video.template=this.myCustomTemplate.bind(this,{label:v(h.video,t),prop:"video",errors:e.errors,required:!R})}return p},getNextKey:function(){return(this.props.model||this.props.metadata).id+"_"+_++},onChangeText:function(e,t){var o={};if(A(!0,o,this.state.resource),"number"===e.type){var r=Number(t);t="."===t.charAt(t.length-1)?r+0:r}this.floatingProps||(this.floatingProps={}),e.ref==E.TYPES.MONEY?(this.floatingProps[e.name]||(this.floatingProps[e.name]={}),this.floatingProps[e.name].value=t,o[e.name]||(o[e.name]={}),o[e.name].value=t):(o[e.name]=t,this.floatingProps[e.name]=t),this.state.missedRequiredOrErrorValue&&delete this.state.missedRequiredOrErrorValue[e.name],this.setState({resource:o}),o[E.TYPE]!==R&&T.saveTemporary(o)},onChangeTextValue:function(e,t,o){console.log(arguments),this.state.resource[e.name]=t,this.floatingProps||(this.floatingProps={}),this.floatingProps[e.name]=t;var r={};A(r,this.state.resource);for(var n in this.floatingProps)r[n]=this.floatingProps[n];T.saveTemporary(r)},showCamera:function(e){this.props.navigator.push({title:"Take a pic",backButtonTitle:"Back",id:12,component:y,sceneConfig:c.Navigator.SceneConfigs.FloatFromBottom,passProps:{onTakePic:this.onTakePic.bind(this,e)}})},onTakePic:function(e,t){t&&(this.props.resource.video=t,this.floatingProps||(this.floatingProps={}),this.floatingProps.video=t,this.props.navigator.pop())},myTextTemplate:function(e){var t=v(e.prop,e.model);return f.createElement(c.View,{style:[V.divider,{borderBottomColor:n}]},f.createElement(c.Text,{style:[V.dividerText,{color:n}]},t))},myTextInputTemplate:function(e){var t=v(e.prop,e.model);t+=e.prop.units?"["===e.prop.units.charAt(0)?" "+e.prop.units:" ("+e.prop.units+")":e.required?"":" ("+v("optional")+")";var o=V.labelStyle;if(e.prop.ref&&e.prop.ref===E.TYPES.MONEY&&!e.required){var r=(b.dimensions(i).width-60)/b.getFontSize(9);r<t.length&&(o=[o,{marginTop:0}])}var n=this.getLabelAndBorderColor(e.prop.name);return this.state.isRegistration&&(o=[o,{color:n}]),f.createElement(c.View,{style:{flex:5,paddingBottom:this.hasError(e.errors,e.prop.name)?10:"ios"===c.Platform.OS?10:7}},f.createElement(m,{labelStyle:[o,{color:n}],autoCorrect:!1,multiline:"android"===c.Platform.OS,autoCapitalize:this.state.isRegistration||"url"!==e.prop.name&&(!e.prop.keyboard||"email-address"!==e.prop.keyboard)?"sentences":"none",onFocus:this.inputFocused.bind(this,e.prop.name),inputStyle:this.state.isRegistration?V.regInput:V.textInput,style:[V.formInput,{borderBottomColor:n}],value:e.value,keyboardShouldPersistTaps:!0,keyboardType:e.keyboard||"default",onChangeText:this.onChangeText.bind(this,e.prop),underlineColorAndroid:"transparent"},t),this.getErrorView(e))},getErrorView:function(e){var t;if(e.noError)t=f.createElement(c.View,null);else{var o=this.state.missedRequiredOrErrorValue?this.state.missedRequiredOrErrorValue[e.prop.name]:null;!o&&e.errors&&e.errors[e.prop.name]&&(o=e.errors[e.prop.name]),t=o?f.createElement(c.View,{style:[V.err,"undefined"!=typeof e.paddingLeft?{paddingLeft:e.paddingLeft}:{paddingLeft:10}],key:this.getNextKey()},f.createElement(c.Text,{style:(V.font14,{color:this.state.isRegistration?"#eeeeee":"#a94442"})},o)):f.createElement(c.View,{key:this.getNextKey()})}return t},myBooleanTemplate:function(e){var t=this,o=V.booleanLabel,r=[V.booleanText,{color:this.state.isRegistration?"#ffffff":"#000000"}],a=e.prop,s=this.state.resource,l=s&&"undefined"!=typeof s[e.prop.name]?r:o,u=v(e.prop,e.model);e.prop.units&&(u+="["===e.prop.units.charAt(0)?" "+e.prop.units:" ("+e.prop.units+")"),u+=e.required?"":" ("+v("optional")+")";var d=e.value,p=u.length>30;return p&&"android"===c.Platform.OS&&(u=u.substring(0,27)+"...",p=!1),f.createElement(c.View,{style:{paddingBottom:10,flex:5},key:this.getNextKey(),ref:a.name},f.createElement(c.TouchableHighlight,{underlayColor:"transparent",onPress:this.onChangeText.bind(this,a,!d)},f.createElement(c.View,{style:V.booleanContainer},f.createElement(c.View,{style:V.booleanContentStyle},f.createElement(c.Text,{style:[l,{width:b.dimensions(i).width-100}]},u),f.createElement(c.Switch,{onValueChange:function(e){return t.onChangeText(a,e)},value:d,onTintColor:n})))),this.getErrorView(e))},myDateTemplate:function(e){var t=this,o=e.prop,r=this.state.resource,a=void 0,l=void 0,d=(r&&r[o.name],this.getLabelAndBorderColor(o.name));r&&r[o.name]?(a=r[o.name].title,l=f.createElement(c.Text,{style:[V.dateLabel,{color:d}]},e.label)):(a=e.label,l=f.createElement(c.View,{style:{marginTop:20}}));var p="MMMM Do, YYYY",h=e.value&&w(new Date(e.value)).format(p),m={},g=void 0;if(o.maxDate||o.minDate){var y=this.getDateRange(o.maxDate),E=this.getDateRange(o.minDate);E&&y?m={maxDate:new Date(y),minDate:new Date(E)}:dataProps=E?{minDate:new Date(E)}:{maxDate:new Date(y)}}o.format&&(m.format=o.format),h||(h=v(e.prop));var k=b.isWeb()?{marginHorizontal:10,borderWidth:C.hairlineWidth,borderColor:"transparent",borderBottomColor:"#cccccc"}:{};return f.createElement(c.View,{key:this.getNextKey(),ref:o.name,style:[k,{paddingBottom:this.hasError(e.errors,o.name)||b.isWeb()?0:10}]},l,f.createElement(u["default"],s({style:[V.datePicker,{width:b.dimensions(i).width-30}],mode:"date",placeholder:h,format:p,confirmBtnText:"Confirm",cancelBtnText:"Cancel",date:e.value?new Date(e.value):g?g:null,onDateChange:function(o){t.changeTime(e.prop,new Date(w(o,p)))},customStyles:{dateInput:V.dateInput,dateText:V.dateText,placeholderText:[V.font18,{color:e.value?"#000000":"#aaaaaa",paddingLeft:e.value?10:0}],dateIconColor:{color:n},dateIcon:V.dateIcon}},m)),this.getErrorView(e))},getLabelAndBorderColor:function(e){return this.state.isRegistration?"#eeeeee":this.state.inFocus===e?M:"#b1b1b1"},getDateRange:function(e){if(!e)return null;var t=e.split(" ");if(1===t.length)switch(e){case"today":return(new Date).getTime();case"tomorrow":return(new Date).getTime()+O}var o=t[0],r=t[1],n=3===t.length?t[2]:"before",i=void 0;switch(r){case"years":i=I;break;case"days":i=O;break;case"hours":i=x;break;case"minutes":i=F;break;default:i=1e3}switch(n){case"before":return(new Date).getTime()-o*i;case"after":return(new Date).getTime()+o*i}},showPicker:function(e,t,o){var r=this;return _asyncToGenerator(regeneratorRuntime.mark(function _callee(){var n,i,a,s,l,u,f,d;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,p.next=3,c.DatePickerAndroid.open(o);case 3:n=p.sent,i=n.action,a=n.year,s=n.month,l=n.day,i!==c.DatePickerAndroid.dismissedAction&&(u=new Date(a,s,l)),r.changeTime(e,u),p.next=17;break;case 12:p.prev=12,p.t0=p["catch"](0),f=p.t0.code,d=p.t0.message,console.warn("Error in example '"+t+"': ",d);case 17:case"end":return p.stop()}},_callee,r,[[0,12]])}))()},changeTime:function(e,t){var o={};A(!0,o,this.state.resource),o[e.name]=t.getTime(),this.floatingProps||(this.floatingProps={}),this.floatingProps[e.name]=t,this.setState({resource:o,inFocus:e.name})},inputFocused:function(e){/*!this.state.isRegistration   &&*/
this.refs&&this.refs.scrollView&&this.props.model&&Object.keys(this.props.model.properties).length>5?(b.scrollComponentIntoView(this,this.refs.form.getComponent(e)),this.setState({inFocus:e})):this.state.inFocus!==e&&this.setState({inFocus:e})},myCustomTemplate:function(e){var t,o,r,a=V.labelClean,s=V.labelDirty,l=this.state.resource,u=(null!=this.props.metadata,this.props.model?this.props.model.properties[e.prop]:this.props.metadata.items.properties[e.prop]),d=(this.props.model&&this.props.model.required&&this.props.model.required.indexOf(e.prop)!==-1,this.getLabelAndBorderColor(e.prop)),p={color:d};if(l&&l[e.prop]){var h=void 0,m=b.getId(l[e.prop]).split("_")[0];h=b.getModel(m).value,t=b.getDisplayName(l[e.prop],h.properties),t||(t=l[e.prop].title),h.subClassOf&&h.subClassOf===S&&(t=b.createAndTranslate(t,!0)),o=s,r=f.createElement(c.Text,{style:[V.labelDirty,p]},e.label)}else t=e.label,o=[a,p],r=f.createElement(c.View,null);var y=(b.dimensions(i).width-20)/10;y<t.length&&(t=t.substring(0,y-3)+"..."),this.state.isRegistration&&u.ref&&"tradle.Language"===u.ref&&!l[u.name]&&(t+=" ("+b.translate(b.getDefaultLanguage())+")");var v="video"===u.name;"photos"===u.name;p={color:this.state.isRegistration?"#eeeeee":l&&l[e.prop]?"#000000":"#AAAAAA"};var w=V.font20,C=this.state.isRegistration?"#eeeeee":n;return f.createElement(c.View,{key:this.getNextKey(),style:{paddingBottom:this.hasError(e.errors,u.name)?0:10,margin:0},ref:u.name},r,f.createElement(c.TouchableHighlight,{underlayColor:"transparent",onPress:v?this.showCamera.bind(this,e):this.chooser.bind(this,u,e.prop)},f.createElement(c.View,{style:[V.chooserContainer,{flexDirection:"row",borderBottomColor:d}]},this.state[u.name+"_photo"]?f.createElement(c.View,{style:{flexDirection:"row"}},f.createElement(c.Image,{source:{uri:this.state[u.name+"_photo"].url},style:V.thumb}),f.createElement(c.Text,{style:[V.input,p]},t)):f.createElement(c.Text,{style:[V.input,w,p]},t),v?f.createElement(g,{name:"ios-play-outline",size:25,color:n}):f.createElement(g,{name:"ios-arrow-down",size:15,color:C,style:[V.icon1,V.customIcon]}))),this.getErrorView({noError:e.noError,errors:e.errors,prop:u,paddingBottom:0}))},hasError:function(e,t){return e&&e[t]||this.state.missedRequiredOrErrorValue&&this.state.missedRequiredOrErrorValue[t]},chooser:function(e,t,o){var r=this.state.resource,n=this.props.model||this.props.metadata;r||(r={},r[E.TYPE]=n.id);var i=n.subClassOf&&n.subClassOf==E.TYPES.FINANCIAL_PRODUCT,a=(this.refs.form.input,o.nativeEvent.text),s=e.ref,l=(b.getModel(s).value,this.props.navigator.getCurrentRoutes());this.props.navigator.push({title:v(e),id:10,component:p,backButtonTitle:"Back",sceneConfig:i?c.Navigator.SceneConfigs.FloatFromBottom:c.Navigator.SceneConfigs.FloatFromRight,passProps:{filter:a,isChooser:!0,prop:e,modelName:s,resource:r,isRegistration:this.state.isRegistration,returnRoute:l[l.length-1],callback:this.setChosenValue.bind(this)}})},setChosenValue:function(e,t){var o={};A(o,this.state.resource),"object"===("undefined"==typeof e?"undefined":a(e))&&(e=e.name);var r=void 0;if(this.props.metadata&&"array"===this.props.metadata.type)this.floatingProps||(this.floatingProps={}),this.floatingProps[e]=t,o[e]=t;else if("array"===this.props.model.properties[e].type)this.props.model.properties[e].items&&this.props.model.properties[e].items.ref?!function(){var n={id:b.getId(t),title:b.getDisplayName(t,b.getModel(t[E.TYPE]).properties)};if(t.photos&&(n.photo=t.photos[0].url),o[e]){var i=o[e].filter(function(e){return e.id===n.id});i.length||o[e].push(n)}else o[e]=[],o[e].push(n);r=!0}():o[e]=t;else{var n=b.getId(t);o[e]={id:n,title:b.getDisplayName(t,b.getModel(t[E.TYPE]).value.properties)},this.floatingProps||(this.floatingProps={}),this.floatingProps[e]=o[e];var i=this.refs.form.refs.input.state.value;if(i)for(var s in i)o[s]||(o[s]=i[s])}var l={resource:o,prop:e};this.state.missedRequiredOrErrorValue&&delete this.state.missedRequiredOrErrorValue[e],r&&(l.itemsCount=o[e].length),t.photos&&(l[e+"_photo"]=t.photos[0]),l.inFocus=e,this.setState(l);var u={};A(u,this.state.resource);for(var s in this.floatingProps)u[s]=this.floatingProps[s];T.saveTemporary(u)},myMoneyInputTemplate:function(e){var t=e.label;return t+=e.required?"":" (optional)",t+=e.prop.ref&&e.prop.ref===E.TYPES.MONEY?" ("+r+")":"",f.createElement(c.View,{style:{flexDirection:"row",justifyContent:"space-between"}},this.myTextInputTemplate({label:t,prop:e.prop,value:e.value.value?e.value.value+"":"",required:e.required,model:e.model,errors:e.errors,keyboard:"numeric"}),this.myEnumTemplate({prop:e.prop,enumProp:b.getModel(E.TYPES.MONEY).value.properties.currency,required:e.required,value:b.normalizeCurrencySymbol(e.value.currency),errors:e.errors,noError:!0}))},myEnumTemplate:function(e){var t,o=e.prop,r=e.enumProp;if(e.noError)t=f.createElement(c.View,null);else{var i=this.state.missedRequiredOrErrorValue?this.state.missedRequiredOrErrorValue[o.name]:null;!i&&e.errors&&e.errors[o.name]&&(i=e.errors[o.name]),t=i?f.createElement(c.View,{style:V.enumErrorLabel}):f.createElement(c.View,null)}var a=o?e.value:resource[r.name];return f.createElement(c.View,{style:[V.chooserContainer,V.enumElement],key:this.getNextKey(),ref:r.name},f.createElement(c.TouchableHighlight,{underlayColor:"transparent",onPress:this.enumChooser.bind(this,o,r)},f.createElement(c.View,null,f.createElement(c.View,{style:V.chooserContentStyle},f.createElement(c.Text,{style:V.enumText},a),f.createElement(g,{name:"ios-arrow-down",size:15,color:n,style:[V.icon1,V.enumProp]})),t)))},enumChooser:function(e,t,o){var r=this.state.resource,n=this.props.model||this.props.metadata;r||(r={},r[E.TYPE]=n.id);var i=(this.refs.form.input,this.props.navigator.getCurrentRoutes());this.props.navigator.push({title:t.title,titleTextColor:"#7AAAC3",id:22,component:h,backButtonTitle:"Back",passProps:{prop:e,enumProp:t,resource:r,returnRoute:i[i.length-1],callback:this.setChosenEnumValue.bind(this)}})},setChosenEnumValue:function(e,t,o){var r={};A(!0,r,this.state.resource),r[e]?"object"===a(r[e])?r[e][t]=o[Object.keys(o)[0]]:r[e]=_defineProperty({value:r[e]},t,o[Object.keys(o)[0]]):(r[e]={},r[e][t]=o[Object.keys(o)[0]],this.floatingProps||(this.floatingProps={}),this.floatingProps[e]||(this.floatingProps[e]={}),this.floatingProps[e][t]=o[Object.keys(o)[0]]);var n=this.refs.form.refs.input.state.value;if(n)for(var i in n)r[i]||(r[i]=n[i]);this.setState({resource:r,prop:e})},validateProperties:function(e){var t=e[E.TYPE]?b.getModel(e[E.TYPE]).value:this.props.model,o=t.properties,r=[],n=[];for(var i in e){var a=o[i];if(a)if("undefined"!=typeof e[i]&&null!==e[i])if("number"===a.type)this.checkNumber(e[i],a,r);else if(a.ref===E.TYPES.MONEY){var s=this.checkNumber(e[i],a,r);s&&t.required.indexOf(i)===-1?n.push(i):e[i].currency||(e[i].currency=this.props.currency)}else if(a.units&&"[min - max]"===a.units){var l=e[i].split("-").forEach(function(e){return trim(e)});if(1===l.length)checkNumber(l,a,r);else if(2===l.length){if(checkNumber(l[0],a,r),r[i])continue;if(checkNumber(l[1],a,r),!r[i])continue;l[1]<l[0]&&(r[i]=v("theMinValueBiggerThenMaxValue"))}else r[i]=v("thePropertyWithMinMaxRangeError")}else a.pattern&&(new RegExp(a.pattern).test(e[i])||(r[a.name]=v("invalidProperty",a.title)));else n.push(i)}return n&&n.forEach(function(t){delete e[t],delete r[t]}),r},checkNumber:function(e,t,o){var r,n=t.name;return t.ref===E.TYPES.MONEY&&(e=e.value),isNaN(e)?r="Please enter a valid number":t.max&&e>t.max?r="The maximum value for is "+t.max:t.min&&e<t.min&&(r="The minimum value for is "+t.min),r&&(o[n]=r),r}},V=C.create({enumProp:{marginTop:15},enumText:{marginTop:10,marginLeft:20,color:"#757575",fontSize:18},labelStyle:{paddingLeft:0},icon1:{width:15,height:15,marginVertical:2},booleanContainer:{height:60,borderColor:"#ffffff",borderBottomColor:"#cccccc",borderBottomWidth:1,justifyContent:"center",marginHorizontal:10,flex:1},booleanContentStyle:{justifyContent:"space-between",flexDirection:"row",borderRadius:4},datePicker:{marginLeft:10,paddingLeft:10,justifyContent:"flex-start",borderColor:"#f7f7f7",alignSelf:"stretch"},chooserContainer:{height:45,marginTop:20,borderColor:"#ffffff",borderBottomColor:"#cccccc",borderBottomWidth:1,marginHorizontal:10,position:"relative",flex:1},chooserContentStyle:{justifyContent:"space-between",flexDirection:"row",borderRadius:4},enumElement:{width:40,marginTop:20,height:45},enumErrorLabel:{paddingLeft:5,height:14,backgroundColor:"transparent"},formInput:{borderBottomWidth:1,borderBottomColor:"#cccccc",marginHorizontal:10,paddingLeft:0,borderColor:"#cccccc"},regInput:{borderWidth:0,paddingLeft:0,height:50,fontSize:20,color:"#eeeeee"},textInput:{borderWidth:0,paddingLeft:0,height:45,fontSize:20},thumb:{width:25,height:25,marginRight:2,marginTop:7,borderRadius:5},err:{paddingLeft:10},element:{position:"relative"},input:{backgroundColor:"transparent",color:"#aaaaaa",fontSize:18,marginTop:10},labelClean:{marginTop:21,color:"#AAA",position:"absolute",fontSize:20,top:7},labelDirty:{marginTop:21,marginLeft:10,color:"#AAA",position:"absolute",fontSize:12,top:-17},customIcon:{position:"absolute",right:0,marginTop:15},dateInput:{flex:1,height:35,paddingBottom:5,marginTop:5,borderWidth:1,borderColor:"transparent",borderBottomColor:"#cccccc",alignItems:"flex-start",justifyContent:"center"},dateText:{fontSize:18,color:"#000000",backgroundColor:"transparent",marginLeft:10},font18:{fontSize:18},font20:{fontSize:20},dateIcon:{position:"absolute",right:0,top:5},divider:{borderColor:"transparent",borderWidth:1.5,marginTop:20,marginHorizontal:10,marginBottom:5},dividerText:{marginBottom:5,fontSize:26,color:"#ffffff"},font14:{fontSize:14},booleanLabel:{color:"#aaaaaa",fontSize:18},booleanText:{marginTop:5,fontSize:18},dateLabel:{fontSize:12,marginTop:5,marginLeft:10}});e.exports=B},1954:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=(o(300),o(301)),i=_interopRequireDefault(n),a=o(1955),s=_interopRequireDefault(a),l=o(1956),u=_interopRequireDefault(l);o(2063);var c=function(e){function DatePickerAdapter(){return _classCallCheck(this,DatePickerAdapter),_possibleConstructorReturn(this,(DatePickerAdapter.__proto__||Object.getPrototypeOf(DatePickerAdapter)).apply(this,arguments))}return _inherits(DatePickerAdapter,e),r(DatePickerAdapter,[{key:"render",value:function(){return i["default"].createElement(s["default"],{showYearDropdown:!0,selected:this.props.date&&(0,u["default"])(this.props.date),placeholderText:this.props.placeholder,style:this.props.style,onChange:this.props.onDateChange})}}]),DatePickerAdapter}(n.Component);t["default"]=c},1957:function(e,t,o){function webpackContext(e){return o(webpackContextResolve(e))}function webpackContextResolve(e){return r[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var r={"./af":1958,"./af.js":1958,"./ar":1959,"./ar-ly":1960,"./ar-ly.js":1960,"./ar-ma":1961,"./ar-ma.js":1961,"./ar-sa":1962,"./ar-sa.js":1962,"./ar-tn":1963,"./ar-tn.js":1963,"./ar.js":1959,"./az":1964,"./az.js":1964,"./be":1965,"./be.js":1965,"./bg":1966,"./bg.js":1966,"./bn":1967,"./bn.js":1967,"./bo":1968,"./bo.js":1968,"./br":1969,"./br.js":1969,"./bs":1970,"./bs.js":1970,"./ca":1971,"./ca.js":1971,"./cs":1972,"./cs.js":1972,"./cv":1973,"./cv.js":1973,"./cy":1974,"./cy.js":1974,"./da":1975,"./da.js":1975,"./de":1976,"./de-at":1977,"./de-at.js":1977,"./de.js":1976,"./dv":1978,"./dv.js":1978,"./el":1979,"./el.js":1979,"./en-au":1980,"./en-au.js":1980,"./en-ca":1981,"./en-ca.js":1981,"./en-gb":1982,"./en-gb.js":1982,"./en-ie":1983,"./en-ie.js":1983,"./en-nz":1984,"./en-nz.js":1984,"./eo":1985,"./eo.js":1985,"./es":1986,"./es-do":1987,"./es-do.js":1987,"./es.js":1986,"./et":1988,"./et.js":1988,"./eu":1989,"./eu.js":1989,"./fa":1990,"./fa.js":1990,"./fi":1991,"./fi.js":1991,"./fo":1992,"./fo.js":1992,"./fr":1993,"./fr-ca":1994,"./fr-ca.js":1994,"./fr-ch":1995,"./fr-ch.js":1995,"./fr.js":1993,"./fy":1996,"./fy.js":1996,"./gd":1997,"./gd.js":1997,"./gl":1998,"./gl.js":1998,"./he":1999,"./he.js":1999,"./hi":2e3,"./hi.js":2e3,"./hr":2001,"./hr.js":2001,"./hu":2002,"./hu.js":2002,"./hy-am":2003,"./hy-am.js":2003,"./id":2004,"./id.js":2004,"./is":2005,"./is.js":2005,"./it":2006,"./it.js":2006,"./ja":2007,"./ja.js":2007,"./jv":2008,"./jv.js":2008,"./ka":2009,"./ka.js":2009,"./kk":2010,"./kk.js":2010,"./km":2011,"./km.js":2011,"./ko":2012,"./ko.js":2012,"./ky":2013,"./ky.js":2013,"./lb":2014,"./lb.js":2014,"./lo":2015,"./lo.js":2015,"./lt":2016,"./lt.js":2016,"./lv":2017,"./lv.js":2017,"./me":2018,"./me.js":2018,"./mi":2019,"./mi.js":2019,"./mk":2020,"./mk.js":2020,"./ml":2021,"./ml.js":2021,"./mr":2022,"./mr.js":2022,"./ms":2023,"./ms-my":2024,"./ms-my.js":2024,"./ms.js":2023,"./my":2025,"./my.js":2025,"./nb":2026,"./nb.js":2026,"./ne":2027,"./ne.js":2027,"./nl":2028,"./nl.js":2028,"./nn":2029,"./nn.js":2029,"./pa-in":2030,"./pa-in.js":2030,"./pl":2031,"./pl.js":2031,"./pt":2032,"./pt-br":2033,"./pt-br.js":2033,"./pt.js":2032,"./ro":2034,"./ro.js":2034,"./ru":2035,"./ru.js":2035,"./se":2036,"./se.js":2036,"./si":2037,"./si.js":2037,"./sk":2038,"./sk.js":2038,"./sl":2039,"./sl.js":2039,"./sq":2040,"./sq.js":2040,"./sr":2041,"./sr-cyrl":2042,"./sr-cyrl.js":2042,"./sr.js":2041,"./ss":2043,"./ss.js":2043,"./sv":2044,"./sv.js":2044,"./sw":2045,"./sw.js":2045,"./ta":2046,"./ta.js":2046,"./te":2047,"./te.js":2047,"./th":2048,"./th.js":2048,"./tl-ph":2049,"./tl-ph.js":2049,"./tlh":2050,"./tlh.js":2050,"./tr":2051,"./tr.js":2051,"./tzl":2052,"./tzl.js":2052,"./tzm":2053,"./tzm-latn":2054,"./tzm-latn.js":2054,"./tzm.js":2053,"./uk":2055,"./uk.js":2055,"./uz":2056,"./uz.js":2056,"./vi":2057,"./vi.js":2057,"./x-pseudo":2058,"./x-pseudo.js":2058,"./zh-cn":2059,"./zh-cn.js":2059,"./zh-hk":2060,"./zh-hk.js":2060,"./zh-tw":2061,"./zh-tw.js":2061};webpackContext.keys=function(){return Object.keys(r)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=1957},2065:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),i=o(301),a=_interopRequireDefault(i),s=o(300),l="ios"!==s.Platform.OS?null:o(2066),u=o(936).translate,c=o(1687),f=function(e){function EnumList(e){_classCallCheck(this,EnumList);var t=_possibleConstructorReturn(this,(EnumList.__proto__||Object.getPrototypeOf(EnumList)).call(this,e)),o=new s.ListView.DataSource({rowHasChanged:function(e,t){return e!==t}});return t.state={dataSource:o.cloneWithRows(t.props.enumProp.oneOf),filter:""},t}return _inherits(EnumList,e),n(EnumList,[{key:"selectResource",value:function(e){this.props.callback(this.props.prop.name,this.props.enumProp.name,e),this.props.navigator.popToRoute(this.props.returnRoute)}},{key:"render",value:function(){var e,t=a["default"].createElement(s.ListView,{dataSource:this.state.dataSource,renderRow:this.renderRow.bind(this),automaticallyAdjustContentInsets:!1,removeClippedSubviews:!1,keyboardDismissMode:"on-drag",keyboardShouldPersistTaps:!0,initialListSize:10,pageSize:20,scrollRenderAhead:10,showsVerticalScrollIndicator:!1});return l&&(e=a["default"].createElement(l,{onChangeText:this.onSearchChange.bind(this),placeholder:u("search"),showsCancelButton:!1,hideBackground:!0})),a["default"].createElement(s.View,{style:d.container},e,a["default"].createElement(s.View,{style:d.separator}),t)}},{key:"onSearchChange",value:function(e){var t=this.props.enumProp.oneOf,o=t.filter(function(t){return Object.keys(t)[0].indexOf(e)!==-1});this.setState({filter:e,dataSource:this.state.dataSource.cloneWithRows(o)})}},{key:"renderRow",value:function(e){var t;if("object"===("undefined"==typeof e?"undefined":r(e))){var o=Object.keys(e)[0];t=o+" "+e[o]}else t=e;return a["default"].createElement(s.View,{style:{padding:5}},a["default"].createElement(s.TouchableHighlight,{underlayColor:"transparent",onPress:this.selectResource.bind(this,e)},a["default"].createElement(s.View,{style:d.row},a["default"].createElement(s.View,{style:d.textContainer},a["default"].createElement(s.Text,{style:d.resourceTitle},t)))),a["default"].createElement(s.View,{style:d.separator}))}}]),EnumList}(i.Component),d=c.create({container:{flex:1,backgroundColor:"#ffffff",marginTop:64},resourceTitle:{fontSize:20},separator:{height:.5,backgroundColor:"#eeeeee"},row:{flexDirection:"row",padding:10},textContainer:{flex:1}});e.exports=f},2066:830,2068:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(300),i=o(301),a=_interopRequireDefault(i),s=o(2069),l=o(1554),u=function(e){function CameraView(e){_classCallCheck(this,CameraView);var t=_possibleConstructorReturn(this,(CameraView.__proto__||Object.getPrototypeOf(CameraView)).call(this,e));return t.state={cameraType:s.constants.Type.back},t}return _inherits(CameraView,e),r(CameraView,[{key:"render",value:function(){return a["default"].createElement(n.View,{style:c.container},a["default"].createElement(s,{ref:"cam",captureTarget:s.constants.CaptureTarget.cameraRoll,captureMode:s.constants.CaptureMode.video,style:c.container,onBarCodeRead:this._onBarCodeRead.bind(this),type:this.state.cameraType},a["default"].createElement(n.TouchableHighlight,{onPress:this._switchCamera.bind(this)},a["default"].createElement(l,{name:"ios-reverse-camera",size:50,color:"#eeeeee"}))),a["default"].createElement(n.View,{style:{backgroundColor:"#000000",paddingTop:7,height:125,alignSelf:"stretch"}},a["default"].createElement(n.TouchableHighlight,{onPress:this._takePicture.bind(this)},a["default"].createElement(l,{name:"ios-radio-button-on",size:85,color:"#eeeeee",style:c.icon}))))}},{key:"_onBarCodeRead",value:function(e){console.log(e)}},{key:"_switchCamera",value:function(){var e=this.state;e.cameraType=e.cameraType===s.constants.Type.back?s.constants.Type.front:s.constants.Type.back,this.setState(e)}},{key:"_takePicture",value:function(){var e=this;this.refs.cam.capture(function(t,o){console.log(t,o),e.props.onTakePic(o)})}}]),CameraView}(i.Component),c=n.StyleSheet.create({container:{flex:1,justifyContent:"center",alignItems:"center",alignSelf:"stretch",backgroundColor:"transparent"},icon:{width:85,height:85,marginTop:2,alignSelf:"center"}});e.exports=s&&u},2069:830,2070:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(1948),i=(_interopRequireDefault(n),o(300)),a=o(301),s=_interopRequireDefault(a),l=o(1685),u=_interopRequireDefault(l),c=o(1949),f=_interopRequireDefault(c),d=o(1722),p=o(1737),h=o(936),m=(h.translate,o(1720)),g=o(702),b=o(1554),y=o(1355),v=function(e){function GridItemsList(e){_classCallCheck(this,GridItemsList);var t=_possibleConstructorReturn(this,(GridItemsList.__proto__||Object.getPrototypeOf(GridItemsList)).call(this,e));t.state={list:t.props.list,show:!1};var o=t.props.navigator.getCurrentRoutes(),r=o.length;return o[r-1].onRightButtonPress=function(){e.callback(e.prop,t.state.list),e.navigator.popToRoute(e.returnRoute)},t._onImage=t._onImage.bind(t),t}return _inherits(GridItemsList,e),r(GridItemsList,[{key:"shouldComponentUpdate",value:function(e,t){return t.err||t.forceUpdate||this.state.list.length!=t.list.length}},{key:"cancelItem",value:function(e){var t=[];m(t,this.state.list);for(var o=0;o<t.length;o++)if(g(t[o],e)){t.splice(o,1);break}0!==t.length?this.setState({list:t}):(this.props.callback(this.props.prop,t),this.props.navigator.popToRoute(this.props.returnRoute))}},{key:"render",value:function(){var e=this,t=h.getModel(this.props.resource[y.TYPE]).value,o=t.properties[this.props.prop],r=("ios"===i.Platform.OS,"md-add"),n="android"===i.Platform.OS?"red":"#ffffff";return s["default"].createElement(p,{style:u["default"].container},s["default"].createElement(i.ScrollView,{ref:"this"},s["default"].createElement(i.View,{style:{flex:1}},s["default"].createElement(d,{photos:this.state.list,forceUpdate:this.state.forceUpdate,callback:this.cancelItem.bind(this),navigator:this.props.navigator,resource:this.props.resource}))),s["default"].createElement(i.View,{style:w.footer},s["default"].createElement(f["default"],{ref:function(t){return e._imageInput=t},prop:o,underlayColor:"transparent",onPress:h.isWeb()?null:function(){return e._imageInput.showImagePicker()},onImage:this._onImage},s["default"].createElement(i.View,{style:u["default"].menuButton},s["default"].createElement(b,{name:r,size:33,color:n})))))}},{key:"_onImage",value:function(e){var t=[];this.state.list.forEach(function(e){var o={};m(o,e),t.push(o)}),t.push(e),this.props.onAddItem("photos",e),this.setState({list:t,forceUpdate:!0})}}]),GridItemsList}(a.Component),w=i.StyleSheet.create({container:{flex:1,marginTop:60},footer:{flexDirection:"row",justifyContent:"flex-end",height:45,paddingHorizontal:10,backgroundColor:"#eeeeee",borderColor:"#eeeeee",borderWidth:1,borderTopColor:"#cccccc"},icon:{marginLeft:-30,marginTop:-25,color:"red"}});e.exports=v},2071:function(e,t,o){"use strict";var r=o(300),n="#000000",i="#000000",a="#EEF2DB",s="#999999",l="#356D9D",u="#777777",c="#eeeeee",f=24,d=26,p=r.Dimensions.get("window").height<600?55:66,h="400",m=Object.freeze({fieldset:{},formGroup:{normal:{marginBottom:10},error:{marginBottom:10}},controlLabel:{normal:{color:n,fontSize:f,marginBottom:3,fontWeight:h},error:{color:a,fontSize:d,marginBottom:7,fontWeight:h}},helpBlock:{normal:{color:s,fontSize:d,marginLeft:10,marginTop:5},error:{color:s,fontSize:d,marginLeft:10,marginBottom:2}},errorBlock:{fontSize:f,marginBottom:2,color:a},textbox:{normal:{color:"#467EAE",fontSize:f,backgroundColor:"#ffffff",height:p,padding:10,marginBottom:5},error:{color:i,backgroundColor:"#ffffff",fontSize:d,height:p,padding:10,borderColor:a,borderWidth:1,marginBottom:5},notEditable:{fontSize:f,height:p,padding:7,borderRadius:4,borderColor:l,borderWidth:1,marginBottom:5,color:u,backgroundColor:c}},checkbox:{normal:{color:i,marginBottom:4},error:{color:i,marginBottom:4}},select:{normal:{marginBottom:4},error:{marginBottom:4}},datepicker:{normal:{marginBottom:4},error:{marginBottom:4}}});e.exports=m},2072:function(e,t){e.exports={_t:"tradle.TermsAndConditions",introduction:"By accessing or using this App you agree to be bound by these Terms.",identity:"This web app allows users to establish a continuity of their actions (identity) with service providers and vice versa. This establishes a digital trust layer that is needed in finance and other sectors of commerce and for government services. You as a customer control your identity attributes and can share a subset of them with the services providers.",sharing:"Providers may request data, e.g. identity attributes, forms filled, products purchased. When providers request data you have already submitted to another service provider, you can choose to share or submit anew. Choosing to share lets you update multiple service providers when you make changes to the shared data, saving you time, and accumulating reputation across providers.",notifications:"When either party makes changes to exchanged data, the other is notified of the fact that data has changed on your side, but does not receive the changes themselves, e.g. the fact that an insurance policy changed, but none of the details of the updated policy.",digitalSignatures:"This app uses digital signatures to authenticate all messages exchanged between parties. Digital signatures are verified on both ends, i.e. making sure you are talking to the right service provider and for them to ensure that they are talking to the right user of their service. For any message you send, this app adds a digital signature on your behalf, which in combination with a cryptographic seal placed on a blockchain, protects the data from tampering and provides non-repudiation of the signer’s statements. It also serves as an audit trail of the consent parties give each other to keep and safeguard exchanged data. Either party can revoke that consent at any time.",changes:"We reserve the right, at our sole discretion, to modify or replace these Terms at any time. If a revision is material we will try to provide at least 10 days' notice prior to any new terms taking effect. What constitutes a material change will be determined at our sole discretion.",contactUs:"If you have any questions about these Terms, please contact us at info@tradle.io",damages:"You further acknowledge and agree that Tradle shall not be responsible or liable, directly or indirectly, for any damage or loss caused or alleged to be caused by or in connection with use of or reliance on content exchanged using this App."}},2073:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(300),i=o(936),a=_interopRequireDefault(i),s=o(301),l=_interopRequireDefault(s),u=a["default"].translate,c=function(e){function NetworkInfoProvider(e){return _classCallCheck(this,NetworkInfoProvider),_possibleConstructorReturn(this,(NetworkInfoProvider.__proto__||Object.getPrototypeOf(NetworkInfoProvider)).call(this,e))}return _inherits(NetworkInfoProvider,e),r(NetworkInfoProvider,[{key:"render",value:function(){var e=this.props.resource?u("learnMoreDescriptionTo",a["default"].getDisplayName(this.props.resource)):u("learnMoreDescription");return this.props.connected?l["default"].createElement(n.View,null):l["default"].createElement(n.View,{style:f.bar},l["default"].createElement(n.Text,{style:f.text},u("noNetwork")),l["default"].createElement(n.TouchableOpacity,{onPress:function(){return n.Alert.alert(u("offlineMode"),e,null)}},l["default"].createElement(n.Text,{style:f.text},u("learnMore"))))}}]),NetworkInfoProvider}(s.Component),f=n.StyleSheet.create({bar:{backgroundColor:"#FF9B30",padding:7,flexDirection:"row",justifyContent:"space-between"},text:{fontSize:18,color:"#ffffff",alignSelf:"center",marginHorizontal:10}});e.exports=c},2074:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function isMultientry(e){if(!e.product)return!1;var t=d.getModel(e.form).value,o=d.getModel(e.product).value,r=o.multiEntryForms;return!(!r||r.indexOf(t.id)===-1)}var r,n,i,a=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),s=o(1705),l=(_interopRequireDefault(s),o(945)),u=o(300),c=o(301),f=_interopRequireDefault(c),d=o(936),p=o(943),h=d.translate,m=o(1707),g=o(1945),b=o(1947),y=o(2075),v=o(1722),w=o(1554),C=(d.groupByEveryN,
o(1355)),E=o(1709),k=(o(1714),o(1720)),T=o(702),A=o(1357).formDefaults,P=(o(2080),o(1530)),S=o(1687),R=o(1718),I="tradle.MyProduct",O="tradle.FormError",x="tradle.FormRequest",F="tradle.NextFormRequest",M="tradle.ProductApplication",_="tradle.ProductList",D="£",N=function(e){function MessageRow(e){_classCallCheck(this,MessageRow);var t=_possibleConstructorReturn(this,(MessageRow.__proto__||Object.getPrototypeOf(MessageRow)).call(this,e)),o=t.props.resource;d.getModel(o[C.TYPE]||o.id).value,d.getMe();return n=t.props.bankStyle.LINK_COLOR,i=t.props.bankStyle.STRUCTURED_MESSAGE_COLOR,r=e.currency?e.currency.symbol||e.currency:D,t}return _inherits(MessageRow,e),a(MessageRow,[{key:"shouldComponentUpdate",value:function(e,t){return!T(this.props.resource,e.resource)||!T(this.props.to,e.to)||this.props.orientation!==e.orientation||this.props.sendStatus!==e.sendStatus}},{key:"render",value:function(){var e,t,o=this.props.resource,r=d.getModel(o[C.TYPE]||o.id).value,n=(d.getMe(),this.isMyMessage()),a=this.props.to,s=this.getOwnerPhoto(n),l=!n&&a&&a.photos,c=[],p=this.formatRow(n,c),m=p?p.onPressCall:null,g=p?p.isConfirmation:null,b=o[C.TYPE]===O,y=[],E={height:3},k=r.id===M,T=k?p.message:o.message,A=!T||!T.length,P=o[C.TYPE]===C.TYPES.SIMPLE_MESSAGE,S=r.id===C.TYPES.FORGET_ME||r.id===C.TYPES.FORGOT_YOU;if(c.length){o.from.id;if(n)r.id===x?e=[B.myCell,{backgroundColor:"#F1FFE7",borderColor:"#D7DACA",borderWidth:1}]:A||(e=B.myCell);else if(S)e=B.forgetCell;else if(g)e=[B.verificationBody,{borderColor:"#cccccc",backgroundColor:this.props.bankStyle.CONFIRMATION_BG},B.myConfCell];else{var R=b?this.props.bankStyle.REQUEST_FULFILLED:"#efefef",I={borderColor:R,backgroundColor:"#ffffff",borderTopLeftRadius:0};e=P&&T.length<30?[B.verificationBody,I]:[B.verificationBody,{flex:1},I]}b&&(e=[e,B.verificationBody,{backgroundColor:this.props.bankStyle.FORM_ERROR_BG,borderColor:o.documentCreated?this.props.bankStyle.REQUEST_FULFILLED:this.props.bankStyle.FORM_ERROR_BORDER}]),!n||P||b||!r.id!==x||(e=[e,B.verificationBody,{backgroundColor:i,borderColor:"#C1E3E8"}])}else{var F=A?null:d.getDisplayName(o,r.properties);F&&(c=f["default"].createElement(u.Text,{style:B.resourceTitle,numberOfLines:2},F))}var D,N=r.properties;if(N.photos)if(o.photos){var V=o.photos.length;t=1===V?1:2==V||4==V?2:3;var L;L=1===t?B.bigImage:2===t?B.mediumImage:B.image,o.photos.forEach(function(e){y.push({url:d.getImageUri(e.url)})}),E={flexDirection:"row",alignSelf:n?"flex-end":"flex-start",marginLeft:n?30:45,borderRadius:10,marginBottom:3}}else D=f["default"].createElement(u.View,{style:{height:0,width:0}});var j,z=[B.row,{backgroundColor:this.props.bankStyle.BACKGROUND_COLOR}],W=this.getTime(o),q=W?f["default"].createElement(u.Text,{style:B.date,numberOfLines:1},W):f["default"].createElement(u.View,null);A?l?j=!0:r.properties.message||(j=!0):j=!0;var Y,H=d.dimensions(MessageRow).width,U=f["default"].createElement(u.View,null);if(T&&!k){var K=d.splitMessage(T);T=2==K.length?K[0].length>K[1].length?K[0]:K[1]:K[0];var G=d.getStringName(T);if(G&&(T=h(G)),o.form){var Q=h(o.form);Q.length>T.length&&(T=Q)}}var J=.8*H,Z=J/d.getFontSize(10),X=!(!P||!T)&&Z<T.length;if(j){var $={flexDirection:"row",alignSelf:n?"flex-end":"flex-start"};if(T&&X&&($.width=J),!P&&r.id!==x&&r.id!==_){var ee=T.length*d.getFontSize(12)+40;$.width=ee>J?J:ee}if(this.props.sendStatus&&null!==this.props.sendStatus)switch(this.props.sendStatus){case"Sent":U=f["default"].createElement(u.View,{style:B.sendStatus},f["default"].createElement(u.Text,{style:B.sendStatusText},this.props.sendStatus),f["default"].createElement(w,{name:"ios-checkmark-outline",size:15,color:"#009900"}));break;default:U=f["default"].createElement(u.View,{style:B.sendStatus},f["default"].createElement(u.Text,{style:B.sendStatusDefaultText},this.props.sendStatus))}var te=o.txId?f["default"].createElement(u.View,{style:B.sealedStatus},f["default"].createElement(w,{name:"ios-ribbon",size:30,color:"#316A99",style:{opacity:.5}})):f["default"].createElement(u.View,null),oe=void 0;oe=e?!P||X?[B.textContainer,e]:e:B.textContainer;var re=f["default"].createElement(u.View,{style:[z,$]},f["default"].createElement(u.View,{style:{marginTop:2}},s),f["default"].createElement(u.View,{style:oe},f["default"].createElement(u.View,{style:B.container},this.isShared()?f["default"].createElement(u.View,{style:[B.verifiedHeader,{backgroundColor:this.props.bankStyle.SHARED_WITH_BG}]},f["default"].createElement(u.Text,{style:B.white18},h("youShared",o.to.organization.title))):f["default"].createElement(u.View,null),c),te));Y=P||k?re:f["default"].createElement(u.TouchableHighlight,{onPress:m?m:function(){},underlayColor:"transparent"},re)}else Y=f["default"].createElement(u.View,{style:{height:5}});var V=y.length,t=1===V?1:2==V||4==V?2:3,ne={};if(t>0)if(1===t){var ie=Math.max(240,J/2),ae=280*ie/240;ne=[B.bigImage,{width:ie,height:ae}]}else ne=2===t?B.mediumImage:B.image;var $={margin:1,backgroundColor:"#f7f7f7"},r=d.getModel(this.props.resource[C.TYPE]).value,se=r.id.indexOf("License")!==-1||r.id.indexOf("Passport")!==-1,ne=se&&1===V?B.bigImageH:ne,le=o.documentCreated||r.id!==x?f["default"].createElement(u.View,null):this.showShareableResources(z,$,e);return f["default"].createElement(u.View,{style:[$,{backgroundColor:this.props.bankStyle.BACKGROUND_COLOR,paddingRight:n?10:0}]},q,Y,f["default"].createElement(u.View,{style:E},f["default"].createElement(v,{photos:y,resource:this.props.resource,style:[ne,{marginTop:-5}],navigator:this.props.navigator,numberInRow:t})),U,le)}},{key:"editVerificationRequest",value:function(){var e=this.props.resource.document,t=d.getModel(e[C.TYPE]).value,o=d.getDisplayName(e,t.properties);this.props.navigator.push({title:o,id:4,component:b,backButtonTitle:"Back",rightButtonTitle:"Done",passProps:{model:t,resource:e,additionalInfo:this.props.resource,editCols:["photos"]}})}},{key:"showEditResource",value:function(){var e={},t=this.props.resource.prefill;if(Array.isArray(this.props.resource.errors)){var o=!0,r=!1,n=void 0;try{for(var i,a=this.props.resource.errors[Symbol.iterator]();!(o=(i=a.next()).done);o=!0){var s=i.value;e[s.name]=s.error}}catch(l){r=!0,n=l}finally{try{!o&&a["return"]&&a["return"]()}finally{if(r)throw n}}}else e=this.props.resource.errors;var u=d.getMe();t.from={id:d.getId(u),title:d.getDisplayName(u)},t.to=this.props.resource.from;var c=t[C.TYPE]||d.getId(t).split("_")[0],f=d.getModel(c).value;this.props.navigator.push({id:4,title:h(f),rightButtonTitle:"Done",backButtonTitle:"Back",component:b,passProps:{model:f,resource:t,isPrefilled:!0,errs:e,currency:this.props.currency,bankStyle:this.props.bankStyle,originatingMessage:this.props.resource}})}},{key:"showShareableResources",value:function(e,t,o){var r=this;if(!this.props.shareableResources)return f["default"].createElement(u.View,null);var n=this.props.resource,i=d.getModel(n.form).value,a=isMultientry(n),s=a&&this.props.productToForms[n.product]?this.props.productToForms[n.product][n.form]:null,l=[],c=0,p=(this.props.to[C.TYPE]===C.TYPES.ORGANIZATION&&d.getId(this.props.to),this.props.shareableResources.verifications),m=this.props.shareableResources.providers;for(var g in p)if(g===i.id){var b=p[g],y=(b[0],b.length);b.forEach(function(e){var t=e.document;if(!s||s.indexOf(d.getId(t))===-1&&s.indexOf(e.document[C.NONCE])===-1){var o=(d.getModel(e[C.TYPE]),r.formatDocument({model:i,verification:e,isAccordion:y>1,providers:m&&m[t[C.ROOT_HASH]]}));c&&(o=f["default"].createElement(u.View,{key:r.getNextKey()},f["default"].createElement(u.View,{style:{height:1,backgroundColor:"#dddddd"}}),o)),l.push(o),c++}})}if(!l.length)return f["default"].createElement(u.View,null);var v,w=h(i),E=w.indexOf("Verification");v=E===-1?w:w.substring(0,E)+(w.length===E+12?"":w.substring(E+12));var k=this.props.to.organization?this.props.to.organization.title+".":this.props.to.name,T=1===l.length?i.subClassOf===I?h("shareMyProduct",h(i),k):h("shareOne",d.getMe().firstName,v,k):h("shareOneOfMany",d.getMe().firstName,v,k),A=.8*d.dimensions(MessageRow).width;return f["default"].createElement(u.View,{style:[e,t,{width:A}],key:this.getNextKey()},f["default"].createElement(u.View,{style:{width:30}}),f["default"].createElement(u.View,{style:[o?[B.textContainer,o]:B.textContainer]},f["default"].createElement(u.View,{style:{flex:1}},f["default"].createElement(u.View,{style:B.assistentBox},f["default"].createElement(u.Text,{style:B.assistentText},T)),f["default"].createElement(u.View,{style:{marginHorizontal:-7}},l))))}},{key:"onPress",value:function(e){this.props.navigator.push({id:7,component:m,passProps:{url:this.props.resource.message}})}},{key:"createNewResource",value:function(e,t){var o={from:this.props.resource.to,to:this.props.resource.from};this.props.resource[C.TYPE]!==x&&(o.message=this.props.resource.message),o[C.TYPE]=e.id;var r=p.prefillWithTestData&&e.id in A;r&&k(!0,o,A[e.id]),this.props.navigator.push({id:4,title:h(e),rightButtonTitle:t?null:"Done",backButtonTitle:"Back",component:b,passProps:{model:e,resource:o,isPrefilled:r,currency:this.props.currency,bankStyle:this.props.bankStyle,originatingMessage:this.props.resource}})}},{key:"verify",value:function(e){var t=this.props.resource,o=t[C.TYPE]===C.TYPES.VERIFICATION,r=o?t.document:t,n={resource:r,bankStyle:this.props.bankStyle,currency:this.props.currency};o?n.verification=t:n.verify=!0;var i=d.getModel(r[C.TYPE]).value,a={id:5,component:g,backButtonTitle:"Back",passProps:n,title:h(i)};this.isMyMessage()&&(a.rightButtonTitle="Edit",a.onRightButtonPress={title:"Edit",component:b,id:4,passProps:{resource:r,metadata:i,bankStyle:this.props.bankStyle,currency:this.props.currency,callback:this.props.onSelect.bind(this,r)}}),this.props.navigator.push(a)}},{key:"formatRow",value:function(e,t){var o=this.props.resource,r=d.getModel(o[C.TYPE]||o.id).value;if(r.id===M){var a=d.getModel(o.product).value,s=!this.props.navigator.isConnected&&this.props.isLast?h("noConnectionForNewProduct",d.getMe().firstName,h(a)):h("newProductMsg",h(a)),l=e?"#ffffff":"#757575",c=.8*d.dimensions().width-(e?40:90),p=!this.props.navigator.isConnected&&this.props.isLast?f["default"].createElement(u.View,{key:this.getNextKey()},f["default"].createElement(u.Text,{style:[B.resourceTitle,{color:l}]},s)):f["default"].createElement(u.View,{key:this.getNextKey(),style:{flexDirection:"row"}},f["default"].createElement(u.View,{style:{flexDirection:"column",maxWidth:c}},f["default"].createElement(u.Text,{style:[B.resourceTitle,{color:l,marginTop:3}]},s)),f["default"].createElement(w,{name:"ios-folder-open-outline",size:25,color:l,style:{position:"absolute",right:0}}));return t.push(p),{message:s}}var m=r.id===C.TYPES.PRODUCT_LIST;if(m&&o.welcome){var g=f["default"].createElement(u.View,{key:this.getNextKey()},f["default"].createElement(u.Text,{style:B.resourceTitle},h("hello",d.getMe().firstName)),f["default"].createElement(u.View,{style:B.rowContainer},f["default"].createElement(u.Text,{style:[B.resourceTitle,{color:n}]},h("listOfProducts")," "),f["default"].createElement(w,{style:{color:n,paddingLeft:100},size:20,name:"ios-arrow-forward"})));return t.push(g),{onPressCall:this.onChooseProduct.bind(this,!0)}}var b=r.id===C.TYPES.SELF_INTRODUCTION,y=r.id===C.TYPES.CUSTOMER_WAITING;if(b||y){var v=f["default"].createElement(u.View,{key:this.getNextKey()},f["default"].createElement(u.View,{style:B.rowContainer},f["default"].createElement(u.Text,{style:[B.resourceTitle,{color:e?"#ffffff":"#757575"}]},o.message),f["default"].createElement(w,{style:{color:n,backgroundColor:"transparent",paddingLeft:5},size:20,name:"ios-person"})));return t.push(v),null}var E=r.id===C.TYPES.FORGET_ME||r.id===C.TYPES.FORGOT_YOU;if(E){var k=f["default"].createElement(u.View,{key:this.getNextKey()},f["default"].createElement(u.Text,{style:[B.resourceTitle,B.white18],key:this.getNextKey()},o.message));return t.push(k),null}if(r.id===x)return o.product&&d.getModel(o.product).value.subClassOf===I?void 0:{onPressCall:this.formRequest(o,t)};var T=r.gridCols||r.viewCols;if(T){var A,P,S=r.id===O,R=!0,F=this,_=r.properties,D=(!o.message||!o.message.length,r.subClassOf===I),N=r.id===C.TYPES.SIMPLE_MESSAGE,F=this,V=[],L=this.props.context&&this.props.context._readOnly;if(T.forEach(function(t){if("array"!==_[t].type&&"date"!==_[t].type){if(_[t].ref)return void(o[t]&&(V.push(F.getPropRow(_[t],o,o[t].title||o[t])),R=!1));var a=N||S?B.resourceTitle:B.description;if(e&&(a=[a,{justifyContent:"flex-end",color:D?"#2892C6":"#ffffff"}]),!o[t]||"string"!==_[t].type||0!=o[t].indexOf("http://")&&0!=o[t].indexOf("https://"))if(S){var s=o.prefill[C.TYPE]?o.prefill[C.TYPE]:d.getId(o.prefill).split("_")[0],l=o.documentCreated?"ios-done-all":"ios-information-circle-outline",c=30;V.push(f["default"].createElement(u.View,{key:F.getNextKey()},f["default"].createElement(u.Text,{style:[a,{color:"#757575"}]},e?h("errorNotification"):o[t]," "),f["default"].createElement(u.Text,{style:[a,{color:o.documentCreated?"#757575":F.props.bankStyle.FORM_ERROR_COLOR}]},h(d.getModel(s).value)),f["default"].createElement(w,{name:l,size:c,color:o.documentCreated?F.props.bankStyle.REQUEST_FULFILLED:F.props.bankStyle.FORM_ERROR_COLOR,style:B.errorBadge})))}else if(r.autoCreate){if(!o[t]||!o[t].length)return;var p=d.splitMessage(o[t]);if(2===p.length){if(o.welcome)return msg=f["default"].createElement(u.View,{key:F.getNextKey()},f["default"].createElement(u.Text,{style:a},p[0]),f["default"].createElement(u.View,{style:B.rowContainer},f["default"].createElement(u.Text,{style:[a,{color:e?i:e?F.props.bankStyle.MY_MESSAGE_LINK_COLOR:n}]},p[1]," "),f["default"].createElement(w,{style:{color:n,marginTop:2},size:20,name:"ios-arrow-forward"}))),V.push(msg),void(A=F.onChooseProduct.bind(F,!0));var m=p[1].split("_"),g=d.getModel(m[0]),b=void 0,y=void 0;if(g){F.props.shareableResources&&!N&&(a=B.description),g=g.value;var v=g.subClassOf===I;v?(b={color:"#aaaaaa"},A=null,y=f["default"].createElement(u.Text,{style:[a,b]},h(g))):(p[0].length||(p[0]="I just sent you a request for "),2===m.length?A=F.editForm.bind(F,p[1],p[0]):e||o.documentCreated||(A=F.createNewResource.bind(F,g,e)),b=e&&!S?{color:F.props.bankStyle.MY_MESSAGE_LINK_COLOR}:{color:"#2892C6"},y=e?f["default"].createElement(u.Text,{style:[a,b]},h(g)):f["default"].createElement(u.View,{style:B.rowContainer},f["default"].createElement(u.Text,{style:[a,{color:o.documentCreated?"#757575":n}]},h(g)),f["default"].createElement(w,{style:[{marginTop:2},o.documentCreated||L?B.linkIconGreyed:{color:e?F.props.bankStyle.MY_MESSAGE_LINK_COLOR:n}],size:20,name:"ios-arrow-forward"})));var E=D?h("shareProduct",h(g)):d.getStringName(p[0]),k=E?d.translate(E):p[0],T=f["default"].createElement(u.View,{key:F.getNextKey()},f["default"].createElement(u.Text,{style:a},k),y);return void V.push(T)}}else P=o[t].indexOf("Congratulations!")!==-1;P?(a=[a,{color:F.props.bankStyle.CONFIRMATION_COLOR},B.resourceTitle],V.push(f["default"].createElement(u.View,{key:F.getNextKey()},f["default"].createElement(u.Text,{style:[a]},o[t]),f["default"].createElement(w,{style:[{color:F.props.bankStyle.CONFIRMATION_COLOR,alignSelf:"flex-end",width:50,height:50,marginTop:-30,opacity:.2}],size:50,name:"ios-flower"}),f["default"].createElement(w,{style:{color:F.props.bankStyle.CONFIRMATION_COLOR,alignSelf:"flex-end",marginTop:-10},size:30,name:"ios-done-all"})))):V.push(f["default"].createElement(u.Text,{style:a,key:F.getNextKey()},o[t]))}else{var O=_[t].displayAs?d.templateIt(_[t],o):"boolean"===_[t].type?o[t]?"Yes":"No":o[t];if(!O)return;r.properties.verifications&&!e&&(A=F.verify.bind(F)),e||(a=[a,{paddingBottom:10,color:"#2892C6"}]),V.push(F.getPropRow(_[t],o,O))}else A=F.onPress.bind(F),V.push(f["default"].createElement(u.Text,{style:a,numberOfLines:R?2:1,key:F.getNextKey()},o[t]));R=!1}}),!N&&!S&&!D){var j=h(r);V.push(f["default"].createElement(u.Text,{style:[B.resourceTitle,B.formType,{color:e?"#EBFCFF":this.props.bankStyle.STRUCTURED_MESSAGE_BORDER}],key:this.getNextKey()},j))}return V&&V.length&&V.forEach(function(e){t.push(e)}),L?null:A?{onPressCall:A}:S?d.getId(o.from)===d.getId(d.getMe())?null:{onPressCall:this.showEditResource.bind(this)}:N?P?{isConfirmation:!0}:null:{onPressCall:this.props.onSelect.bind(this,o,null)}}}},{key:"formRequest",value:function(e,t){var o=this,r=d.getModel(e.form).value,i=e.message,a=void 0,s=void 0;if(!e.documentCreated&&e.product&&r.subClassOf!==I){var l=d.getModel(e.product).value.multiEntryForms;if(l&&l.indexOf(r.id)!==-1){var c=this.props.productToForms;if(c){var p=c[e.product];if(p){var m=p[e.form];m&&(s=!0)}}}s||(a=this.createNewResource.bind(this,r,g))}var g=this.isMyMessage(),b=g?{color:"#AFBBA8"}:{color:"#2892C6"},y=void 0,v=this.props.context&&this.props.context._readOnly;if(s&&!e.documentCreated){this.props.context&&this.props.context._readOnly;y=f["default"].createElement(u.View,{style:[B.rowContainer,{paddingVertical:10,alignSelf:"center"}]},f["default"].createElement(u.View,{style:B.textContainer},f["default"].createElement(u.TouchableHighlight,{underlayColor:"transparent",style:{paddingRight:15},onPress:function(){o.createNewResource(r,g)}},f["default"].createElement(u.View,{style:B.multiEntryButton},f["default"].createElement(u.Text,{style:B.multiEntryText},"   ",h("addSameForm"),"   "))),f["default"].createElement(u.TouchableHighlight,{underlayColor:"transparent",onPress:function(){u.Alert.alert(h("areYouSureAboutNextForm",h(r)),null,[{text:h("cancel"),onPress:function(){return console.log("Canceled!")}},{text:h("Ok"),onPress:function(){var t;P.addMessage((t={from:e.to,to:e.from,_context:o.props.context},_defineProperty(t,C.TYPE,F),_defineProperty(t,"after",r.id),t));var n={value:{documentCreated:!0},resource:e,meta:d.getModel(e[C.TYPE]).value};P.addItem(n)}}])}},f["default"].createElement(u.View,{style:B.multiEntryButton},f["default"].createElement(u.Text,{style:B.multiEntryText},"   ",h("getNextForm"),"   ")))))}else if(g)y=f["default"].createElement(u.Text,{style:[B.resourceTitle,b]},h(r));else{var E=e.documentCreated||v||r.subClassOf===I,k=f["default"].createElement(u.View,{style:B.rowContainer},f["default"].createElement(u.Text,{style:[B.resourceTitle,{color:e.documentCreated||E?"#757575":n}]},h(r)),f["default"].createElement(w,{style:[{marginTop:2,paddingLeft:100},e.documentCreated?B.linkIconGreyed:{color:g?this.props.bankStyle.MY_MESSAGE_LINK_COLOR:n}],size:20,name:"ios-arrow-forward"}));y=E?k:f["default"].createElement(u.TouchableHighlight,{underlayColor:"transparent",onPress:function(){o.createNewResource(r,g)}},k)}var T=s?h("addAnotherFormOrGetNext",h(r)):d.getStringName(i),A=T?d.translate(T):i,S=f["default"].createElement(u.View,{key:this.getNextKey()},f["default"].createElement(u.Text,{style:B.resourceTitle},A),y);return t.push(S),v?null:a}},{key:"onChooseProduct",value:function(){if(!this.props.isAggregation){var e=C.TYPES.MESSAGE,t=d.getModel(e).value,o=t.isInterface;if(o){var r=this.props.to,n=this.props.navigator.getCurrentRoutes();this.props.navigator.push({title:h("iNeed"),id:15,component:y,sceneConfig:u.Navigator.SceneConfigs.FloatFromBottom,backButtonTitle:"Back",passProps:{resource:r,returnRoute:n[n.length-1],products:this.props.resource.list,callback:this.props.callback,bankStyle:this.props.bankStyle}})}}}},{key:"editForm",value:function(e,t){var o,r=e.split("_"),n=(o={},_defineProperty(o,C.TYPE,r[0]),_defineProperty(o,C.ROOT_HASH,r[1]),o),i=d.getModel(r[0]).value,a=h(i);this.props.navigator.push({title:a,id:4,component:b,backButtonTitle:"Back",rightButtonTitle:"Done",passProps:{model:i,resource:n,message:t}})}}]),MessageRow}(c.Component),B=S.create({container:{flex:1},textContainer:{flex:1,flexDirection:"row"},resourceTitle:{fontSize:18},date:{flex:1,color:"#999999",fontSize:14,alignSelf:"center",paddingTop:10},row:{backgroundColor:"#f7f7f7",flexDirection:"row"},myCell:{paddingVertical:5,paddingHorizontal:7,justifyContent:"flex-end",borderRadius:10,borderTopRightRadius:0,backgroundColor:"#77ADFC"},forgetCell:{paddingVertical:5,paddingHorizontal:7,justifyContent:"flex-end",borderRadius:10,borderTopLeftRadius:0,backgroundColor:"red"},myConfCell:{paddingVertical:5,paddingHorizontal:7,justifyContent:"flex-end",borderTopLeftRadius:0,borderRadius:10},bigImage:{width:240,height:280,margin:1,borderRadius:10},bigImageH:{width:270,height:200,margin:1,borderRadius:10},mediumImage:{width:120,height:120,margin:1,borderRadius:10},image:{width:88,height:88,margin:1,borderRadius:10},verySmallLetters:{fontSize:18,color:"#757575"},linkIconGreyed:{color:"#cccccc"},description:{color:"#757575",fontSize:14},assistentText:{color:"#757575",fontStyle:"italic",fontSize:17},assistentBox:{backgroundColor:"#efefef",paddingVertical:5,borderTopRightRadius:10,paddingHorizontal:7,marginTop:-7,marginHorizontal:-7},formType:{color:"#EBFCFF",fontSize:18,fontWeight:"600",opacity:.5,alignSelf:"flex-end",marginTop:10},verifiedHeader:{flexDirection:"row",paddingVertical:5,paddingHorizontal:7,marginHorizontal:-8,marginTop:-6,justifyContent:"center"},sendStatus:{alignSelf:"flex-end",flexDirection:"row",backgroundColor:"transparent",marginTop:-3},sendStatusText:{fontSize:14,color:"#009900",marginRight:3},sendStatusDefaultText:{fontSize:14,alignSelf:"flex-end",color:"#757575"},sealedStatus:{position:"absolute",bottom:1,left:10},errorBadge:{position:"absolute",opacity:.5,bottom:-5,right:0},rowContainer:{flexDirection:"row",justifyContent:"space-between"},verificationHeaderText:{fontSize:18,fontWeight:"500",alignSelf:"center",color:"#FBFFE5"},verificationBody:{paddingVertical:5,paddingHorizontal:7,borderRadius:10,borderWidth:1,marginVertical:2},multiEntryButton:{borderRadius:10,borderColor:"#77ADFC",borderWidth:1,padding:10},multiEntryText:{fontSize:18},msgImage:{height:30,marginRight:3,marginLeft:0,width:30,borderRadius:15,borderColor:"#cccccc",borderWidth:1},productAppIcon:{alignSelf:"flex-end",marginTop:-30,backgroundColor:"transparent"},white18:{color:"#ffffff",fontSize:18}});R(N.prototype,E),N=(0,l.makeResponsive)(N),e.exports=N},2075:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(1685),i=(_interopRequireDefault(n),o(300)),a=o(301),s=_interopRequireDefault(a),l=o(1947),u=o(936),c=u.translate,f=o(702),d=o(1718),p=o(1738),h=o(1530),m=o(1531),g=o(1355),b=o(1737),y=o(1944),b=o(1737),v="tradle.ProductApplication",w="tradle.FormRequest",C="ios"===i.Platform.OS?o(2066):null,E=function(e){function ProductChooser(e){_classCallCheck(this,ProductChooser);var t=_possibleConstructorReturn(this,(ProductChooser.__proto__||Object.getPrototypeOf(ProductChooser)).call(this,e)),o=[],r=t.props.resource.products;r&&r.forEach(function(e){o.push(u.getModel(e).value)});var n=new i.ListView.DataSource({rowHasChanged:function(e,t){return e!==t}});return t.state={products:o,modelName:g.TYPES.FINANCIAL_PRODUCT,dataSource:n.cloneWithRows(o)},t}return _inherits(ProductChooser,e),r(ProductChooser,[{key:"componentWillMount",value:function(){var e=this.props.resource,t=e[g.TYPE]===g.TYPES.PROFILE?u.getId(u.getMe().organization):u.getId(e);h.getItem(t)}},{key:"componentDidMount",value:function(){this.listenTo(p,"onNewProductAdded")}},{key:"onNewProductAdded",value:function(e){var t=[];if("getItem"===e.action&&(this.props.resource[g.ROOT_HASH]===e.resource[g.ROOT_HASH]||this.props.resource[g.TYPE]===g.TYPES.PROFILE)){if(this.props.resource[g.TYPE]===g.TYPES.PROFILE)e.resource.products&&e.resource.products.length?e.resource.products.forEach(function(e){e.forms.forEach(function(e){t.push(u.getModel(e).value)})}):t=u.getAllSubclasses(g.TYPES.FORM);else if(e.resource.products){if(f(e.resource.products,this.props.resource.products))return;e.resource.products.forEach(function(e){t.push(u.getModel(e).value)})}return void this.setState({products:t,dataSource:this.state.dataSource.cloneWithRows(t)})}if("productList"===e.action&&e.resource[g.ROOT_HASH]===this.props.resource[g.ROOT_HASH]){if(e.err)return void this.setState({err:e.err});t=e.productList,this.setState({products:t,dataSource:this.state.dataSource.cloneWithRows(t)})}}},{key:"onSearchChange",value:function(e){var t=this.state.products,o=t.filter(function(t){return t.title.indexOf(e)!==-1});this.setState({filter:e,dataSource:this.state.dataSource.cloneWithRows(o)})}},{key:"selectResource",value:function(e){var t=({component:y,backButtonTitle:"Back",id:11,title:this.props.resource.name,passProps:{resource:this.props.resource,filter:"",modelName:g.TYPES.MESSAGE}},{from:u.getMe(),to:this.props.resource,time:(new Date).getTime()});e.subClassOf===g.TYPES.FINANCIAL_PRODUCT?(t[g.TYPE]=v,t.product=e.id,u.onNextTransitionEnd(this.props.navigator,function(){return h.addMessage(t,!1,!0)})):(t[g.TYPE]=w,t.message=c(e.properties.photos?"fillTheFormWithAttachments":"fillTheForm",c(e.title)),t.form=e.id,u.onNextTransitionEnd(this.props.navigator,function(){return h.addMessage(t)})),this.props.navigator.pop()}},{key:"buildSimpleMsg",value:function(e,t){var o={};return o[g.TYPE]=g.TYPES.SIMPLE_MESSAGE,o.message=t?"["+e+"]("+t+")":e,o}},{key:"selectResource1",value:function(e){var t=u.getModel(this.state.modelName);if(!e[g.TYPE]){var o={model:u.getModel(e.id).value};this.props.returnRoute&&(o.returnRoute=this.props.returnRoute),this.props.callback&&(o.callback=this.props.callback);var r=u.getMe();o.resource={_t:e.id,from:r,accountWith:this.props.resource,productType:t.value.title},this.props.navigator.replace({id:4,title:e.title,rightButtonTitle:"Done",backButtonTitle:"Back",component:l,titleTextColor:"#7AAAC3",resource:e,passProps:o})}}},{key:"renderRow",value:function(e){var t=this,r=(u.getModel(e[g.TYPE]||e.id).value,o(2076));return s["default"].createElement(r,{onSelect:function(){return t.selectResource(e)},resource:e,bankStyle:this.props.bankStyle,navigator:this.props.navigator,to:this.props.resource})}},{key:"render",value:function(){var e;C&&this.props.type===g.TYPES.FORM&&(e=s["default"].createElement(C,{onChangeText:this.onSearchChange.bind(this),placeholder:c("search"),showsCancelButton:!1,hideBackground:!0}));var t=[k.listview];e&&t.push({marginTop:0,borderTopColor:"#cccccc",borderTopWidth:i.StyleSheet.hairlineWidth});var o=s["default"].createElement(i.ListView,{ref:"listview",style:t,dataSource:this.state.dataSource,removeClippedSubviews:!0,initialListSize:100,renderRow:this.renderRow.bind(this),enableEmptySections:!0,automaticallyAdjustContentInsets:!1,keyboardDismissMode:"on-drag",keyboardShouldPersistTaps:!0,showsVerticalScrollIndicator:!1}),r=this.state.err?s["default"].createElement(i.View,{style:k.errContainer},s["default"].createElement(i.Text,{style:k.err},this.state.err)):s["default"].createElement(i.View,null),n=this.props.bankStyle&&this.props.bankStyle.BACKGROUND_COLOR?{backgroundColor:this.props.bankStyle.BACKGROUND_COLOR}:{backgroundColor:"#ffffff"};return s["default"].createElement(b,{style:[k.container,n,e?{marginTop:64}:{marginTop:0}]},r,e,o)}}]),ProductChooser}(a.Component);d(E.prototype,m.ListenerMixin);var k=i.StyleSheet.create({container:{flex:1},listview:{marginTop:64,borderWidth:0,marginHorizontal:-1,borderBottomWidth:i.StyleSheet.hairlineWidth,borderColor:"#ffffff"},centerText:{alignItems:"center"},err:{color:"#D7E6ED"},errContainer:{height:45,paddingTop:5,paddingHorizontal:10,backgroundColor:"#eeeeee"}});e.exports=E},2076:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r,n,i=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),a=o(300),s=o(301),l=_interopRequireDefault(s),u=o(936),c=o(1355),f=u.translate,d=(o(2077),o(1687)),p="#f7f7f7",h="#757575",m="tradle.ProductApplication",g=function(e){function MessageTypeRow(e){_classCallCheck(this,MessageTypeRow);var t=_possibleConstructorReturn(this,(MessageTypeRow.__proto__||Object.getPrototypeOf(MessageTypeRow)).call(this,e));return r=t.props.bankStyle&&t.props.bankStyle.PRODUCT_ROW_BG_COLOR||p,n=t.props.bankStyle&&t.props.bankStyle.PRODUCT_ROW_TEXT_COLOR||h,t}return _inherits(MessageTypeRow,e),i(MessageTypeRow,[{key:"render",value:function(){var e=this.props.resource;if(e.autoCreate)return l["default"].createElement(a.View,{style:{height:0}});var t,o;u.getMe(),this.props.to;if(e.owner&&e.owner.photos){o=!0;var i=u.getImageUri(e.owner.photos[0].url);t=l["default"].createElement(a.View,{style:[b.cell,{marginVertical:2}]},l["default"].createElement(a.Image,{source:{uri:i},style:b.msgImage}))}else t=l["default"].createElement(a.View,{style:[b.cell,{marginVertical:20}]});var s,p=this.props.onSelect;s=e.id?f(e):e[c.TYPE]===m?u.getModel(e.product)?u.getModel(e.product).value.title:e.product:u.getDisplayName(e,u.getModel(e[c.TYPE]).value.properties);var h,g=l["default"].createElement(a.Text,{style:[b.modelTitle,{color:n}],numberOfLines:2},s);if(e.owner&&e.owner.photos){var y=e.owner.photos[0].url;u.getImageUri(y);h=l["default"].createElement(a.Image,{source:{uri:y},style:b.ownerImage})}var v={marginVertical:d.hairlineWidth,backgroundColor:r};return l["default"].createElement(a.TouchableHighlight,{style:v,onPress:p?p:function(){},underlayColor:"transparent"},g)}}]),MessageTypeRow}(s.Component),b=d.create({modelTitle:{flex:1,flexWrap:"wrap",fontSize:18,fontWeight:"400",marginVertical:15,marginLeft:15},cell:{paddingLeft:20},msgImage:{backgroundColor:"#dddddd",height:40,marginRight:5,width:40,borderRadius:20,borderColor:"#cccccc",borderWidth:1},ownerImage:{backgroundColor:"#dddddd",height:30,width:30,marginTop:-5,position:"absolute",right:10,borderRadius:15,borderColor:"#cccccc",borderWidth:1}});e.exports=g},2077:function(e,t,o){"use strict";var r={easy:o(2078),europi:o(2079)};e.exports=r},2078:function(e,t){"use strict";var o="#006A4D",r="#006A4D",n=Object.freeze({LINK_COLOR:"#006A4D",PRODUCT_ROW_BG_COLOR:"#5F9D6E",PRODUCT_ROW_TEXT_COLOR:"#f7f7f7",SEPARATOR:"#006A4D",MY_MESSAGE_BG:"#006A4D",STRUCTURED_MESSAGE_COLOR:"#5F9D6E",linkIcon:{width:20,height:20,color:o},separator:{height:.5,marginTop:5,backgroundColor:o,flex:40},linkIconGreyed:{width:20,height:20,opacity:.5,color:o},shareIcon:{height:20,color:r,width:20}});e.exports=n},2079:function(e,t){"use strict";var o=Object.freeze({LINK_COLOR:"#FF6D0D",PRODUCT_ROW_BG_COLOR:"#466399",PRODUCT_ROW_TEXT_COLOR:"#eeeeee",VERIFIED_HEADER_COLOR:"#FF6D0D",VERIFIED_BORDER_COLOR:"#FFCFB0",NAV_TITLE:"#FF6D0D",NAV_BUTTONS:"#F7F7F7",
NAV_BG:"#223251",SEPARATOR:"#006A4D",MY_MESSAGE_BG:"#4884BD",STRUCTURED_MESSAGE_COLOR:"#3A5280",BANKLINKS:"#3A5280"});e.exports=o},2080:function(e,t){e.exports="data:image/png;base64,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"},2081:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(300),i=o(301),a=_interopRequireDefault(i),s=o(936),l=s.translate,u=o(1707),c=(o(1947),o(1554)),f=o(1355),d=o(1709),p=o(702),h=o(1718),m=function(e){function MyProductMessageRow(e){return _classCallCheck(this,MyProductMessageRow),_possibleConstructorReturn(this,(MyProductMessageRow.__proto__||Object.getPrototypeOf(MyProductMessageRow)).call(this,e))}return _inherits(MyProductMessageRow,e),r(MyProductMessageRow,[{key:"shouldComponentUpdate",value:function(e,t){return!p(this.props.resource,e.resource)||!p(this.props.to,e.to)}},{key:"render",value:function(){var e=this.props.resource,t=s.getModel(e[f.TYPE]||e.id).value,o=[],r=this.formatRow(!1,o),i=r?r.onPressCall:null,u=[u,g.verificationBody,{backgroundColor:this.props.bankStyle.PRODUCT_BG_COLOR,borderColor:this.props.bankStyle.CONFIRMATION_COLOR}],c=[g.row,{backgroundColor:this.props.bankStyle.BACKGROUND_COLOR}],d=this.getTime(e),p=d?a["default"].createElement(n.Text,{style:g.date,numberOfLines:1},d):a["default"].createElement(n.View,null),h={backgroundColor:"#289427"},m=e.from.organization?e.from.organization.title:"";o.splice(0,0,a["default"].createElement(n.View,{key:this.getNextKey(),style:[g.verifiedHeader,h,{marginHorizontal:-8,marginTop:-7,marginBottom:7,paddingBottom:5,borderTopRightRadius:10}]},a["default"].createElement(n.Text,{style:{fontSize:17,alignSelf:"center",color:"#fff"}},l("issuedBy",m))));var b=l(t);b.length>30&&(b=b.substring(0,27)+"..."),o.push(a["default"].createElement(n.Text,{key:this.getNextKey(),style:[g.formType,{color:"#289427"}]},b)),c=u?[g.textContainer,u]:g.textContainer;var y=Math.floor(.8*(s.dimensions().width-300)),v=a["default"].createElement(n.TouchableHighlight,{onPress:i?i:function(){},underlayColor:"transparent"},a["default"].createElement(n.View,{style:[g.viewStyle,{width:y}]},this.getOwnerPhoto(),a["default"].createElement(n.View,{style:c},a["default"].createElement(n.View,{style:{flex:1}},o)))),w={margin:1,paddingTop:7};return a["default"].createElement(n.View,{style:w,key:this.getNextKey()},p,v)}},{key:"onPress",value:function(e){this.props.navigator.push({id:7,component:u,passProps:{url:this.props.resource.message}})}},{key:"formatRow",value:function(e,t){var o=this.props.resource,r=s.getModel(o[f.TYPE]||o.id).value,i=r.gridCols||r.viewCols;if(i){var l,u=!0,d=this,p=r.properties,d=(!o.message||!o.message.length,this),h=[];return i.forEach(function(t){if("array"!==p[t].type&&"date"!==p[t].type){if(p[t].ref)return void(o[t]&&(h.push(d.getPropRow(p[t],o,o[t].title||o[t])),u=!1));var i=g.description;if(e&&(i=[i,{justifyContent:"flex-end",color:"#2892C6"}]),!o[t]||"string"!==p[t].type||0!=o[t].indexOf("http://")&&0!=o[t].indexOf("https://"))if(r.autoCreate){if(!o[t]||!o[t].length)return;isConfirmation=o[t].indexOf("Congratulations!")!==-1,isConfirmation?(i=[i,{color:d.props.bankStyle.CONFIRMATION_COLOR,fontSize:17}],h.push(a["default"].createElement(n.View,{key:d.getNextKey()},a["default"].createElement(n.Text,{style:[i]},o[t]),a["default"].createElement(c,{style:[{color:d.props.bankStyle.CONFIRMATION_COLOR,alignSelf:"flex-end",width:50,height:50,marginTop:-45,opacity:.2}],size:50,name:"ios-flower"}),a["default"].createElement(c,{style:{color:d.props.bankStyle.CONFIRMATION_COLOR,alignSelf:"flex-end",marginTop:-10},size:30,name:"ios-done-all"})))):h.push(a["default"].createElement(n.Text,{style:i,key:d.getNextKey()},o[t]))}else{var f=p[t].displayAs?s.templateIt(p[t],o):"boolean"===p[t].type?o[t]?"Yes":"No":o[t];if(!f)return;r.properties.verifications&&!e&&(l=d.verify.bind(d)),e||(i=[i,{paddingBottom:10,color:"#2892C6"}]),h.push(d.getPropRow(p[t],o,f))}else l=d.onPress.bind(d),h.push(a["default"].createElement(n.Text,{style:i,numberOfLines:u?2:1,key:d.getNextKey()},o[t]));u=!1}}),h&&h.length&&h.forEach(function(e){t.push(e)}),l?{onPressCall:l}:{onPressCall:this.props.onSelect.bind(this,o,null)}}}}]),MyProductMessageRow}(i.Component),g=n.StyleSheet.create({textContainer:{flex:1,flexDirection:"row"},date:{flex:1,color:"#999999",fontSize:12,alignSelf:"center",paddingTop:10},row:{backgroundColor:"#f7f7f7",flexDirection:"row"},description:{color:"#757575",fontSize:14},formType:{color:"#EBFCFF",fontSize:20,opacity:.5,alignSelf:"flex-end",marginTop:10},verifiedHeader:{flexDirection:"row",paddingVertical:5,paddingHorizontal:7,marginHorizontal:-8,marginTop:-6,justifyContent:"center"},verificationBody:{paddingVertical:5,paddingHorizontal:7,borderRadius:10,borderWidth:1,marginVertical:2},viewStyle:{flexDirection:"row",alignSelf:"flex-start"}});h(m.prototype,d),e.exports=m},2082:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(945),i=o(300),a=o(301),s=_interopRequireDefault(a),l=o(936),u=l.translate,c=(o(1707),o(1945)),f=o(1947),d=o(1554),p=o(1355),h=o(1709),m=o(702),g=o(1687),b=o(1718),y=function(e){function VerificationMessageRow(e){_classCallCheck(this,VerificationMessageRow);var t=_possibleConstructorReturn(this,(VerificationMessageRow.__proto__||Object.getPrototypeOf(VerificationMessageRow)).call(this,e)),o=t.props.resource;l.getModel(o[p.TYPE]||o.id).value,l.getMe();return t}return _inherits(VerificationMessageRow,e),r(VerificationMessageRow,[{key:"shouldComponentUpdate",value:function(e,t){return!m(this.props.resource,e.resource)||!m(this.props.to,e.to)||this.props.orientation!=e.orientation||this.props.sendStatus!==e.sendStatus}},{key:"render",value:function(){var e=this.props.resource,t=(l.getModel(e[p.TYPE]).value,[]),o=this.getTime(e),r=o?s["default"].createElement(i.Text,{style:v.date,numberOfLines:1},o):s["default"].createElement(i.View,null),n=this.isMyMessage(),a=l.dimensions(VerificationMessageRow).width,c=Math.floor(.8*(a-300)),f={width:c,flexDirection:"row",alignSelf:n?"flex-end":"flex-start"},h=l.getModel(e.document[p.TYPE]).value,m=e.organization?e.organization.title:"",g=l.getMe(),b=void 0;g.isEmployee&&!this.props.to.organization&&(b=!l.isEmployee(e.organization));var y=this.isShared();n=y;var w=b?"#93BEBA":this.props.bankStyle.VERIFIED_HEADER_COLOR,C=y?u("youShared",m):u("verifiedBy",m),E=c/12;C.length>E&&(C=C.substring(0,E)+"..");var k=[v.verifiedHeader,{backgroundColor:w,opacity:y?.5:1},n?{borderTopRightRadius:0,borderTopLeftRadius:10}:{borderTopLeftRadius:0,borderTopRightRadius:10}];t=s["default"].createElement(i.View,null,s["default"].createElement(i.View,{style:k},s["default"].createElement(d,{style:v.verificationIcon,size:20,name:"md-checkmark"}),s["default"].createElement(i.Text,{style:v.verificationHeaderText},C)),s["default"].createElement(i.View,null,this.formatDocument({model:h,verification:e,onPress:this.verify.bind(this),isAccordion:b})));var f={width:c,flexDirection:"row",alignSelf:n?"flex-end":"flex-start",backgroundColor:this.props.bankStyle.BACKGROUND_COLOR},T=[v.verificationBody,{backgroundColor:this.props.bankStyle.VERIFICATION_BG,borderColor:w},n?{borderTopRightRadius:0}:{borderTopLeftRadius:0}],A=s["default"].createElement(i.TouchableHighlight,{onPress:this.verify.bind(this,e),underlayColor:"transparent"},s["default"].createElement(i.View,{style:[v.row,f]},this.getOwnerPhoto(n),s["default"].createElement(i.View,{style:[v.textContainer,T]},s["default"].createElement(i.View,{style:{flex:1}},t)))),f={margin:1,paddingRight:10,backgroundColor:this.props.bankStyle.BACKGROUND_COLOR};return s["default"].createElement(i.View,{style:f,key:this.getNextKey()},r,A)}},{key:"verify",value:function(e){var t=this.props.resource,o=t[p.TYPE]===p.TYPES.VERIFICATION,r=o?t.document:t,n={resource:r,bankStyle:this.props.bankStyle,currency:this.props.currency};o?n.verification=t:n.verify=!0;var i=l.getModel(r[p.TYPE]).value,a={id:5,component:c,backButtonTitle:"Back",passProps:n,title:u(i)};this.isMyMessage()&&(a.rightButtonTitle=u("edit"),a.onRightButtonPress={title:u("edit"),component:f,id:4,passProps:{resource:r,metadata:i,bankStyle:this.props.bankStyle,currency:this.props.currency,callback:this.props.onSelect.bind(this,r)}}),this.props.navigator.push(a)}}]),VerificationMessageRow}(a.Component),v=g.create({textContainer:{flex:1,flexDirection:"row"},date:{flex:1,color:"#999999",fontSize:12,alignSelf:"center",paddingTop:10},row:{backgroundColor:"#f7f7f7",flexDirection:"row"},verifiedHeader:{flexDirection:"row",paddingVertical:5,paddingHorizontal:7,marginHorizontal:-8,marginTop:-6,justifyContent:"center"},verificationHeaderText:{fontSize:18,fontWeight:"500",alignSelf:"center",color:"#FBFFE5",paddingLeft:3},verificationBody:{paddingTop:5,paddingHorizontal:7,borderRadius:10,borderWidth:g.hairlineWidth,marginVertical:2},verificationIcon:{width:20,height:20,color:"#ffffff"}});b(y.prototype,h),y=(0,n.makeResponsive)(y),e.exports=y},2083:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r,n=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),i=o(945),a=o(300),s=o(301),l=_interopRequireDefault(s),u=o(936),c=u.translate,f=o(1707),d=o(1945),p=o(1947),h=o(1722),m=o(1554),g=o(1355),b=o(1709),y=o(702),v=o(1687),w=o(1718),C=function(e){function FormMessageRow(e){_classCallCheck(this,FormMessageRow);var t=_possibleConstructorReturn(this,(FormMessageRow.__proto__||Object.getPrototypeOf(FormMessageRow)).call(this,e)),o=t.props.resource;u.getModel(o[g.TYPE]||o.id).value,u.getMe();return r=t.props.bankStyle.STRUCTURED_MESSAGE_COLOR,t}return _inherits(FormMessageRow,e),n(FormMessageRow,[{key:"shouldComponentUpdate",value:function(e,t){return!y(this.props.resource,e.resource)||!y(this.props.to,e.to)||this.props.orientation!=e.orientation||this.props.sendStatus!==e.sendStatus}},{key:"render",value:function(){var e,t,o=this.props.resource,n=u.getModel(o[g.TYPE]||o.id).value,i=(u.getMe(),this.isMyMessage()),s=this.props.to,f=this.getOwnerPhoto(i),d=(!i&&s&&s.photos,[]),p=this.formatRow(i,d),b=p?p.onPressCall:null,y=[],v={height:3},w=!o.message||!o.message.length;if(d.length){o.from.id;i?w||(e=E.myCell):e=[E.verificationBody,{flex:1,borderColor:"#efefef",backgroundColor:"#ffffff",borderTopLeftRadius:0}],i&&(e=[e,E.verificationBody,{backgroundColor:r,borderColor:"#C1E3E8",borderTopRightRadius:0}])}else{var C=w?null:u.getDisplayName(o,n.properties);C&&(d=l["default"].createElement(a.Text,{style:E.resourceTitle,numberOfLines:2},C))}var k=n.properties,T={};if(k.photos&&o.photos){var A=o.photos.length;t=1===A?1:2==A||4==A?2:3;T=1===t?E.bigImage:2===t?E.mediumImage:E.image,o.photos.forEach(function(e){y.push({url:u.getImageUri(e.url)})}),v={flexDirection:"row",alignSelf:i?"flex-end":"flex-start",marginLeft:i?30:45,borderRadius:10,marginBottom:3,paddingRight:i?10:0}}var P=[E.row,{backgroundColor:this.props.bankStyle.BACKGROUND_COLOR}],S=this.getTime(o),R=S?l["default"].createElement(a.Text,{style:E.date,numberOfLines:1},S):l["default"].createElement(a.View,null),I=l["default"].createElement(a.View,null);if(this.props.sendStatus&&null!==this.props.sendStatus)switch(this.props.sendStatus){case"Sent":I=l["default"].createElement(a.View,{style:E.sendStatus},l["default"].createElement(a.Text,{style:E.sentStatus},this.props.sendStatus),l["default"].createElement(m,{name:"ios-checkmark-outline",size:15,color:"#009900"}));break;default:I=l["default"].createElement(a.Text,{style:E.otherStatus},this.props.sendStatus)}var O,x=o.txId?l["default"].createElement(a.View,{style:E.sealedStatus},l["default"].createElement(m,{name:"ios-ribbon",size:30,color:"#316A99",style:{opacity:.5}})):l["default"].createElement(a.View,null),F=e?[E.textContainer,e]:E.textContainer,M=u.dimensions(FormMessageRow).width,_=Math.floor(.8*M),D={width:_,flexDirection:"row",alignSelf:i?"flex-end":"flex-start",paddingRight:i?10:0};O=l["default"].createElement(a.TouchableHighlight,{onPress:b?b:function(){},underlayColor:"transparent"},l["default"].createElement(a.View,{style:[P,D]},f,l["default"].createElement(a.View,{style:F},l["default"].createElement(a.View,{style:{flex:1}},this.isShared()?l["default"].createElement(a.View,{style:[E.verifiedHeader,{backgroundColor:this.props.bankStyle.SHARED_WITH_BG}]},l["default"].createElement(a.Text,{style:E.youSharedText},c("youShared",o.to.organization.title))):l["default"].createElement(a.View,null),d),x)));var A=y.length,t=u.isWeb()?Math.floor(_/145):1===A?1:2==A||4==A?2:3;return l["default"].createElement(a.View,{style:{margin:1,backgroundColor:this.props.bankStyle.BACKGROUND_COLOR}},R,O,l["default"].createElement(a.View,{style:v},l["default"].createElement(h,{photos:y,resource:this.props.resource,style:T,navigator:this.props.navigator,numberInRow:t})),I)}},{key:"onPress",value:function(e){this.props.navigator.push({id:7,component:f,passProps:{url:this.props.resource.message}})}},{key:"verify",value:function(e){var t=this.props.resource,o=t[g.TYPE]===g.TYPES.VERIFICATION,r=o?t.document:t,n={resource:r,bankStyle:this.props.bankStyle,currency:this.props.currency};o?n.verification=t:n.verify=!0;var i=u.getModel(r[g.TYPE]).value,a={id:5,component:d,backButtonTitle:"Back",passProps:n,title:c(i)};this.isMyMessage()&&(a.rightButtonTitle="Edit",a.onRightButtonPress={title:"Edit",component:p,id:4,passProps:{resource:r,metadata:i,bankStyle:this.props.bankStyle,currency:this.props.currency,callback:this.props.onSelect.bind(this,r)}}),this.props.navigator.push(a)}},{key:"formatRow",value:function(e,t){var o=this.props.resource,r=u.getModel(o[g.TYPE]||o.id).value,n=r.gridCols||r.viewCols;if(n){var i,s=!0,f=this,d=r.properties,f=this,p=[];n.forEach(function(t){if("array"!==d[t].type){if(d[t].ref)return void(o[t]&&(p.push(f.getPropRow(d[t],o,o[t].title||o[t])),s=!1));var n=E.resourceTitle;if(e&&(n=[n,E.myMsg]),!o[t]||"string"!==d[t].type||0!=o[t].indexOf("http://")&&0!=o[t].indexOf("https://"))if(r.autoCreate){if(!o[t]||!o[t].length)return;p.push(l["default"].createElement(a.Text,{style:n,key:f.getNextKey()},o[t]))}else{var c=void 0;if(c="date"===d[t].type?o[t]?u.formatDate(o[t]):null:d[t].displayAs?u.templateIt(d[t],o):"boolean"===d[t].type?o[t]?"Yes":"No":o[t],!c)return;!r.properties.verifications||e||u.isVerifier(o)||(i=f.verify.bind(f)),e||(n=[n,{paddingBottom:10,color:"#2892C6"}]),p.push(f.getPropRow(d[t],o,c))}else i=f.onPress.bind(f),p.push(l["default"].createElement(a.Text,{style:n,numberOfLines:s?2:1,key:f.getNextKey()},o[t]));s=!1}});var h=c(r);return h.length>30&&(h=h.substring(0,27)+"..."),p.push(l["default"].createElement(a.Text,{
style:[E.resourceTitle,E.formType,{color:e?"#EBFCFF":this.props.bankStyle.STRUCTURED_MESSAGE_BORDER}],key:this.getNextKey()},h)),p&&p.length&&p.forEach(function(e){t.push(e)}),i?{onPressCall:i}:{onPressCall:this.props.onSelect.bind(this,o,null)}}}}]),FormMessageRow}(s.Component),E=v.create({textContainer:{flex:1,flexDirection:"row"},resourceTitle:{fontSize:18,fontWeight:"400",marginBottom:2},date:{flex:1,color:"#999999",fontSize:12,alignSelf:"center",paddingTop:10},row:{backgroundColor:"#f7f7f7",flexDirection:"row"},myCell:{paddingVertical:5,paddingHorizontal:7,justifyContent:"flex-end",borderRadius:10,backgroundColor:"#77ADFC"},bigImage:{width:240,height:280,margin:1,borderRadius:10},bigImageH:{width:270,height:200,margin:1,borderRadius:10},mediumImage:{width:120,height:120,margin:1,borderRadius:10},image:{width:88,height:88,margin:1,borderRadius:10},formType:{color:"#EBFCFF",fontSize:18,opacity:.7,alignSelf:"flex-end",marginTop:10},verifiedHeader:{flexDirection:"row",paddingVertical:5,paddingHorizontal:7,marginHorizontal:-8,marginTop:-6,justifyContent:"center"},sendStatus:{alignSelf:"flex-end",flexDirection:"row",marginHorizontal:5,marginTop:-5},sealedStatus:{position:"absolute",bottom:1,left:10},verificationBody:{paddingVertical:5,paddingHorizontal:7,borderRadius:10,borderWidth:1,marginVertical:2},myMsg:{justifyContent:"flex-end",color:"#ffffff"},sentStatus:{fontSize:14,color:"#009900",marginRight:3},otherStatus:{alignSelf:"flex-end",fontSize:14,color:"#757575",marginHorizontal:5,paddingBottom:20},youSharedText:{color:"#ffffff",fontSize:18}});w(C.prototype,b),C=(0,i.makeResponsive)(C),e.exports=C},2084:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(300),i=o(301),a=_interopRequireDefault(i),s=o(936),l=_interopRequireDefault(s),u=o(1554),c=_interopRequireDefault(u),f=l["default"].translate,d=(o(1355),function(e){function ChatContext(e){return _classCallCheck(this,ChatContext),_possibleConstructorReturn(this,(ChatContext.__proto__||Object.getPrototypeOf(ChatContext)).call(this,e))}return _inherits(ChatContext,e),r(ChatContext,[{key:"render",value:function(){if(!this.props.context||this.props.context._readOnly)return a["default"].createElement(n.View,null);var e=this.props.allContexts?p.barAll:p.barOne,t=a["default"].createElement(n.TouchableOpacity,{onPress:this.props.contextChooser,style:{flex:1}},a["default"].createElement(n.Text,{style:[this.props.allContexts?p.textAll:p.textOne,p.text]},f(l["default"].getModel(this.props.context.product).value))),o=this.props.allContexts||l["default"].getMe().isEmployee?a["default"].createElement(n.View,null):a["default"].createElement(n.TouchableOpacity,{onPress:this.props.shareWith,style:{position:"absolute",right:10}},a["default"].createElement(c["default"],{size:22,name:"md-share",color:"#7D6EC4",style:{marginRight:10,paddingLeft:20}}));return a["default"].createElement(n.View,{style:[e,p.bar,{flexDirection:"row"}]},t,o)}}]),ChatContext}(i.Component)),p=n.StyleSheet.create({barOne:{backgroundColor:"#ECE8FF"},barAll:{backgroundColor:"#f1ffe7"},bar:{padding:10,borderBottomWidth:n.StyleSheet.hairlineWidth,borderBottomColor:"#eeeeee"},textAll:{fontSize:18},textOne:{color:"#7D6EC4"},text:{fontSize:18,marginHorizontal:10}});e.exports=d},2085:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(1685),i=_interopRequireDefault(n),a=o(1706),s=_interopRequireDefault(a),l=o(300),u=o(301),c=_interopRequireDefault(u),f=o(936),d=(f.translate,o(1355)),p=(o(1944),o(1737)),h=o(1718),m=o(1738),g=o(1530),b=o(1531),y=o(2076),v=o(1687),w="tradle.ProductApplication",C=function(e){function ContextChooser(e){_classCallCheck(this,ContextChooser);var t=_possibleConstructorReturn(this,(ContextChooser.__proto__||Object.getPrototypeOf(ContextChooser)).call(this,e)),o=new l.ListView.DataSource({rowHasChanged:function(e,t){return e!==t}});return t.state={dataSource:o,isLoading:!0},t}return _inherits(ContextChooser,e),r(ContextChooser,[{key:"componentWillMount",value:function(){var e=this.props.resource;e[d.TYPE]===d.TYPES.PROFILE?f.getId(f.getMe().organization):f.getId(e);g.getAllContexts({to:this.props.resource,modelName:w})}},{key:"componentDidMount",value:function(){this.listenTo(m,"onContexts")}},{key:"onContexts",value:function(e){"allContexts"===e.action&&e.list&&e.list.length&&e.to[d.ROOT_HASH]===this.props.resource[d.ROOT_HASH]&&this.setState({dataSource:this.state.dataSource.cloneWithRows(e.list),isLoading:!1})}},{key:"renderRow",value:function(e){var t=this;f.getModel(e[d.TYPE]||e.id).value;return c["default"].createElement(y,{onSelect:function(){return t.props.selectContext(e)},resource:e,bankStyle:this.props.bankStyle,navigator:this.props.navigator,to:this.props.resource})}},{key:"renderHeader",value:function(){var e,t=this;return c["default"].createElement(y,{onSelect:function(){return t.props.selectContext()},resource:(e={},_defineProperty(e,d.TYPE,w),_defineProperty(e,"product","All"),e),bankStyle:this.props.bankStyle,navigator:this.props.navigator,to:this.props.resource})}},{key:"render",value:function(){if(this.state.isLoading)return c["default"].createElement(p,null,c["default"].createElement(l.View,{style:[i["default"].container,t]},c["default"].createElement(l.Text,{style:E.loading},"Loading..."),c["default"].createElement(s["default"],{size:"large",style:{alignSelf:"center",marginTop:20}})));var e=c["default"].createElement(l.ListView,{ref:"listview",style:E.listview,dataSource:this.state.dataSource,removeClippedSubviews:!0,initialListSize:100,renderRow:this.renderRow.bind(this),enableEmptySections:!0,automaticallyAdjustContentInsets:!1,renderHeader:this.renderHeader.bind(this),keyboardDismissMode:"on-drag",keyboardShouldPersistTaps:!0,showsVerticalScrollIndicator:!1}),t=this.props.bankStyle&&this.props.bankStyle.BACKGROUND_COLOR?{backgroundColor:this.props.bankStyle.BACKGROUND_COLOR}:{backgroundColor:"#ffffff"};return c["default"].createElement(p,{style:[E.container,t]},e)}}]),ContextChooser}(u.Component);h(C.prototype,b.ListenerMixin);var E=v.create({container:{flex:1},listview:{marginTop:64,borderWidth:0,marginHorizontal:-1,borderBottomWidth:v.hairlineWidth,borderColor:"#ffffff"},loading:{fontSize:17,alignSelf:"center",marginTop:80,color:"#629BCA"}});e.exports=C},2098:function(e,t){e.exports={LINK_COLOR:"#2892C6",PRODUCT_ROW_BG_COLOR:"#466399",PRODUCT_ROW_TEXT_COLOR:"#eeeeee",SHARED_WITH_BG:"#B6D2FC",VERIFIED_HEADER_COLOR:"#FF6D0D",VERIFIED_BORDER_COLOR:"#FFCFB0",VERIFICATION_BG:"#FBFFE5",CONFIRMATION_COLOR:"#289427",CONFIRMATION_BG:"#ffffff",REQUEST_FULFILLED:"#3A5280",BACKGROUND_COLOR:"#f7f7f7",PRODUCT_BG_COLOR:"#F4FAE8",PRODUCT_TEXT_COLOR:"#757575",NAV_TITLE:"#F7F7F7",NAV_BUTTONS:"#FF6D0D",NAV_BG:"#223251",SEPARATOR:"#006A4D",MY_MESSAGE_BG:"#4884BD",MY_MESSAGE_LINK_COLOR:"#C5EFFB",STRUCTURED_MESSAGE_COLOR:"#77ADFC",STRUCTURED_MESSAGE_BORDER:"#558bda",BANKLINKS:"#3A5280",FORM_ERROR_BORDER:"#FA0100",FORM_ERROR_COLOR:"#FA0100",FORM_ERROR_BG:"#ffffff"}},2099:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r,n=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),i=o(300),a=o(301),s=_interopRequireDefault(a),l=o(936),u=l.translate,c=o(1355),f=o(1554),d=o(1718),p=o(1709),h=(o(1714),o(2100)),m=o(1687),g="£",b=function(e){function VerificationRow(e){_classCallCheck(this,VerificationRow);var t=_possibleConstructorReturn(this,(VerificationRow.__proto__||Object.getPrototypeOf(VerificationRow)).call(this,e));return r=e.currency?e.currency.symbol||e.currency:g,t}return _inherits(VerificationRow,e),n(VerificationRow,[{key:"shouldComponentUpdate",value:function(e,t){return!1}},{key:"render",value:function(){var e,t=this,o=this.props.resource,r=l.getModel(o[c.TYPE]).value,n="tradle.MyProduct"===r.subClassOf,a="tradle.Form"===r.subClassOf,d=o.document,p=d?o.document:o;if(p&&n){var g=o.from.organization.photos;e=g&&g.length?g[0]:null}else p&&p.photos&&(e=p.photos[0]);e=e?s["default"].createElement(i.Image,{source:{uri:l.getImageUri(e.url),position:"absolute",left:10},style:y.cellImage}):a||d?s["default"].createElement(i.View,{style:{alignItems:"center",width:70}},s["default"].createElement(f,{name:r.icon||"ios-paper-outline",size:40,style:{marginTop:8},color:r.iconColor?r.iconColor:"#cccccc"})):n?s["default"].createElement(i.View,{style:{alignItems:"center",width:70}},s["default"].createElement(f,{name:r.icon||"ios-ribbon-outline",size:40,style:{marginTop:8},color:r.iconColor?r.iconColor:"#cccccc"})):s["default"].createElement(i.View,{style:{width:70}});var b=o.document?l.getModel(o.document[c.TYPE]).value:l.getModel(o[c.TYPE]).value,v=[];p&&this.formatDoc(b,p,v);this.props.prop&&this.props.prop.items&&this.props.prop.items.backlink;o.txId&&v.push(s["default"].createElement(i.View,{style:{flexDirection:"row"},key:this.getNextKey()},s["default"].createElement(i.Text,{style:y.resourceTitleL},u("verificationTransactionID")),s["default"].createElement(i.Text,{style:[y.description,{color:"#7AAAc3"}],onPress:this.onPress.bind(this,"https://tbtc.blockr.io/tx/info/"+o.txId)},o.txId)));var w;if(!this.props.isChooser&&(d||n||a)&&o.from){var C=[],E=n?o.from.organization:a?o.to.organization:o.organization,k=void 0;k=n?u("issuedBy",E.title):a?u("sentTo",E.title):u("verifiedBy",E.title),w=s["default"].createElement(i.View,{style:1==C.length?{flex:1}:{flexDirection:"row"},key:this.getNextKey()},s["default"].createElement(i.Text,{style:y.description},k))}else w=s["default"].createElement(i.View,null);var T=p?this.addDateProp("time",[y.verySmallLetters,{position:"absolute",right:10}]):s["default"].createElement(i.View,null),A=s["default"].createElement(i.View,{style:{borderColor:"#ffffff",backgroundColor:"#ffffff",borderBottomColor:"#cccccc",borderBottomWidth:m.hairlineWidth},key:this.getNextKey()},s["default"].createElement(i.View,{style:{flexDirection:"row",marginHorizontal:10,marginVertical:3,paddingBottom:4}},e,T,s["default"].createElement(i.View,{style:{flexDirection:"column",paddingTop:10}},s["default"].createElement(i.Text,{style:y.rTitle},this.props.isChooser?l.getDisplayName(o,r.properties):b.title),w)));s["default"].createElement(i.View,null,s["default"].createElement(i.TouchableHighlight,{onPress:this.props.onSelect.bind(this),underlayColor:"transparent"},s["default"].createElement(i.View,{style:y.row},s["default"].createElement(i.View,{style:[y.textContainer,{margin:-5,paddingLeft:3,borderBottomWidth:m.hairlineWidth,borderColor:"transparent"}]},v))));return this.props.isChooser?s["default"].createElement(i.View,null,s["default"].createElement(i.TouchableHighlight,{onPress:this.props.onSelect.bind(this),underlayColor:"transparent"},A)):s["default"].createElement(h,{right:[{text:"Revoke",backgroundColor:"red",onPress:this.revokeDocument.bind(this)}],autoClose:!0,scroll:function(e){return t._allowScroll(e)}},s["default"].createElement(i.TouchableHighlight,{onPress:this.props.onSelect.bind(this),underlayColor:"transparent"},A))}},{key:"revokeDocument",value:function(){var e=this.props.resource;i.AlertIOS.alert(u("confirmRevoke",e.to.organization.title),null,[{text:u("cancel"),onPress:function(){return console.log("Cancel")}},{text:"OK",onPress:function(){return i.AlertIOS.alert(u("willBeAvailable"))}}])}},{key:"_allowScroll",value:function(e){this.setState({scrollEnabled:e})}},{key:"formatDoc",value:function(e,t,o){var n=e.gridCols||e.viewCols;if(n){var a=[],u=!0,f=this,e=l.getModel(t[c.TYPE]||t.id).value,d=e.properties,p=(!t.message||!t.message.length,e.id===c.TYPES.SIMPLE_MESSAGE,y.resourceTitle),h=y.resourceTitleL;n.forEach(function(o){if("array"!==d[o].type&&"date"!==d[o].type&&(t[o]||d[o].displayAs)){var n=d[o].units&&"["!==d[o].units.charAt(0)?" ("+d[o].units+")":"";if(d[o].ref){if(t[o]){var g=d[o].ref===c.TYPES.MONEY?l.normalizeCurrencySymbol(t[o].currency||r)+t[o].value:t[o].title||t[o];a.push(s["default"].createElement(i.View,{style:{flexDirection:"row",justifyContent:"space-between",borderColor:"#F2FAED",borderBottomWidth:m.hairlineWidth,borderBottomColor:"#f0f0f0",paddingVertical:3},key:f.getNextKey()},s["default"].createElement(i.Text,{style:h},d[o].title+n),s["default"].createElement(i.Text,{style:p},g))),u=!1}}else{var b=void 0;if(!t[o]||"string"!==d[o].type||0!=t[o].indexOf("http://")&&0!=t[o].indexOf("https://"))if(e.autoCreate){if(!t[o]||!t[o].length)return;var y=l.splitMessage(t[o]);if(2===y.length){var v=l.getModel(y[1]);if(v)return void a.push(s["default"].createElement(i.View,{key:f.getNextKey(),style:{borderColor:"#F2FAED",borderBottomWidth:m.hairlineWidth,paddingVertical:5,borderBottomColor:"#f0f0f0"}},s["default"].createElement(i.Text,{style:p},y[0]),s["default"].createElement(i.Text,{style:[p,{color:isMyMessage?"#efffe5":"#7AAAC3"}]},v.value.title)))}b=s["default"].createElement(i.Text,{style:p,key:f.getNextKey()},t[o])}else{var w=d[o].displayAs?l.templateIt(d[o],t):t[o];b=s["default"].createElement(i.Text,{style:p,key:f.getNextKey()},w)}else b=s["default"].createElement(i.Text,{style:p,key:f.getNextKey()},t[o]);a.push(s["default"].createElement(i.View,{style:{flexDirection:"row",justifyContent:"space-between",paddingVertical:5,borderColor:"#F2FAED",borderBottomWidth:m.hairlineWidth,borderBottomColor:"#f0f0f0"},key:f.getNextKey()},s["default"].createElement(i.Text,{style:h},d[o].title+n),b)),u=!1}}}),a&&a.length&&a.forEach(function(e){o.push(e)})}}},{key:"onPress",value:function(e){this.props.navigator.push({id:7,component:i.ArticleView,backButtonTitle:"Back",passProps:{url:e}})}}]),VerificationRow}(a.Component);d(b.prototype,p);var y=m.create({textContainer:{flex:1,borderColor:"green"},rTitle:{flex:1,fontSize:18,marginVertical:5,color:"#757575"},resourceTitle:{flex:1,fontSize:16,fontWeight:"400"},resourceTitleL:{flex:1,fontSize:16,fontWeight:"400",paddingRight:5,color:"#999999"},description:{flex:1,flexWrap:"wrap",color:"#999999",fontSize:14},row:{flexDirection:"row",marginHorizontal:10,padding:5},cellImage:{backgroundColor:"#dddddd",height:60,marginRight:10,marginVertical:3,width:60,borderColor:"#7AAAc3",borderBottomWidth:m.hairlineWidth},icon:{width:20,height:20,borderWidth:1,borderColor:"#7AAAc3",borderRadius:10,marginRight:10,alignSelf:"center"},verySmallLetters:{fontSize:12,alignSelf:"flex-end",color:"#b4c3cb"}});e.exports=b},2103:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(300),i=o(301),a=_interopRequireDefault(i),s=o(936),l=_interopRequireDefault(s),u=l["default"].isWeb()?null:o(2069)["default"],c=o(1554),f=u&&u.Type,d=function(e){function QRCodeScanner(e){_classCallCheck(this,QRCodeScanner);var t=_possibleConstructorReturn(this,(QRCodeScanner.__proto__||Object.getPrototypeOf(QRCodeScanner)).call(this,e));return t.state={cameraType:u.constants.Type.back},t}return _inherits(QRCodeScanner,e),r(QRCodeScanner,[{key:"render",value:function(){var e=this;return a["default"].createElement(u,{style:p.container,onBarCodeRead:this._onBarCodeRead.bind(this),ref:function(t){e.camera=t},type:this.state.cameraType},a["default"].createElement(n.TouchableHighlight,{onPress:this._switchCamera.bind(this),style:p.flip},a["default"].createElement(c,{name:"ios-reverse-camera",size:25,color:"#eeeeee",style:p.icon})))}},{key:"_onBarCodeRead",value:function(e){this._finished||(this.props.onread(e),this._finished=!0)}},{key:"_switchCamera",value:function(){var e=this.state.cameraType===f.back?f.front:f.back;this.setState({cameraType:e})}}]),QRCodeScanner}(i.Component),p={container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#F5FCFF"},icon:{width:30,height:30},flip:{position:"absolute",top:30,right:10}};e.exports=u&&d},2104:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACB0lEQVRYR+1XzVXjMBDWp7yX5EgHsBWwHSxbAXQAuVjWiaUCkgpITpJOMR1ABUAH2QqADjjm5aDZN3qWn+0A+Xn25uK5WdbMfJoZab6B2EPm8/nRarW6JqIrVgeQ9fv92Wg0+tjVHHZRMMacSCmvhRDs+Kimy84z7/1Ma/22rd2tABhjzgBcAggn3iRElEkpZ0mSLDbt/RaAtfZcCPEHwNkmQ5/9J6JnIcQ0TdPHr/TXAOT5PSeiMYCTfRzXdYjoDcBYKXVf/1cAiIXFJ/4kv03gYBtcJ9NywYILC8DttvltCgnXyWAwuIG19rWpUO8KLqTGOcdX5nhX5Yb2v4cUSCm3ul4NOS3MeO+zyi3g+97r9ahpR3V7SZK8xLUCgDHmSko5b9s52/fej7TWWXjGyw6dc3wF7/K1ew5R+b+U8om/iegvEfHeQgBMAZzmDn7X9DjFl/najVJquhYBXuAURCdCiIlSalwDGNPzopSqvI7OOX71fvF+pVT9YGznNoLTWvPeIGs10AHoItBFoItAF4GDRcA5d5G/1z/zhsNEpcLvS+z4g4gqlBsA64VZIWfD5TbCtC8SXNbjPvNQ9IKclLz+j1YcfXjvf/AAUzQja+0ittO2gXA7T9M0RLpCy5fLZVhsW4bD4SLOkUxKuVfzvFef9drGwTPChAG0zgG/O0mMQGArB5DJP4rFuaRdDk8vAAAAAElFTkSuQmCC"},2105:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(301),i=_interopRequireDefault(n),a=o(300),s=o(2106),l=(o(936),function(e){function VideoPlayer(e){_classCallCheck(this,VideoPlayer);var t=_possibleConstructorReturn(this,(VideoPlayer.__proto__||Object.getPrototypeOf(VideoPlayer)).call(this,e));return t.state={rate:1,volume:1,muted:!1,resizeMode:"contain",duration:0,currentTime:0,controls:!1,paused:!0,skin:"native"},["onLoad","onProgress","pause","play"].forEach(function(e){t[e]=t[e].bind(t)}),t}return _inherits(VideoPlayer,e),r(VideoPlayer,[{key:"componentDidMount",value:function(){this.play()}},{key:"componentWillUnmount",value:function(){this.pause()}},{key:"pause",value:function(){this.setState({paused:!0})}},{key:"play",value:function(){this.setState({paused:!1})}},{key:"onLoad",value:function(e){this.setState({duration:e.duration,loaded:!0})}},{key:"onProgress",value:function(e){this.setState({currentTime:e.currentTime})}},{key:"getCurrentTimePercentage",value:function(){return this.state.currentTime>0?parseFloat(this.state.currentTime)/parseFloat(this.state.duration):0}},{key:"renderVolumeControl",value:function(e){var t=this,o=this.state.volume==e;return i["default"].createElement(a.TouchableOpacity,{onPress:function(){t.setState({volume:e})}},i["default"].createElement(a.Text,{style:[u.controlOption,{fontWeight:o?"bold":"normal"}]},100*e,"%"))}},{key:"renderCustomSkin",value:function(){var e,t=this;return i["default"].createElement(a.View,{style:u.container},i["default"].createElement(a.TouchableOpacity,{style:u.fullScreen,onPress:function(){t.setState({paused:!t.state.paused})}},i["default"].createElement(s,{source:{uri:this.props.uri},style:u.fullScreen,rate:this.state.rate,paused:this.state.paused,volume:this.state.volume,muted:this.state.muted,resizeMode:this.state.resizeMode,onLoad:this.onLoad,onProgress:this.onProgress,onEnd:this.props.onEnd,onError:this.props.onError,repeat:this.props.repeat})),e)}},{key:"renderCustomControls",value:function(){var e=100*this.getCurrentTimePercentage(),t=100*(1-this.getCurrentTimePercentage());return i["default"].createElement(a.View,{style:u.controls},i["default"].createElement(a.View,{style:u.generalControls},i["default"].createElement(a.View,{style:u.volumeControl},this.renderVolumeControl(.5),this.renderVolumeControl(1),this.renderVolumeControl(1.5))),i["default"].createElement(a.View,{style:u.trackingControls},i["default"].createElement(a.View,{style:u.progress},i["default"].createElement(a.View,{style:[u.innerProgressCompleted,{flex:e}]}),i["default"].createElement(a.View,{style:[u.innerProgressRemaining,{flex:t}]}))))}},{key:"renderNativeSkin",value:function(){var e,t="embed"==this.state.skin?u.nativeVideoControls:u.fullScreen;return i["default"].createElement(a.View,{style:u.container},i["default"].createElement(a.View,{style:u.fullScreen},i["default"].createElement(s,{source:{uri:this.props.uri},style:t,rate:this.state.rate,paused:this.state.paused,volume:this.state.volume,muted:this.state.muted,resizeMode:this.state.resizeMode,onLoad:this.onLoad,onProgress:this.onProgress,onEnd:this.props.onEnd,onError:this.props.onError,repeat:this.props.repeat,controls:this.state.controls})),e)}},{key:"renderNativeControls",value:function(){return i["default"].createElement(a.View,{style:u.controls},i["default"].createElement(a.View,{style:u.generalControls},i["default"].createElement(a.View,{style:u.skinControl},this.renderSkinControl("custom"),this.renderSkinControl("native"),this.renderSkinControl("embed"))),i["default"].createElement(a.View,{style:u.generalControls},i["default"].createElement(a.View,{style:u.rateControl},this.renderRateControl(.5),this.renderRateControl(1),this.renderRateControl(2)),i["default"].createElement(a.View,{style:u.volumeControl},this.renderVolumeControl(.5),this.renderVolumeControl(1),this.renderVolumeControl(1.5)),i["default"].createElement(a.View,{style:u.resizeModeControl},this.renderResizeModeControl("cover"),this.renderResizeModeControl("contain"),this.renderResizeModeControl("stretch"))))}},{key:"render",value:function(){return this.state.controls?this.renderNativeSkin():this.renderCustomSkin()}}]),VideoPlayer}(i["default"].Component)),u=a.StyleSheet.create({container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"black"},fullScreen:{position:"absolute",top:0,left:0,bottom:0,right:0},controls:{backgroundColor:"transparent",borderRadius:5,position:"absolute",bottom:44,left:4,right:4},progress:{flex:1,flexDirection:"row",borderRadius:3,overflow:"hidden"},innerProgressCompleted:{height:20,backgroundColor:"#cccccc"},innerProgressRemaining:{height:20,backgroundColor:"#2C2C2C"},generalControls:{flex:1,flexDirection:"row",overflow:"hidden",paddingBottom:10},skinControl:{flex:1,flexDirection:"row",justifyContent:"center"},rateControl:{flex:1,flexDirection:"row",justifyContent:"center"},volumeControl:{flex:1,flexDirection:"row",justifyContent:"center"},resizeModeControl:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center"},controlOption:{alignSelf:"center",fontSize:11,color:"white",paddingLeft:2,paddingRight:2,lineHeight:12},nativeVideoControls:{top:184,height:300}});e.exports=l},2106:830,2107:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,o){function step(r,n){try{var i=t[r](n),a=i.value}catch(s){return void o(s)}return i.done?void e(a):Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)})}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function getIconSize(e){e=e||R.dimensions(q);var t=e,o=t.width,r=o>400?Math.floor(o/2.5):170;return Math.min(r,250)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(1551),i=o(935),a=_interopRequireDefault(i),s=o(1710),l=_interopRequireDefault(s),u=o(1678),c=_interopRequireDefault(u),f=o(1695),d=_interopRequireDefault(f),p=o(943),h=_interopRequireDefault(p),m=o(300),g=o(1706),b=_interopRequireDefault(g),y=o(1702),v=_interopRequireDefault(y),w=o(301),C=_interopRequireDefault(w),E=o(949),k=(o(942),o(2108)),T=o(1697),A=o(2105),P=o(1947),S=o(1721),R=o(936),I=R.translate,O=o(1531),x=o(1530),F=o(1738),M=o(1718),_=o(1355),D=o(767)("Tradle-Home"),N=o(1683),B=o(2110),V=o(2098),L=o(2103);try{var j=o(2111).commit.slice(0,7)}catch(z){}var W=(R.isAndroid(),R.isIOS()&&m.Linking),q=function(e){function TimHome(e){_classCallCheck(this,TimHome);var t=_possibleConstructorReturn(this,(TimHome.__proto__||Object.getPrototypeOf(TimHome)).call(this,e));return t.state={isLoading:!0,hasMe:R.getMe()},t._handleConnectivityChange=t._handleConnectivityChange.bind(t),t}return _inherits(TimHome,e),r(TimHome,[{key:"componentWillMount",value:function(){var e=this;this.listenTo(F,"handleEvent"),this._pressHandler=k(this._pressHandler,500,!0),W&&m.Linking.addEventListener("url",this._handleOpenURL),m.NetInfo&&(m.NetInfo.isConnected.addEventListener("change",this._handleConnectivityChange.bind(this)),m.NetInfo.isConnected.fetch().then(function(t){return e._handleConnectivityChange(t)})),x.start()}},{key:"_handleConnectivityChange",value:function(e){this.props.navigator.isConnected=e}},{key:"componentWillUnmount",value:function(){W&&m.Linking.removeEventListener("url",this._handleOpenURL),m.NetInfo&&m.NetInfo.isConnected.removeEventListener("change",this._handleConnectivityChange.bind(this))}},{key:"componentDidMount",value:function(){var e=this;a["default"].on(),W&&m.Linking.getInitialURL().then(function(t){t&&e._handleOpenURL({url:t});var o=m.NetInfo?m.NetInfo.isConnected.fetch():E(!0);o().then(function(t){var o=e.props.navigator.getCurrentRoutes()[0];o.isConnected=t})})["catch"](function(e){})}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.isLoading!==t.isLoading||this.state.message!==t.message||this.state.hasMe!==t.hasMe}},{key:"_handleOpenURL",value:function(e){var t=e.url.trim(),o=t.indexOf("://"),t=t.substring(o+3);o=t.indexOf("/"),t=t.replace("/","://"),x.addItem({resource:{_t:_.TYPES.SETTINGS,url:t},value:{_t:_.TYPES.SETTINGS,url:t},meta:R.getModel(_.TYPES.SETTINGS).value})}},{key:"handleEvent",value:function(){function handleEvent(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e){var t,o,r,i,s,l,u=this;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:t=this,c.t0=e.action,c.next="connectivity"===c.t0?4:"reloadDB"===c.t0?6:"start"===c.t0?9:"pairingSuccessful"===c.t0?24:"getMe"===c.t0?42:47;break;case 4:return this._handleConnectivityChange(e.isConnected),c.abrupt("break",47);case 6:return this.setState({isLoading:!1,message:I("pleaseRestartTIM")}),R.setModels(e.models),c.abrupt("break",47);case 9:if(R.getMe()){c.next=17;break}return c.next=12,a["default"].sync();case 12:return c.next=14,a["default"].hasUpdate();case 14:if(o=c.sent,!o){c.next=17;break}return c.abrupt("return",a["default"].install());case 17:if(!t.state.message){c.next=20;break}return t.restartTiM(),c.abrupt("return");case 20:if(t.setState({isLoading:!1}),R.getMe()){c.next=24;break}return t.setState({isModalOpen:!0}),c.abrupt("return");case 24:return r=this.props.navigator.getCurrentRoutes(),i=r.filter(function(e){return e.component.displayName===TimHome.displayName}).pop(),s=R.getTopNonAuthRoute(this.props.navigator),c.prev=27,c.next=30,(0,n.signIn)(this.props.navigator);case 30:c.next=39;break;case 32:if(c.prev=32,c.t1=c["catch"](27),s.component.displayName!==TimHome.displayName){c.next=36;break}return c.abrupt("return");case 36:if(!i){c.next=38;break}return c.abrupt("return",this.props.navigator.popToRoute(i));case 38:return c.abrupt("return",this.props.navigator.resetTo({id:1,component:TimHome,passProps:{}}));case 39:if(s.component.displayName===TimHome.displayName){c.next=41;break}return c.abrupt("return",this.props.navigator.popToRoute(s));case 41:return c.abrupt("return",this.showOfficialAccounts());
case 42:return R.setMe(e.me),this.setState({hasMe:e.me}),l=this.props.navigator,(0,n.signIn)(this.props.navigator).then(function(){return u.showOfficialAccounts()}),c.abrupt("break",47);case 47:case"end":return c.stop()}},_callee,this,[[27,32]])}));return handleEvent}()},{key:"showContacts",value:function(e){var t={filter:"",modelName:this.props.modelName,sortProperty:"lastMessageTime",bankStyle:V},o=R.getMe();this.props.navigator[e?"replace":"push"]({id:10,title:I("officialAccounts"),backButtonTitle:"Back",component:T,rightButtonTitle:I("profile"),passProps:t,onRightButtonPress:{title:R.getDisplayName(o,R.getModel(o[_.TYPE]).value.properties),id:3,component:S,backButtonTitle:"Back",rightButtonTitle:I("edit"),onRightButtonPress:{title:o.firstName,id:4,component:P,backButtonTitle:"Back",rightButtonTitle:"Done",passProps:{model:R.getModel(o[_.TYPE]).value,resource:o,bankStyle:V}},passProps:{bankStyle:V,resource:o}}})}},{key:"showOfficialAccounts",value:function(e){var t=this.props.navigator;R.isWeb()||t.immediatelyResetRouteStack(t.getCurrentRoutes().slice(0,1)),R.isWeb()&&!e&&"TimHome"!==d["default"].getCurrentRoute(t).component.displayName&&(e=!0);var o=R.getMe();if(o.isEmployee)return void this.showContacts(e);var r=o.firstName,n={title:I("officialAccounts"),id:10,component:T,backButtonTitle:"Back",passProps:{modelName:_.TYPES.ORGANIZATION,isConnected:this.state.isConnected,officialAccounts:!0,bankStyle:V},rightButtonTitle:I("profile"),onRightButtonPress:{title:r,id:3,component:S,backButtonTitle:"Back",rightButtonTitle:I("edit"),onRightButtonPress:{title:r,id:4,component:P,backButtonTitle:"Back",rightButtonTitle:"Done",passProps:{model:R.getModel(o[_.TYPE]).value,resource:o,bankStyle:V}},passProps:{resource:o,bankStyle:V}}};e?t.replace(n):t.push(n)}},{key:"register",value:function(e){var t=this,o=this.props.modelName;if(!R.getModel(o))return void this.setState({err:"Can find model: "+o});var r=R.getModel(o).value,i={component:P,titleTextColor:"#BCD3E6",id:4,passProps:{model:r,bankStyle:V,isConnected:this.state.isConnected}};i.passProps.callback=function(){(0,n.setPassword)(t.props.navigator).then(function(){return t.optInTouchID()}).then(function(){t.setState({hasMe:!0}),x.setAuthenticated(!0),t.showOfficialAccounts(!0)})},i.passProps.editCols=["firstName","lastName","language"],i.titleTintColor="#ffffff",this.props.navigator.push(i)}},{key:"optInTouchID",value:function(){var e=this;return h["default"].autoOptInTouchId?void x.updateMe({useTouchId:!0}):(0,n.hasTouchID)().then(function(t){if(t)return new Promise(function(t){e.props.navigator.replace({component:TouchIDOptIn,id:21,rightButtonTitle:"Skip",noLeftButton:!0,passProps:{optIn:function(){x.updateMe({useTouchId:!0}),t()}},onRightButtonPress:t})})})}},{key:"pairDevices",value:function(e){var t=this,o=this.props.modelName;if(!R.getModel(o))return void this.setState({err:"Can find model: "+o});var r=R.getModel(o).value,i={component:P,titleTextColor:"#BCD3E6",id:4,passProps:{model:r,bankStyle:V,isConnected:this.state.isConnected}};i.passProps.callback=function(){(0,n.setPassword)(t.props.navigator).then(function(){t.setState({hasMe:!0}),x.setAuthenticated(!0),t.showOfficialAccounts(!0)})},i.passProps.editCols=["firstName","lastName","language"],i.titleTintColor="#ffffff",this.props.navigator.push(i)}},{key:"showVideoTour",value:function(e){var t=function(t){t&&D("failed to load video",t),e()};this.props.navigator.replace({id:18,component:A,rightButtonTitle:void 0,passProps:{uri:"videotour",onEnd:t,onError:t,navigator:this.props.navigator},onRightButtonPress:t})}},{key:"onReloadDBPressed",value:function(){R.setMe(null),R.setModels(null),x.reloadDB()}},{key:"onReloadModels",value:function(){R.setModels(null),x.reloadModels()}},{key:"onBackupPressed",value:function(){function onBackupPressed(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,BACKUPS.backup();case 2:e=t.sent,m.Alert.alert("Backed up to #"+e);case 4:case"end":return t.stop()}},_callee2,this)}));return onBackupPressed}()},{key:"onLoadFromBackupPressed",value:function(){function onLoadFromBackupPressed(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,BACKUPS.loadFromBackup();case 3:e=t.sent,m.Alert.alert("Loaded from backup #"+e+". Please refresh"),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),m.Alert.alert(""+t.t0.message);case 10:case"end":return t.stop()}},_callee3,this,[[0,7]])}));return onLoadFromBackupPressed}()},{key:"render",value:function(){var e=this;if(v["default"].setHidden(!0),this.state.message)return void this.restartTiM();var t=R.dimensions(TimHome),o=(t.width,t.height),r=o>800?o-220:o-180;if(this.state.isLoading)return this.getSplashScreen(r);var n=this.state.err||"",i=n?Y.err:{padding:0,height:0},a=R.getMe(),s=C["default"].createElement(m.View,null),u=C["default"].createElement(m.View,null,C["default"].createElement(m.Text,{style:Y.version},"git: ",j)),f=C["default"].createElement(m.View,{style:[Y.dev,{flexDirection:"column"}]},s,u),d=C["default"].createElement(m.TouchableOpacity,{onPress:function(){return e._pressHandler()}},C["default"].createElement(m.View,{style:[Y.container]},C["default"].createElement(l["default"],{color:"#ffffff",name:"tradle",size:getIconSize()}),C["default"].createElement(m.Text,{style:Y.tradle},"Tradle"))),p=C["default"].createElement(m.View,{style:{alignSelf:"center"}},C["default"].createElement(B,null,C["default"].createElement(m.TouchableOpacity,{onPress:function(){e.register(e.showOfficialAccounts.bind(e))},underlayColor:"transparent"},C["default"].createElement(m.View,{style:Y.signIn},C["default"].createElement(m.Text,{style:Y.signInText},I("getStarted"))))));return C["default"].createElement(m.View,null,C["default"].createElement(c["default"],{source:N}),C["default"].createElement(m.View,{style:Y.layout},C["default"].createElement(m.View,null),d,C["default"].createElement(m.View,null,R.getMe()?C["default"].createElement(m.TouchableOpacity,{style:[Y.thumbButton,{justifyContent:"flex-end",opacity:a?1:0}],underlayColor:"transparent",onPress:function(){return e._pressHandler()}},C["default"].createElement(m.View,{style:Y.getStarted},C["default"].createElement(m.Text,{style:Y.getStartedText},I("getStarted")))):p,C["default"].createElement(m.Text,{style:i},n),f)))}},{key:"getSplashScreen",value:function(){var e=R.dimensions(TimHome);e.width,e.height;return C["default"].createElement(m.View,{style:Y.container},C["default"].createElement(c["default"],{source:N}),C["default"].createElement(m.View,{style:Y.splashLayout},C["default"].createElement(m.View,null,C["default"].createElement(l["default"],{name:"tradle",color:"#ffffff",size:getIconSize()}),C["default"].createElement(m.Text,{style:Y.tradle},"Tradle")),C["default"].createElement(m.View,{style:{paddingTop:20,alignSelf:"center"}},C["default"].createElement(b["default"],{hidden:"true",size:"large",color:"#ffffff"}))))}},{key:"pairDevices",value:function(){var e=this;this.props.navigator.push({title:"Scan QR Code",id:16,component:L,titleTintColor:"#eeeeee",backButtonTitle:"Cancel",passProps:{onread:function(t){x.sendPairingRequest(JSON.parse(t.data)),e.props.navigator.pop()}}})}},{key:"renderSplashscreen",value:function(e){var t=e.thumb,o=e.width,r=e.height,n=C["default"].createElement(m.View,null,C["default"].createElement(m.Image,{source:N,style:{position:"absolute",left:0,top:0,width:o,height:r}}),C["default"].createElement(m.ScrollView,{scrollEnabled:!1,style:{height:r}},C["default"].createElement(m.View,{style:[Y.container]},C["default"].createElement(m.Image,{style:t,source:TradleWhite}),C["default"].createElement(m.Text,{style:Y.tradle},"Tradle")),C["default"].createElement(m.View,{style:{alignItems:"center"}},C["default"].createElement(b["default"],{hidden:"true",size:"large",color:"#ffffff"}))));return n}},{key:"onSettingsPressed",value:function(){function onSettingsPressed(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var e,t;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,(0,n.authenticateUser)();case 3:o.next=8;break;case 5:return o.prev=5,o.t0=o["catch"](0),o.abrupt("return");case 8:e=R.getModel(_.TYPES.SETTINGS).value,t={component:P,title:I("settings"),backButtonTitle:"Back",rightButtonTitle:"Done",id:4,titleTextColor:"#7AAAC3",passProps:{model:e,isConnected:this.state.isConnected,callback:this.props.navigator.pop,bankStyle:V}},this.props.navigator.push(t);case 11:case"end":return o.stop()}},_callee4,this,[[0,5]])}));return onSettingsPressed}()},{key:"restartTiM",value:function(){m.Alert.alert("Please restart TiM")}},{key:"_pressHandler",value:function(){var e=this;R.getMe()&&(0,n.signIn)(this.props.navigator).then(function(){return e.showOfficialAccounts()})}}]),TimHome}(w.Component);q.displayName="TimHome",q.orientation="web"===m.Platform.OS?"LANDSCAPE":"PORTRAIT",M(q.prototype,O.ListenerMixin);var Y=function(){var e=R.dimensions(q),t=e.width,o=e.height,r=t>1e3?250:Math.floor(t>400?t/2.5:170);return m.StyleSheet.create({container:{alignItems:"center"},tradle:{color:"#eeeeee",fontSize:o>450?35:25,alignSelf:"center"},text:{color:"#7AAAC3",paddingHorizontal:5,fontSize:14},thumbButton:{alignSelf:"center"},thumb:{width:r,height:r,paddingBottom:30,marginTop:"web"===m.Platform.OS?-50:0},dev:{paddingVertical:10,flexDirection:"row",alignSelf:"center",alignItems:"center",justifyContent:"center"},getStartedText:{color:"#f0f0f0",fontSize:t>450?30:20,fontWeight:"400"},getStarted:{backgroundColor:"#568FBE",paddingVertical:10,paddingHorizontal:30},signIn:{flexDirection:"row",width:320,height:"ios"===m.Platform.OS?80:60,marginTop:10,justifyContent:"center",backgroundColor:"#467EAE",shadowColor:"lightblue",shadowRadius:10,shadowOffset:{width:.5,height:.5},shadowOpacity:.7},version:{color:"#ffffff",fontSize:10},pairDivicesText:{backgroundColor:"transparent",color:"#467EAE",fontSize:18,alignSelf:"center"},signInText:{backgroundColor:"transparent",color:"lightblue",fontSize:18,alignSelf:"center"},splashLayout:{alignItems:"center",justifyContent:"center",height:o},layout:{justifyContent:"space-between",height:o}})}();e.exports=q},2110:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(301),i=_interopRequireDefault(n),a=o(300),s=(o(936),function(e){function FadeInView(e){_classCallCheck(this,FadeInView);var t=_possibleConstructorReturn(this,(FadeInView.__proto__||Object.getPrototypeOf(FadeInView)).call(this,e));return t.state={fadeAnim:new a.Animated.Value(0)},t}return _inherits(FadeInView,e),r(FadeInView,[{key:"componentDidMount",value:function(){a.Animated.timing(this.state.fadeAnim,{toValue:1,duration:2e3}).start()}},{key:"render",value:function(){return this.anim=this.anim||new a.Animated.Value(0),i["default"].createElement(a.Animated.View,{style:{opacity:this.state.fadeAnim,justifyContent:"center",alignSelf:"center"}},this.props.children)}}]),FadeInView}(i["default"].Component));e.exports=s},2111:function(e,t){e.exports={commit:"7678c73150cce93b43c296d0fa3e1fa5debf2620"}},2112:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(300),i=o(301),a=_interopRequireDefault(i),s=o(1707),l=_interopRequireDefault(s),u=o(936),c=_interopRequireDefault(u),f=(o(1683),o(2113)),d="#7AAAC3",p=d,h=function(e){function TouchIDOptIn(){return _classCallCheck(this,TouchIDOptIn),_possibleConstructorReturn(this,(TouchIDOptIn.__proto__||Object.getPrototypeOf(TouchIDOptIn)).apply(this,arguments))}return _inherits(TouchIDOptIn,e),r(TouchIDOptIn,[{key:"learnMore",value:function(){this.props.navigator.push({id:7,component:l["default"],backButtonTitle:"Back",passProps:{url:"https://support.apple.com/en-us/HT204587"}})}},{key:"render",value:function(){var e=c["default"].dimensions(TouchIDOptIn),t=e.width;e.height;return a["default"].createElement(n.View,{style:m.container},a["default"].createElement(n.View,{style:m.headingContainer},a["default"].createElement(n.Text,{style:[m.text,{fontSize:30}]},"Enable Touch ID?")),a["default"].createElement(n.View,{style:m.imgContainer},a["default"].createElement(n.Image,{resizeMode:"contain",source:f})),a["default"].createElement(n.View,{style:m.quoteContainer},a["default"].createElement(n.Text,{style:[m.text,m.quoteText]},"\"iOS and other apps never access your fingerprint data, it's never stored on Apple servers, and it's never backed up to iCloud or anywhere else.\""),a["default"].createElement(n.TouchableHighlight,{underlayColor:"transparent",onPress:this.learnMore.bind(this)},a["default"].createElement(n.Text,{style:[m.text,m.optInText,{color:d}]},"-Apple"))),a["default"].createElement(n.TouchableHighlight,{underlayColor:p,style:[m.btnContainer,{width:t}],onPress:this.props.optIn},a["default"].createElement(n.Text,{style:m.btnText},"Enable")))}}]),TouchIDOptIn}(i.Component),m=n.StyleSheet.create({container:{flex:1,alignItems:"center",justifyContent:"center"},headingContainer:{flex:.3,alignItems:"center",justifyContent:"center"},imgContainer:{flex:.2,justifyContent:"center"},quoteContainer:{flex:.4,justifyContent:"center",paddingHorizontal:20},btnContainer:{flex:.1,alignItems:"center",justifyContent:"center",backgroundColor:p},text:{},btn:{paddingVertical:10,paddingHorizontal:30,backgroundColor:"transparent"},optInText:{fontSize:15},quoteText:{fontSize:15,fontStyle:"italic",paddingBottom:20},btnText:{fontSize:20,color:"#ffffff"}});e.exports=h},2113:function(e,t){e.exports="data:image/png;base64,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";
},2114:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(301),i=_interopRequireDefault(n),a=o(300),s=o(1947),l=o(936),u=o(1718),c=o(1738),f=o(1530),d=o(1531),p=o(1355),h=function(e){function ResourceTypesScreen(e){_classCallCheck(this,ResourceTypesScreen);var t=_possibleConstructorReturn(this,(ResourceTypesScreen.__proto__||Object.getPrototypeOf(ResourceTypesScreen)).call(this,e)),o=l.getImplementors(t.props.modelName,[p.TYPES.FINANCIAL_PRODUCT,p.TYPES.FORM,p.TYPES.ADDITIONAL_INFO]),r=new a.ListView.DataSource({rowHasChanged:function(e,t){return e!==t}});return t.state={implementors:o,dataSource:r.cloneWithRows(o),newModelAdded:!1},t}return _inherits(ResourceTypesScreen,e),r(ResourceTypesScreen,[{key:"componentDidMount",value:function(){this.listenTo(c,"onNewModelAdded")}},{key:"onNewModelAdded",value:function(e){if("newModelAdded"===e.action)if(e.err)this.setState({err:e.err});else{var t=this.state.implementors;t.push(e.newModel),this.setState({implementors:t,dataSource:this.state.dataSource.cloneWithRows(this.state.implementors)})}}},{key:"selectResource",value:function(e){l.getModel(this.props.modelName);if(!e[p.TYPE]){if(this.props.sendForm){var t=[{text:"Cancel"},{text:"OK",onPress:this.sendFormTo.bind(this,e)}],o=this.props.resource;return void a.AlertIOS.prompt("Sending "+e.title+" form to "+l.getDisplayName(o,l.getModel(o[p.TYPE]).value.properties),t)}var r={model:l.getModel(e.id).value,resource:{from:l.getMe(),to:this.props.resource}};r.resource[p.TYPE]=this.props.modelName,this.props.returnRoute&&(r.returnRoute=this.props.returnRoute),this.props.callback&&(r.callback=this.props.callback),this.props.navigator.replace({id:4,title:e.title,rightButtonTitle:"Done",backButtonTitle:"Back",component:s,titleTextColor:"#7AAAC3",passProps:r})}}},{key:"sendFormTo",value:function(e,t){var o=l.getMe(),r={from:l.getMe(),to:this.props.resource},n=(l.getDisplayName(r.to,l.getModel(r.to[p.TYPE]).value.properties),l.getModel(o[p.TYPE]).value.properties),i=(l.getDisplayName(o,n),p.TYPES.SIMPLE_MESSAGE),a={message:"["+t+"]("+e.id+")",from:o,to:r.to,time:(new Date).getTime()};a[p.TYPE]=i,f.addMessage(a),this.props.navigator.pop()}},{key:"renderRow",value:function(e){var t=this,r=l.getModel(e[p.TYPE]||e.id).value,n=(r.interfaces&&r.interfaces.indexOf(p.TYPES.MESSAGE)!=-1,o(2076));return i["default"].createElement(n,{onSelect:function(){return t.selectResource(e)},resource:e,navigator:this.props.navigator,to:this.props.resource})}},{key:"render",value:function(){var e=i["default"].createElement(a.ListView,{ref:"listview",style:m.listview,dataSource:this.state.dataSource,removeClippedSubviews:!1,renderRow:this.renderRow.bind(this),automaticallyAdjustContentInsets:!1,keyboardDismissMode:"on-drag",keyboardShouldPersistTaps:!0,showsVerticalScrollIndicator:!1}),t=this.state.err?i["default"].createElement(a.View,{style:m.errContainer},i["default"].createElement(a.Text,{style:m.err},this.state.err)):i["default"].createElement(a.View,null);return i["default"].createElement(a.View,{style:m.container},t,e)}}]),ResourceTypesScreen}(n.Component);u(h.prototype,d.ListenerMixin);var m=a.StyleSheet.create({container:{flex:1,backgroundColor:"white"},listview:{marginTop:64},centerText:{alignItems:"center"},err:{color:"#D7E6ED"},errContainer:{height:45,paddingTop:5,paddingHorizontal:10,backgroundColor:"#eeeeee"}});e.exports=h},2115:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(301),i=_interopRequireDefault(n),a=o(300),s=o(1718),l=o(936),u=o(1709),s=o(1718),c=o(1720),f=o(702),d=(o(1355),o(1554)),p=function(e){function ItemsList(e){_classCallCheck(this,ItemsList);var t=_possibleConstructorReturn(this,(ItemsList.__proto__||Object.getPrototypeOf(ItemsList)).call(this,e)),o=new a.ListView.DataSource({rowHasChanged:function(e,t){return e!==t}});t.state={isLoading:!l.getModels(),list:t.props.list,dataSource:o.cloneWithRows(t.props.list),filter:t.props.filter,userInput:""};var r=t.props.navigator.getCurrentRoutes(),n=r.length;return r[n-1].onRightButtonPress=function(){e.callback(e.prop,t.state.list),e.navigator.popToRoute(e.returnRoute)},t}return _inherits(ItemsList,e),r(ItemsList,[{key:"cancelItem",value:function(e){var t=[];c(t,this.state.list);for(var o=0;o<t.length;o++)if(f(t[o],e)){t.splice(o,1);break}this.setState({list:t,dataSource:this.state.dataSource.cloneWithRows(t)})}},{key:"renderRow",value:function(e){this.props.resource[this.props.prop].length;if("photos"===this.props.prop)return i["default"].createElement(a.View,{style:h.row},i["default"].createElement(a.View,{style:h.textContainer,key:this.getNextKey()},i["default"].createElement(a.Image,{source:{uri:e.url},style:h.cellImage,key:this.getNextKey()}),i["default"].createElement(a.View,{style:{marginTop:15}},i["default"].createElement(a.TouchableHighlight,{underlayColor:"transparent",onPress:this.cancelItem.bind(this,e)},i["default"].createElement(d,{name:"android-close",size:30,color:"#D20000"})))),i["default"].createElement(a.View,{style:h.separator}))}},{key:"renderItem",value:function(e,t){var o=t.items.properties;if(!o){var r=t.items.ref;r&&(t=l.getModel(r).value,o=t.properties)}var n=0,s=t.viewCols;if(!s){s=[];for(var u in o)s.push(u)}var c=e.length,f=this;return e.map(function(e){var t=[];return n++,s.forEach(function(r){var n=o[r];if((e[r]||n.displayAs)&&!n.displayName){var s;if(n.displayAs)s=l.templateIt(n,e);else if("date"===n.type)s=l.formatDate(e[r]);else if("object"!==n.type){if("photos"==r){return void t.push(i["default"].createElement(PhotoList,{photos:e.photos,navigator:f.props.navigator,numberInRow:4,resource:resource}))}s=e[r]}else s=n.ref?e[r].title||l.getDisplayName(e[r],l.getModel(n.ref).value.properties):e[r].title;s&&t.push(i["default"].createElement(a.View,{style:{padding:10},key:f.getNextKey()},i["default"].createElement(a.View,{style:h.itemColContainer,key:f.getNextKey()},i["default"].createElement(a.Text,{style:n.skipLabel?{height:0}:h.title,key:f.getNextKey()},n.skipLabel?"":n.title||l.makeLabel(r)),i["default"].createElement(a.Text,{style:h.description,key:f.getNextKey()},s))))}}),i["default"].createElement(a.View,{key:f.getNextKey()},t,n==c?i["default"].createElement(a.View,null):i["default"].createElement(a.View,{style:h.itemSeparator}))})}},{key:"render",value:function(){return this.state.isLoading?i["default"].createElement(a.View,null):i["default"].createElement(a.View,{style:h.container},i["default"].createElement(a.ListView,{ref:"listview",dataSource:this.state.dataSource,renderRow:this.renderRow.bind(this),removeClippedSubviews:!1,automaticallyAdjustContentInsets:!1,keyboardDismissMode:"on-drag",keyboardShouldPersistTaps:!0,showsVerticalScrollIndicator:!1}))}}]),ItemsList}(n.Component);s(p.prototype,u);var h=a.StyleSheet.create({container:{flex:1,marginTop:64,marginHorizontal:10,backgroundColor:"white"},row:{backgroundColor:"white",padding:5},textContainer:{flex:1,padding:5,flexDirection:"row",justifyContent:"space-between"},separator:{height:.5,backgroundColor:"#cccccc",marginTop:5},cellImage:{backgroundColor:"#dddddd",height:60,marginRight:10,width:60,borderColor:"#7AAAc3",borderRadius:30,borderWidth:1}});e.exports=p},2116:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(300),i=o(301),a=_interopRequireDefault(i),s=o(1718),l=(o(2117),o(1704)),u=o(1721),c=o(1947),f=o(1697),d=o(936),p=o(1531),h=o(1738),m=o(1530),s=o(1718),g=o(1720),b=o(1355),y=function(e){function IdentitiesList(e){_classCallCheck(this,IdentitiesList);var t=_possibleConstructorReturn(this,(IdentitiesList.__proto__||Object.getPrototypeOf(IdentitiesList)).call(this,e)),o=new n.ListView.DataSource({rowHasChanged:function(e,t){return e!==t}});return t.state={isLoading:!d.getModels(),list:t.props.list,dataSource:o.cloneWithRows(t.props.list),filter:t.props.filter,userInput:""},t}return _inherits(IdentitiesList,e),r(IdentitiesList,[{key:"componentDidMount",value:function(){this.listenTo(h,"onChangeIdentity")}},{key:"selectResource",value:function(e){m.changeIdentity(e)}},{key:"onRemoveIdentity",value:function(e){var t=[];g(t,this.state.list);for(var o=0;o<t.length;o++)if(t[o][b.ROOT_HASH]==e.resource[b.ROOT_HASH]){t.splice(o,1);break}this.setState({list:t,dataSource:this.state.dataSource.cloneWithRows(t)})}},{key:"onChangeIdentity",value:function(e){if("removeIdentity"===e.action)return void this.onRemoveIdentity(e);if("changeIdentity"===e.action){var t=e.me,o=t[b.TYPE],r=d.getModel(o).value,n=d.getDisplayName(t,r.properties),i={title:r.title,component:f,id:10,passProps:{filter:"",modelName:o},rightButtonTitle:"Profile",onRightButtonPress:{title:n,id:3,component:u,backButtonTitle:"Back",titleTextColor:"#7AAAC3",rightButtonTitle:"Edit",onRightButtonPress:{title:n,id:4,component:c,titleTextColor:"#7AAAC3",backButtonTitle:"Back",rightButtonTitle:"Done",passProps:{model:r,resource:t}},passProps:{resource:t}}};this.props.navigator.replace(i)}}},{key:"renderRow",value:function(e){var t=this;d.getModel(e[b.TYPE]||e.id).value,d.getMe();return a["default"].createElement(l,{onSelect:function(){return t.selectResource(e)},resource:e,onCancel:function(){return m.removeIdentity(e)}})}},{key:"removeIdentity",value:function(e){m.removeIdentity(e)}},{key:"render",value:function(){return this.state.isLoading?a["default"].createElement(n.View,null):a["default"].createElement(n.View,{style:v.container},a["default"].createElement(n.ListView,{ref:"listview",dataSource:this.state.dataSource,renderRow:this.renderRow.bind(this),removeClippedSubviews:!1,automaticallyAdjustContentInsets:!1,keyboardDismissMode:"on-drag",keyboardShouldPersistTaps:!0,showsVerticalScrollIndicator:!1}))}}]),IdentitiesList}(i.Component);s(y.prototype,p.ListenerMixin);var v=n.StyleSheet.create({container:{flex:1,marginTop:64,backgroundColor:"white"},centerText:{alignItems:"center"},NoResourcesText:{marginTop:80,color:"#888888"},separator:{height:1,backgroundColor:"#cccccc"},spinner:{width:30,alignSelf:"center",marginTop:150}});e.exports=y},2117:function(e,t,o){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),n=o(301),i=_interopRequireDefault(n),a=o(300),s=o(1706),l=_interopRequireDefault(s),u=function(e){function SearchBar(){return _classCallCheck(this,SearchBar),_possibleConstructorReturn(this,(SearchBar.__proto__||Object.getPrototypeOf(SearchBar)).apply(this,arguments))}return _inherits(SearchBar,e),r(SearchBar,[{key:"render",value:function(){var e=this.props.filter,t=e&&0!==e.length?e:"";return i["default"].createElement(a.View,{style:c.searchBar},i["default"].createElement(a.View,{style:c.searchBarBG},i["default"].createElement(a.TextInput,{autoCapitalize:"none",autoCorrect:!1,onChange:this.props.onSearchChange.bind(this),onFocus:this.props.onFocus.bind(this),placeholder:"Search",placeholderTextColor:"#bbbbbb",style:c.searchBarInput,value:t}),i["default"].createElement(l["default"],{animating:this.props.isLoading,style:c.spinner})))}}]),SearchBar}(n.Component),c=a.StyleSheet.create({searchBar:{marginTop:64,paddingTop:3,height:42,paddingBottom:3,flexDirection:"row",alignItems:"center",backgroundColor:"#eeeeee"},searchBarBG:{marginTop:20,flex:1,alignSelf:"center",backgroundColor:"#eeeeee",borderTopColor:"#eeeeee",borderRightColor:"#eeeeee",borderLeftColor:"#eeeeee",borderWidth:2,borderBottomColor:"#2E3B4E"},searchBarInput:{height:32,fontSize:18,paddingLeft:10,fontWeight:"bold",borderRadius:5,borderWidth:1,borderColor:"#eeeeee"},separator:{height:1,backgroundColor:"#eeeeee"},spinner:{width:30},scrollSpinner:{marginVertical:20}});e.exports=u}});
//# sourceMappingURL=main.5e3eb8529d9f397162bf.js.map